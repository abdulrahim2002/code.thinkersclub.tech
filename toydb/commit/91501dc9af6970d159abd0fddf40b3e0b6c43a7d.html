<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sql: clean up ast module - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/91501dc9af6970d159abd0fddf40b3e0b6c43a7d.html">91501dc9af6970d159abd0fddf40b3e0b6c43a7d</a>
<b>parent</b> <a href="../commit/2a0095245be2902af373405930e16aab06773a9c.html">2a0095245be2902af373405930e16aab06773a9c</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Fri, 21 Jun 2024 20:19:48 +0200

sql: clean up ast module

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/sql/parser/ast.rs</a></td><td> | </td><td class="num">281</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/sql/parser/parser.rs</a></td><td> | </td><td class="num">52</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d">--------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/sql/planner/planner.rs</a></td><td> | </td><td class="num">50</td><td><span class="i">+++++++++++++++++++++++++</span><span class="d">-------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">tests/sql/query/agg_boolean</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">tests/sql/query/agg_expr</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">tests/sql/query/agg_float</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">tests/sql/query/agg_integer</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">tests/sql/query/agg_string</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">tests/sql/query/expr_dynamic</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">tests/sql/query/expr_mixed</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">tests/sql/query/expr_static</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">tests/sql/query/group_expr</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">tests/sql/query/group_expr_aggr</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">tests/sql/query/group_expr_aggr_nogroupref</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h14">tests/sql/query/group_expr_aggr_selfref</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">tests/sql/query/group_expr_aliased</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h16">tests/sql/query/group_expr_both</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h17">tests/sql/query/group_expr_extended</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h18">tests/sql/query/group_expr_multigroup</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h19">tests/sql/query/group_expr_select</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h20">tests/sql/query/group_join</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h21">tests/sql/query/having</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h22">tests/sql/query/having_aggr</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">tests/sql/query/having_aggr_expr</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h24">tests/sql/query/having_aggr_nested</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h25">tests/sql/query/having_noaggr</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h26">tests/sql/query/having_nogroup</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h27">tests/sql/query/having_noselect</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h28">tests/sql/query/join_cross_alias</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h29">tests/sql/query/join_inner</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h30">tests/sql/query/join_inner_implicit</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h31">tests/sql/query/join_inner_index_transverse</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h32">tests/sql/query/join_inner_index_transverse_where</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h33">tests/sql/query/join_inner_multi</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h34">tests/sql/query/join_inner_multi_index</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h35">tests/sql/query/join_inner_multi_same</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h36">tests/sql/query/join_inner_on_aliased</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h37">tests/sql/query/join_inner_on_multi</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h38">tests/sql/query/join_inner_on_where</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h39">tests/sql/query/join_left</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h40">tests/sql/query/join_left_all</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h41">tests/sql/query/join_left_outer</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h42">tests/sql/query/join_left_truncate</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h43">tests/sql/query/join_right</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h44">tests/sql/query/join_right_all</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h45">tests/sql/query/join_right_outer</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h46">tests/sql/query/join_right_truncate</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h47">tests/sql/query/limit_dynamic</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h48">tests/sql/query/limit_expr</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h49">tests/sql/query/limit_neg</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h50">tests/sql/query/offset_dynamic</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h51">tests/sql/query/offset_expr</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h52">tests/sql/query/offset_neg</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h53">tests/sql/query/order_expr</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h54">tests/sql/query/order_field_aliased</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h55">tests/sql/query/order_field_ambiguous</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h56">tests/sql/query/order_field_qualified</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h57">tests/sql/query/where_expr</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h58">tests/sql/query/where_field_aliased_select</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h59">tests/sql/query/where_field_aliased_table</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h60">tests/sql/query/where_field_ambiguous</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h61">tests/sql/query/where_field_qualified</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h62">tests/sql/query/where_index</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h63">tests/sql/query/where_index_or</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h64">tests/sql/query/where_index_or_partial</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h65">tests/sql/query/where_join_inner</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h66">tests/sql/query/where_pk</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h67">tests/sql/query/where_pk_or</a></td><td> | </td><td class="num">10</td><td><span class="i">+++++</span><span class="d">-----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h68">tests/sql/query/where_pk_or_partial</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
</table></pre><pre>69 files changed, 324 insertions(+), 327 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/sql/parser/ast.rs.html">src/sql/parser/ast.rs</a> b/<a href="../file/src/sql/parser/ast.rs.html">src/sql/parser/ast.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,12 +1,10 @@
</a><a href="#h0-0-0" id="h0-0-0" class="d">-use super::super::types::DataType;
</a> use crate::error::Result;
<a href="#h0-0-2" id="h0-0-2" class="i">+use crate::sql::types::DataType;
</a> 
 use std::collections::BTreeMap;
<a href="#h0-0-5" id="h0-0-5" class="d">-use std::mem::replace;
</a> 
<a href="#h0-0-7" id="h0-0-7" class="d">-/// Statements
</a><a href="#h0-0-8" id="h0-0-8" class="d">-#[derive(Clone, Debug, PartialEq)]
</a><a href="#h0-0-9" id="h0-0-9" class="d">-#[allow(clippy::large_enum_variant)]
</a><a href="#h0-0-10" id="h0-0-10" class="i">+/// A SQL statement.
</a><a href="#h0-0-11" id="h0-0-11" class="i">+#[derive(Debug)]
</a> pub enum Statement {
     Begin {
         read_only: bool,
<a href="#h0-1" id="h0-1" class="h">@@ -15,7 +13,6 @@ pub enum Statement {
</a>     Commit,
     Rollback,
     Explain(Box&lt;Statement&gt;),
<a href="#h0-1-3" id="h0-1-3" class="d">-
</a>     CreateTable {
         name: String,
         columns: Vec&lt;Column&gt;,
<a href="#h0-2" id="h0-2" class="h">@@ -24,7 +21,6 @@ pub enum Statement {
</a>         name: String,
         if_exists: bool,
     },
<a href="#h0-2-3" id="h0-2-3" class="d">-
</a>     Delete {
         table: String,
         r#where: Option&lt;Expression&gt;,
<a href="#h0-3" id="h0-3" class="h">@@ -39,10 +35,9 @@ pub enum Statement {
</a>         set: BTreeMap&lt;String, Expression&gt;,
         r#where: Option&lt;Expression&gt;,
     },
<a href="#h0-3-3" id="h0-3-3" class="d">-
</a>     Select {
         select: Vec&lt;(Expression, Option&lt;String&gt;)&gt;,
<a href="#h0-3-6" id="h0-3-6" class="d">-        from: Vec&lt;FromItem&gt;,
</a><a href="#h0-3-7" id="h0-3-7" class="i">+        from: Vec&lt;From&gt;,
</a>         r#where: Option&lt;Expression&gt;,
         group_by: Vec&lt;Expression&gt;,
         having: Option&lt;Expression&gt;,
<a href="#h0-4" id="h0-4" class="h">@@ -52,32 +47,15 @@ pub enum Statement {
</a>     },
 }
 
<a href="#h0-4-3" id="h0-4-3" class="d">-/// A FROM item
</a><a href="#h0-4-4" id="h0-4-4" class="d">-#[derive(Clone, Debug, PartialEq)]
</a><a href="#h0-4-5" id="h0-4-5" class="d">-pub enum FromItem {
</a><a href="#h0-4-6" id="h0-4-6" class="d">-    Table {
</a><a href="#h0-4-7" id="h0-4-7" class="d">-        name: String,
</a><a href="#h0-4-8" id="h0-4-8" class="d">-        alias: Option&lt;String&gt;,
</a><a href="#h0-4-9" id="h0-4-9" class="d">-    },
</a><a href="#h0-4-10" id="h0-4-10" class="d">-    Join {
</a><a href="#h0-4-11" id="h0-4-11" class="d">-        left: Box&lt;FromItem&gt;,
</a><a href="#h0-4-12" id="h0-4-12" class="d">-        right: Box&lt;FromItem&gt;,
</a><a href="#h0-4-13" id="h0-4-13" class="d">-        r#type: JoinType,
</a><a href="#h0-4-14" id="h0-4-14" class="d">-        predicate: Option&lt;Expression&gt;,
</a><a href="#h0-4-15" id="h0-4-15" class="d">-    },
</a><a href="#h0-4-16" id="h0-4-16" class="d">-}
</a><a href="#h0-4-17" id="h0-4-17" class="d">-
</a><a href="#h0-4-18" id="h0-4-18" class="d">-/// A JOIN type
</a><a href="#h0-4-19" id="h0-4-19" class="d">-#[derive(Clone, Debug, PartialEq)]
</a><a href="#h0-4-20" id="h0-4-20" class="d">-pub enum JoinType {
</a><a href="#h0-4-21" id="h0-4-21" class="d">-    Cross,
</a><a href="#h0-4-22" id="h0-4-22" class="d">-    Inner,
</a><a href="#h0-4-23" id="h0-4-23" class="d">-    Left,
</a><a href="#h0-4-24" id="h0-4-24" class="d">-    Right,
</a><a href="#h0-4-25" id="h0-4-25" class="i">+/// A FROM item: a table or join.
</a><a href="#h0-4-26" id="h0-4-26" class="i">+#[derive(Debug)]
</a><a href="#h0-4-27" id="h0-4-27" class="i">+pub enum From {
</a><a href="#h0-4-28" id="h0-4-28" class="i">+    Table { name: String, alias: Option&lt;String&gt; },
</a><a href="#h0-4-29" id="h0-4-29" class="i">+    Join { left: Box&lt;From&gt;, right: Box&lt;From&gt;, r#type: JoinType, predicate: Option&lt;Expression&gt; },
</a> }
 
<a href="#h0-4-32" id="h0-4-32" class="d">-/// A column
</a><a href="#h0-4-33" id="h0-4-33" class="d">-#[derive(Clone, Debug, PartialEq)]
</a><a href="#h0-4-34" id="h0-4-34" class="i">+/// A table column definition.
</a><a href="#h0-4-35" id="h0-4-35" class="i">+#[derive(Debug)]
</a> pub struct Column {
     pub name: String,
     pub datatype: DataType,
<a href="#h0-5" id="h0-5" class="h">@@ -89,36 +67,39 @@ pub struct Column {
</a>     pub references: Option&lt;String&gt;,
 }
 
<a href="#h0-5-3" id="h0-5-3" class="d">-/// Sort orders
</a><a href="#h0-5-4" id="h0-5-4" class="d">-#[derive(Clone, Debug, PartialEq)]
</a><a href="#h0-5-5" id="h0-5-5" class="i">+/// JOIN types.
</a><a href="#h0-5-6" id="h0-5-6" class="i">+#[derive(Debug)]
</a><a href="#h0-5-7" id="h0-5-7" class="i">+pub enum JoinType {
</a><a href="#h0-5-8" id="h0-5-8" class="i">+    Cross,
</a><a href="#h0-5-9" id="h0-5-9" class="i">+    Inner,
</a><a href="#h0-5-10" id="h0-5-10" class="i">+    Left,
</a><a href="#h0-5-11" id="h0-5-11" class="i">+    Right,
</a><a href="#h0-5-12" id="h0-5-12" class="i">+}
</a><a href="#h0-5-13" id="h0-5-13" class="i">+
</a><a href="#h0-5-14" id="h0-5-14" class="i">+/// Sort orders.
</a><a href="#h0-5-15" id="h0-5-15" class="i">+#[derive(Debug)]
</a> pub enum Order {
     Ascending,
     Descending,
 }
 
<a href="#h0-5-21" id="h0-5-21" class="d">-/// Expressions
</a><a href="#h0-5-22" id="h0-5-22" class="i">+/// Expressions. Can be nested.
</a> #[derive(Clone, Debug, PartialEq)]
 pub enum Expression {
<a href="#h0-5-25" id="h0-5-25" class="i">+    /// A field reference, with an optional table qualifier.
</a>     Field(Option&lt;String&gt;, String),
<a href="#h0-5-27" id="h0-5-27" class="d">-    Column(usize), // only used during plan building to break off expression subtrees
</a><a href="#h0-5-28" id="h0-5-28" class="i">+    /// A column index (only used during planning to break off subtrees).
</a><a href="#h0-5-29" id="h0-5-29" class="i">+    /// TODO: get rid of this, planning shouldn&#39;t modify the AST.
</a><a href="#h0-5-30" id="h0-5-30" class="i">+    Column(usize),
</a><a href="#h0-5-31" id="h0-5-31" class="i">+    /// A literal value.
</a>     Literal(Literal),
<a href="#h0-5-33" id="h0-5-33" class="i">+    /// A function call (name and parameters).
</a>     Function(String, Vec&lt;Expression&gt;),
<a href="#h0-5-35" id="h0-5-35" class="d">-    Operation(Operation),
</a><a href="#h0-5-36" id="h0-5-36" class="d">-}
</a><a href="#h0-5-37" id="h0-5-37" class="d">-
</a><a href="#h0-5-38" id="h0-5-38" class="d">-impl From&lt;Literal&gt; for Expression {
</a><a href="#h0-5-39" id="h0-5-39" class="d">-    fn from(literal: Literal) -&gt; Self {
</a><a href="#h0-5-40" id="h0-5-40" class="d">-        Self::Literal(literal)
</a><a href="#h0-5-41" id="h0-5-41" class="d">-    }
</a><a href="#h0-5-42" id="h0-5-42" class="d">-}
</a><a href="#h0-5-43" id="h0-5-43" class="d">-
</a><a href="#h0-5-44" id="h0-5-44" class="d">-impl From&lt;Operation&gt; for Expression {
</a><a href="#h0-5-45" id="h0-5-45" class="d">-    fn from(op: Operation) -&gt; Self {
</a><a href="#h0-5-46" id="h0-5-46" class="d">-        Self::Operation(op)
</a><a href="#h0-5-47" id="h0-5-47" class="d">-    }
</a><a href="#h0-5-48" id="h0-5-48" class="i">+    /// An operator.
</a><a href="#h0-5-49" id="h0-5-49" class="i">+    Operator(Operator),
</a> }
 
<a href="#h0-5-52" id="h0-5-52" class="d">-/// Literals
</a><a href="#h0-5-53" id="h0-5-53" class="i">+/// Expression literals.
</a> #[derive(Clone, Debug, PartialEq)]
 pub enum Literal {
     Null,
<a href="#h0-6" id="h0-6" class="h">@@ -128,15 +109,17 @@ pub enum Literal {
</a>     String(String),
 }
 
<a href="#h0-6-3" id="h0-6-3" class="d">-/// Operations (done by operators)
</a><a href="#h0-6-4" id="h0-6-4" class="i">+/// Expression operators.
</a><a href="#h0-6-5" id="h0-6-5" class="i">+///
</a><a href="#h0-6-6" id="h0-6-6" class="i">+/// Since this is a recursive data structure, we have to box each child
</a><a href="#h0-6-7" id="h0-6-7" class="i">+/// expression, which incurs a heap allocation. There are clever ways to get
</a><a href="#h0-6-8" id="h0-6-8" class="i">+/// around this, but we keep it simple.
</a> #[derive(Clone, Debug, PartialEq)]
<a href="#h0-6-10" id="h0-6-10" class="d">-pub enum Operation {
</a><a href="#h0-6-11" id="h0-6-11" class="d">-    // Logical operators
</a><a href="#h0-6-12" id="h0-6-12" class="i">+pub enum Operator {
</a>     And(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Not(Box&lt;Expression&gt;),
     Or(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 
<a href="#h0-6-17" id="h0-6-17" class="d">-    // Comparison operators
</a>     Equal(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     GreaterThan(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     GreaterThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h0-7" id="h0-7" class="h">@@ -145,7 +128,6 @@ pub enum Operation {
</a>     LessThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     NotEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 
<a href="#h0-7-3" id="h0-7-3" class="d">-    // Mathematical operators
</a>     Add(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Divide(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Exponentiate(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h0-8" id="h0-8" class="h">@@ -156,74 +138,65 @@ pub enum Operation {
</a>     Negate(Box&lt;Expression&gt;),
     Subtract(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 
<a href="#h0-8-3" id="h0-8-3" class="d">-    // String operators
</a>     Like(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 }
 
 impl Expression {
<a href="#h0-8-8" id="h0-8-8" class="d">-    /// Walks the expression tree while calling a closure. Returns true as soon as the closure
</a><a href="#h0-8-9" id="h0-8-9" class="d">-    /// returns true. This is the inverse of walk().
</a><a href="#h0-8-10" id="h0-8-10" class="d">-    pub fn contains&lt;F: Fn(&amp;Expression) -&gt; bool&gt;(&amp;self, visitor: &amp;F) -&gt; bool {
</a><a href="#h0-8-11" id="h0-8-11" class="d">-        !self.walk(&amp;|e| !visitor(e))
</a><a href="#h0-8-12" id="h0-8-12" class="d">-    }
</a><a href="#h0-8-13" id="h0-8-13" class="d">-
</a><a href="#h0-8-14" id="h0-8-14" class="d">-    /// Replaces the expression with result of the closure. Helper function for transform().
</a><a href="#h0-8-15" id="h0-8-15" class="d">-    fn replace_with&lt;F: FnMut(Self) -&gt; Result&lt;Self&gt;&gt;(&amp;mut self, mut f: F) -&gt; Result&lt;()&gt; {
</a><a href="#h0-8-16" id="h0-8-16" class="d">-        // Temporarily replace expression with a null value, in case closure panics. May consider
</a><a href="#h0-8-17" id="h0-8-17" class="d">-        // replace_with crate if this hampers performance.
</a><a href="#h0-8-18" id="h0-8-18" class="d">-        let expr = replace(self, Expression::Literal(Literal::Null));
</a><a href="#h0-8-19" id="h0-8-19" class="d">-        *self = f(expr)?;
</a><a href="#h0-8-20" id="h0-8-20" class="d">-        Ok(())
</a><a href="#h0-8-21" id="h0-8-21" class="d">-    }
</a><a href="#h0-8-22" id="h0-8-22" class="d">-
</a><a href="#h0-8-23" id="h0-8-23" class="d">-    /// Transforms the expression tree by applying a closure before and after descending.
</a><a href="#h0-8-24" id="h0-8-24" class="i">+    /// Transforms the expression tree depth-first by applying a closure before
</a><a href="#h0-8-25" id="h0-8-25" class="i">+    /// and after descending.
</a>     pub fn transform&lt;B, A&gt;(mut self, before: &amp;mut B, after: &amp;mut A) -&gt; Result&lt;Self&gt;
     where
         B: FnMut(Self) -&gt; Result&lt;Self&gt;,
         A: FnMut(Self) -&gt; Result&lt;Self&gt;,
     {
<a href="#h0-8-31" id="h0-8-31" class="d">-        use Operation::*;
</a><a href="#h0-8-32" id="h0-8-32" class="i">+        use Operator::*;
</a>         self = before(self)?;
<a href="#h0-8-34" id="h0-8-34" class="d">-        match &amp;mut self {
</a><a href="#h0-8-35" id="h0-8-35" class="d">-            Self::Operation(Add(lhs, rhs))
</a><a href="#h0-8-36" id="h0-8-36" class="d">-            | Self::Operation(And(lhs, rhs))
</a><a href="#h0-8-37" id="h0-8-37" class="d">-            | Self::Operation(Divide(lhs, rhs))
</a><a href="#h0-8-38" id="h0-8-38" class="d">-            | Self::Operation(Equal(lhs, rhs))
</a><a href="#h0-8-39" id="h0-8-39" class="d">-            | Self::Operation(Exponentiate(lhs, rhs))
</a><a href="#h0-8-40" id="h0-8-40" class="d">-            | Self::Operation(GreaterThan(lhs, rhs))
</a><a href="#h0-8-41" id="h0-8-41" class="d">-            | Self::Operation(GreaterThanOrEqual(lhs, rhs))
</a><a href="#h0-8-42" id="h0-8-42" class="d">-            | Self::Operation(LessThan(lhs, rhs))
</a><a href="#h0-8-43" id="h0-8-43" class="d">-            | Self::Operation(LessThanOrEqual(lhs, rhs))
</a><a href="#h0-8-44" id="h0-8-44" class="d">-            | Self::Operation(Like(lhs, rhs))
</a><a href="#h0-8-45" id="h0-8-45" class="d">-            | Self::Operation(Modulo(lhs, rhs))
</a><a href="#h0-8-46" id="h0-8-46" class="d">-            | Self::Operation(Multiply(lhs, rhs))
</a><a href="#h0-8-47" id="h0-8-47" class="d">-            | Self::Operation(NotEqual(lhs, rhs))
</a><a href="#h0-8-48" id="h0-8-48" class="d">-            | Self::Operation(Or(lhs, rhs))
</a><a href="#h0-8-49" id="h0-8-49" class="d">-            | Self::Operation(Subtract(lhs, rhs)) =&gt; {
</a><a href="#h0-8-50" id="h0-8-50" class="d">-                Self::replace_with(lhs, |e| e.transform(before, after))?;
</a><a href="#h0-8-51" id="h0-8-51" class="d">-                Self::replace_with(rhs, |e| e.transform(before, after))?;
</a><a href="#h0-8-52" id="h0-8-52" class="d">-            }
</a> 
<a href="#h0-8-54" id="h0-8-54" class="d">-            Self::Operation(Factorial(expr))
</a><a href="#h0-8-55" id="h0-8-55" class="d">-            | Self::Operation(Identity(expr))
</a><a href="#h0-8-56" id="h0-8-56" class="d">-            | Self::Operation(IsNull(expr))
</a><a href="#h0-8-57" id="h0-8-57" class="d">-            | Self::Operation(Negate(expr))
</a><a href="#h0-8-58" id="h0-8-58" class="d">-            | Self::Operation(Not(expr)) =&gt; {
</a><a href="#h0-8-59" id="h0-8-59" class="d">-                Self::replace_with(expr, |e| e.transform(before, after))?
</a><a href="#h0-8-60" id="h0-8-60" class="d">-            }
</a><a href="#h0-8-61" id="h0-8-61" class="i">+        // Helper for transforming a boxed expression.
</a><a href="#h0-8-62" id="h0-8-62" class="i">+        let mut transform = |mut expr: Box&lt;Expression&gt;| -&gt; Result&lt;Box&lt;Expression&gt;&gt; {
</a><a href="#h0-8-63" id="h0-8-63" class="i">+            *expr = expr.transform(before, after)?;
</a><a href="#h0-8-64" id="h0-8-64" class="i">+            Ok(expr)
</a><a href="#h0-8-65" id="h0-8-65" class="i">+        };
</a> 
<a href="#h0-8-67" id="h0-8-67" class="d">-            Self::Function(_, exprs) =&gt; {
</a><a href="#h0-8-68" id="h0-8-68" class="d">-                for expr in exprs {
</a><a href="#h0-8-69" id="h0-8-69" class="d">-                    Self::replace_with(expr, |e| e.transform(before, after))?;
</a><a href="#h0-8-70" id="h0-8-70" class="d">-                }
</a><a href="#h0-8-71" id="h0-8-71" class="d">-            }
</a><a href="#h0-8-72" id="h0-8-72" class="i">+        self = match self {
</a><a href="#h0-8-73" id="h0-8-73" class="i">+            Self::Literal(_) | Self::Field(_, _) | Self::Column(_) =&gt; self,
</a> 
<a href="#h0-8-75" id="h0-8-75" class="d">-            Self::Literal(_) | Self::Field(_, _) | Self::Column(_) =&gt; {}
</a><a href="#h0-8-76" id="h0-8-76" class="i">+            Self::Function(name, exprs) =&gt; Self::Function(
</a><a href="#h0-8-77" id="h0-8-77" class="i">+                name,
</a><a href="#h0-8-78" id="h0-8-78" class="i">+                exprs.into_iter().map(|e| e.transform(before, after)).collect::&lt;Result&lt;_&gt;&gt;()?,
</a><a href="#h0-8-79" id="h0-8-79" class="i">+            ),
</a><a href="#h0-8-80" id="h0-8-80" class="i">+
</a><a href="#h0-8-81" id="h0-8-81" class="i">+            Self::Operator(op) =&gt; Self::Operator(match op {
</a><a href="#h0-8-82" id="h0-8-82" class="i">+                Add(lhs, rhs) =&gt; Add(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-83" id="h0-8-83" class="i">+                And(lhs, rhs) =&gt; And(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-84" id="h0-8-84" class="i">+                Divide(lhs, rhs) =&gt; Divide(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-85" id="h0-8-85" class="i">+                Equal(lhs, rhs) =&gt; Equal(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-86" id="h0-8-86" class="i">+                Exponentiate(lhs, rhs) =&gt; Exponentiate(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-87" id="h0-8-87" class="i">+                Factorial(expr) =&gt; Factorial(transform(expr)?),
</a><a href="#h0-8-88" id="h0-8-88" class="i">+                GreaterThan(lhs, rhs) =&gt; GreaterThan(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-89" id="h0-8-89" class="i">+                GreaterThanOrEqual(lhs, rhs) =&gt; {
</a><a href="#h0-8-90" id="h0-8-90" class="i">+                    GreaterThanOrEqual(transform(lhs)?, transform(rhs)?)
</a><a href="#h0-8-91" id="h0-8-91" class="i">+                }
</a><a href="#h0-8-92" id="h0-8-92" class="i">+                Identity(expr) =&gt; Identity(transform(expr)?),
</a><a href="#h0-8-93" id="h0-8-93" class="i">+                IsNull(expr) =&gt; IsNull(transform(expr)?),
</a><a href="#h0-8-94" id="h0-8-94" class="i">+                LessThan(lhs, rhs) =&gt; LessThan(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-95" id="h0-8-95" class="i">+                LessThanOrEqual(lhs, rhs) =&gt; LessThanOrEqual(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-96" id="h0-8-96" class="i">+                Like(lhs, rhs) =&gt; Like(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-97" id="h0-8-97" class="i">+                Modulo(lhs, rhs) =&gt; Modulo(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-98" id="h0-8-98" class="i">+                Multiply(lhs, rhs) =&gt; Multiply(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-99" id="h0-8-99" class="i">+                Negate(expr) =&gt; Negate(transform(expr)?),
</a><a href="#h0-8-100" id="h0-8-100" class="i">+                Not(expr) =&gt; Not(transform(expr)?),
</a><a href="#h0-8-101" id="h0-8-101" class="i">+                NotEqual(lhs, rhs) =&gt; NotEqual(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-102" id="h0-8-102" class="i">+                Or(lhs, rhs) =&gt; Or(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-103" id="h0-8-103" class="i">+                Subtract(lhs, rhs) =&gt; Subtract(transform(lhs)?, transform(rhs)?),
</a><a href="#h0-8-104" id="h0-8-104" class="i">+            }),
</a>         };
<a href="#h0-8-106" id="h0-8-106" class="d">-        after(self)
</a><a href="#h0-8-107" id="h0-8-107" class="i">+        self = after(self)?;
</a><a href="#h0-8-108" id="h0-8-108" class="i">+        Ok(self)
</a>     }
 
     /// Transforms an expression using a mutable reference.
<a href="#h0-8-112" id="h0-8-112" class="i">+    /// TODO: try to get rid of this and replace_with().
</a>     pub fn transform_mut&lt;B, A&gt;(&amp;mut self, before: &amp;mut B, after: &amp;mut A) -&gt; Result&lt;()&gt;
     where
         B: FnMut(Self) -&gt; Result&lt;Self&gt;,
<a href="#h0-9" id="h0-9" class="h">@@ -232,43 +205,67 @@ impl Expression {
</a>         self.replace_with(|e| e.transform(before, after))
     }
 
<a href="#h0-9-3" id="h0-9-3" class="d">-    /// Walks the expression tree, calling a closure for every node. Halts if closure returns false.
</a><a href="#h0-9-4" id="h0-9-4" class="d">-    pub fn walk&lt;F: Fn(&amp;Expression) -&gt; bool&gt;(&amp;self, visitor: &amp;F) -&gt; bool {
</a><a href="#h0-9-5" id="h0-9-5" class="d">-        use Operation::*;
</a><a href="#h0-9-6" id="h0-9-6" class="d">-        visitor(self)
</a><a href="#h0-9-7" id="h0-9-7" class="d">-            &amp;&amp; match self {
</a><a href="#h0-9-8" id="h0-9-8" class="d">-                Self::Operation(Add(lhs, rhs))
</a><a href="#h0-9-9" id="h0-9-9" class="d">-                | Self::Operation(And(lhs, rhs))
</a><a href="#h0-9-10" id="h0-9-10" class="d">-                | Self::Operation(Divide(lhs, rhs))
</a><a href="#h0-9-11" id="h0-9-11" class="d">-                | Self::Operation(Equal(lhs, rhs))
</a><a href="#h0-9-12" id="h0-9-12" class="d">-                | Self::Operation(Exponentiate(lhs, rhs))
</a><a href="#h0-9-13" id="h0-9-13" class="d">-                | Self::Operation(GreaterThan(lhs, rhs))
</a><a href="#h0-9-14" id="h0-9-14" class="d">-                | Self::Operation(GreaterThanOrEqual(lhs, rhs))
</a><a href="#h0-9-15" id="h0-9-15" class="d">-                | Self::Operation(LessThan(lhs, rhs))
</a><a href="#h0-9-16" id="h0-9-16" class="d">-                | Self::Operation(LessThanOrEqual(lhs, rhs))
</a><a href="#h0-9-17" id="h0-9-17" class="d">-                | Self::Operation(Like(lhs, rhs))
</a><a href="#h0-9-18" id="h0-9-18" class="d">-                | Self::Operation(Modulo(lhs, rhs))
</a><a href="#h0-9-19" id="h0-9-19" class="d">-                | Self::Operation(Multiply(lhs, rhs))
</a><a href="#h0-9-20" id="h0-9-20" class="d">-                | Self::Operation(NotEqual(lhs, rhs))
</a><a href="#h0-9-21" id="h0-9-21" class="d">-                | Self::Operation(Or(lhs, rhs))
</a><a href="#h0-9-22" id="h0-9-22" class="d">-                | Self::Operation(Subtract(lhs, rhs)) =&gt; lhs.walk(visitor) &amp;&amp; rhs.walk(visitor),
</a><a href="#h0-9-23" id="h0-9-23" class="i">+    /// Replaces the expression with result of the closure. Helper function for
</a><a href="#h0-9-24" id="h0-9-24" class="i">+    /// transform().
</a><a href="#h0-9-25" id="h0-9-25" class="i">+    fn replace_with(&amp;mut self, mut f: impl FnMut(Self) -&gt; Result&lt;Self&gt;) -&gt; Result&lt;()&gt; {
</a><a href="#h0-9-26" id="h0-9-26" class="i">+        // Temporarily replace expression with a null value, in case closure panics. May consider
</a><a href="#h0-9-27" id="h0-9-27" class="i">+        // replace_with crate if this hampers performance.
</a><a href="#h0-9-28" id="h0-9-28" class="i">+        let expr = std::mem::replace(self, Expression::Literal(Literal::Null));
</a><a href="#h0-9-29" id="h0-9-29" class="i">+        *self = f(expr)?;
</a><a href="#h0-9-30" id="h0-9-30" class="i">+        Ok(())
</a><a href="#h0-9-31" id="h0-9-31" class="i">+    }
</a><a href="#h0-9-32" id="h0-9-32" class="i">+
</a><a href="#h0-9-33" id="h0-9-33" class="i">+    /// Walks the expression tree depth-first, calling a closure for every node.
</a><a href="#h0-9-34" id="h0-9-34" class="i">+    /// Halts and returns false if the closure returns false.
</a><a href="#h0-9-35" id="h0-9-35" class="i">+    pub fn walk(&amp;self, visitor: &amp;impl Fn(&amp;Expression) -&gt; bool) -&gt; bool {
</a><a href="#h0-9-36" id="h0-9-36" class="i">+        use Operator::*;
</a><a href="#h0-9-37" id="h0-9-37" class="i">+        if !visitor(self) {
</a><a href="#h0-9-38" id="h0-9-38" class="i">+            return false;
</a><a href="#h0-9-39" id="h0-9-39" class="i">+        }
</a><a href="#h0-9-40" id="h0-9-40" class="i">+        match self {
</a><a href="#h0-9-41" id="h0-9-41" class="i">+            Self::Operator(Add(lhs, rhs))
</a><a href="#h0-9-42" id="h0-9-42" class="i">+            | Self::Operator(And(lhs, rhs))
</a><a href="#h0-9-43" id="h0-9-43" class="i">+            | Self::Operator(Divide(lhs, rhs))
</a><a href="#h0-9-44" id="h0-9-44" class="i">+            | Self::Operator(Equal(lhs, rhs))
</a><a href="#h0-9-45" id="h0-9-45" class="i">+            | Self::Operator(Exponentiate(lhs, rhs))
</a><a href="#h0-9-46" id="h0-9-46" class="i">+            | Self::Operator(GreaterThan(lhs, rhs))
</a><a href="#h0-9-47" id="h0-9-47" class="i">+            | Self::Operator(GreaterThanOrEqual(lhs, rhs))
</a><a href="#h0-9-48" id="h0-9-48" class="i">+            | Self::Operator(LessThan(lhs, rhs))
</a><a href="#h0-9-49" id="h0-9-49" class="i">+            | Self::Operator(LessThanOrEqual(lhs, rhs))
</a><a href="#h0-9-50" id="h0-9-50" class="i">+            | Self::Operator(Like(lhs, rhs))
</a><a href="#h0-9-51" id="h0-9-51" class="i">+            | Self::Operator(Modulo(lhs, rhs))
</a><a href="#h0-9-52" id="h0-9-52" class="i">+            | Self::Operator(Multiply(lhs, rhs))
</a><a href="#h0-9-53" id="h0-9-53" class="i">+            | Self::Operator(NotEqual(lhs, rhs))
</a><a href="#h0-9-54" id="h0-9-54" class="i">+            | Self::Operator(Or(lhs, rhs))
</a><a href="#h0-9-55" id="h0-9-55" class="i">+            | Self::Operator(Subtract(lhs, rhs)) =&gt; lhs.walk(visitor) &amp;&amp; rhs.walk(visitor),
</a> 
<a href="#h0-9-57" id="h0-9-57" class="d">-                Self::Operation(Factorial(expr))
</a><a href="#h0-9-58" id="h0-9-58" class="d">-                | Self::Operation(Identity(expr))
</a><a href="#h0-9-59" id="h0-9-59" class="d">-                | Self::Operation(IsNull(expr))
</a><a href="#h0-9-60" id="h0-9-60" class="d">-                | Self::Operation(Negate(expr))
</a><a href="#h0-9-61" id="h0-9-61" class="d">-                | Self::Operation(Not(expr)) =&gt; expr.walk(visitor),
</a><a href="#h0-9-62" id="h0-9-62" class="i">+            Self::Operator(Factorial(expr))
</a><a href="#h0-9-63" id="h0-9-63" class="i">+            | Self::Operator(Identity(expr))
</a><a href="#h0-9-64" id="h0-9-64" class="i">+            | Self::Operator(IsNull(expr))
</a><a href="#h0-9-65" id="h0-9-65" class="i">+            | Self::Operator(Negate(expr))
</a><a href="#h0-9-66" id="h0-9-66" class="i">+            | Self::Operator(Not(expr)) =&gt; expr.walk(visitor),
</a> 
<a href="#h0-9-68" id="h0-9-68" class="d">-                Self::Function(_, exprs) =&gt; {
</a><a href="#h0-9-69" id="h0-9-69" class="d">-                    for expr in exprs {
</a><a href="#h0-9-70" id="h0-9-70" class="d">-                        if !expr.walk(visitor) {
</a><a href="#h0-9-71" id="h0-9-71" class="d">-                            return false;
</a><a href="#h0-9-72" id="h0-9-72" class="d">-                        }
</a><a href="#h0-9-73" id="h0-9-73" class="d">-                    }
</a><a href="#h0-9-74" id="h0-9-74" class="d">-                    true
</a><a href="#h0-9-75" id="h0-9-75" class="d">-                }
</a><a href="#h0-9-76" id="h0-9-76" class="i">+            Self::Function(_, exprs) =&gt; exprs.iter().any(|expr| expr.walk(visitor)),
</a><a href="#h0-9-77" id="h0-9-77" class="i">+
</a><a href="#h0-9-78" id="h0-9-78" class="i">+            Self::Literal(_) | Self::Field(_, _) | Self::Column(_) =&gt; true,
</a><a href="#h0-9-79" id="h0-9-79" class="i">+        }
</a><a href="#h0-9-80" id="h0-9-80" class="i">+    }
</a><a href="#h0-9-81" id="h0-9-81" class="i">+
</a><a href="#h0-9-82" id="h0-9-82" class="i">+    /// Walks the expression tree depth-first while calling a closure until it
</a><a href="#h0-9-83" id="h0-9-83" class="i">+    /// returns true. This is the inverse of walk().
</a><a href="#h0-9-84" id="h0-9-84" class="i">+    pub fn contains(&amp;self, visitor: &amp;impl Fn(&amp;Expression) -&gt; bool) -&gt; bool {
</a><a href="#h0-9-85" id="h0-9-85" class="i">+        !self.walk(&amp;|expr| !visitor(expr))
</a><a href="#h0-9-86" id="h0-9-86" class="i">+    }
</a><a href="#h0-9-87" id="h0-9-87" class="i">+}
</a><a href="#h0-9-88" id="h0-9-88" class="i">+
</a><a href="#h0-9-89" id="h0-9-89" class="i">+impl core::convert::From&lt;Literal&gt; for Expression {
</a><a href="#h0-9-90" id="h0-9-90" class="i">+    fn from(literal: Literal) -&gt; Self {
</a><a href="#h0-9-91" id="h0-9-91" class="i">+        Self::Literal(literal)
</a><a href="#h0-9-92" id="h0-9-92" class="i">+    }
</a><a href="#h0-9-93" id="h0-9-93" class="i">+}
</a> 
<a href="#h0-9-95" id="h0-9-95" class="d">-                Self::Literal(_) | Self::Field(_, _) | Self::Column(_) =&gt; true,
</a><a href="#h0-9-96" id="h0-9-96" class="d">-            }
</a><a href="#h0-9-97" id="h0-9-97" class="i">+impl core::convert::From&lt;Operator&gt; for Expression {
</a><a href="#h0-9-98" id="h0-9-98" class="i">+    fn from(op: Operator) -&gt; Self {
</a><a href="#h0-9-99" id="h0-9-99" class="i">+        Self::Operator(op)
</a>     }
 }
<b>diff --git a/<a id="h1" href="../file/src/sql/parser/parser.rs.html">src/sql/parser/parser.rs</a> b/<a href="../file/src/sql/parser/parser.rs.html">src/sql/parser/parser.rs</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -355,7 +355,7 @@ impl&lt;&#39;a&gt; Parser&lt;&#39;a&gt; {
</a>     }
 
     /// Parses a from clause
<a href="#h1-0-3" id="h1-0-3" class="d">-    fn parse_clause_from(&amp;mut self) -&gt; Result&lt;Vec&lt;ast::FromItem&gt;&gt; {
</a><a href="#h1-0-4" id="h1-0-4" class="i">+    fn parse_clause_from(&amp;mut self) -&gt; Result&lt;Vec&lt;ast::From&gt;&gt; {
</a>         let mut from = Vec::new();
         if self.next_if_token(Keyword::From.into()).is_none() {
             return Ok(from);
<a href="#h1-1" id="h1-1" class="h">@@ -373,7 +373,7 @@ impl&lt;&#39;a&gt; Parser&lt;&#39;a&gt; {
</a>                     }
                 };
                 let r#type = jointype;
<a href="#h1-1-3" id="h1-1-3" class="d">-                item = ast::FromItem::Join { left, right, r#type, predicate };
</a><a href="#h1-1-4" id="h1-1-4" class="i">+                item = ast::From::Join { left, right, r#type, predicate };
</a>             }
             from.push(item);
             if self.next_if_token(Token::Comma).is_none() {
<a href="#h1-2" id="h1-2" class="h">@@ -384,12 +384,12 @@ impl&lt;&#39;a&gt; Parser&lt;&#39;a&gt; {
</a>     }
 
     /// Parses a from clause item
<a href="#h1-2-3" id="h1-2-3" class="d">-    fn parse_clause_from_item(&amp;mut self) -&gt; Result&lt;ast::FromItem&gt; {
</a><a href="#h1-2-4" id="h1-2-4" class="i">+    fn parse_clause_from_item(&amp;mut self) -&gt; Result&lt;ast::From&gt; {
</a>         self.parse_clause_from_table()
     }
 
     // Parses a from clause table
<a href="#h1-2-9" id="h1-2-9" class="d">-    fn parse_clause_from_table(&amp;mut self) -&gt; Result&lt;ast::FromItem&gt; {
</a><a href="#h1-2-10" id="h1-2-10" class="i">+    fn parse_clause_from_table(&amp;mut self) -&gt; Result&lt;ast::From&gt; {
</a>         let name = self.next_ident()?;
         let alias = if self.next_if_token(Keyword::As.into()).is_some() {
             Some(self.next_ident()?)
<a href="#h1-3" id="h1-3" class="h">@@ -398,7 +398,7 @@ impl&lt;&#39;a&gt; Parser&lt;&#39;a&gt; {
</a>         } else {
             None
         };
<a href="#h1-3-3" id="h1-3-3" class="d">-        Ok(ast::FromItem::Table { name, alias })
</a><a href="#h1-3-4" id="h1-3-4" class="i">+        Ok(ast::From::Table { name, alias })
</a>     }
 
     // Parses a from clause join type
<a href="#h1-4" id="h1-4" class="h">@@ -601,9 +601,9 @@ enum PrefixOperator {
</a> impl PrefixOperator {
     fn build(&amp;self, rhs: ast::Expression) -&gt; ast::Expression {
         match self {
<a href="#h1-4-3" id="h1-4-3" class="d">-            Self::Plus =&gt; ast::Operation::Identity(Box::new(rhs)).into(),
</a><a href="#h1-4-4" id="h1-4-4" class="d">-            Self::Minus =&gt; ast::Operation::Negate(Box::new(rhs)).into(),
</a><a href="#h1-4-5" id="h1-4-5" class="d">-            Self::Not =&gt; ast::Operation::Not(Box::new(rhs)).into(),
</a><a href="#h1-4-6" id="h1-4-6" class="i">+            Self::Plus =&gt; ast::Operator::Identity(Box::new(rhs)).into(),
</a><a href="#h1-4-7" id="h1-4-7" class="i">+            Self::Minus =&gt; ast::Operator::Negate(Box::new(rhs)).into(),
</a><a href="#h1-4-8" id="h1-4-8" class="i">+            Self::Not =&gt; ast::Operator::Not(Box::new(rhs)).into(),
</a>         }
     }
 }
<a href="#h1-5" id="h1-5" class="h">@@ -653,21 +653,21 @@ impl InfixOperator {
</a>     fn build(&amp;self, lhs: ast::Expression, rhs: ast::Expression) -&gt; ast::Expression {
         let (lhs, rhs) = (Box::new(lhs), Box::new(rhs));
         match self {
<a href="#h1-5-3" id="h1-5-3" class="d">-            Self::Add =&gt; ast::Operation::Add(lhs, rhs),
</a><a href="#h1-5-4" id="h1-5-4" class="d">-            Self::And =&gt; ast::Operation::And(lhs, rhs),
</a><a href="#h1-5-5" id="h1-5-5" class="d">-            Self::Divide =&gt; ast::Operation::Divide(lhs, rhs),
</a><a href="#h1-5-6" id="h1-5-6" class="d">-            Self::Equal =&gt; ast::Operation::Equal(lhs, rhs),
</a><a href="#h1-5-7" id="h1-5-7" class="d">-            Self::Exponentiate =&gt; ast::Operation::Exponentiate(lhs, rhs),
</a><a href="#h1-5-8" id="h1-5-8" class="d">-            Self::GreaterThan =&gt; ast::Operation::GreaterThan(lhs, rhs),
</a><a href="#h1-5-9" id="h1-5-9" class="d">-            Self::GreaterThanOrEqual =&gt; ast::Operation::GreaterThanOrEqual(lhs, rhs),
</a><a href="#h1-5-10" id="h1-5-10" class="d">-            Self::LessThan =&gt; ast::Operation::LessThan(lhs, rhs),
</a><a href="#h1-5-11" id="h1-5-11" class="d">-            Self::LessThanOrEqual =&gt; ast::Operation::LessThanOrEqual(lhs, rhs),
</a><a href="#h1-5-12" id="h1-5-12" class="d">-            Self::Like =&gt; ast::Operation::Like(lhs, rhs),
</a><a href="#h1-5-13" id="h1-5-13" class="d">-            Self::Modulo =&gt; ast::Operation::Modulo(lhs, rhs),
</a><a href="#h1-5-14" id="h1-5-14" class="d">-            Self::Multiply =&gt; ast::Operation::Multiply(lhs, rhs),
</a><a href="#h1-5-15" id="h1-5-15" class="d">-            Self::NotEqual =&gt; ast::Operation::NotEqual(lhs, rhs),
</a><a href="#h1-5-16" id="h1-5-16" class="d">-            Self::Or =&gt; ast::Operation::Or(lhs, rhs),
</a><a href="#h1-5-17" id="h1-5-17" class="d">-            Self::Subtract =&gt; ast::Operation::Subtract(lhs, rhs),
</a><a href="#h1-5-18" id="h1-5-18" class="i">+            Self::Add =&gt; ast::Operator::Add(lhs, rhs),
</a><a href="#h1-5-19" id="h1-5-19" class="i">+            Self::And =&gt; ast::Operator::And(lhs, rhs),
</a><a href="#h1-5-20" id="h1-5-20" class="i">+            Self::Divide =&gt; ast::Operator::Divide(lhs, rhs),
</a><a href="#h1-5-21" id="h1-5-21" class="i">+            Self::Equal =&gt; ast::Operator::Equal(lhs, rhs),
</a><a href="#h1-5-22" id="h1-5-22" class="i">+            Self::Exponentiate =&gt; ast::Operator::Exponentiate(lhs, rhs),
</a><a href="#h1-5-23" id="h1-5-23" class="i">+            Self::GreaterThan =&gt; ast::Operator::GreaterThan(lhs, rhs),
</a><a href="#h1-5-24" id="h1-5-24" class="i">+            Self::GreaterThanOrEqual =&gt; ast::Operator::GreaterThanOrEqual(lhs, rhs),
</a><a href="#h1-5-25" id="h1-5-25" class="i">+            Self::LessThan =&gt; ast::Operator::LessThan(lhs, rhs),
</a><a href="#h1-5-26" id="h1-5-26" class="i">+            Self::LessThanOrEqual =&gt; ast::Operator::LessThanOrEqual(lhs, rhs),
</a><a href="#h1-5-27" id="h1-5-27" class="i">+            Self::Like =&gt; ast::Operator::Like(lhs, rhs),
</a><a href="#h1-5-28" id="h1-5-28" class="i">+            Self::Modulo =&gt; ast::Operator::Modulo(lhs, rhs),
</a><a href="#h1-5-29" id="h1-5-29" class="i">+            Self::Multiply =&gt; ast::Operator::Multiply(lhs, rhs),
</a><a href="#h1-5-30" id="h1-5-30" class="i">+            Self::NotEqual =&gt; ast::Operator::NotEqual(lhs, rhs),
</a><a href="#h1-5-31" id="h1-5-31" class="i">+            Self::Or =&gt; ast::Operator::Or(lhs, rhs),
</a><a href="#h1-5-32" id="h1-5-32" class="i">+            Self::Subtract =&gt; ast::Operator::Subtract(lhs, rhs),
</a>         }
         .into()
     }
<a href="#h1-6" id="h1-6" class="h">@@ -733,10 +733,10 @@ impl PostfixOperator {
</a>         let lhs = Box::new(lhs);
         match self {
             Self::IsNull { not } =&gt; match not {
<a href="#h1-6-3" id="h1-6-3" class="d">-                true =&gt; ast::Operation::Not(Box::new(ast::Operation::IsNull(lhs).into())),
</a><a href="#h1-6-4" id="h1-6-4" class="d">-                false =&gt; ast::Operation::IsNull(lhs),
</a><a href="#h1-6-5" id="h1-6-5" class="i">+                true =&gt; ast::Operator::Not(Box::new(ast::Operator::IsNull(lhs).into())),
</a><a href="#h1-6-6" id="h1-6-6" class="i">+                false =&gt; ast::Operator::IsNull(lhs),
</a>             },
<a href="#h1-6-8" id="h1-6-8" class="d">-            Self::Factorial =&gt; ast::Operation::Factorial(lhs),
</a><a href="#h1-6-9" id="h1-6-9" class="i">+            Self::Factorial =&gt; ast::Operator::Factorial(lhs),
</a>         }
         .into()
     }
<b>diff --git a/<a id="h2" href="../file/src/sql/planner/planner.rs.html">src/sql/planner/planner.rs</a> b/<a href="../file/src/sql/planner/planner.rs.html">src/sql/planner/planner.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -276,7 +276,7 @@ impl&lt;&#39;a, C: Catalog&gt; Planner&lt;&#39;a, C&gt; {
</a>     /// Builds a FROM clause consisting of several items. Each item is either a single table or a
     /// join of an arbitrary number of tables. All of the items are joined, since e.g. &#39;SELECT * FROM
     /// a, b&#39; is an implicit join of a and b.
<a href="#h2-0-3" id="h2-0-3" class="d">-    fn build_from_clause(&amp;self, scope: &amp;mut Scope, from: Vec&lt;ast::FromItem&gt;) -&gt; Result&lt;Node&gt; {
</a><a href="#h2-0-4" id="h2-0-4" class="i">+    fn build_from_clause(&amp;self, scope: &amp;mut Scope, from: Vec&lt;ast::From&gt;) -&gt; Result&lt;Node&gt; {
</a>         let base_scope = scope.clone();
         let mut items = from.into_iter();
         let mut node = match items.next() {
<a href="#h2-1" id="h2-1" class="h">@@ -302,15 +302,15 @@ impl&lt;&#39;a, C: Catalog&gt; Planner&lt;&#39;a, C&gt; {
</a>     /// e.g. &#39;SELECT * FROM a LEFT JOIN b ON b.a_id = a.id&#39;. Any tables will be stored in
     /// self.tables keyed by their query name (i.e. alias if given, otherwise name). The table can
     /// only be referenced by the query name (so if alias is given, cannot reference by name).
<a href="#h2-1-3" id="h2-1-3" class="d">-    fn build_from_item(&amp;self, scope: &amp;mut Scope, item: ast::FromItem) -&gt; Result&lt;Node&gt; {
</a><a href="#h2-1-4" id="h2-1-4" class="i">+    fn build_from_item(&amp;self, scope: &amp;mut Scope, item: ast::From) -&gt; Result&lt;Node&gt; {
</a>         Ok(match item {
<a href="#h2-1-6" id="h2-1-6" class="d">-            ast::FromItem::Table { name, alias } =&gt; {
</a><a href="#h2-1-7" id="h2-1-7" class="i">+            ast::From::Table { name, alias } =&gt; {
</a>                 let table = self.catalog.must_get_table(&amp;name)?;
                 scope.add_table(alias.clone().unwrap_or_else(|| name.clone()), table.clone())?;
                 Node::Scan { table, alias, filter: None }
             }
 
<a href="#h2-1-13" id="h2-1-13" class="d">-            ast::FromItem::Join { left, right, r#type, predicate } =&gt; {
</a><a href="#h2-1-14" id="h2-1-14" class="i">+            ast::From::Join { left, right, r#type, predicate } =&gt; {
</a>                 // Right outer joins are built as a left outer join with an additional projection
                 // to swap the resulting columns.
                 let (left, right) = match r#type {
<a href="#h2-2" id="h2-2" class="h">@@ -556,28 +556,28 @@ impl&lt;&#39;a, C: Catalog&gt; Planner&lt;&#39;a, C&gt; {
</a>                 Field(scope.resolve(table.as_deref(), &amp;name)?, Some((table, name)))
             }
             ast::Expression::Function(name, _) =&gt; return errinput!(&quot;unknown function {name}&quot;),
<a href="#h2-2-3" id="h2-2-3" class="d">-            ast::Expression::Operation(op) =&gt; match op {
</a><a href="#h2-2-4" id="h2-2-4" class="i">+            ast::Expression::Operator(op) =&gt; match op {
</a>                 // Logical operators
<a href="#h2-2-6" id="h2-2-6" class="d">-                ast::Operation::And(lhs, rhs) =&gt; And(
</a><a href="#h2-2-7" id="h2-2-7" class="i">+                ast::Operator::And(lhs, rhs) =&gt; And(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-2-11" id="h2-2-11" class="d">-                ast::Operation::Not(expr) =&gt; Not(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-2-12" id="h2-2-12" class="d">-                ast::Operation::Or(lhs, rhs) =&gt; Or(
</a><a href="#h2-2-13" id="h2-2-13" class="i">+                ast::Operator::Not(expr) =&gt; Not(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-2-14" id="h2-2-14" class="i">+                ast::Operator::Or(lhs, rhs) =&gt; Or(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
 
                 // Comparison operators
<a href="#h2-2-20" id="h2-2-20" class="d">-                ast::Operation::Equal(lhs, rhs) =&gt; Equal(
</a><a href="#h2-2-21" id="h2-2-21" class="i">+                ast::Operator::Equal(lhs, rhs) =&gt; Equal(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-2-25" id="h2-2-25" class="d">-                ast::Operation::GreaterThan(lhs, rhs) =&gt; GreaterThan(
</a><a href="#h2-2-26" id="h2-2-26" class="i">+                ast::Operator::GreaterThan(lhs, rhs) =&gt; GreaterThan(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-2-30" id="h2-2-30" class="d">-                ast::Operation::GreaterThanOrEqual(lhs, rhs) =&gt; Or(
</a><a href="#h2-2-31" id="h2-2-31" class="i">+                ast::Operator::GreaterThanOrEqual(lhs, rhs) =&gt; Or(
</a>                     GreaterThan(
                         self.build_expression(scope, *lhs.clone())?.into(),
                         self.build_expression(scope, *rhs.clone())?.into(),
<a href="#h2-3" id="h2-3" class="h">@@ -589,12 +589,12 @@ impl&lt;&#39;a, C: Catalog&gt; Planner&lt;&#39;a, C&gt; {
</a>                     )
                     .into(),
                 ),
<a href="#h2-3-3" id="h2-3-3" class="d">-                ast::Operation::IsNull(expr) =&gt; IsNull(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-3-4" id="h2-3-4" class="d">-                ast::Operation::LessThan(lhs, rhs) =&gt; LessThan(
</a><a href="#h2-3-5" id="h2-3-5" class="i">+                ast::Operator::IsNull(expr) =&gt; IsNull(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-3-6" id="h2-3-6" class="i">+                ast::Operator::LessThan(lhs, rhs) =&gt; LessThan(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-3-10" id="h2-3-10" class="d">-                ast::Operation::LessThanOrEqual(lhs, rhs) =&gt; Or(
</a><a href="#h2-3-11" id="h2-3-11" class="i">+                ast::Operator::LessThanOrEqual(lhs, rhs) =&gt; Or(
</a>                     LessThan(
                         self.build_expression(scope, *lhs.clone())?.into(),
                         self.build_expression(scope, *rhs.clone())?.into(),
<a href="#h2-4" id="h2-4" class="h">@@ -606,45 +606,45 @@ impl&lt;&#39;a, C: Catalog&gt; Planner&lt;&#39;a, C&gt; {
</a>                     )
                     .into(),
                 ),
<a href="#h2-4-3" id="h2-4-3" class="d">-                ast::Operation::Like(lhs, rhs) =&gt; Like(
</a><a href="#h2-4-4" id="h2-4-4" class="i">+                ast::Operator::Like(lhs, rhs) =&gt; Like(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-8" id="h2-4-8" class="d">-                ast::Operation::NotEqual(lhs, rhs) =&gt; Not(Equal(
</a><a href="#h2-4-9" id="h2-4-9" class="i">+                ast::Operator::NotEqual(lhs, rhs) =&gt; Not(Equal(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 )
                 .into()),
 
                 // Mathematical operators
<a href="#h2-4-16" id="h2-4-16" class="d">-                ast::Operation::Add(lhs, rhs) =&gt; Add(
</a><a href="#h2-4-17" id="h2-4-17" class="i">+                ast::Operator::Add(lhs, rhs) =&gt; Add(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-21" id="h2-4-21" class="d">-                ast::Operation::Divide(lhs, rhs) =&gt; Divide(
</a><a href="#h2-4-22" id="h2-4-22" class="i">+                ast::Operator::Divide(lhs, rhs) =&gt; Divide(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-26" id="h2-4-26" class="d">-                ast::Operation::Exponentiate(lhs, rhs) =&gt; Exponentiate(
</a><a href="#h2-4-27" id="h2-4-27" class="i">+                ast::Operator::Exponentiate(lhs, rhs) =&gt; Exponentiate(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-31" id="h2-4-31" class="d">-                ast::Operation::Factorial(expr) =&gt; {
</a><a href="#h2-4-32" id="h2-4-32" class="i">+                ast::Operator::Factorial(expr) =&gt; {
</a>                     Factorial(self.build_expression(scope, *expr)?.into())
                 }
<a href="#h2-4-35" id="h2-4-35" class="d">-                ast::Operation::Identity(expr) =&gt; {
</a><a href="#h2-4-36" id="h2-4-36" class="i">+                ast::Operator::Identity(expr) =&gt; {
</a>                     Identity(self.build_expression(scope, *expr)?.into())
                 }
<a href="#h2-4-39" id="h2-4-39" class="d">-                ast::Operation::Modulo(lhs, rhs) =&gt; Modulo(
</a><a href="#h2-4-40" id="h2-4-40" class="i">+                ast::Operator::Modulo(lhs, rhs) =&gt; Modulo(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-44" id="h2-4-44" class="d">-                ast::Operation::Multiply(lhs, rhs) =&gt; Multiply(
</a><a href="#h2-4-45" id="h2-4-45" class="i">+                ast::Operator::Multiply(lhs, rhs) =&gt; Multiply(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<a href="#h2-4-49" id="h2-4-49" class="d">-                ast::Operation::Negate(expr) =&gt; Negate(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-4-50" id="h2-4-50" class="d">-                ast::Operation::Subtract(lhs, rhs) =&gt; Subtract(
</a><a href="#h2-4-51" id="h2-4-51" class="i">+                ast::Operator::Negate(expr) =&gt; Negate(self.build_expression(scope, *expr)?.into()),
</a><a href="#h2-4-52" id="h2-4-52" class="i">+                ast::Operator::Subtract(lhs, rhs) =&gt; Subtract(
</a>                     self.build_expression(scope, *lhs)?.into(),
                     self.build_expression(scope, *rhs)?.into(),
                 ),
<b>diff --git a/<a id="h3" href="../file/tests/sql/query/agg_boolean.html">tests/sql/query/agg_boolean</a> b/<a href="../file/tests/sql/query/agg_boolean.html">tests/sql/query/agg_boolean</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -78,9 +78,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h3-0-3" id="h3-0-3" class="d">-        Operation(
</a><a href="#h3-0-4" id="h3-0-4" class="i">+        Operator(
</a>             Not(
<a href="#h3-0-6" id="h3-0-6" class="d">-                Operation(
</a><a href="#h3-0-7" id="h3-0-7" class="i">+                Operator(
</a>                     IsNull(
                         Field(
                             None,
<b>diff --git a/<a id="h4" href="../file/tests/sql/query/agg_expr.html">tests/sql/query/agg_expr</a> b/<a href="../file/tests/sql/query/agg_expr.html">tests/sql/query/agg_expr</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -12,12 +12,12 @@ Result: [&quot;?&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h4-0-3" id="h4-0-3" class="d">-            Operation(
</a><a href="#h4-0-4" id="h4-0-4" class="i">+            Operator(
</a>                 Divide(
                     Function(
                         &quot;sum&quot;,
                         [
<a href="#h4-0-9" id="h4-0-9" class="d">-                            Operation(
</a><a href="#h4-0-10" id="h4-0-10" class="i">+                            Operator(
</a>                                 Multiply(
                                     Field(
                                         None,
<b>diff --git a/<a id="h5" href="../file/tests/sql/query/agg_float.html">tests/sql/query/agg_float</a> b/<a href="../file/tests/sql/query/agg_float.html">tests/sql/query/agg_float</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -79,9 +79,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h5-0-3" id="h5-0-3" class="d">-        Operation(
</a><a href="#h5-0-4" id="h5-0-4" class="i">+        Operator(
</a>             Not(
<a href="#h5-0-6" id="h5-0-6" class="d">-                Operation(
</a><a href="#h5-0-7" id="h5-0-7" class="i">+                Operator(
</a>                     IsNull(
                         Field(
                             None,
<b>diff --git a/<a id="h6" href="../file/tests/sql/query/agg_integer.html">tests/sql/query/agg_integer</a> b/<a href="../file/tests/sql/query/agg_integer.html">tests/sql/query/agg_integer</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -79,9 +79,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h6-0-3" id="h6-0-3" class="d">-        Operation(
</a><a href="#h6-0-4" id="h6-0-4" class="i">+        Operator(
</a>             Not(
<a href="#h6-0-6" id="h6-0-6" class="d">-                Operation(
</a><a href="#h6-0-7" id="h6-0-7" class="i">+                Operator(
</a>                     IsNull(
                         Field(
                             None,
<b>diff --git a/<a id="h7" href="../file/tests/sql/query/agg_string.html">tests/sql/query/agg_string</a> b/<a href="../file/tests/sql/query/agg_string.html">tests/sql/query/agg_string</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -78,9 +78,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h7-0-3" id="h7-0-3" class="d">-        Operation(
</a><a href="#h7-0-4" id="h7-0-4" class="i">+        Operator(
</a>             Not(
<a href="#h7-0-6" id="h7-0-6" class="d">-                Operation(
</a><a href="#h7-0-7" id="h7-0-7" class="i">+                Operator(
</a>                     IsNull(
                         Field(
                             None,
<b>diff --git a/<a id="h8" href="../file/tests/sql/query/expr_dynamic.html">tests/sql/query/expr_dynamic</a> b/<a href="../file/tests/sql/query/expr_dynamic.html">tests/sql/query/expr_dynamic</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -5,7 +5,7 @@ Error: invalid input: unknown field year
</a> AST: Select {
     select: [
         (
<a href="#h8-0-3" id="h8-0-3" class="d">-            Operation(
</a><a href="#h8-0-4" id="h8-0-4" class="i">+            Operator(
</a>                 Subtract(
                     Literal(
                         Integer(
<b>diff --git a/<a id="h9" href="../file/tests/sql/query/expr_mixed.html">tests/sql/query/expr_mixed</a> b/<a href="../file/tests/sql/query/expr_mixed.html">tests/sql/query/expr_mixed</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -19,14 +19,14 @@ Result: [&quot;?&quot;, &quot;age&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h9-0-3" id="h9-0-3" class="d">-            Operation(
</a><a href="#h9-0-4" id="h9-0-4" class="i">+            Operator(
</a>                 Add(
                     Literal(
                         Integer(
                             1,
                         ),
                     ),
<a href="#h9-0-11" id="h9-0-11" class="d">-                    Operation(
</a><a href="#h9-0-12" id="h9-0-12" class="i">+                    Operator(
</a>                         Multiply(
                             Literal(
                                 Integer(
<a href="#h9-1" id="h9-1" class="h">@@ -45,7 +45,7 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h9-1-3" id="h9-1-3" class="d">-            Operation(
</a><a href="#h9-1-4" id="h9-1-4" class="i">+            Operator(
</a>                 Subtract(
                     Literal(
                         Integer(
<b>diff --git a/<a id="h10" href="../file/tests/sql/query/expr_static.html">tests/sql/query/expr_static</a> b/<a href="../file/tests/sql/query/expr_static.html">tests/sql/query/expr_static</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -10,14 +10,14 @@ Result: [&quot;?&quot;, &quot;nope&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h10-0-3" id="h10-0-3" class="d">-            Operation(
</a><a href="#h10-0-4" id="h10-0-4" class="i">+            Operator(
</a>                 Add(
                     Literal(
                         Integer(
                             1,
                         ),
                     ),
<a href="#h10-0-11" id="h10-0-11" class="d">-                    Operation(
</a><a href="#h10-0-12" id="h10-0-12" class="i">+                    Operator(
</a>                         Multiply(
                             Literal(
                                 Integer(
<a href="#h10-1" id="h10-1" class="h">@@ -36,7 +36,7 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h10-1-3" id="h10-1-3" class="d">-            Operation(
</a><a href="#h10-1-4" id="h10-1-4" class="i">+            Operator(
</a>                 Like(
                     Literal(
                         String(
<b>diff --git a/<a id="h11" href="../file/tests/sql/query/group_expr.html">tests/sql/query/group_expr</a> b/<a href="../file/tests/sql/query/group_expr.html">tests/sql/query/group_expr</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -38,7 +38,7 @@ AST: Select {
</a>     ],
     where: None,
     group_by: [
<a href="#h11-0-3" id="h11-0-3" class="d">-        Operation(
</a><a href="#h11-0-4" id="h11-0-4" class="i">+        Operator(
</a>             Multiply(
                 Field(
                     None,
<b>diff --git a/<a id="h12" href="../file/tests/sql/query/group_expr_aggr.html">tests/sql/query/group_expr_aggr</a> b/<a href="../file/tests/sql/query/group_expr_aggr.html">tests/sql/query/group_expr_aggr</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -23,12 +23,12 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h12-0-3" id="h12-0-3" class="d">-            Operation(
</a><a href="#h12-0-4" id="h12-0-4" class="i">+            Operator(
</a>                 Divide(
                     Function(
                         &quot;sum&quot;,
                         [
<a href="#h12-0-9" id="h12-0-9" class="d">-                            Operation(
</a><a href="#h12-0-10" id="h12-0-10" class="i">+                            Operator(
</a>                                 Multiply(
                                     Field(
                                         None,
<b>diff --git a/<a id="h13" href="../file/tests/sql/query/group_expr_aggr_nogroupref.html">tests/sql/query/group_expr_aggr_nogroupref</a> b/<a href="../file/tests/sql/query/group_expr_aggr_nogroupref.html">tests/sql/query/group_expr_aggr_nogroupref</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -12,14 +12,14 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h13-0-3" id="h13-0-3" class="d">-            Operation(
</a><a href="#h13-0-4" id="h13-0-4" class="i">+            Operator(
</a>                 Add(
<a href="#h13-0-6" id="h13-0-6" class="d">-                    Operation(
</a><a href="#h13-0-7" id="h13-0-7" class="i">+                    Operator(
</a>                         Divide(
                             Function(
                                 &quot;sum&quot;,
                                 [
<a href="#h13-0-12" id="h13-0-12" class="d">-                                    Operation(
</a><a href="#h13-0-13" id="h13-0-13" class="i">+                                    Operator(
</a>                                         Multiply(
                                             Field(
                                                 None,
<b>diff --git a/<a id="h14" href="../file/tests/sql/query/group_expr_aggr_selfref.html">tests/sql/query/group_expr_aggr_selfref</a> b/<a href="../file/tests/sql/query/group_expr_aggr_selfref.html">tests/sql/query/group_expr_aggr_selfref</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -23,14 +23,14 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h14-0-3" id="h14-0-3" class="d">-            Operation(
</a><a href="#h14-0-4" id="h14-0-4" class="i">+            Operator(
</a>                 Add(
<a href="#h14-0-6" id="h14-0-6" class="d">-                    Operation(
</a><a href="#h14-0-7" id="h14-0-7" class="i">+                    Operator(
</a>                         Divide(
                             Function(
                                 &quot;sum&quot;,
                                 [
<a href="#h14-0-12" id="h14-0-12" class="d">-                                    Operation(
</a><a href="#h14-0-13" id="h14-0-13" class="i">+                                    Operator(
</a>                                         Multiply(
                                             Field(
                                                 None,
<b>diff --git a/<a id="h15" href="../file/tests/sql/query/group_expr_aliased.html">tests/sql/query/group_expr_aliased</a> b/<a href="../file/tests/sql/query/group_expr_aliased.html">tests/sql/query/group_expr_aliased</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -16,7 +16,7 @@ Result: [&quot;twice&quot;, &quot;?&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h15-0-3" id="h15-0-3" class="d">-            Operation(
</a><a href="#h15-0-4" id="h15-0-4" class="i">+            Operator(
</a>                 Multiply(
                     Field(
                         None,
<b>diff --git a/<a id="h16" href="../file/tests/sql/query/group_expr_both.html">tests/sql/query/group_expr_both</a> b/<a href="../file/tests/sql/query/group_expr_both.html">tests/sql/query/group_expr_both</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -16,7 +16,7 @@ Result: [&quot;?&quot;, &quot;rating&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h16-0-3" id="h16-0-3" class="d">-            Operation(
</a><a href="#h16-0-4" id="h16-0-4" class="i">+            Operator(
</a>                 Multiply(
                     Field(
                         None,
<a href="#h16-1" id="h16-1" class="h">@@ -54,7 +54,7 @@ AST: Select {
</a>     ],
     where: None,
     group_by: [
<a href="#h16-1-3" id="h16-1-3" class="d">-        Operation(
</a><a href="#h16-1-4" id="h16-1-4" class="i">+        Operator(
</a>             Multiply(
                 Field(
                     None,
<b>diff --git a/<a id="h17" href="../file/tests/sql/query/group_expr_extended.html">tests/sql/query/group_expr_extended</a> b/<a href="../file/tests/sql/query/group_expr_extended.html">tests/sql/query/group_expr_extended</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -5,9 +5,9 @@ Error: invalid input: unknown field studio_id
</a> AST: Select {
     select: [
         (
<a href="#h17-0-3" id="h17-0-3" class="d">-            Operation(
</a><a href="#h17-0-4" id="h17-0-4" class="i">+            Operator(
</a>                 Add(
<a href="#h17-0-6" id="h17-0-6" class="d">-                    Operation(
</a><a href="#h17-0-7" id="h17-0-7" class="i">+                    Operator(
</a>                         Multiply(
                             Field(
                                 None,
<a href="#h17-1" id="h17-1" class="h">@@ -52,7 +52,7 @@ AST: Select {
</a>     ],
     where: None,
     group_by: [
<a href="#h17-1-3" id="h17-1-3" class="d">-        Operation(
</a><a href="#h17-1-4" id="h17-1-4" class="i">+        Operator(
</a>             Multiply(
                 Field(
                     None,
<b>diff --git a/<a id="h18" href="../file/tests/sql/query/group_expr_multigroup.html">tests/sql/query/group_expr_multigroup</a> b/<a href="../file/tests/sql/query/group_expr_multigroup.html">tests/sql/query/group_expr_multigroup</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -19,7 +19,7 @@ Result: [&quot;multi&quot;, &quot;rating&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h18-0-3" id="h18-0-3" class="d">-            Operation(
</a><a href="#h18-0-4" id="h18-0-4" class="i">+            Operator(
</a>                 Add(
                     Field(
                         None,
<b>diff --git a/<a id="h19" href="../file/tests/sql/query/group_expr_select.html">tests/sql/query/group_expr_select</a> b/<a href="../file/tests/sql/query/group_expr_select.html">tests/sql/query/group_expr_select</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -16,7 +16,7 @@ Result: [&quot;?&quot;, &quot;rating&quot;]
</a> AST: Select {
     select: [
         (
<a href="#h19-0-3" id="h19-0-3" class="d">-            Operation(
</a><a href="#h19-0-4" id="h19-0-4" class="i">+            Operator(
</a>                 Multiply(
                     Field(
                         None,
<b>diff --git a/<a id="h20" href="../file/tests/sql/query/group_join.html">tests/sql/query/group_join</a> b/<a href="../file/tests/sql/query/group_join.html">tests/sql/query/group_join</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -56,7 +56,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h20-0-3" id="h20-0-3" class="d">-                Operation(
</a><a href="#h20-0-4" id="h20-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h21" href="../file/tests/sql/query/having.html">tests/sql/query/having</a> b/<a href="../file/tests/sql/query/having.html">tests/sql/query/having</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -50,7 +50,7 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h21-0-3" id="h21-0-3" class="d">-        Operation(
</a><a href="#h21-0-4" id="h21-0-4" class="i">+        Operator(
</a>             GreaterThan(
                 Field(
                     None,
<b>diff --git a/<a id="h22" href="../file/tests/sql/query/having_aggr.html">tests/sql/query/having_aggr</a> b/<a href="../file/tests/sql/query/having_aggr.html">tests/sql/query/having_aggr</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -50,7 +50,7 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h22-0-3" id="h22-0-3" class="d">-        Operation(
</a><a href="#h22-0-4" id="h22-0-4" class="i">+        Operator(
</a>             GreaterThan(
                 Function(
                     &quot;min&quot;,
<b>diff --git a/<a id="h23" href="../file/tests/sql/query/having_aggr_expr.html">tests/sql/query/having_aggr_expr</a> b/<a href="../file/tests/sql/query/having_aggr_expr.html">tests/sql/query/having_aggr_expr</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -50,9 +50,9 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h23-0-3" id="h23-0-3" class="d">-        Operation(
</a><a href="#h23-0-4" id="h23-0-4" class="i">+        Operator(
</a>             LessThan(
<a href="#h23-0-6" id="h23-0-6" class="d">-                Operation(
</a><a href="#h23-0-7" id="h23-0-7" class="i">+                Operator(
</a>                     Subtract(
                         Function(
                             &quot;max&quot;,
<b>diff --git a/<a id="h24" href="../file/tests/sql/query/having_aggr_nested.html">tests/sql/query/having_aggr_nested</a> b/<a href="../file/tests/sql/query/having_aggr_nested.html">tests/sql/query/having_aggr_nested</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -40,7 +40,7 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h24-0-3" id="h24-0-3" class="d">-        Operation(
</a><a href="#h24-0-4" id="h24-0-4" class="i">+        Operator(
</a>             GreaterThan(
                 Function(
                     &quot;min&quot;,
<b>diff --git a/<a id="h25" href="../file/tests/sql/query/having_noaggr.html">tests/sql/query/having_noaggr</a> b/<a href="../file/tests/sql/query/having_noaggr.html">tests/sql/query/having_noaggr</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -51,7 +51,7 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h25-0-3" id="h25-0-3" class="d">-        Operation(
</a><a href="#h25-0-4" id="h25-0-4" class="i">+        Operator(
</a>             GreaterThanOrEqual(
                 Field(
                     None,
<b>diff --git a/<a id="h26" href="../file/tests/sql/query/having_nogroup.html">tests/sql/query/having_nogroup</a> b/<a href="../file/tests/sql/query/having_nogroup.html">tests/sql/query/having_nogroup</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -39,7 +39,7 @@ AST: Select {
</a>     where: None,
     group_by: [],
     having: Some(
<a href="#h26-0-3" id="h26-0-3" class="d">-        Operation(
</a><a href="#h26-0-4" id="h26-0-4" class="i">+        Operator(
</a>             GreaterThan(
                 Field(
                     None,
<b>diff --git a/<a id="h27" href="../file/tests/sql/query/having_noselect.html">tests/sql/query/having_noselect</a> b/<a href="../file/tests/sql/query/having_noselect.html">tests/sql/query/having_noselect</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -37,7 +37,7 @@ AST: Select {
</a>         ),
     ],
     having: Some(
<a href="#h27-0-3" id="h27-0-3" class="d">-        Operation(
</a><a href="#h27-0-4" id="h27-0-4" class="i">+        Operator(
</a>             GreaterThan(
                 Function(
                     &quot;max&quot;,
<b>diff --git a/<a id="h28" href="../file/tests/sql/query/join_cross_alias.html">tests/sql/query/join_cross_alias</a> b/<a href="../file/tests/sql/query/join_cross_alias.html">tests/sql/query/join_cross_alias</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -116,11 +116,11 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h28-0-3" id="h28-0-3" class="d">-        Operation(
</a><a href="#h28-0-4" id="h28-0-4" class="i">+        Operator(
</a>             And(
<a href="#h28-0-6" id="h28-0-6" class="d">-                Operation(
</a><a href="#h28-0-7" id="h28-0-7" class="i">+                Operator(
</a>                     And(
<a href="#h28-0-9" id="h28-0-9" class="d">-                        Operation(
</a><a href="#h28-0-10" id="h28-0-10" class="i">+                        Operator(
</a>                             GreaterThanOrEqual(
                                 Field(
                                     Some(
<a href="#h28-1" id="h28-1" class="h">@@ -135,7 +135,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h28-1-3" id="h28-1-3" class="d">-                        Operation(
</a><a href="#h28-1-4" id="h28-1-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<a href="#h28-2" id="h28-2" class="h">@@ -152,7 +152,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h28-2-3" id="h28-2-3" class="d">-                Operation(
</a><a href="#h28-2-4" id="h28-2-4" class="i">+                Operator(
</a>                     NotEqual(
                         Field(
                             Some(
<b>diff --git a/<a id="h29" href="../file/tests/sql/query/join_inner.html">tests/sql/query/join_inner</a> b/<a href="../file/tests/sql/query/join_inner.html">tests/sql/query/join_inner</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -31,7 +31,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h29-0-3" id="h29-0-3" class="d">-                Operation(
</a><a href="#h29-0-4" id="h29-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h30" href="../file/tests/sql/query/join_inner_implicit.html">tests/sql/query/join_inner_implicit</a> b/<a href="../file/tests/sql/query/join_inner_implicit.html">tests/sql/query/join_inner_implicit</a></b>
<a href="#h30-0" id="h30-0" class="h">@@ -31,7 +31,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h30-0-3" id="h30-0-3" class="d">-                Operation(
</a><a href="#h30-0-4" id="h30-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h31" href="../file/tests/sql/query/join_inner_index_transverse.html">tests/sql/query/join_inner_index_transverse</a> b/<a href="../file/tests/sql/query/join_inner_index_transverse.html">tests/sql/query/join_inner_index_transverse</a></b>
<a href="#h31-0" id="h31-0" class="h">@@ -25,9 +25,9 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h31-0-3" id="h31-0-3" class="d">-                Operation(
</a><a href="#h31-0-4" id="h31-0-4" class="i">+                Operator(
</a>                     And(
<a href="#h31-0-6" id="h31-0-6" class="d">-                        Operation(
</a><a href="#h31-0-7" id="h31-0-7" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<a href="#h31-1" id="h31-1" class="h">@@ -43,7 +43,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h31-1-3" id="h31-1-3" class="d">-                        Operation(
</a><a href="#h31-1-4" id="h31-1-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<b>diff --git a/<a id="h32" href="../file/tests/sql/query/join_inner_index_transverse_where.html">tests/sql/query/join_inner_index_transverse_where</a> b/<a href="../file/tests/sql/query/join_inner_index_transverse_where.html">tests/sql/query/join_inner_index_transverse_where</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -25,7 +25,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h32-0-3" id="h32-0-3" class="d">-                Operation(
</a><a href="#h32-0-4" id="h32-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<a href="#h32-1" id="h32-1" class="h">@@ -45,7 +45,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h32-1-3" id="h32-1-3" class="d">-        Operation(
</a><a href="#h32-1-4" id="h32-1-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h33" href="../file/tests/sql/query/join_inner_multi.html">tests/sql/query/join_inner_multi</a> b/<a href="../file/tests/sql/query/join_inner_multi.html">tests/sql/query/join_inner_multi</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -71,7 +71,7 @@ AST: Select {
</a>                 },
                 type: Inner,
                 predicate: Some(
<a href="#h33-0-3" id="h33-0-3" class="d">-                    Operation(
</a><a href="#h33-0-4" id="h33-0-4" class="i">+                    Operator(
</a>                         Equal(
                             Field(
                                 Some(
<a href="#h33-1" id="h33-1" class="h">@@ -95,7 +95,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h33-1-3" id="h33-1-3" class="d">-                Operation(
</a><a href="#h33-1-4" id="h33-1-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h34" href="../file/tests/sql/query/join_inner_multi_index.html">tests/sql/query/join_inner_multi_index</a> b/<a href="../file/tests/sql/query/join_inner_multi_index.html">tests/sql/query/join_inner_multi_index</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -71,9 +71,9 @@ AST: Select {
</a>                 },
                 type: Inner,
                 predicate: Some(
<a href="#h34-0-3" id="h34-0-3" class="d">-                    Operation(
</a><a href="#h34-0-4" id="h34-0-4" class="i">+                    Operator(
</a>                         And(
<a href="#h34-0-6" id="h34-0-6" class="d">-                            Operation(
</a><a href="#h34-0-7" id="h34-0-7" class="i">+                            Operator(
</a>                                 Equal(
                                     Field(
                                         Some(
<a href="#h34-1" id="h34-1" class="h">@@ -89,7 +89,7 @@ AST: Select {
</a>                                     ),
                                 ),
                             ),
<a href="#h34-1-3" id="h34-1-3" class="d">-                            Operation(
</a><a href="#h34-1-4" id="h34-1-4" class="i">+                            Operator(
</a>                                 Equal(
                                     Field(
                                         Some(
<a href="#h34-2" id="h34-2" class="h">@@ -116,9 +116,9 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h34-2-3" id="h34-2-3" class="d">-                Operation(
</a><a href="#h34-2-4" id="h34-2-4" class="i">+                Operator(
</a>                     And(
<a href="#h34-2-6" id="h34-2-6" class="d">-                        Operation(
</a><a href="#h34-2-7" id="h34-2-7" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<a href="#h34-3" id="h34-3" class="h">@@ -134,7 +134,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h34-3-3" id="h34-3-3" class="d">-                        Operation(
</a><a href="#h34-3-4" id="h34-3-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<b>diff --git a/<a id="h35" href="../file/tests/sql/query/join_inner_multi_same.html">tests/sql/query/join_inner_multi_same</a> b/<a href="../file/tests/sql/query/join_inner_multi_same.html">tests/sql/query/join_inner_multi_same</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -102,7 +102,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h35-0-3" id="h35-0-3" class="d">-                Operation(
</a><a href="#h35-0-4" id="h35-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<a href="#h35-1" id="h35-1" class="h">@@ -135,9 +135,9 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h35-1-3" id="h35-1-3" class="d">-                Operation(
</a><a href="#h35-1-4" id="h35-1-4" class="i">+                Operator(
</a>                     And(
<a href="#h35-1-6" id="h35-1-6" class="d">-                        Operation(
</a><a href="#h35-1-7" id="h35-1-7" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<a href="#h35-2" id="h35-2" class="h">@@ -153,7 +153,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h35-2-3" id="h35-2-3" class="d">-                        Operation(
</a><a href="#h35-2-4" id="h35-2-4" class="i">+                        Operator(
</a>                             GreaterThanOrEqual(
                                 Field(
                                     Some(
<a href="#h35-3" id="h35-3" class="h">@@ -174,7 +174,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h35-3-3" id="h35-3-3" class="d">-        Operation(
</a><a href="#h35-3-4" id="h35-3-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h36" href="../file/tests/sql/query/join_inner_on_aliased.html">tests/sql/query/join_inner_on_aliased</a> b/<a href="../file/tests/sql/query/join_inner_on_aliased.html">tests/sql/query/join_inner_on_aliased</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -35,7 +35,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h36-0-3" id="h36-0-3" class="d">-                Operation(
</a><a href="#h36-0-4" id="h36-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h37" href="../file/tests/sql/query/join_inner_on_multi.html">tests/sql/query/join_inner_on_multi</a> b/<a href="../file/tests/sql/query/join_inner_on_multi.html">tests/sql/query/join_inner_on_multi</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -23,9 +23,9 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h37-0-3" id="h37-0-3" class="d">-                Operation(
</a><a href="#h37-0-4" id="h37-0-4" class="i">+                Operator(
</a>                     And(
<a href="#h37-0-6" id="h37-0-6" class="d">-                        Operation(
</a><a href="#h37-0-7" id="h37-0-7" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<a href="#h37-1" id="h37-1" class="h">@@ -41,7 +41,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h37-1-3" id="h37-1-3" class="d">-                        Operation(
</a><a href="#h37-1-4" id="h37-1-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     Some(
<b>diff --git a/<a id="h38" href="../file/tests/sql/query/join_inner_on_where.html">tests/sql/query/join_inner_on_where</a> b/<a href="../file/tests/sql/query/join_inner_on_where.html">tests/sql/query/join_inner_on_where</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -29,7 +29,7 @@ AST: Select {
</a>             },
             type: Inner,
             predicate: Some(
<a href="#h38-0-3" id="h38-0-3" class="d">-                Operation(
</a><a href="#h38-0-4" id="h38-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<a href="#h38-1" id="h38-1" class="h">@@ -49,7 +49,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h38-1-3" id="h38-1-3" class="d">-        Operation(
</a><a href="#h38-1-4" id="h38-1-4" class="i">+        Operator(
</a>             GreaterThanOrEqual(
                 Field(
                     Some(
<b>diff --git a/<a id="h39" href="../file/tests/sql/query/join_left.html">tests/sql/query/join_left</a> b/<a href="../file/tests/sql/query/join_left.html">tests/sql/query/join_left</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -59,7 +59,7 @@ AST: Select {
</a>             },
             type: Left,
             predicate: Some(
<a href="#h39-0-3" id="h39-0-3" class="d">-                Operation(
</a><a href="#h39-0-4" id="h39-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h40" href="../file/tests/sql/query/join_left_all.html">tests/sql/query/join_left_all</a> b/<a href="../file/tests/sql/query/join_left_all.html">tests/sql/query/join_left_all</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -35,7 +35,7 @@ AST: Select {
</a>             },
             type: Left,
             predicate: Some(
<a href="#h40-0-3" id="h40-0-3" class="d">-                Operation(
</a><a href="#h40-0-4" id="h40-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h41" href="../file/tests/sql/query/join_left_outer.html">tests/sql/query/join_left_outer</a> b/<a href="../file/tests/sql/query/join_left_outer.html">tests/sql/query/join_left_outer</a></b>
<a href="#h41-0" id="h41-0" class="h">@@ -59,7 +59,7 @@ AST: Select {
</a>             },
             type: Left,
             predicate: Some(
<a href="#h41-0-3" id="h41-0-3" class="d">-                Operation(
</a><a href="#h41-0-4" id="h41-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h42" href="../file/tests/sql/query/join_left_truncate.html">tests/sql/query/join_left_truncate</a> b/<a href="../file/tests/sql/query/join_left_truncate.html">tests/sql/query/join_left_truncate</a></b>
<a href="#h42-0" id="h42-0" class="h">@@ -52,7 +52,7 @@ AST: Select {
</a>             },
             type: Left,
             predicate: Some(
<a href="#h42-0-3" id="h42-0-3" class="d">-                Operation(
</a><a href="#h42-0-4" id="h42-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h43" href="../file/tests/sql/query/join_right.html">tests/sql/query/join_right</a> b/<a href="../file/tests/sql/query/join_right.html">tests/sql/query/join_right</a></b>
<a href="#h43-0" id="h43-0" class="h">@@ -60,7 +60,7 @@ AST: Select {
</a>             },
             type: Right,
             predicate: Some(
<a href="#h43-0-3" id="h43-0-3" class="d">-                Operation(
</a><a href="#h43-0-4" id="h43-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h44" href="../file/tests/sql/query/join_right_all.html">tests/sql/query/join_right_all</a> b/<a href="../file/tests/sql/query/join_right_all.html">tests/sql/query/join_right_all</a></b>
<a href="#h44-0" id="h44-0" class="h">@@ -36,7 +36,7 @@ AST: Select {
</a>             },
             type: Right,
             predicate: Some(
<a href="#h44-0-3" id="h44-0-3" class="d">-                Operation(
</a><a href="#h44-0-4" id="h44-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h45" href="../file/tests/sql/query/join_right_outer.html">tests/sql/query/join_right_outer</a> b/<a href="../file/tests/sql/query/join_right_outer.html">tests/sql/query/join_right_outer</a></b>
<a href="#h45-0" id="h45-0" class="h">@@ -60,7 +60,7 @@ AST: Select {
</a>             },
             type: Right,
             predicate: Some(
<a href="#h45-0-3" id="h45-0-3" class="d">-                Operation(
</a><a href="#h45-0-4" id="h45-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h46" href="../file/tests/sql/query/join_right_truncate.html">tests/sql/query/join_right_truncate</a> b/<a href="../file/tests/sql/query/join_right_truncate.html">tests/sql/query/join_right_truncate</a></b>
<a href="#h46-0" id="h46-0" class="h">@@ -53,7 +53,7 @@ AST: Select {
</a>             },
             type: Right,
             predicate: Some(
<a href="#h46-0-3" id="h46-0-3" class="d">-                Operation(
</a><a href="#h46-0-4" id="h46-0-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h47" href="../file/tests/sql/query/limit_dynamic.html">tests/sql/query/limit_dynamic</a> b/<a href="../file/tests/sql/query/limit_dynamic.html">tests/sql/query/limit_dynamic</a></b>
<a href="#h47-0" id="h47-0" class="h">@@ -16,7 +16,7 @@ AST: Select {
</a>     order: [],
     offset: None,
     limit: Some(
<a href="#h47-0-3" id="h47-0-3" class="d">-        Operation(
</a><a href="#h47-0-4" id="h47-0-4" class="i">+        Operator(
</a>             Subtract(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h48" href="../file/tests/sql/query/limit_expr.html">tests/sql/query/limit_expr</a> b/<a href="../file/tests/sql/query/limit_expr.html">tests/sql/query/limit_expr</a></b>
<a href="#h48-0" id="h48-0" class="h">@@ -23,7 +23,7 @@ AST: Select {
</a>     order: [],
     offset: None,
     limit: Some(
<a href="#h48-0-3" id="h48-0-3" class="d">-        Operation(
</a><a href="#h48-0-4" id="h48-0-4" class="i">+        Operator(
</a>             Add(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h49" href="../file/tests/sql/query/limit_neg.html">tests/sql/query/limit_neg</a> b/<a href="../file/tests/sql/query/limit_neg.html">tests/sql/query/limit_neg</a></b>
<a href="#h49-0" id="h49-0" class="h">@@ -16,7 +16,7 @@ AST: Select {
</a>     order: [],
     offset: None,
     limit: Some(
<a href="#h49-0-3" id="h49-0-3" class="d">-        Operation(
</a><a href="#h49-0-4" id="h49-0-4" class="i">+        Operator(
</a>             Negate(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h50" href="../file/tests/sql/query/offset_dynamic.html">tests/sql/query/offset_dynamic</a> b/<a href="../file/tests/sql/query/offset_dynamic.html">tests/sql/query/offset_dynamic</a></b>
<a href="#h50-0" id="h50-0" class="h">@@ -15,7 +15,7 @@ AST: Select {
</a>     having: None,
     order: [],
     offset: Some(
<a href="#h50-0-3" id="h50-0-3" class="d">-        Operation(
</a><a href="#h50-0-4" id="h50-0-4" class="i">+        Operator(
</a>             Subtract(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h51" href="../file/tests/sql/query/offset_expr.html">tests/sql/query/offset_expr</a> b/<a href="../file/tests/sql/query/offset_expr.html">tests/sql/query/offset_expr</a></b>
<a href="#h51-0" id="h51-0" class="h">@@ -26,7 +26,7 @@ AST: Select {
</a>     having: None,
     order: [],
     offset: Some(
<a href="#h51-0-3" id="h51-0-3" class="d">-        Operation(
</a><a href="#h51-0-4" id="h51-0-4" class="i">+        Operator(
</a>             Add(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h52" href="../file/tests/sql/query/offset_neg.html">tests/sql/query/offset_neg</a> b/<a href="../file/tests/sql/query/offset_neg.html">tests/sql/query/offset_neg</a></b>
<a href="#h52-0" id="h52-0" class="h">@@ -15,7 +15,7 @@ AST: Select {
</a>     having: None,
     order: [],
     offset: Some(
<a href="#h52-0-3" id="h52-0-3" class="d">-        Operation(
</a><a href="#h52-0-4" id="h52-0-4" class="i">+        Operator(
</a>             Negate(
                 Literal(
                     Integer(
<b>diff --git a/<a id="h53" href="../file/tests/sql/query/order_expr.html">tests/sql/query/order_expr</a> b/<a href="../file/tests/sql/query/order_expr.html">tests/sql/query/order_expr</a></b>
<a href="#h53-0" id="h53-0" class="h">@@ -41,7 +41,7 @@ AST: Select {
</a>             None,
         ),
         (
<a href="#h53-0-3" id="h53-0-3" class="d">-            Operation(
</a><a href="#h53-0-4" id="h53-0-4" class="i">+            Operator(
</a>                 Modulo(
                     Field(
                         None,
<a href="#h53-1" id="h53-1" class="h">@@ -70,7 +70,7 @@ AST: Select {
</a>     having: None,
     order: [
         (
<a href="#h53-1-3" id="h53-1-3" class="d">-            Operation(
</a><a href="#h53-1-4" id="h53-1-4" class="i">+            Operator(
</a>                 Modulo(
                     Field(
                         None,
<b>diff --git a/<a id="h54" href="../file/tests/sql/query/order_field_aliased.html">tests/sql/query/order_field_aliased</a> b/<a href="../file/tests/sql/query/order_field_aliased.html">tests/sql/query/order_field_aliased</a></b>
<a href="#h54-0" id="h54-0" class="h">@@ -60,7 +60,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h54-0-3" id="h54-0-3" class="d">-        Operation(
</a><a href="#h54-0-4" id="h54-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h55" href="../file/tests/sql/query/order_field_ambiguous.html">tests/sql/query/order_field_ambiguous</a> b/<a href="../file/tests/sql/query/order_field_ambiguous.html">tests/sql/query/order_field_ambiguous</a></b>
<a href="#h55-0" id="h55-0" class="h">@@ -15,7 +15,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h55-0-3" id="h55-0-3" class="d">-        Operation(
</a><a href="#h55-0-4" id="h55-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h56" href="../file/tests/sql/query/order_field_qualified.html">tests/sql/query/order_field_qualified</a> b/<a href="../file/tests/sql/query/order_field_qualified.html">tests/sql/query/order_field_qualified</a></b>
<a href="#h56-0" id="h56-0" class="h">@@ -57,7 +57,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h56-0-3" id="h56-0-3" class="d">-        Operation(
</a><a href="#h56-0-4" id="h56-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h57" href="../file/tests/sql/query/where_expr.html">tests/sql/query/where_expr</a> b/<a href="../file/tests/sql/query/where_expr.html">tests/sql/query/where_expr</a></b>
<a href="#h57-0" id="h57-0" class="h">@@ -19,9 +19,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h57-0-3" id="h57-0-3" class="d">-        Operation(
</a><a href="#h57-0-4" id="h57-0-4" class="i">+        Operator(
</a>             And(
<a href="#h57-0-6" id="h57-0-6" class="d">-                Operation(
</a><a href="#h57-0-7" id="h57-0-7" class="i">+                Operator(
</a>                     GreaterThanOrEqual(
                         Field(
                             None,
<b>diff --git a/<a id="h58" href="../file/tests/sql/query/where_field_aliased_select.html">tests/sql/query/where_field_aliased_select</a> b/<a href="../file/tests/sql/query/where_field_aliased_select.html">tests/sql/query/where_field_aliased_select</a></b>
<a href="#h58-0" id="h58-0" class="h">@@ -42,9 +42,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h58-0-3" id="h58-0-3" class="d">-        Operation(
</a><a href="#h58-0-4" id="h58-0-4" class="i">+        Operator(
</a>             And(
<a href="#h58-0-6" id="h58-0-6" class="d">-                Operation(
</a><a href="#h58-0-7" id="h58-0-7" class="i">+                Operator(
</a>                     GreaterThanOrEqual(
                         Field(
                             None,
<a href="#h58-1" id="h58-1" class="h">@@ -57,7 +57,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h58-1-3" id="h58-1-3" class="d">-                Operation(
</a><a href="#h58-1-4" id="h58-1-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             None,
<b>diff --git a/<a id="h59" href="../file/tests/sql/query/where_field_aliased_table.html">tests/sql/query/where_field_aliased_table</a> b/<a href="../file/tests/sql/query/where_field_aliased_table.html">tests/sql/query/where_field_aliased_table</a></b>
<a href="#h59-0" id="h59-0" class="h">@@ -52,9 +52,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h59-0-3" id="h59-0-3" class="d">-        Operation(
</a><a href="#h59-0-4" id="h59-0-4" class="i">+        Operator(
</a>             And(
<a href="#h59-0-6" id="h59-0-6" class="d">-                Operation(
</a><a href="#h59-0-7" id="h59-0-7" class="i">+                Operator(
</a>                     GreaterThanOrEqual(
                         Field(
                             Some(
<a href="#h59-1" id="h59-1" class="h">@@ -69,7 +69,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h59-1-3" id="h59-1-3" class="d">-                Operation(
</a><a href="#h59-1-4" id="h59-1-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h60" href="../file/tests/sql/query/where_field_ambiguous.html">tests/sql/query/where_field_ambiguous</a> b/<a href="../file/tests/sql/query/where_field_ambiguous.html">tests/sql/query/where_field_ambiguous</a></b>
<a href="#h60-0" id="h60-0" class="h">@@ -34,7 +34,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h60-0-3" id="h60-0-3" class="d">-        Operation(
</a><a href="#h60-0-4" id="h60-0-4" class="i">+        Operator(
</a>             GreaterThanOrEqual(
                 Field(
                     None,
<b>diff --git a/<a id="h61" href="../file/tests/sql/query/where_field_qualified.html">tests/sql/query/where_field_qualified</a> b/<a href="../file/tests/sql/query/where_field_qualified.html">tests/sql/query/where_field_qualified</a></b>
<a href="#h61-0" id="h61-0" class="h">@@ -48,9 +48,9 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h61-0-3" id="h61-0-3" class="d">-        Operation(
</a><a href="#h61-0-4" id="h61-0-4" class="i">+        Operator(
</a>             And(
<a href="#h61-0-6" id="h61-0-6" class="d">-                Operation(
</a><a href="#h61-0-7" id="h61-0-7" class="i">+                Operator(
</a>                     GreaterThanOrEqual(
                         Field(
                             Some(
<a href="#h61-1" id="h61-1" class="h">@@ -65,7 +65,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h61-1-3" id="h61-1-3" class="d">-                Operation(
</a><a href="#h61-1-4" id="h61-1-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             Some(
<b>diff --git a/<a id="h62" href="../file/tests/sql/query/where_index.html">tests/sql/query/where_index</a> b/<a href="../file/tests/sql/query/where_index.html">tests/sql/query/where_index</a></b>
<a href="#h62-0" id="h62-0" class="h">@@ -17,7 +17,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h62-0-3" id="h62-0-3" class="d">-        Operation(
</a><a href="#h62-0-4" id="h62-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     None,
<b>diff --git a/<a id="h63" href="../file/tests/sql/query/where_index_or.html">tests/sql/query/where_index_or</a> b/<a href="../file/tests/sql/query/where_index_or.html">tests/sql/query/where_index_or</a></b>
<a href="#h63-0" id="h63-0" class="h">@@ -19,13 +19,13 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h63-0-3" id="h63-0-3" class="d">-        Operation(
</a><a href="#h63-0-4" id="h63-0-4" class="i">+        Operator(
</a>             Or(
<a href="#h63-0-6" id="h63-0-6" class="d">-                Operation(
</a><a href="#h63-0-7" id="h63-0-7" class="i">+                Operator(
</a>                     Or(
<a href="#h63-0-9" id="h63-0-9" class="d">-                        Operation(
</a><a href="#h63-0-10" id="h63-0-10" class="i">+                        Operator(
</a>                             Or(
<a href="#h63-0-12" id="h63-0-12" class="d">-                                Operation(
</a><a href="#h63-0-13" id="h63-0-13" class="i">+                                Operator(
</a>                                     Equal(
                                         Field(
                                             None,
<a href="#h63-1" id="h63-1" class="h">@@ -38,7 +38,7 @@ AST: Select {
</a>                                         ),
                                     ),
                                 ),
<a href="#h63-1-3" id="h63-1-3" class="d">-                                Operation(
</a><a href="#h63-1-4" id="h63-1-4" class="i">+                                Operator(
</a>                                     Equal(
                                         Field(
                                             None,
<a href="#h63-2" id="h63-2" class="h">@@ -53,7 +53,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h63-2-3" id="h63-2-3" class="d">-                        Operation(
</a><a href="#h63-2-4" id="h63-2-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h63-3" id="h63-3" class="h">@@ -68,7 +68,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h63-3-3" id="h63-3-3" class="d">-                Operation(
</a><a href="#h63-3-4" id="h63-3-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             None,
<b>diff --git a/<a id="h64" href="../file/tests/sql/query/where_index_or_partial.html">tests/sql/query/where_index_or_partial</a> b/<a href="../file/tests/sql/query/where_index_or_partial.html">tests/sql/query/where_index_or_partial</a></b>
<a href="#h64-0" id="h64-0" class="h">@@ -18,11 +18,11 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h64-0-3" id="h64-0-3" class="d">-        Operation(
</a><a href="#h64-0-4" id="h64-0-4" class="i">+        Operator(
</a>             And(
<a href="#h64-0-6" id="h64-0-6" class="d">-                Operation(
</a><a href="#h64-0-7" id="h64-0-7" class="i">+                Operator(
</a>                     Or(
<a href="#h64-0-9" id="h64-0-9" class="d">-                        Operation(
</a><a href="#h64-0-10" id="h64-0-10" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h64-1" id="h64-1" class="h">@@ -35,7 +35,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h64-1-3" id="h64-1-3" class="d">-                        Operation(
</a><a href="#h64-1-4" id="h64-1-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h64-2" id="h64-2" class="h">@@ -50,7 +50,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h64-2-3" id="h64-2-3" class="d">-                Operation(
</a><a href="#h64-2-4" id="h64-2-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             None,
<b>diff --git a/<a id="h65" href="../file/tests/sql/query/where_join_inner.html">tests/sql/query/where_join_inner</a> b/<a href="../file/tests/sql/query/where_join_inner.html">tests/sql/query/where_join_inner</a></b>
<a href="#h65-0" id="h65-0" class="h">@@ -30,7 +30,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h65-0-3" id="h65-0-3" class="d">-        Operation(
</a><a href="#h65-0-4" id="h65-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     Some(
<b>diff --git a/<a id="h66" href="../file/tests/sql/query/where_pk.html">tests/sql/query/where_pk</a> b/<a href="../file/tests/sql/query/where_pk.html">tests/sql/query/where_pk</a></b>
<a href="#h66-0" id="h66-0" class="h">@@ -15,7 +15,7 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h66-0-3" id="h66-0-3" class="d">-        Operation(
</a><a href="#h66-0-4" id="h66-0-4" class="i">+        Operator(
</a>             Equal(
                 Field(
                     None,
<b>diff --git a/<a id="h67" href="../file/tests/sql/query/where_pk_or.html">tests/sql/query/where_pk_or</a> b/<a href="../file/tests/sql/query/where_pk_or.html">tests/sql/query/where_pk_or</a></b>
<a href="#h67-0" id="h67-0" class="h">@@ -17,11 +17,11 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h67-0-3" id="h67-0-3" class="d">-        Operation(
</a><a href="#h67-0-4" id="h67-0-4" class="i">+        Operator(
</a>             Or(
<a href="#h67-0-6" id="h67-0-6" class="d">-                Operation(
</a><a href="#h67-0-7" id="h67-0-7" class="i">+                Operator(
</a>                     Or(
<a href="#h67-0-9" id="h67-0-9" class="d">-                        Operation(
</a><a href="#h67-0-10" id="h67-0-10" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h67-1" id="h67-1" class="h">@@ -34,7 +34,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h67-1-3" id="h67-1-3" class="d">-                        Operation(
</a><a href="#h67-1-4" id="h67-1-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h67-2" id="h67-2" class="h">@@ -49,7 +49,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h67-2-3" id="h67-2-3" class="d">-                Operation(
</a><a href="#h67-2-4" id="h67-2-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             None,
<b>diff --git a/<a id="h68" href="../file/tests/sql/query/where_pk_or_partial.html">tests/sql/query/where_pk_or_partial</a> b/<a href="../file/tests/sql/query/where_pk_or_partial.html">tests/sql/query/where_pk_or_partial</a></b>
<a href="#h68-0" id="h68-0" class="h">@@ -17,15 +17,15 @@ AST: Select {
</a>         },
     ],
     where: Some(
<a href="#h68-0-3" id="h68-0-3" class="d">-        Operation(
</a><a href="#h68-0-4" id="h68-0-4" class="i">+        Operator(
</a>             And(
<a href="#h68-0-6" id="h68-0-6" class="d">-                Operation(
</a><a href="#h68-0-7" id="h68-0-7" class="i">+                Operator(
</a>                     Or(
<a href="#h68-0-9" id="h68-0-9" class="d">-                        Operation(
</a><a href="#h68-0-10" id="h68-0-10" class="i">+                        Operator(
</a>                             Or(
<a href="#h68-0-12" id="h68-0-12" class="d">-                                Operation(
</a><a href="#h68-0-13" id="h68-0-13" class="i">+                                Operator(
</a>                                     Or(
<a href="#h68-0-15" id="h68-0-15" class="d">-                                        Operation(
</a><a href="#h68-0-16" id="h68-0-16" class="i">+                                        Operator(
</a>                                             Equal(
                                                 Field(
                                                     None,
<a href="#h68-1" id="h68-1" class="h">@@ -38,7 +38,7 @@ AST: Select {
</a>                                                 ),
                                             ),
                                         ),
<a href="#h68-1-3" id="h68-1-3" class="d">-                                        Operation(
</a><a href="#h68-1-4" id="h68-1-4" class="i">+                                        Operator(
</a>                                             Equal(
                                                 Field(
                                                     None,
<a href="#h68-2" id="h68-2" class="h">@@ -53,7 +53,7 @@ AST: Select {
</a>                                         ),
                                     ),
                                 ),
<a href="#h68-2-3" id="h68-2-3" class="d">-                                Operation(
</a><a href="#h68-2-4" id="h68-2-4" class="i">+                                Operator(
</a>                                     Equal(
                                         Field(
                                             None,
<a href="#h68-3" id="h68-3" class="h">@@ -68,7 +68,7 @@ AST: Select {
</a>                                 ),
                             ),
                         ),
<a href="#h68-3-3" id="h68-3-3" class="d">-                        Operation(
</a><a href="#h68-3-4" id="h68-3-4" class="i">+                        Operator(
</a>                             Equal(
                                 Field(
                                     None,
<a href="#h68-4" id="h68-4" class="h">@@ -83,7 +83,7 @@ AST: Select {
</a>                         ),
                     ),
                 ),
<a href="#h68-4-3" id="h68-4-3" class="d">-                Operation(
</a><a href="#h68-4-4" id="h68-4-4" class="i">+                Operator(
</a>                     Equal(
                         Field(
                             None,
</pre>
</div>
</body>
</html>
