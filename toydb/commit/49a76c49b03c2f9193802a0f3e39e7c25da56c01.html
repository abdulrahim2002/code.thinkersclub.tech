<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>use crossbeam instead of crossbeam_channel - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/49a76c49b03c2f9193802a0f3e39e7c25da56c01.html">49a76c49b03c2f9193802a0f3e39e7c25da56c01</a>
<b>parent</b> <a href="../commit/3af544410723174f6ffe5f073803aca3b0bbfa79.html">3af544410723174f6ffe5f073803aca3b0bbfa79</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Fri, 10 Apr 2020 18:02:51 +0200

use crossbeam instead of crossbeam_channel

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">Cargo.lock</a></td><td> | </td><td class="num">172</td><td><span class="i">+++++</span><span class="d">--------------------------------------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">Cargo.toml</a></td><td> | </td><td class="num">3</td><td><span class="i">+</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/bin/bank.rs</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">src/error.rs</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">src/lib.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">src/raft/mod.rs</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">src/raft/node/candidate.rs</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">src/raft/node/follower.rs</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">src/raft/node/leader.rs</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">src/raft/node/mod.rs</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">src/raft/transport.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">src/server/raft.rs</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
</table></pre><pre>12 files changed, 43 insertions(+), 197 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/Cargo.lock.html">Cargo.lock</a> b/<a href="../file/Cargo.lock.html">Cargo.lock</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -23,14 +23,6 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> 
 [[package]]
 name = &quot;arrayvec&quot;
<a href="#h0-0-3" id="h0-0-3" class="d">-version = &quot;0.4.12&quot;
</a><a href="#h0-0-4" id="h0-0-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-0-5" id="h0-0-5" class="d">-dependencies = [
</a><a href="#h0-0-6" id="h0-0-6" class="d">- &quot;nodrop 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-0-7" id="h0-0-7" class="d">-]
</a><a href="#h0-0-8" id="h0-0-8" class="d">-
</a><a href="#h0-0-9" id="h0-0-9" class="d">-[[package]]
</a><a href="#h0-0-10" id="h0-0-10" class="d">-name = &quot;arrayvec&quot;
</a> version = &quot;0.5.1&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 
<a href="#h0-1" id="h0-1" class="h">@@ -161,25 +153,15 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> 
 [[package]]
 name = &quot;crossbeam&quot;
<a href="#h0-1-3" id="h0-1-3" class="d">-version = &quot;0.4.1&quot;
</a><a href="#h0-1-4" id="h0-1-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-1-5" id="h0-1-5" class="d">-dependencies = [
</a><a href="#h0-1-6" id="h0-1-6" class="d">- &quot;crossbeam-channel 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-7" id="h0-1-7" class="d">- &quot;crossbeam-deque 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-8" id="h0-1-8" class="d">- &quot;crossbeam-epoch 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-9" id="h0-1-9" class="d">- &quot;crossbeam-utils 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-10" id="h0-1-10" class="d">-]
</a><a href="#h0-1-11" id="h0-1-11" class="d">-
</a><a href="#h0-1-12" id="h0-1-12" class="d">-[[package]]
</a><a href="#h0-1-13" id="h0-1-13" class="d">-name = &quot;crossbeam-channel&quot;
</a><a href="#h0-1-14" id="h0-1-14" class="d">-version = &quot;0.2.6&quot;
</a><a href="#h0-1-15" id="h0-1-15" class="i">+version = &quot;0.7.3&quot;
</a> source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-1-18" id="h0-1-18" class="d">- &quot;crossbeam-epoch 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-19" id="h0-1-19" class="d">- &quot;crossbeam-utils 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-20" id="h0-1-20" class="d">- &quot;parking_lot 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-21" id="h0-1-21" class="d">- &quot;rand 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-22" id="h0-1-22" class="d">- &quot;smallvec 0.6.13 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-23" id="h0-1-23" class="i">+ &quot;cfg-if 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-24" id="h0-1-24" class="i">+ &quot;crossbeam-channel 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-25" id="h0-1-25" class="i">+ &quot;crossbeam-deque 0.7.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-26" id="h0-1-26" class="i">+ &quot;crossbeam-epoch 0.8.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-27" id="h0-1-27" class="i">+ &quot;crossbeam-queue 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-1-28" id="h0-1-28" class="i">+ &quot;crossbeam-utils 0.7.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a> ]
 
 [[package]]
<a href="#h0-2" id="h0-2" class="h">@@ -193,15 +175,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;crossbeam-deque&quot;
<a href="#h0-2-3" id="h0-2-3" class="d">-version = &quot;0.5.2&quot;
</a><a href="#h0-2-4" id="h0-2-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-2-5" id="h0-2-5" class="d">-dependencies = [
</a><a href="#h0-2-6" id="h0-2-6" class="d">- &quot;crossbeam-epoch 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-2-7" id="h0-2-7" class="d">- &quot;crossbeam-utils 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-2-8" id="h0-2-8" class="d">-]
</a><a href="#h0-2-9" id="h0-2-9" class="d">-
</a><a href="#h0-2-10" id="h0-2-10" class="d">-[[package]]
</a><a href="#h0-2-11" id="h0-2-11" class="d">-name = &quot;crossbeam-deque&quot;
</a> version = &quot;0.7.3&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-3" id="h0-3" class="h">@@ -212,32 +185,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;crossbeam-epoch&quot;
<a href="#h0-3-3" id="h0-3-3" class="d">-version = &quot;0.5.2&quot;
</a><a href="#h0-3-4" id="h0-3-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-3-5" id="h0-3-5" class="d">-dependencies = [
</a><a href="#h0-3-6" id="h0-3-6" class="d">- &quot;arrayvec 0.4.12 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-7" id="h0-3-7" class="d">- &quot;cfg-if 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-8" id="h0-3-8" class="d">- &quot;crossbeam-utils 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-9" id="h0-3-9" class="d">- &quot;lazy_static 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-10" id="h0-3-10" class="d">- &quot;memoffset 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-11" id="h0-3-11" class="d">- &quot;scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-12" id="h0-3-12" class="d">-]
</a><a href="#h0-3-13" id="h0-3-13" class="d">-
</a><a href="#h0-3-14" id="h0-3-14" class="d">-[[package]]
</a><a href="#h0-3-15" id="h0-3-15" class="d">-name = &quot;crossbeam-epoch&quot;
</a><a href="#h0-3-16" id="h0-3-16" class="d">-version = &quot;0.6.1&quot;
</a><a href="#h0-3-17" id="h0-3-17" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-3-18" id="h0-3-18" class="d">-dependencies = [
</a><a href="#h0-3-19" id="h0-3-19" class="d">- &quot;arrayvec 0.4.12 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-20" id="h0-3-20" class="d">- &quot;cfg-if 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-21" id="h0-3-21" class="d">- &quot;crossbeam-utils 0.6.6 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-22" id="h0-3-22" class="d">- &quot;lazy_static 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-23" id="h0-3-23" class="d">- &quot;memoffset 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-24" id="h0-3-24" class="d">- &quot;scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-3-25" id="h0-3-25" class="d">-]
</a><a href="#h0-3-26" id="h0-3-26" class="d">-
</a><a href="#h0-3-27" id="h0-3-27" class="d">-[[package]]
</a><a href="#h0-3-28" id="h0-3-28" class="d">-name = &quot;crossbeam-epoch&quot;
</a> version = &quot;0.8.2&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-4" id="h0-4" class="h">@@ -261,20 +208,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;crossbeam-utils&quot;
<a href="#h0-4-3" id="h0-4-3" class="d">-version = &quot;0.5.0&quot;
</a><a href="#h0-4-4" id="h0-4-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-4-5" id="h0-4-5" class="d">-
</a><a href="#h0-4-6" id="h0-4-6" class="d">-[[package]]
</a><a href="#h0-4-7" id="h0-4-7" class="d">-name = &quot;crossbeam-utils&quot;
</a><a href="#h0-4-8" id="h0-4-8" class="d">-version = &quot;0.6.6&quot;
</a><a href="#h0-4-9" id="h0-4-9" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-4-10" id="h0-4-10" class="d">-dependencies = [
</a><a href="#h0-4-11" id="h0-4-11" class="d">- &quot;cfg-if 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-4-12" id="h0-4-12" class="d">- &quot;lazy_static 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-4-13" id="h0-4-13" class="d">-]
</a><a href="#h0-4-14" id="h0-4-14" class="d">-
</a><a href="#h0-4-15" id="h0-4-15" class="d">-[[package]]
</a><a href="#h0-4-16" id="h0-4-16" class="d">-name = &quot;crossbeam-utils&quot;
</a> version = &quot;0.7.2&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-5" id="h0-5" class="h">@@ -484,15 +417,6 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> 
 [[package]]
 name = &quot;lock_api&quot;
<a href="#h0-5-3" id="h0-5-3" class="d">-version = &quot;0.1.5&quot;
</a><a href="#h0-5-4" id="h0-5-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-5-5" id="h0-5-5" class="d">-dependencies = [
</a><a href="#h0-5-6" id="h0-5-6" class="d">- &quot;owning_ref 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-5-7" id="h0-5-7" class="d">- &quot;scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-5-8" id="h0-5-8" class="d">-]
</a><a href="#h0-5-9" id="h0-5-9" class="d">-
</a><a href="#h0-5-10" id="h0-5-10" class="d">-[[package]]
</a><a href="#h0-5-11" id="h0-5-11" class="d">-name = &quot;lock_api&quot;
</a> version = &quot;0.3.3&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-6" id="h0-6" class="h">@@ -527,11 +451,6 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> 
 [[package]]
 name = &quot;memoffset&quot;
<a href="#h0-6-3" id="h0-6-3" class="d">-version = &quot;0.2.1&quot;
</a><a href="#h0-6-4" id="h0-6-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-6-5" id="h0-6-5" class="d">-
</a><a href="#h0-6-6" id="h0-6-6" class="d">-[[package]]
</a><a href="#h0-6-7" id="h0-6-7" class="d">-name = &quot;memoffset&quot;
</a> version = &quot;0.5.4&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-7" id="h0-7" class="h">@@ -608,11 +527,6 @@ dependencies = [
</a> ]
 
 [[package]]
<a href="#h0-7-3" id="h0-7-3" class="d">-name = &quot;nodrop&quot;
</a><a href="#h0-7-4" id="h0-7-4" class="d">-version = &quot;0.1.14&quot;
</a><a href="#h0-7-5" id="h0-7-5" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-7-6" id="h0-7-6" class="d">-
</a><a href="#h0-7-7" id="h0-7-7" class="d">-[[package]]
</a> name = &quot;nom&quot;
 version = &quot;4.2.3&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
<a href="#h0-8" id="h0-8" class="h">@@ -664,23 +578,6 @@ dependencies = [
</a> ]
 
 [[package]]
<a href="#h0-8-3" id="h0-8-3" class="d">-name = &quot;owning_ref&quot;
</a><a href="#h0-8-4" id="h0-8-4" class="d">-version = &quot;0.4.1&quot;
</a><a href="#h0-8-5" id="h0-8-5" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-8-6" id="h0-8-6" class="d">-dependencies = [
</a><a href="#h0-8-7" id="h0-8-7" class="d">- &quot;stable_deref_trait 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-8-8" id="h0-8-8" class="d">-]
</a><a href="#h0-8-9" id="h0-8-9" class="d">-
</a><a href="#h0-8-10" id="h0-8-10" class="d">-[[package]]
</a><a href="#h0-8-11" id="h0-8-11" class="d">-name = &quot;parking_lot&quot;
</a><a href="#h0-8-12" id="h0-8-12" class="d">-version = &quot;0.6.4&quot;
</a><a href="#h0-8-13" id="h0-8-13" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-8-14" id="h0-8-14" class="d">-dependencies = [
</a><a href="#h0-8-15" id="h0-8-15" class="d">- &quot;lock_api 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-8-16" id="h0-8-16" class="d">- &quot;parking_lot_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-8-17" id="h0-8-17" class="d">-]
</a><a href="#h0-8-18" id="h0-8-18" class="d">-
</a><a href="#h0-8-19" id="h0-8-19" class="d">-[[package]]
</a> name = &quot;parking_lot&quot;
 version = &quot;0.9.0&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
<a href="#h0-9" id="h0-9" class="h">@@ -701,18 +598,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;parking_lot_core&quot;
<a href="#h0-9-3" id="h0-9-3" class="d">-version = &quot;0.3.1&quot;
</a><a href="#h0-9-4" id="h0-9-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-9-5" id="h0-9-5" class="d">-dependencies = [
</a><a href="#h0-9-6" id="h0-9-6" class="d">- &quot;libc 0.2.68 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-9-7" id="h0-9-7" class="d">- &quot;rand 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-9-8" id="h0-9-8" class="d">- &quot;rustc_version 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-9-9" id="h0-9-9" class="d">- &quot;smallvec 0.6.13 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-9-10" id="h0-9-10" class="d">- &quot;winapi 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-9-11" id="h0-9-11" class="d">-]
</a><a href="#h0-9-12" id="h0-9-12" class="d">-
</a><a href="#h0-9-13" id="h0-9-13" class="d">-[[package]]
</a><a href="#h0-9-14" id="h0-9-14" class="d">-name = &quot;parking_lot_core&quot;
</a> version = &quot;0.6.2&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-10" id="h0-10" class="h">@@ -840,18 +725,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;rand&quot;
<a href="#h0-10-3" id="h0-10-3" class="d">-version = &quot;0.5.6&quot;
</a><a href="#h0-10-4" id="h0-10-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-10-5" id="h0-10-5" class="d">-dependencies = [
</a><a href="#h0-10-6" id="h0-10-6" class="d">- &quot;cloudabi 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-10-7" id="h0-10-7" class="d">- &quot;fuchsia-cprng 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-10-8" id="h0-10-8" class="d">- &quot;libc 0.2.68 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-10-9" id="h0-10-9" class="d">- &quot;rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-10-10" id="h0-10-10" class="d">- &quot;winapi 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-10-11" id="h0-10-11" class="d">-]
</a><a href="#h0-10-12" id="h0-10-12" class="d">-
</a><a href="#h0-10-13" id="h0-10-13" class="d">-[[package]]
</a><a href="#h0-10-14" id="h0-10-14" class="d">-name = &quot;rand&quot;
</a> version = &quot;0.7.3&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 dependencies = [
<a href="#h0-11" id="h0-11" class="h">@@ -1024,11 +897,6 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> 
 [[package]]
 name = &quot;scopeguard&quot;
<a href="#h0-11-3" id="h0-11-3" class="d">-version = &quot;0.3.3&quot;
</a><a href="#h0-11-4" id="h0-11-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-11-5" id="h0-11-5" class="d">-
</a><a href="#h0-11-6" id="h0-11-6" class="d">-[[package]]
</a><a href="#h0-11-7" id="h0-11-7" class="d">-name = &quot;scopeguard&quot;
</a> version = &quot;1.1.0&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 
<a href="#h0-12" id="h0-12" class="h">@@ -1149,11 +1017,6 @@ version = &quot;1.3.0&quot;
</a> source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 
 [[package]]
<a href="#h0-12-3" id="h0-12-3" class="d">-name = &quot;stable_deref_trait&quot;
</a><a href="#h0-12-4" id="h0-12-4" class="d">-version = &quot;1.1.1&quot;
</a><a href="#h0-12-5" id="h0-12-5" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-12-6" id="h0-12-6" class="d">-
</a><a href="#h0-12-7" id="h0-12-7" class="d">-[[package]]
</a> name = &quot;strsim&quot;
 version = &quot;0.8.0&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
<a href="#h0-13" id="h0-13" class="h">@@ -1479,8 +1342,7 @@ dependencies = [
</a>  &quot;assert_matches 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
  &quot;clap 2.33.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
  &quot;config 0.9.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
<a href="#h0-13-3" id="h0-13-3" class="d">- &quot;crossbeam 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-13-4" id="h0-13-4" class="d">- &quot;crossbeam-channel 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a><a href="#h0-13-5" id="h0-13-5" class="i">+ &quot;crossbeam 0.7.3 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
</a>  &quot;goldenfile 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
  &quot;grpc 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
  &quot;httpbis 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)&quot;,
<a href="#h0-14" id="h0-14" class="h">@@ -1611,7 +1473,6 @@ dependencies = [
</a> &quot;checksum aho-corasick 0.7.10 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;8716408b8bc624ed7f65d223ddb9ac2d044c0547b6fa4b0d554f3a9540496ada&quot;
 &quot;checksum ansi_term 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;ee49baf6cb617b853aa8d93bf420db2383fab46d314482ca2803b40d5fde979b&quot;
 &quot;checksum arrayref 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;a4c527152e37cf757a3f78aae5a06fbeefdb07ccc535c980a3208ee3060dd544&quot;
<a href="#h0-14-3" id="h0-14-3" class="d">-&quot;checksum arrayvec 0.4.12 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;cd9fd44efafa8690358b7408d253adf110036b88f55672a933f01d616ad9b1b9&quot;
</a> &quot;checksum arrayvec 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;cff77d8686867eceff3105329d4698d96c2391c176d5d03adc90c7389162b5b8&quot;
 &quot;checksum assert_matches 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;7deb0a829ca7bcfaf5da70b073a8d128619259a7be8216a355e23f00763059e5&quot;
 &quot;checksum atty 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;d9b39be18770d11421cdb1b9947a45dd3f37e93092cbf377614828a319d5fee8&quot;
<a href="#h0-15" id="h0-15" class="h">@@ -1629,17 +1490,11 @@ dependencies = [
</a> &quot;checksum cloudabi 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;ddfc5b9aa5d4507acaf872de71051dfd0e309860e88966e1051e462a077aac4f&quot;
 &quot;checksum config 0.9.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f9107d78ed62b3fa5a86e7d18e647abed48cfd8f8fab6c72f4cdb982d196f7e6&quot;
 &quot;checksum constant_time_eq 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;245097e9a4535ee1e3e3931fcfcd55a796a44c643e8596ff6566d68f09b87bbc&quot;
<a href="#h0-15-3" id="h0-15-3" class="d">-&quot;checksum crossbeam 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;d7408247b1b87f480890f28b670c5f8d9a8a4274833433fe74dc0dfd46d33650&quot;
</a><a href="#h0-15-4" id="h0-15-4" class="d">-&quot;checksum crossbeam-channel 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;7b85741761b7f160bc5e7e0c14986ef685b7f8bf9b7ad081c60c604bb4649827&quot;
</a><a href="#h0-15-5" id="h0-15-5" class="i">+&quot;checksum crossbeam 0.7.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;69323bff1fb41c635347b8ead484a5ca6c3f11914d784170b158d8449ab07f8e&quot;
</a> &quot;checksum crossbeam-channel 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;cced8691919c02aac3cb0a1bc2e9b73d89e832bf9a06fc579d4e71b68a2da061&quot;
<a href="#h0-15-7" id="h0-15-7" class="d">-&quot;checksum crossbeam-deque 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;7792c4a9b5a4222f654e3728a3dd945aacc24d2c3a1a096ed265d80e4929cb9a&quot;
</a> &quot;checksum crossbeam-deque 0.7.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;9f02af974daeee82218205558e51ec8768b48cf524bd01d550abe5573a608285&quot;
<a href="#h0-15-9" id="h0-15-9" class="d">-&quot;checksum crossbeam-epoch 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;30fecfcac6abfef8771151f8be4abc9e4edc112c2bcb233314cafde2680536e9&quot;
</a><a href="#h0-15-10" id="h0-15-10" class="d">-&quot;checksum crossbeam-epoch 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;2449aaa4ec7ef96e5fb24db16024b935df718e9ae1cec0a1e68feeca2efca7b8&quot;
</a> &quot;checksum crossbeam-epoch 0.8.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;058ed274caafc1f60c4997b5fc07bf7dc7cca454af7c6e81edffe5f33f70dace&quot;
 &quot;checksum crossbeam-queue 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;c695eeca1e7173472a32221542ae469b3e9aac3a4fc81f7696bcad82029493db&quot;
<a href="#h0-15-13" id="h0-15-13" class="d">-&quot;checksum crossbeam-utils 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;677d453a17e8bd2b913fa38e8b9cf04bcdbb5be790aa294f2389661d72036015&quot;
</a><a href="#h0-15-14" id="h0-15-14" class="d">-&quot;checksum crossbeam-utils 0.6.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;04973fa96e96579258a5091af6003abde64af786b860f18622b82e026cca60e6&quot;
</a> &quot;checksum crossbeam-utils 0.7.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;c3c7c73a2d1e9fc0886a08b93e98eb643461230d5f1925e4036204d5f2e261a8&quot;
 &quot;checksum ctor 0.1.13 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;47c5e5ac752e18207b12e16b10631ae5f7f68f8805f335f9b817ead83d9ffce1&quot;
 &quot;checksum difference 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;524cbf6897b527295dff137cec09ecf3a05f4fddffd7dfcd1585403449e74198&quot;
<a href="#h0-16" id="h0-16" class="h">@@ -1665,13 +1520,11 @@ dependencies = [
</a> &quot;checksum libc 0.2.68 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;dea0c0405123bba743ee3f91f49b1c7cfb684eef0da0a50110f758ccf24cdff0&quot;
 &quot;checksum linked-hash-map 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;6d262045c5b87c0861b3f004610afd0e2c851e2908d08b6c870cbb9d5f494ecd&quot;
 &quot;checksum linked-hash-map 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;ae91b68aebc4ddb91978b11a1b02ddd8602a05ec19002801c5666000e05e0f83&quot;
<a href="#h0-16-3" id="h0-16-3" class="d">-&quot;checksum lock_api 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;62ebf1391f6acad60e5c8b43706dde4582df75c06698ab44511d15016bc2442c&quot;
</a> &quot;checksum lock_api 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;79b2de95ecb4691949fea4716ca53cdbcfccb2c612e19644a8bad05edcf9f47b&quot;
 &quot;checksum log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;e19e8d5c34a3e0e2223db8e060f9e8264aeeb5c5fc64a4ee9965c062211c024b&quot;
 &quot;checksum log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;14b6052be84e6b71ab17edffc2eeabf5c2c3ae1fdb464aae35ac50c67a44e1f7&quot;
 &quot;checksum maybe-uninit 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;60302e4db3a61da70c0cb7991976248362f30319e88850c487b9b95bbf059e00&quot;
 &quot;checksum memchr 2.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;3728d817d99e5ac407411fa471ff9800a778d88a24685968b36824eaf4bee400&quot;
<a href="#h0-16-9" id="h0-16-9" class="d">-&quot;checksum memoffset 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;0f9dc261e2b62d7a622bf416ea3c5245cdd5d9a7fcc428c0d06804dfce1775b3&quot;
</a> &quot;checksum memoffset 0.5.4 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;b4fc2c02a7e374099d4ee95a193111f72d2110197fe200272371758f6c3643d8&quot;
 &quot;checksum mio 0.6.21 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;302dec22bcf6bae6dfb69c647187f4b4d0fb6f535521f7bc022430ce8e12008f&quot;
 &quot;checksum mio-uds 0.6.7 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;966257a94e196b11bb43aca423754d87429960a768de9414f3691d6957abf125&quot;
<a href="#h0-17" id="h0-17" class="h">@@ -1679,18 +1532,14 @@ dependencies = [
</a> &quot;checksum names 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;efde7fa6db04b8f97c0d56186b7804d4b47681107ce0347615f34acb75b58f1b&quot;
 &quot;checksum net2 0.2.33 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;42550d9fb7b6684a6d404d9fa7250c2eb2646df731d1c06afc06dcee9e1bcf88&quot;
 &quot;checksum nix 0.14.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;6c722bee1037d430d0f8e687bbdbf222f27cc6e4e68d5caf630857bb2b6dbdce&quot;
<a href="#h0-17-3" id="h0-17-3" class="d">-&quot;checksum nodrop 0.1.14 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;72ef4a56884ca558e5ddb05a1d1e7e1bfd9a68d9ed024c21704cc98872dae1bb&quot;
</a> &quot;checksum nom 4.2.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;2ad2a91a8e869eeb30b9cb3119ae87773a8f4ae617f41b1eb9c154b2905f7bd6&quot;
 &quot;checksum num-integer 0.1.42 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;3f6ea62e9d81a77cd3ee9a2a5b9b609447857f3d358704331e4ef39eb247fcba&quot;
 &quot;checksum num-traits 0.1.43 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;92e5113e9fd4cc14ded8e499429f396a20f98c772a47cc8622a736e1ec843c31&quot;
 &quot;checksum num-traits 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;c62be47e61d1842b9170f0fdeec8eba98e60e90e5446449a0545e5152acd7096&quot;
 &quot;checksum num_cpus 1.12.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;46203554f085ff89c235cd12f7075f3233af9b11ed7c9e16dfe2560d03313ce6&quot;
 &quot;checksum output_vt100 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;53cdc5b785b7a58c5aad8216b3dfa114df64b0b06ae6e1501cef91df2fbdf8f9&quot;
<a href="#h0-17-10" id="h0-17-10" class="d">-&quot;checksum owning_ref 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;6ff55baddef9e4ad00f88b6c743a2a8062d4c6ade126c2a528644b8e444d52ce&quot;
</a> &quot;checksum parking_lot 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;92e98c49ab0b7ce5b222f2cc9193fc4efe11c6d0bd4f648e374684a6857b1cfc&quot;
<a href="#h0-17-12" id="h0-17-12" class="d">-&quot;checksum parking_lot 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f0802bff09003b291ba756dc7e79313e51cc31667e94afbe847def490424cde5&quot;
</a> &quot;checksum parking_lot 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f842b1982eb6c2fe34036a4fbfb06dd185a3f5c8edfaacdf7d1ea10b07de6252&quot;
<a href="#h0-17-14" id="h0-17-14" class="d">-&quot;checksum parking_lot_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;ad7f7e6ebdc79edff6fdcb87a55b620174f7a989e3eb31b65231f4af57f00b8c&quot;
</a> &quot;checksum parking_lot_core 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;b876b1b9e7ac6e1a74a6da34d25c42e17e8862aa409cbbbdcfc8d86c6f3bc62b&quot;
 &quot;checksum parking_lot_core 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;7582838484df45743c8434fbff785e8edf260c28748353d44bc0da32e0ceabf1&quot;
 &quot;checksum ppv-lite86 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;74490b50b9fbe561ac330df47c08f3f33073d2d00c150f719147d7c54522fa1b&quot;
<a href="#h0-18" id="h0-18" class="h">@@ -1704,7 +1553,6 @@ dependencies = [
</a> &quot;checksum quote 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;2bdc6c187c65bca4260c9011c9e3132efe4909da44726bad24cf7572ae338d7f&quot;
 &quot;checksum rand 0.3.23 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;64ac302d8f83c0c1974bf758f6b041c6c8ada916fbb44a609158ca8b064cc76c&quot;
 &quot;checksum rand 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;552840b97013b1a26992c11eac34bdd778e464601a4c2054b5f0bff7c6761293&quot;
<a href="#h0-18-3" id="h0-18-3" class="d">-&quot;checksum rand 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;c618c47cd3ebd209790115ab837de41425723956ad3ce2e6a7f09890947cacb9&quot;
</a> &quot;checksum rand 0.7.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;6a6b1679d49b24bbfe0c803429aa1874472f50d9b363131f0e89fc356b544d03&quot;
 &quot;checksum rand_chacha 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f4c8ed856279c9737206bf725bf36935d8666ead7aa69b52be55af369d193402&quot;
 &quot;checksum rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;7a6fdeb83b075e8266dcc8762c22776f6877a63111121f5f8c7411e5be7eed4b&quot;
<a href="#h0-19" id="h0-19" class="h">@@ -1726,7 +1574,6 @@ dependencies = [
</a> &quot;checksum ryu 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;535622e6be132bccd223f4bb2b8ac8d53cda3c7a6394944d3b2b33fb974f9d76&quot;
 &quot;checksum safemem 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;ef703b7cb59335eae2eb93ceb664c0eb7ea6bf567079d843e09420219668e072&quot;
 &quot;checksum scoped-tls 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;332ffa32bf586782a3efaeb58f127980944bbc8c4d6913a86107ac2a5ab24b28&quot;
<a href="#h0-19-3" id="h0-19-3" class="d">-&quot;checksum scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;94258f53601af11e6a49f722422f6e3425c52b06245a5cf9bc09908b174f5e27&quot;
</a> &quot;checksum scopeguard 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;d29ab0c6d3fc0ee92fe66e2d99f700eab17a8d57d1c1d3b748380fb20baa78cd&quot;
 &quot;checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403&quot;
 &quot;checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3&quot;
<a href="#h0-20" id="h0-20" class="h">@@ -1743,7 +1590,6 @@ dependencies = [
</a> &quot;checksum slab 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;c111b5bd5695e56cffe5129854aa230b39c93a305372fdbb2668ca2394eea9f8&quot;
 &quot;checksum smallvec 0.6.13 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;f7b0758c52e15a8b5e3691eae6cc559f08eee9406e548a4477ba4e67770a82b6&quot;
 &quot;checksum smallvec 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;05720e22615919e4734f6a99ceae50d00226c3c5aca406e102ebc33298214e0a&quot;
<a href="#h0-20-3" id="h0-20-3" class="d">-&quot;checksum stable_deref_trait 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;dba1a27d3efae4351c8051072d619e3ade2820635c3958d826bfea39d59b54c8&quot;
</a> &quot;checksum strsim 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;8ea5119cdb4c55b55d432abb513a0429384878c15dde60cc77b1c99de1a95a6a&quot;
 &quot;checksum syn 1.0.17 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;0df0eb663f387145cab623dea85b09c2c5b4b0aef44e945d928e682fce71bb03&quot;
 &quot;checksum tempdir 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)&quot; = &quot;15f2b5fb00ccdf689e0149d1b1b3c03fead81c2b37735d812fa8bddbbf41b6d8&quot;
<b>diff --git a/<a id="h1" href="../file/Cargo.toml.html">Cargo.toml</a> b/<a href="../file/Cargo.toml.html">Cargo.toml</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -9,8 +9,7 @@ default-run = &quot;toydb&quot;
</a> [dependencies]
 clap = &quot;~2.33.0&quot;
 config = &quot;~0.9.3&quot;
<a href="#h1-0-3" id="h1-0-3" class="d">-crossbeam = &quot;~0.4.0&quot;
</a><a href="#h1-0-4" id="h1-0-4" class="d">-crossbeam-channel = &quot;~0.4.0&quot; # FIXME Use crossbeam instead
</a><a href="#h1-0-5" id="h1-0-5" class="i">+crossbeam = &quot;~0.7.3&quot;
</a> grpc = &quot;~0.6.1&quot;
 lazy_static = &quot;~1.4.0&quot;
 log = &quot;~0.4.6&quot;
<b>diff --git a/<a id="h2" href="../file/src/bin/bank.rs.html">src/bin/bank.rs</a> b/<a href="../file/src/bin/bank.rs.html">src/bin/bank.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -99,7 +99,7 @@ impl Bank {
</a> 
         crossbeam::thread::scope(|scope| {
             let (tx, rx) = crossbeam::channel::unbounded();
<a href="#h2-0-3" id="h2-0-3" class="d">-            scope.spawn(move || {
</a><a href="#h2-0-4" id="h2-0-4" class="i">+            scope.spawn(move |_| {
</a>                 let dist = rand::distributions::Uniform::from(0..self.customers);
                 let mut rng = rand::thread_rng();
                 for _ in 0..transactions {
<a href="#h2-1" id="h2-1" class="h">@@ -108,7 +108,7 @@ impl Bank {
</a>                     while from == to {
                         to = dist.sample(&amp;mut rng)
                     }
<a href="#h2-1-3" id="h2-1-3" class="d">-                    tx.send((from, to));
</a><a href="#h2-1-4" id="h2-1-4" class="i">+                    tx.send((from, to)).unwrap();
</a>                 }
                 std::mem::drop(tx)
             });
<a href="#h2-2" id="h2-2" class="h">@@ -116,9 +116,10 @@ impl Bank {
</a>             println!();
             for i in 0..concurrency {
                 let r = rx.clone();
<a href="#h2-2-3" id="h2-2-3" class="d">-                scope.spawn(move || self.process(i, r).unwrap());
</a><a href="#h2-2-4" id="h2-2-4" class="i">+                scope.spawn(move |_| self.process(i, r).unwrap());
</a>             }
<a href="#h2-2-6" id="h2-2-6" class="d">-        });
</a><a href="#h2-2-7" id="h2-2-7" class="i">+        })
</a><a href="#h2-2-8" id="h2-2-8" class="i">+        .unwrap();
</a> 
         let elapsed = start.elapsed().as_secs_f64();
         println!();
<b>diff --git a/<a id="h3" href="../file/src/error.rs.html">src/error.rs</a> b/<a href="../file/src/error.rs.html">src/error.rs</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -27,14 +27,14 @@ impl From&lt;config::ConfigError&gt; for Error {
</a>     }
 }
 
<a href="#h3-0-3" id="h3-0-3" class="d">-impl From&lt;crossbeam_channel::RecvError&gt; for Error {
</a><a href="#h3-0-4" id="h3-0-4" class="d">-    fn from(err: crossbeam_channel::RecvError) -&gt; Self {
</a><a href="#h3-0-5" id="h3-0-5" class="i">+impl From&lt;crossbeam::channel::RecvError&gt; for Error {
</a><a href="#h3-0-6" id="h3-0-6" class="i">+    fn from(err: crossbeam::channel::RecvError) -&gt; Self {
</a>         Error::Internal(err.to_string())
     }
 }
 
<a href="#h3-0-11" id="h3-0-11" class="d">-impl&lt;T&gt; From&lt;crossbeam_channel::SendError&lt;T&gt;&gt; for Error {
</a><a href="#h3-0-12" id="h3-0-12" class="d">-    fn from(err: crossbeam_channel::SendError&lt;T&gt;) -&gt; Self {
</a><a href="#h3-0-13" id="h3-0-13" class="i">+impl&lt;T&gt; From&lt;crossbeam::channel::SendError&lt;T&gt;&gt; for Error {
</a><a href="#h3-0-14" id="h3-0-14" class="i">+    fn from(err: crossbeam::channel::SendError&lt;T&gt;) -&gt; Self {
</a>         Error::Internal(err.to_string())
     }
 }
<b>diff --git a/<a id="h4" href="../file/src/lib.rs.html">src/lib.rs</a> b/<a href="../file/src/lib.rs.html">src/lib.rs</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -5,7 +5,7 @@
</a> extern crate assert_matches;
 extern crate config;
 #[macro_use(select)]
<a href="#h4-0-3" id="h4-0-3" class="d">-extern crate crossbeam_channel;
</a><a href="#h4-0-4" id="h4-0-4" class="i">+extern crate crossbeam;
</a> #[cfg(test)]
 extern crate goldenfile;
 extern crate httpbis;
<b>diff --git a/<a id="h5" href="../file/src/raft/mod.rs.html">src/raft/mod.rs</a> b/<a href="../file/src/raft/mod.rs.html">src/raft/mod.rs</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -7,7 +7,7 @@ pub use self::transport::{Event, Message, Transport};
</a> 
 use crate::kv;
 use crate::Error;
<a href="#h5-0-3" id="h5-0-3" class="d">-use crossbeam_channel::{Receiver, Sender};
</a><a href="#h5-0-4" id="h5-0-4" class="i">+use crossbeam::channel::{Receiver, Sender};
</a> use node::Node;
 use std::collections::HashMap;
 use uuid::Uuid;
<a href="#h5-1" id="h5-1" class="h">@@ -47,12 +47,12 @@ impl Raft {
</a>         L: kv::storage::Storage + &#39;static + Send,
         T: Transport + &#39;static + Send,
     {
<a href="#h5-1-3" id="h5-1-3" class="d">-        let ticker = crossbeam_channel::tick(TICK);
</a><a href="#h5-1-4" id="h5-1-4" class="i">+        let ticker = crossbeam::channel::tick(TICK);
</a>         let inbound_rx = transport.receiver();
<a href="#h5-1-6" id="h5-1-6" class="d">-        let (outbound_tx, outbound_rx) = crossbeam_channel::unbounded();
</a><a href="#h5-1-7" id="h5-1-7" class="d">-        let (call_tx, call_rx) = crossbeam_channel::unbounded::&lt;(Event, Sender&lt;Event&gt;)&gt;();
</a><a href="#h5-1-8" id="h5-1-8" class="d">-        let (join_tx, join_rx) = crossbeam_channel::unbounded();
</a><a href="#h5-1-9" id="h5-1-9" class="d">-        let (shutdown_tx, shutdown_rx) = crossbeam_channel::unbounded();
</a><a href="#h5-1-10" id="h5-1-10" class="i">+        let (outbound_tx, outbound_rx) = crossbeam::channel::unbounded();
</a><a href="#h5-1-11" id="h5-1-11" class="i">+        let (call_tx, call_rx) = crossbeam::channel::unbounded::&lt;(Event, Sender&lt;Event&gt;)&gt;();
</a><a href="#h5-1-12" id="h5-1-12" class="i">+        let (join_tx, join_rx) = crossbeam::channel::unbounded();
</a><a href="#h5-1-13" id="h5-1-13" class="i">+        let (shutdown_tx, shutdown_rx) = crossbeam::channel::unbounded();
</a>         let mut response_txs: HashMap&lt;Vec&lt;u8&gt;, Sender&lt;Event&gt;&gt; = HashMap::new();
         let mut node = Node::new(id, peers, store, state, outbound_tx)?;
 
<a href="#h5-2" id="h5-2" class="h">@@ -116,7 +116,7 @@ impl Raft {
</a> 
     /// Runs a synchronous client call on the Raft cluster
     fn call(&amp;self, event: Event) -&gt; Result&lt;Event, Error&gt; {
<a href="#h5-2-3" id="h5-2-3" class="d">-        let (response_tx, response_rx) = crossbeam_channel::unbounded();
</a><a href="#h5-2-4" id="h5-2-4" class="i">+        let (response_tx, response_rx) = crossbeam::channel::unbounded();
</a>         self.call_tx.send((event, response_tx))?;
         match response_rx.recv()? {
             Event::RespondError { error, .. } =&gt; Err(Error::Internal(error)),
<a href="#h5-3" id="h5-3" class="h">@@ -149,7 +149,7 @@ impl Raft {
</a> #[cfg(test)]
 pub mod tests {
     use super::*;
<a href="#h5-3-3" id="h5-3-3" class="d">-    use crossbeam_channel::Receiver;
</a><a href="#h5-3-4" id="h5-3-4" class="i">+    use crossbeam::channel::Receiver;
</a>     use std::sync::{Arc, Mutex};
 
     #[derive(Clone, Debug)]
<b>diff --git a/<a id="h6" href="../file/src/raft/node/candidate.rs.html">src/raft/node/candidate.rs</a> b/<a href="../file/src/raft/node/candidate.rs.html">src/raft/node/candidate.rs</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -107,10 +107,10 @@ impl&lt;L: kv::storage::Storage, S: State&gt; RoleNode&lt;Candidate, L, S&gt; {
</a> mod tests {
     use super::super::tests::{assert_messages, assert_node, TestState};
     use super::*;
<a href="#h6-0-3" id="h6-0-3" class="d">-    use crossbeam_channel::Receiver;
</a><a href="#h6-0-4" id="h6-0-4" class="i">+    use crossbeam::channel::Receiver;
</a> 
     fn setup() -&gt; (RoleNode&lt;Candidate, kv::storage::Memory, TestState&gt;, Receiver&lt;Message&gt;) {
<a href="#h6-0-7" id="h6-0-7" class="d">-        let (sender, receiver) = crossbeam_channel::unbounded();
</a><a href="#h6-0-8" id="h6-0-8" class="i">+        let (sender, receiver) = crossbeam::channel::unbounded();
</a>         let mut state = TestState::new();
         let mut log = Log::new(kv::Simple::new(kv::storage::Memory::new())).unwrap();
         log.append(Entry { term: 1, command: Some(vec![0x01]) }).unwrap();
<b>diff --git a/<a id="h7" href="../file/src/raft/node/follower.rs.html">src/raft/node/follower.rs</a> b/<a href="../file/src/raft/node/follower.rs.html">src/raft/node/follower.rs</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -151,7 +151,7 @@ impl&lt;L: kv::storage::Storage, S: State&gt; RoleNode&lt;Follower, L, S&gt; {
</a> pub mod tests {
     use super::super::tests::{assert_messages, assert_node, TestState};
     use super::*;
<a href="#h7-0-3" id="h7-0-3" class="d">-    use crossbeam_channel::Receiver;
</a><a href="#h7-0-4" id="h7-0-4" class="i">+    use crossbeam::channel::Receiver;
</a> 
     pub fn follower_leader&lt;L: kv::storage::Storage, S: State&gt;(
         node: &amp;RoleNode&lt;Follower, L, S&gt;,
<a href="#h7-1" id="h7-1" class="h">@@ -166,7 +166,7 @@ pub mod tests {
</a>     }
 
     fn setup() -&gt; (RoleNode&lt;Follower, kv::storage::Memory, TestState&gt;, Receiver&lt;Message&gt;) {
<a href="#h7-1-3" id="h7-1-3" class="d">-        let (sender, receiver) = crossbeam_channel::unbounded();
</a><a href="#h7-1-4" id="h7-1-4" class="i">+        let (sender, receiver) = crossbeam::channel::unbounded();
</a>         let mut state = TestState::new();
         let mut log = Log::new(kv::Simple::new(kv::storage::Memory::new())).unwrap();
         log.append(Entry { term: 1, command: Some(vec![0x01]) }).unwrap();
<b>diff --git a/<a id="h8" href="../file/src/raft/node/leader.rs.html">src/raft/node/leader.rs</a> b/<a href="../file/src/raft/node/leader.rs.html">src/raft/node/leader.rs</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -283,10 +283,10 @@ impl Calls {
</a> mod tests {
     use super::super::tests::{assert_messages, assert_node, TestState};
     use super::*;
<a href="#h8-0-3" id="h8-0-3" class="d">-    use crossbeam_channel::Receiver;
</a><a href="#h8-0-4" id="h8-0-4" class="i">+    use crossbeam::channel::Receiver;
</a> 
     fn setup() -&gt; (RoleNode&lt;Leader, kv::storage::Memory, TestState&gt;, Receiver&lt;Message&gt;) {
<a href="#h8-0-7" id="h8-0-7" class="d">-        let (sender, receiver) = crossbeam_channel::unbounded();
</a><a href="#h8-0-8" id="h8-0-8" class="i">+        let (sender, receiver) = crossbeam::channel::unbounded();
</a>         let mut state = TestState::new();
         let mut log = Log::new(kv::Simple::new(kv::storage::Memory::new())).unwrap();
         log.append(Entry { term: 1, command: Some(vec![0x01]) }).unwrap();
<b>diff --git a/<a id="h9" href="../file/src/raft/node/mod.rs.html">src/raft/node/mod.rs</a> b/<a href="../file/src/raft/node/mod.rs.html">src/raft/node/mod.rs</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -10,7 +10,7 @@ use super::transport::{Event, Message};
</a> use super::State;
 use crate::kv;
 use crate::Error;
<a href="#h9-0-3" id="h9-0-3" class="d">-use crossbeam_channel::Sender;
</a><a href="#h9-0-4" id="h9-0-4" class="i">+use crossbeam::channel::Sender;
</a> 
 /// The interval between leader heartbeats, in ticks.
 const HEARTBEAT_INTERVAL: u64 = 1;
<a href="#h9-1" id="h9-1" class="h">@@ -171,7 +171,7 @@ mod tests {
</a>     pub use super::super::tests::*;
     use super::follower::tests::{follower_leader, follower_voted_for};
     use super::*;
<a href="#h9-1-3" id="h9-1-3" class="d">-    use crossbeam_channel::Receiver;
</a><a href="#h9-1-4" id="h9-1-4" class="i">+    use crossbeam::channel::Receiver;
</a> 
     pub struct NodeAsserter&lt;&#39;a, L: kv::storage::Storage, S: State&gt; {
         node: &amp;&#39;a Node&lt;L, S&gt;,
<a href="#h9-2" id="h9-2" class="h">@@ -311,7 +311,7 @@ mod tests {
</a>     fn setup_rolenode_peers(
         peers: Vec&lt;String&gt;,
     ) -&gt; (RoleNode&lt;(), kv::storage::Memory, TestState&gt;, Receiver&lt;Message&gt;) {
<a href="#h9-2-3" id="h9-2-3" class="d">-        let (sender, receiver) = crossbeam_channel::unbounded();
</a><a href="#h9-2-4" id="h9-2-4" class="i">+        let (sender, receiver) = crossbeam::channel::unbounded();
</a>         let node = RoleNode {
             role: (),
             id: &quot;a&quot;.into(),
<a href="#h9-3" id="h9-3" class="h">@@ -326,7 +326,7 @@ mod tests {
</a> 
     #[test]
     fn new() {
<a href="#h9-3-3" id="h9-3-3" class="d">-        let (sender, _) = crossbeam_channel::unbounded();
</a><a href="#h9-3-4" id="h9-3-4" class="i">+        let (sender, _) = crossbeam::channel::unbounded();
</a>         let node = Node::new(
             &quot;a&quot;,
             vec![&quot;b&quot;.into(), &quot;c&quot;.into()],
<a href="#h9-4" id="h9-4" class="h">@@ -347,7 +347,7 @@ mod tests {
</a> 
     #[test]
     fn new_loads_term() {
<a href="#h9-4-3" id="h9-4-3" class="d">-        let (sender, _) = crossbeam_channel::unbounded();
</a><a href="#h9-4-4" id="h9-4-4" class="i">+        let (sender, _) = crossbeam::channel::unbounded();
</a>         let storage = kv::storage::Test::new();
         Log::new(kv::Simple::new(storage.clone())).unwrap().save_term(3, Some(&quot;c&quot;)).unwrap();
         let node = Node::new(
<a href="#h9-5" id="h9-5" class="h">@@ -366,7 +366,7 @@ mod tests {
</a> 
     #[test]
     fn new_single() {
<a href="#h9-5-3" id="h9-5-3" class="d">-        let (sender, _) = crossbeam_channel::unbounded();
</a><a href="#h9-5-4" id="h9-5-4" class="i">+        let (sender, _) = crossbeam::channel::unbounded();
</a>         let node = Node::new(
             &quot;a&quot;,
             vec![],
<b>diff --git a/<a id="h10" href="../file/src/raft/transport.rs.html">src/raft/transport.rs</a> b/<a href="../file/src/raft/transport.rs.html">src/raft/transport.rs</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -1,6 +1,6 @@
</a> use super::log::Entry;
 use crate::Error;
<a href="#h10-0-2" id="h10-0-2" class="d">-use crossbeam_channel::Receiver;
</a><a href="#h10-0-3" id="h10-0-3" class="i">+use crossbeam::channel::Receiver;
</a> 
 /// A transport for communication between a Raft node and its peers.
 pub trait Transport {
<b>diff --git a/<a id="h11" href="../file/src/server/raft.rs.html">src/server/raft.rs</a> b/<a href="../file/src/server/raft.rs.html">src/server/raft.rs</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -2,7 +2,7 @@ use crate::raft::{Entry, Event, Message, Transport};
</a> use crate::service;
 use crate::service::Raft;
 use crate::Error;
<a href="#h11-0-3" id="h11-0-3" class="d">-use crossbeam_channel::{Receiver, Sender};
</a><a href="#h11-0-4" id="h11-0-4" class="i">+use crossbeam::channel::{Receiver, Sender};
</a> use grpc::ClientStubExt;
 use std::collections::HashMap;
 
<a href="#h11-1" id="h11-1" class="h">@@ -39,7 +39,7 @@ impl Transport for GRPC {
</a> impl GRPC {
     /// Creates a new GRPC transport
     pub fn new(peers: HashMap&lt;String, std::net::SocketAddr&gt;) -&gt; Result&lt;Self, Error&gt; {
<a href="#h11-1-3" id="h11-1-3" class="d">-        let (node_tx, node_rx) = crossbeam_channel::unbounded();
</a><a href="#h11-1-4" id="h11-1-4" class="i">+        let (node_tx, node_rx) = crossbeam::channel::unbounded();
</a>         let mut t = GRPC { peers: HashMap::new(), node_tx, node_rx };
         for (id, addr) in peers.into_iter() {
             t.peers.insert(id, t.build_client(addr)?);
</pre>
</div>
</body>
</html>
