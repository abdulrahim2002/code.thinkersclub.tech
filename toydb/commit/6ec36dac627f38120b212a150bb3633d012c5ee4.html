<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cargo.toml: remove unused dependencies - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/6ec36dac627f38120b212a150bb3633d012c5ee4.html">6ec36dac627f38120b212a150bb3633d012c5ee4</a>
<b>parent</b> <a href="../commit/7b83b2634654bad012a18ebcd1c5a7ad61cab8db.html">7b83b2634654bad012a18ebcd1c5a7ad61cab8db</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Wed, 17 Jul 2024 11:04:01 +0200

Cargo.toml: remove unused dependencies

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">Cargo.lock</a></td><td> | </td><td class="num">69</td><td><span class="i">+++++++++++</span><span class="d">----------------------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">Cargo.toml</a></td><td> | </td><td class="num">5</td><td><span class="i">+</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/bin/toydb.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">src/error.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">src/raft/message.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">src/server.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">tests/e2e/client.rs</a></td><td> | </td><td class="num">1</td><td><span class="i"></span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">tests/e2e/mod.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
</table></pre><pre>8 files changed, 17 insertions(+), 68 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/Cargo.lock.html">Cargo.lock</a> b/<a href="../file/Cargo.lock.html">Cargo.lock</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -79,7 +79,7 @@ checksum = &quot;c6fa2087f2753a7da8cc1c0dbfcf89579dd57458e36769de5ac750b4671737ca&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-0-3" id="h0-0-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-0-4" id="h0-0-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-1" id="h0-1" class="h">@@ -187,7 +187,7 @@ dependencies = [
</a>  &quot;heck&quot;,
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-1-3" id="h0-1-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-1-4" id="h0-1-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-2" id="h0-2" class="h">@@ -372,23 +372,6 @@ dependencies = [
</a> ]
 
 [[package]]
<a href="#h0-2-3" id="h0-2-3" class="d">-name = &quot;derivative&quot;
</a><a href="#h0-2-4" id="h0-2-4" class="d">-version = &quot;2.2.0&quot;
</a><a href="#h0-2-5" id="h0-2-5" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-2-6" id="h0-2-6" class="d">-checksum = &quot;fcc3dd5e9e9c0b295d6e1e4d811fb6f157d5ffd784b8d202fc62eac8035a770b&quot;
</a><a href="#h0-2-7" id="h0-2-7" class="d">-dependencies = [
</a><a href="#h0-2-8" id="h0-2-8" class="d">- &quot;proc-macro2&quot;,
</a><a href="#h0-2-9" id="h0-2-9" class="d">- &quot;quote&quot;,
</a><a href="#h0-2-10" id="h0-2-10" class="d">- &quot;syn 1.0.109&quot;,
</a><a href="#h0-2-11" id="h0-2-11" class="d">-]
</a><a href="#h0-2-12" id="h0-2-12" class="d">-
</a><a href="#h0-2-13" id="h0-2-13" class="d">-[[package]]
</a><a href="#h0-2-14" id="h0-2-14" class="d">-name = &quot;diff&quot;
</a><a href="#h0-2-15" id="h0-2-15" class="d">-version = &quot;0.1.13&quot;
</a><a href="#h0-2-16" id="h0-2-16" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-2-17" id="h0-2-17" class="d">-checksum = &quot;56254986775e3233ffa9c4d7d3faaf6d36a2c09d30b20687e9f88bc8bafc16c8&quot;
</a><a href="#h0-2-18" id="h0-2-18" class="d">-
</a><a href="#h0-2-19" id="h0-2-19" class="d">-[[package]]
</a> name = &quot;digest&quot;
 version = &quot;0.10.7&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
<a href="#h0-3" id="h0-3" class="h">@@ -609,7 +592,7 @@ dependencies = [
</a>  &quot;scopeguard&quot;,
  &quot;similar-asserts&quot;,
  &quot;tempfile&quot;,
<a href="#h0-3-3" id="h0-3-3" class="d">- &quot;yansi 1.0.1&quot;,
</a><a href="#h0-3-4" id="h0-3-4" class="i">+ &quot;yansi&quot;,
</a> ]
 
 [[package]]
<a href="#h0-4" id="h0-4" class="h">@@ -915,7 +898,7 @@ dependencies = [
</a>  &quot;pest_meta&quot;,
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-4-3" id="h0-4-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-4-4" id="h0-4-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-5" id="h0-5" class="h">@@ -968,16 +951,6 @@ source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a> checksum = &quot;5b40af805b3121feab8a3c29f04d8ad262fa8e0561883e7653e024ae4479e6de&quot;
 
 [[package]]
<a href="#h0-5-3" id="h0-5-3" class="d">-name = &quot;pretty_assertions&quot;
</a><a href="#h0-5-4" id="h0-5-4" class="d">-version = &quot;1.4.0&quot;
</a><a href="#h0-5-5" id="h0-5-5" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-5-6" id="h0-5-6" class="d">-checksum = &quot;af7cee1a6c8a5b9208b3cb1061f10c0cb689087b3d8ce85fb9d2dd7a29b6ba66&quot;
</a><a href="#h0-5-7" id="h0-5-7" class="d">-dependencies = [
</a><a href="#h0-5-8" id="h0-5-8" class="d">- &quot;diff&quot;,
</a><a href="#h0-5-9" id="h0-5-9" class="d">- &quot;yansi 0.5.1&quot;,
</a><a href="#h0-5-10" id="h0-5-10" class="d">-]
</a><a href="#h0-5-11" id="h0-5-11" class="d">-
</a><a href="#h0-5-12" id="h0-5-12" class="d">-[[package]]
</a> name = &quot;proc-macro2&quot;
 version = &quot;1.0.81&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
<a href="#h0-6" id="h0-6" class="h">@@ -1144,7 +1117,7 @@ checksum = &quot;e5af959c8bf6af1aff6d2b463a57f71aae53d1332da58419e30ad8dc7011d951&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-6-3" id="h0-6-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-6-4" id="h0-6-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-7" id="h0-7" class="h">@@ -1200,7 +1173,7 @@ checksum = &quot;856f046b9400cee3c8c94ed572ecdb752444c24528c035cd35882aad6f492bcb&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-7-3" id="h0-7-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-7-4" id="h0-7-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-8" id="h0-8" class="h">@@ -1245,7 +1218,7 @@ checksum = &quot;82fe9db325bcef1fbcde82e078a5cc4efdf787e96b3b9cf45b50b529f2083d67&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-8-3" id="h0-8-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-8-4" id="h0-8-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-9" id="h0-9" class="h">@@ -1313,17 +1286,6 @@ checksum = &quot;7da8b5736845d9f2fcb837ea5d9e2628564b3b043a70948a3f0b778838c5fb4f&quot;
</a> 
 [[package]]
 name = &quot;syn&quot;
<a href="#h0-9-3" id="h0-9-3" class="d">-version = &quot;1.0.109&quot;
</a><a href="#h0-9-4" id="h0-9-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-9-5" id="h0-9-5" class="d">-checksum = &quot;72b64191b275b66ffe2469e8af2c1cfe3bafa67b529ead792a6d0160888b4237&quot;
</a><a href="#h0-9-6" id="h0-9-6" class="d">-dependencies = [
</a><a href="#h0-9-7" id="h0-9-7" class="d">- &quot;proc-macro2&quot;,
</a><a href="#h0-9-8" id="h0-9-8" class="d">- &quot;quote&quot;,
</a><a href="#h0-9-9" id="h0-9-9" class="d">- &quot;unicode-ident&quot;,
</a><a href="#h0-9-10" id="h0-9-10" class="d">-]
</a><a href="#h0-9-11" id="h0-9-11" class="d">-
</a><a href="#h0-9-12" id="h0-9-12" class="d">-[[package]]
</a><a href="#h0-9-13" id="h0-9-13" class="d">-name = &quot;syn&quot;
</a> version = &quot;2.0.60&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 checksum = &quot;909518bc7b1c9b779f1bbf07f2929d35af9f0f37e47c6e9ef7f9dddc1e1821f3&quot;
<a href="#h0-10" id="h0-10" class="h">@@ -1372,7 +1334,7 @@ dependencies = [
</a>  &quot;cfg-if&quot;,
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-10-3" id="h0-10-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-10-4" id="h0-10-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-11" id="h0-11" class="h">@@ -1383,7 +1345,7 @@ checksum = &quot;5c89e72a01ed4c579669add59014b9a524d609c0c88c6a585ce37485879f6ffb&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-11-3" id="h0-11-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-11-4" id="h0-11-4" class="i">+ &quot;syn&quot;,
</a>  &quot;test-case-core&quot;,
 ]
 
<a href="#h0-12" id="h0-12" class="h">@@ -1395,7 +1357,7 @@ checksum = &quot;0f1a92330478de0709111391059475f7d960692519e2c54c823c662408bab365&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-12-3" id="h0-12-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-12-4" id="h0-12-4" class="i">+ &quot;syn&quot;,
</a>  &quot;unicode-ident&quot;,
 ]
 
<a href="#h0-13" id="h0-13" class="h">@@ -1416,7 +1378,7 @@ checksum = &quot;d1cd413b5d558b4c5bf3680e324a6fa5014e7b7c067a51e69dbdf47eb7148b66&quot;
</a> dependencies = [
  &quot;proc-macro2&quot;,
  &quot;quote&quot;,
<a href="#h0-13-3" id="h0-13-3" class="d">- &quot;syn 2.0.60&quot;,
</a><a href="#h0-13-4" id="h0-13-4" class="i">+ &quot;syn&quot;,
</a> ]
 
 [[package]]
<a href="#h0-14" id="h0-14" class="h">@@ -1503,7 +1465,6 @@ dependencies = [
</a>  &quot;clap&quot;,
  &quot;config&quot;,
  &quot;crossbeam&quot;,
<a href="#h0-14-3" id="h0-14-3" class="d">- &quot;derivative&quot;,
</a>  &quot;dyn-clone&quot;,
  &quot;escargot&quot;,
  &quot;fs4&quot;,
<a href="#h0-15" id="h0-15" class="h">@@ -1515,14 +1476,12 @@ dependencies = [
</a>  &quot;log&quot;,
  &quot;paste&quot;,
  &quot;petname&quot;,
<a href="#h0-15-3" id="h0-15-3" class="d">- &quot;pretty_assertions&quot;,
</a>  &quot;rand&quot;,
  &quot;regex&quot;,
  &quot;rustyline&quot;,
  &quot;rustyline-derive&quot;,
  &quot;serde&quot;,
  &quot;serde_bytes&quot;,
<a href="#h0-15-10" id="h0-15-10" class="d">- &quot;serde_derive&quot;,
</a>  &quot;serde_json&quot;,
  &quot;serial_test&quot;,
  &quot;simplelog&quot;,
<a href="#h0-16" id="h0-16" class="h">@@ -1692,12 +1651,6 @@ dependencies = [
</a> 
 [[package]]
 name = &quot;yansi&quot;
<a href="#h0-16-3" id="h0-16-3" class="d">-version = &quot;0.5.1&quot;
</a><a href="#h0-16-4" id="h0-16-4" class="d">-source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
</a><a href="#h0-16-5" id="h0-16-5" class="d">-checksum = &quot;09041cd90cf85f7f8b2df60c646f853b7f535ce68f85244eb6731cf89fa498ec&quot;
</a><a href="#h0-16-6" id="h0-16-6" class="d">-
</a><a href="#h0-16-7" id="h0-16-7" class="d">-[[package]]
</a><a href="#h0-16-8" id="h0-16-8" class="d">-name = &quot;yansi&quot;
</a> version = &quot;1.0.1&quot;
 source = &quot;registry+https://github.com/rust-lang/crates.io-index&quot;
 checksum = &quot;cfe53a6657fd280eaa890a3bc59152892ffa3e30101319d168b781ed6529b049&quot;
<b>diff --git a/<a id="h1" href="../file/Cargo.toml.html">Cargo.toml</a> b/<a href="../file/Cargo.toml.html">Cargo.toml</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -14,11 +14,9 @@ bincode = &quot;1.3.3&quot;
</a> clap = { version = &quot;4.5.4&quot;, features = [&quot;cargo&quot;, &quot;derive&quot;] }
 config = &quot;0.14.0&quot;
 crossbeam = { version = &quot;0.8.4&quot;, features = [&quot;crossbeam-channel&quot;] }
<a href="#h1-0-3" id="h1-0-3" class="d">-derivative = &quot;2.2.0&quot;
</a> dyn-clone = &quot;1.0.17&quot;
 fs4 = &quot;0.8.2&quot;
 hdrhistogram = &quot;7.5.4&quot;
<a href="#h1-0-7" id="h1-0-7" class="d">-hex = &quot;0.4.3&quot;
</a> itertools = &quot;0.12.1&quot;
 log = &quot;0.4.21&quot;
 petname = &quot;2.0.2&quot;
<a href="#h1-1" id="h1-1" class="h">@@ -28,7 +26,6 @@ rustyline = &quot;14.0.0&quot;
</a> rustyline-derive = &quot;0.10.0&quot;
 serde = &quot;1.0.200&quot;
 serde_bytes = &quot;0.11.14&quot;
<a href="#h1-1-3" id="h1-1-3" class="d">-serde_derive = &quot;1.0.200&quot;
</a> simplelog = &quot;0.12.2&quot;
 uuid = { version = &quot;1.8.0&quot;, features = [&quot;serde&quot;, &quot;v4&quot;] }
 
<a href="#h1-2" id="h1-2" class="h">@@ -36,8 +33,8 @@ uuid = { version = &quot;1.8.0&quot;, features = [&quot;serde&quot;, &quot;v4&quot;] }
</a> escargot = &quot;0.5.10&quot;
 goldenfile = &quot;1.7.1&quot;
 goldenscript = &quot;0.7.0&quot;
<a href="#h1-2-3" id="h1-2-3" class="i">+hex = &quot;0.4.3&quot;
</a> paste = &quot;1.0.14&quot;
<a href="#h1-2-5" id="h1-2-5" class="d">-pretty_assertions = &quot;1.4.0&quot;
</a> serde_json = &quot;1.0.117&quot;
 serial_test = &quot;3.1.1&quot;
 tempfile = &quot;3.10.1&quot;
<b>diff --git a/<a id="h2" href="../file/src/bin/toydb.rs.html">src/bin/toydb.rs</a> b/<a href="../file/src/bin/toydb.rs.html">src/bin/toydb.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -6,7 +6,7 @@
</a> 
 #![warn(clippy::all)]
 
<a href="#h2-0-3" id="h2-0-3" class="d">-use serde_derive::Deserialize;
</a><a href="#h2-0-4" id="h2-0-4" class="i">+use serde::Deserialize;
</a> use std::collections::HashMap;
 use toydb::errinput;
 use toydb::error::Result;
<b>diff --git a/<a id="h3" href="../file/src/error.rs.html">src/error.rs</a> b/<a href="../file/src/error.rs.html">src/error.rs</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -1,4 +1,4 @@
</a><a href="#h3-0-0" id="h3-0-0" class="d">-use serde_derive::{Deserialize, Serialize};
</a><a href="#h3-0-1" id="h3-0-1" class="i">+use serde::{Deserialize, Serialize};
</a> 
 /// toyDB errors.
 #[derive(Clone, Debug, PartialEq, Serialize, Deserialize)]
<b>diff --git a/<a id="h4" href="../file/src/raft/message.rs.html">src/raft/message.rs</a> b/<a href="../file/src/raft/message.rs.html">src/raft/message.rs</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -3,7 +3,7 @@ use crate::encoding;
</a> use crate::error::Result;
 use crate::storage;
 
<a href="#h4-0-3" id="h4-0-3" class="d">-use serde_derive::{Deserialize, Serialize};
</a><a href="#h4-0-4" id="h4-0-4" class="i">+use serde::{Deserialize, Serialize};
</a> 
 /// A message envelope specifying the sender and receiver.
 #[derive(Clone, Debug, PartialEq, Serialize, Deserialize)]
<b>diff --git a/<a id="h5" href="../file/src/server.rs.html">src/server.rs</a> b/<a href="../file/src/server.rs.html">src/server.rs</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -8,7 +8,7 @@ use crate::storage;
</a> 
 use crossbeam::channel::{Receiver, Sender};
 use log::{debug, error, info};
<a href="#h5-0-3" id="h5-0-3" class="d">-use serde_derive::{Deserialize, Serialize};
</a><a href="#h5-0-4" id="h5-0-4" class="i">+use serde::{Deserialize, Serialize};
</a> use std::collections::HashMap;
 use std::io::Write as _;
 use std::net::{TcpListener, TcpStream, ToSocketAddrs};
<b>diff --git a/<a id="h6" href="../file/tests/e2e/client.rs.html">tests/e2e/client.rs</a> b/<a href="../file/tests/e2e/client.rs.html">tests/e2e/client.rs</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -7,7 +7,6 @@ use toydb::sql::engine::StatementResult;
</a> use toydb::sql::types::{Column, DataType, Label, Table, Value};
 use toydb::storage::{engine, mvcc};
 
<a href="#h6-0-3" id="h6-0-3" class="d">-use pretty_assertions::assert_eq;
</a> use serial_test::serial;
 
 #[test]
<b>diff --git a/<a id="h7" href="../file/tests/e2e/mod.rs.html">tests/e2e/mod.rs</a> b/<a href="../file/tests/e2e/mod.rs.html">tests/e2e/mod.rs</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -15,7 +15,7 @@ use testcluster::TestCluster;
</a> fn assert_rows(result: toydb::StatementResult, expect: Vec&lt;toydb::sql::types::Row&gt;) {
     match result {
         toydb::StatementResult::Select { rows, .. } =&gt; {
<a href="#h7-0-3" id="h7-0-3" class="d">-            pretty_assertions::assert_eq!(rows, expect)
</a><a href="#h7-0-4" id="h7-0-4" class="i">+            assert_eq!(rows, expect)
</a>         }
         r =&gt; panic!(&quot;Unexpected result {:?}&quot;, r),
     }
</pre>
</div>
</body>
</html>
