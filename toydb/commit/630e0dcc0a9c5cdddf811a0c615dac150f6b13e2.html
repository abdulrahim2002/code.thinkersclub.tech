<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sql: clean up tests - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/630e0dcc0a9c5cdddf811a0c615dac150f6b13e2.html">630e0dcc0a9c5cdddf811a0c615dac150f6b13e2</a>
<b>parent</b> <a href="../commit/63afebdfaf078ec5261533ebd8ceedf9438c8395.html">63afebdfaf078ec5261533ebd8ceedf9438c8395</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Mon, 22 Jul 2024 15:11:16 +0200

sql: clean up tests

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/sql/mod.rs</a></td><td> | </td><td class="num">153</td><td><span class="i">+++++++++++++++++++++++++++++++++++++</span><span class="d">------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/sql/testscripts/expressions/cnf</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/sql/testscripts/expressions/func</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">src/sql/testscripts/expressions/func_sqrt</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">src/sql/testscripts/expressions/literals</a></td><td> | </td><td class="num">66</td><td><span class="i">+++++++++++++++++++++++++++++++++</span><span class="d">---------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">src/sql/testscripts/expressions/op_compare_equal</a></td><td> | </td><td class="num">54</td><td><span class="i">+++++++++++++++++++++++++++</span><span class="d">---------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">src/sql/testscripts/expressions/op_compare_greater</a></td><td> | </td><td class="num">96</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">src/sql/testscripts/expressions/op_compare_greater_equal</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">src/sql/testscripts/expressions/op_compare_is_nan</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">src/sql/testscripts/expressions/op_compare_is_null</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">src/sql/testscripts/expressions/op_compare_lesser</a></td><td> | </td><td class="num">96</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">src/sql/testscripts/expressions/op_compare_lesser_equal</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">src/sql/testscripts/expressions/op_compare_not_equal</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">src/sql/testscripts/expressions/op_logic_and</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h14">src/sql/testscripts/expressions/op_logic_not</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">src/sql/testscripts/expressions/op_logic_or</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h16">src/sql/testscripts/expressions/op_math_add</a></td><td> | </td><td class="num">40</td><td><span class="i">++++++++++++++++++++</span><span class="d">--------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h17">src/sql/testscripts/expressions/op_math_divide</a></td><td> | </td><td class="num">62</td><td><span class="i">+++++++++++++++++++++++++++++++</span><span class="d">-------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h18">src/sql/testscripts/expressions/op_math_exponentiate</a></td><td> | </td><td class="num">42</td><td><span class="i">+++++++++++++++++++++</span><span class="d">---------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h19">src/sql/testscripts/expressions/op_math_factorial</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h20">src/sql/testscripts/expressions/op_math_identity</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h21">src/sql/testscripts/expressions/op_math_multiply</a></td><td> | </td><td class="num">40</td><td><span class="i">++++++++++++++++++++</span><span class="d">--------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h22">src/sql/testscripts/expressions/op_math_negate</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">src/sql/testscripts/expressions/op_math_remainder</a></td><td> | </td><td class="num">40</td><td><span class="i">++++++++++++++++++++</span><span class="d">--------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h24">src/sql/testscripts/expressions/op_math_subtract</a></td><td> | </td><td class="num">40</td><td><span class="i">++++++++++++++++++++</span><span class="d">--------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h25">src/sql/testscripts/expressions/op_precedence</a></td><td> | </td><td class="num">204</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h26">src/sql/testscripts/expressions/op_string_like</a></td><td> | </td><td class="num">76</td><td><span class="i">++++++++++++++++++++++++++++++++++++++</span><span class="d">--------------------------------------</span></td></tr>
<tr><td class="R">R</td><td><a href="#h27">src/sql/testscripts/optimizer/fold_constants -&gt; src/sql/testscripts/optimizers/fold_constants</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h28">src/sql/testscripts/optimizer/index_lookup -&gt; src/sql/testscripts/optimizers/index_lookup</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h29">src/sql/testscripts/optimizer/join_type -&gt; src/sql/testscripts/optimizers/join_type</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h30">src/sql/testscripts/optimizer/push_filters -&gt; src/sql/testscripts/optimizers/push_filters</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="R">R</td><td><a href="#h31">src/sql/testscripts/optimizer/short_circuit -&gt; src/sql/testscripts/optimizers/short_circuit</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h32">src/sql/testscripts/schema/create_table</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h33">src/sql/testscripts/schema/create_table_index</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h34">src/sql/testscripts/schema/create_table_reference</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h35">src/sql/testscripts/schema/create_table_transaction</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h36">src/sql/testscripts/schema/create_table_unique</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h37">src/sql/testscripts/schema/drop_table</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h38">src/sql/testscripts/schema/drop_table_index</a></td><td> | </td><td class="num">78</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d">---------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h39">src/sql/testscripts/schema/drop_table_transaction</a></td><td> | </td><td class="num">34</td><td><span class="i">+++++++++++++++++</span><span class="d">-----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h40">src/sql/testscripts/transactions/begin</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++</span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h41">src/sql/testscripts/transactions/commit</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h42">src/sql/testscripts/transactions/isolation</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h43">src/sql/testscripts/transactions/rollback</a></td><td> | </td><td class="num">34</td><td><span class="i">+++++++++++++++++</span><span class="d">-----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h44">src/sql/testscripts/transactions/schema</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h45">src/sql/testscripts/writes/delete</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++</span><span class="d">------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h46">src/sql/testscripts/writes/delete_index</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h47">src/sql/testscripts/writes/delete_reference</a></td><td> | </td><td class="num">52</td><td><span class="i">++++++++++++++++++++++++++</span><span class="d">--------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h48">src/sql/testscripts/writes/insert</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++</span><span class="d">------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h49">src/sql/testscripts/writes/insert_index</a></td><td> | </td><td class="num">520</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h50">src/sql/testscripts/writes/insert_reference</a></td><td> | </td><td class="num">126</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h51">src/sql/testscripts/writes/insert_unique</a></td><td> | </td><td class="num">396</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h52">src/sql/testscripts/writes/update</a></td><td> | </td><td class="num">18</td><td><span class="i">+++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h53">src/sql/testscripts/writes/update_index</a></td><td> | </td><td class="num">318</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h54">src/sql/testscripts/writes/update_reference</a></td><td> | </td><td class="num">132</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h55">src/sql/testscripts/writes/update_unique</a></td><td> | </td><td class="num">324</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h56">src/sql/types/expression.rs</a></td><td> | </td><td class="num">5</td><td><span class="i">+++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h57">src/storage/mvcc.rs</a></td><td> | </td><td class="num">72</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d">------------------------------------</span></td></tr>
</table></pre><pre>58 files changed, 1786 insertions(+), 1790 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/sql/mod.rs.html">src/sql/mod.rs</a> b/<a href="../file/src/sql/mod.rs.html">src/sql/mod.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -72,15 +72,16 @@ pub mod parser;
</a> pub mod planner;
 pub mod types;
 
<a href="#h0-0-3" id="h0-0-3" class="i">+/// SQL tests are implemented as goldenscripts under src/sql/testscripts.
</a> #[cfg(test)]
 mod tests {
     use super::engine::{Catalog as _, Session};
     use super::parser::Parser;
<a href="#h0-0-8" id="h0-0-8" class="d">-    use super::planner::{Node, Plan, OPTIMIZERS};
</a><a href="#h0-0-9" id="h0-0-9" class="i">+    use super::planner::{Plan, OPTIMIZERS};
</a>     use crate::encoding::format::{self, Formatter as _};
     use crate::sql::engine::{Engine, Local, StatementResult};
     use crate::sql::planner::{Planner, Scope};
<a href="#h0-0-13" id="h0-0-13" class="d">-    use crate::storage::engine::test::{self, Emit, Mirror, Operation};
</a><a href="#h0-0-14" id="h0-0-14" class="i">+    use crate::storage::engine::test as testengine;
</a>     use crate::storage::{self, Engine as _};
 
     use crossbeam::channel::Receiver;
<a href="#h0-1" id="h0-1" class="h">@@ -92,24 +93,25 @@ mod tests {
</a>     use test_each_file::test_each_path;
 
     // Run goldenscript tests in src/sql/testscripts.
<a href="#h0-1-3" id="h0-1-3" class="d">-    test_each_path! { in &quot;src/sql/testscripts/optimizer&quot; as optimizer =&gt; test_goldenscript }
</a><a href="#h0-1-4" id="h0-1-4" class="i">+    test_each_path! { in &quot;src/sql/testscripts/expressions&quot; as expressions =&gt; test_goldenscript_expr }
</a><a href="#h0-1-5" id="h0-1-5" class="i">+    test_each_path! { in &quot;src/sql/testscripts/optimizers&quot; as optimizers =&gt; test_goldenscript }
</a>     test_each_path! { in &quot;src/sql/testscripts/queries&quot; as queries =&gt; test_goldenscript }
     test_each_path! { in &quot;src/sql/testscripts/schema&quot; as schema =&gt; test_goldenscript }
     test_each_path! { in &quot;src/sql/testscripts/transactions&quot; as transactions =&gt; test_goldenscript }
     test_each_path! { in &quot;src/sql/testscripts/writes&quot; as writes =&gt; test_goldenscript }
<a href="#h0-1-10" id="h0-1-10" class="d">-    test_each_path! { in &quot;src/sql/testscripts/expressions&quot; as expressions =&gt; test_goldenscript_expr }
</a> 
     /// Runs SQL goldenscripts.
     fn test_goldenscript(path: &amp;std::path::Path) {
<a href="#h0-1-14" id="h0-1-14" class="d">-        // Since the runner&#39;s Session can&#39;t reference an Engine in the same
</a><a href="#h0-1-15" id="h0-1-15" class="d">-        // struct, borrow the engine. Use both a BitCask and a Memory engine,
</a><a href="#h0-1-16" id="h0-1-16" class="d">-        // and mirror operations across them. Emit engine operations to op_rx.
</a><a href="#h0-1-17" id="h0-1-17" class="i">+        // The runner&#39;s Session can&#39;t borrow from an Engine in the same struct,
</a><a href="#h0-1-18" id="h0-1-18" class="i">+        // so pass an engine reference. Use both BitCask and Memory engines and
</a><a href="#h0-1-19" id="h0-1-19" class="i">+        // mirror operations across them. Emit engine operations to op_rx.
</a>         let (op_tx, op_rx) = crossbeam::channel::unbounded();
         let tempdir = tempfile::TempDir::with_prefix(&quot;toydb&quot;).expect(&quot;tempdir failed&quot;);
         let bitcask =
             storage::BitCask::new(tempdir.path().join(&quot;bitcask&quot;)).expect(&quot;bitcask failed&quot;);
         let memory = storage::Memory::new();
<a href="#h0-1-25" id="h0-1-25" class="d">-        let engine = Local::new(Emit::new(Mirror::new(bitcask, memory), op_tx));
</a><a href="#h0-1-26" id="h0-1-26" class="i">+        let engine =
</a><a href="#h0-1-27" id="h0-1-27" class="i">+            Local::new(testengine::Emit::new(testengine::Mirror::new(bitcask, memory), op_tx));
</a>         let mut runner = SQLRunner::new(&amp;engine, op_rx);
 
         goldenscript::run(&amp;mut runner, path).expect(&quot;goldenscript failed&quot;)
<a href="#h0-2" id="h0-2" class="h">@@ -124,13 +126,14 @@ mod tests {
</a>     struct SQLRunner&lt;&#39;a&gt; {
         engine: &amp;&#39;a TestEngine,
         sessions: HashMap&lt;String, Session&lt;&#39;a, TestEngine&gt;&gt;,
<a href="#h0-2-3" id="h0-2-3" class="d">-        op_rx: Receiver&lt;Operation&gt;,
</a><a href="#h0-2-4" id="h0-2-4" class="i">+        op_rx: Receiver&lt;testengine::Operation&gt;,
</a>     }
 
<a href="#h0-2-7" id="h0-2-7" class="d">-    type TestEngine = Local&lt;test::Emit&lt;test::Mirror&lt;storage::BitCask, storage::Memory&gt;&gt;&gt;;
</a><a href="#h0-2-8" id="h0-2-8" class="i">+    type TestEngine =
</a><a href="#h0-2-9" id="h0-2-9" class="i">+        Local&lt;testengine::Emit&lt;testengine::Mirror&lt;storage::BitCask, storage::Memory&gt;&gt;&gt;;
</a> 
     impl&lt;&#39;a&gt; SQLRunner&lt;&#39;a&gt; {
<a href="#h0-2-12" id="h0-2-12" class="d">-        fn new(engine: &amp;&#39;a TestEngine, op_rx: Receiver&lt;Operation&gt;) -&gt; Self {
</a><a href="#h0-2-13" id="h0-2-13" class="i">+        fn new(engine: &amp;&#39;a TestEngine, op_rx: Receiver&lt;testengine::Operation&gt;) -&gt; Self {
</a>             Self { engine, sessions: HashMap::new(), op_rx }
         }
     }
<a href="#h0-3" id="h0-3" class="h">@@ -139,7 +142,7 @@ mod tests {
</a>         fn run(&amp;mut self, command: &amp;goldenscript::Command) -&gt; Result&lt;String, Box&lt;dyn Error&gt;&gt; {
             let mut output = String::new();
 
<a href="#h0-3-3" id="h0-3-3" class="d">-            // Obtain a session for the command prefix.
</a><a href="#h0-3-4" id="h0-3-4" class="i">+            // Obtain a session based on the command prefix (&quot;&quot; if none).
</a>             let prefix = command.prefix.clone().unwrap_or_default();
             let session = self.sessions.entry(prefix).or_insert_with(|| self.engine.session());
 
<a href="#h0-4" id="h0-4" class="h">@@ -151,12 +154,9 @@ mod tests {
</a>                     let mut engine = self.engine.mvcc.engine.lock().expect(&quot;mutex failed&quot;);
                     let mut iter = engine.scan(..);
                     while let Some((key, value)) = iter.next().transpose()? {
<a href="#h0-4-3" id="h0-4-3" class="d">-                        writeln!(
</a><a href="#h0-4-4" id="h0-4-4" class="d">-                            output,
</a><a href="#h0-4-5" id="h0-4-5" class="d">-                            &quot;{} [{}]&quot;,
</a><a href="#h0-4-6" id="h0-4-6" class="d">-                            format::MVCC::&lt;format::SQL&gt;::key_value(&amp;key, &amp;value),
</a><a href="#h0-4-7" id="h0-4-7" class="d">-                            format::Raw::key_value(&amp;key, &amp;value)
</a><a href="#h0-4-8" id="h0-4-8" class="d">-                        )?;
</a><a href="#h0-4-9" id="h0-4-9" class="i">+                        let fmtkv = format::MVCC::&lt;format::SQL&gt;::key_value(&amp;key, &amp;value);
</a><a href="#h0-4-10" id="h0-4-10" class="i">+                        let rawkv = format::Raw::key_value(&amp;key, &amp;value);
</a><a href="#h0-4-11" id="h0-4-11" class="i">+                        writeln!(output, &quot;{fmtkv} [{rawkv}]&quot;,)?;
</a>                     }
                     return Ok(output);
                 }
<a href="#h0-5" id="h0-5" class="h">@@ -175,56 +175,71 @@ mod tests {
</a>                             .map(|t| session.with_txn(true, |txn| txn.must_get_table(&amp;t)))
                             .try_collect()?
                     };
<a href="#h0-5-3" id="h0-5-3" class="d">-                    return Ok(schemas.into_iter().map(|s| s.to_string()).join(&quot;\n&quot;));
</a><a href="#h0-5-4" id="h0-5-4" class="i">+                    return Ok(schemas.into_iter().join(&quot;\n&quot;));
</a>                 }
 
                 // Otherwise, fall through to SQL execution.
                 _ =&gt; {}
             }
 
<a href="#h0-5-11" id="h0-5-11" class="d">-            // The entire command is the statement to execute. There are no args.
</a><a href="#h0-5-12" id="h0-5-12" class="i">+            // The entire command is the SQL statement. There are no args.
</a>             if !command.args.is_empty() {
<a href="#h0-5-14" id="h0-5-14" class="d">-                return Err(&quot;expressions should be given as a command with no args&quot;.into());
</a><a href="#h0-5-15" id="h0-5-15" class="i">+                return Err(&quot;SQL statements should be given as a command with no args&quot;.into());
</a>             }
             let input = &amp;command.name;
             let mut tags = command.tags.clone();
 
<a href="#h0-5-20" id="h0-5-20" class="d">-            // Execute the statement.
</a><a href="#h0-5-21" id="h0-5-21" class="d">-            let result = session.execute(input)?;
</a><a href="#h0-5-22" id="h0-5-22" class="i">+            // Output the plan if requested.
</a><a href="#h0-5-23" id="h0-5-23" class="i">+            if tags.remove(&quot;plan&quot;) {
</a><a href="#h0-5-24" id="h0-5-24" class="i">+                let ast = Parser::new(input).parse()?;
</a><a href="#h0-5-25" id="h0-5-25" class="i">+                let plan =
</a><a href="#h0-5-26" id="h0-5-26" class="i">+                    session.with_txn(true, |txn| Planner::new(txn).build(ast)?.optimize())?;
</a><a href="#h0-5-27" id="h0-5-27" class="i">+                writeln!(output, &quot;{plan}&quot;)?;
</a><a href="#h0-5-28" id="h0-5-28" class="i">+            }
</a> 
<a href="#h0-5-30" id="h0-5-30" class="d">-            // Output optimizations if requested.
</a><a href="#h0-5-31" id="h0-5-31" class="i">+            // Output plan optimizations if requested.
</a>             if tags.remove(&quot;opt&quot;) {
                 if tags.contains(&quot;plan&quot;) {
<a href="#h0-5-34" id="h0-5-34" class="d">-                    return Err(&quot;no point using both plan and opt&quot;.into());
</a><a href="#h0-5-35" id="h0-5-35" class="i">+                    return Err(&quot;using both plan and opt is redundant&quot;.into());
</a>                 }
                 let ast = Parser::new(input).parse()?;
                 let plan = session.with_txn(true, |txn| Planner::new(txn).build(ast))?;
                 let Plan::Select(mut root) = plan else {
                     return Err(&quot;can only use opt with SELECT plans&quot;.into());
                 };
<a href="#h0-5-42" id="h0-5-42" class="d">-
</a><a href="#h0-5-43" id="h0-5-43" class="d">-                let fmtplan = |name, node: &amp;Node| format!(&quot;{name}:\n{node}&quot;).replace(&#39;\n&#39;, &quot;\n   &quot;);
</a><a href="#h0-5-44" id="h0-5-44" class="d">-                writeln!(output, &quot;{}&quot;, fmtplan(&quot;Initial&quot;, &amp;root))?;
</a><a href="#h0-5-45" id="h0-5-45" class="i">+                writeln!(output, &quot;{}&quot;, format!(&quot;Initial:\n{root}&quot;).replace(&#39;\n&#39;, &quot;\n   &quot;))?;
</a>                 for (name, optimizer) in OPTIMIZERS {
<a href="#h0-5-47" id="h0-5-47" class="d">-                    let old = root.clone();
</a><a href="#h0-5-48" id="h0-5-48" class="i">+                    let prev = root.clone();
</a>                     root = optimizer(root)?;
<a href="#h0-5-50" id="h0-5-50" class="d">-                    if root != old {
</a><a href="#h0-5-51" id="h0-5-51" class="d">-                        writeln!(output, &quot;{}&quot;, fmtplan(name, &amp;root))?;
</a><a href="#h0-5-52" id="h0-5-52" class="i">+                    if root != prev {
</a><a href="#h0-5-53" id="h0-5-53" class="i">+                        writeln!(output, &quot;{}&quot;, format!(&quot;{name}:\n{root}&quot;).replace(&#39;\n&#39;, &quot;\n   &quot;))?;
</a>                     }
                 }
             }
 
<a href="#h0-5-58" id="h0-5-58" class="d">-            // Output the plan if requested.
</a><a href="#h0-5-59" id="h0-5-59" class="d">-            if tags.remove(&quot;plan&quot;) {
</a><a href="#h0-5-60" id="h0-5-60" class="d">-                let query = format!(&quot;EXPLAIN {input}&quot;);
</a><a href="#h0-5-61" id="h0-5-61" class="d">-                let StatementResult::Explain(plan) = session.execute(&amp;query)? else {
</a><a href="#h0-5-62" id="h0-5-62" class="d">-                    return Err(&quot;unexpected explain response&quot;.into());
</a><a href="#h0-5-63" id="h0-5-63" class="d">-                };
</a><a href="#h0-5-64" id="h0-5-64" class="d">-                writeln!(output, &quot;{plan}&quot;)?;
</a><a href="#h0-5-65" id="h0-5-65" class="i">+            // Execute the statement.
</a><a href="#h0-5-66" id="h0-5-66" class="i">+            let result = session.execute(input)?;
</a><a href="#h0-5-67" id="h0-5-67" class="i">+
</a><a href="#h0-5-68" id="h0-5-68" class="i">+            // Output engine ops if requested.
</a><a href="#h0-5-69" id="h0-5-69" class="i">+            if tags.remove(&quot;ops&quot;) {
</a><a href="#h0-5-70" id="h0-5-70" class="i">+                while let Ok(op) = self.op_rx.try_recv() {
</a><a href="#h0-5-71" id="h0-5-71" class="i">+                    match op {
</a><a href="#h0-5-72" id="h0-5-72" class="i">+                        testengine::Operation::Delete { key } =&gt; {
</a><a href="#h0-5-73" id="h0-5-73" class="i">+                            let fmtkey = format::MVCC::&lt;format::SQL&gt;::key(&amp;key);
</a><a href="#h0-5-74" id="h0-5-74" class="i">+                            let rawkey = format::Raw::key(&amp;key);
</a><a href="#h0-5-75" id="h0-5-75" class="i">+                            writeln!(output, &quot;delete {fmtkey} [{rawkey}]&quot;)?;
</a><a href="#h0-5-76" id="h0-5-76" class="i">+                        }
</a><a href="#h0-5-77" id="h0-5-77" class="i">+                        testengine::Operation::Flush =&gt; writeln!(output, &quot;flush&quot;)?,
</a><a href="#h0-5-78" id="h0-5-78" class="i">+                        testengine::Operation::Set { key, value } =&gt; {
</a><a href="#h0-5-79" id="h0-5-79" class="i">+                            let fmtkv = format::MVCC::&lt;format::SQL&gt;::key_value(&amp;key, &amp;value);
</a><a href="#h0-5-80" id="h0-5-80" class="i">+                            let rawkv = format::Raw::key_value(&amp;key, &amp;value);
</a><a href="#h0-5-81" id="h0-5-81" class="i">+                            writeln!(output, &quot;set {fmtkv} [{rawkv}]&quot;)?;
</a><a href="#h0-5-82" id="h0-5-82" class="i">+                        }
</a><a href="#h0-5-83" id="h0-5-83" class="i">+                    }
</a><a href="#h0-5-84" id="h0-5-84" class="i">+                }
</a>             }
 
             // Output the result if requested. SELECT results are always output.
<a href="#h0-5-88" id="h0-5-88" class="d">-            let show_result = tags.remove(&quot;result&quot;);
</a>             match result {
                 StatementResult::Select { columns, rows } =&gt; {
                     if tags.remove(&quot;header&quot;) {
<a href="#h0-6" id="h0-6" class="h">@@ -234,37 +249,10 @@ mod tests {
</a>                         writeln!(output, &quot;{}&quot;, row.into_iter().join(&quot;, &quot;))?;
                     }
                 }
<a href="#h0-6-3" id="h0-6-3" class="d">-                StatementResult::Begin { state } if show_result =&gt; {
</a><a href="#h0-6-4" id="h0-6-4" class="d">-                    let version = state.version;
</a><a href="#h0-6-5" id="h0-6-5" class="d">-                    let kind = if state.read_only { &quot;read-only&quot; } else { &quot;read-write&quot; };
</a><a href="#h0-6-6" id="h0-6-6" class="d">-                    let active = state.active.iter().join(&quot;,&quot;);
</a><a href="#h0-6-7" id="h0-6-7" class="d">-                    writeln!(output, &quot;v{version} {kind} active={{{active}}}&quot;)?;
</a><a href="#h0-6-8" id="h0-6-8" class="d">-                }
</a><a href="#h0-6-9" id="h0-6-9" class="d">-                result if show_result =&gt; writeln!(output, &quot;{result:?}&quot;)?,
</a><a href="#h0-6-10" id="h0-6-10" class="i">+                result if tags.remove(&quot;result&quot;) =&gt; writeln!(output, &quot;{result:?}&quot;)?,
</a>                 _ =&gt; {}
             }
 
<a href="#h0-6-14" id="h0-6-14" class="d">-            // Output engine ops if requested.
</a><a href="#h0-6-15" id="h0-6-15" class="d">-            if tags.remove(&quot;ops&quot;) {
</a><a href="#h0-6-16" id="h0-6-16" class="d">-                while let Ok(op) = self.op_rx.try_recv() {
</a><a href="#h0-6-17" id="h0-6-17" class="d">-                    match op {
</a><a href="#h0-6-18" id="h0-6-18" class="d">-                        Operation::Delete { key } =&gt; writeln!(
</a><a href="#h0-6-19" id="h0-6-19" class="d">-                            output,
</a><a href="#h0-6-20" id="h0-6-20" class="d">-                            &quot;storage delete {} [{}]&quot;,
</a><a href="#h0-6-21" id="h0-6-21" class="d">-                            format::MVCC::&lt;format::SQL&gt;::key(&amp;key),
</a><a href="#h0-6-22" id="h0-6-22" class="d">-                            format::Raw::key(&amp;key),
</a><a href="#h0-6-23" id="h0-6-23" class="d">-                        )?,
</a><a href="#h0-6-24" id="h0-6-24" class="d">-                        Operation::Flush =&gt; writeln!(output, &quot;storage flush&quot;)?,
</a><a href="#h0-6-25" id="h0-6-25" class="d">-                        Operation::Set { key, value } =&gt; writeln!(
</a><a href="#h0-6-26" id="h0-6-26" class="d">-                            output,
</a><a href="#h0-6-27" id="h0-6-27" class="d">-                            &quot;storage set {} [{}]&quot;,
</a><a href="#h0-6-28" id="h0-6-28" class="d">-                            format::MVCC::&lt;format::SQL&gt;::key_value(&amp;key, &amp;value),
</a><a href="#h0-6-29" id="h0-6-29" class="d">-                            format::Raw::key_value(&amp;key, &amp;value),
</a><a href="#h0-6-30" id="h0-6-30" class="d">-                        )?,
</a><a href="#h0-6-31" id="h0-6-31" class="d">-                    }
</a><a href="#h0-6-32" id="h0-6-32" class="d">-                }
</a><a href="#h0-6-33" id="h0-6-33" class="d">-            }
</a><a href="#h0-6-34" id="h0-6-34" class="d">-
</a>             // Reject unknown tags.
             if let Some(tag) = tags.iter().next() {
                 return Err(format!(&quot;unknown tag {tag}&quot;).into());
<a href="#h0-7" id="h0-7" class="h">@@ -280,14 +268,16 @@ mod tests {
</a>         }
     }
 
<a href="#h0-7-3" id="h0-7-3" class="d">-    /// A test runner for expressions specifically. Evaluates expressions to
</a><a href="#h0-7-4" id="h0-7-4" class="d">-    /// values, and can optionally emit the expression tree.
</a><a href="#h0-7-5" id="h0-7-5" class="i">+    /// A test runner for expressions. Evaluates expressions to values, and
</a><a href="#h0-7-6" id="h0-7-6" class="i">+    /// optionally emits the expression tree.
</a>     struct ExpressionRunner;
 
     type Catalog&lt;&#39;a&gt; = &lt;Local&lt;storage::Memory&gt; as Engine&lt;&#39;a&gt;&gt;::Transaction;
 
     impl goldenscript::Runner for ExpressionRunner {
         fn run(&amp;mut self, command: &amp;goldenscript::Command) -&gt; Result&lt;String, Box&lt;dyn Error&gt;&gt; {
<a href="#h0-7-13" id="h0-7-13" class="i">+            let mut output = String::new();
</a><a href="#h0-7-14" id="h0-7-14" class="i">+
</a>             // The entire command is the expression to evaluate. There are no args.
             if !command.args.is_empty() {
                 return Err(&quot;expressions should be given as a command with no args&quot;.into());
<a href="#h0-8" id="h0-8" class="h">@@ -301,30 +291,31 @@ mod tests {
</a>             if let Some(next) = parser.lexer.next().transpose()? {
                 return Err(format!(&quot;unconsumed token {next}&quot;).into());
             }
<a href="#h0-8-3" id="h0-8-3" class="d">-            let mut expr = Planner::&lt;Catalog&gt;::build_expression(ast, &amp;Scope::new())?;
</a><a href="#h0-8-4" id="h0-8-4" class="d">-
</a><a href="#h0-8-5" id="h0-8-5" class="d">-            // If requested, convert the expression to conjunctive normal form.
</a><a href="#h0-8-6" id="h0-8-6" class="d">-            if tags.remove(&quot;cnf&quot;) {
</a><a href="#h0-8-7" id="h0-8-7" class="d">-                expr = expr.into_cnf();
</a><a href="#h0-8-8" id="h0-8-8" class="d">-                tags.insert(&quot;expr&quot;.to_string()); // imply expr
</a><a href="#h0-8-9" id="h0-8-9" class="d">-            }
</a><a href="#h0-8-10" id="h0-8-10" class="i">+            let expr = Planner::&lt;Catalog&gt;::build_expression(ast, &amp;Scope::new())?;
</a> 
             // Evaluate the expression.
<a href="#h0-8-13" id="h0-8-13" class="d">-            let mut output = String::new();
</a>             let value = expr.evaluate(None)?;
<a href="#h0-8-15" id="h0-8-15" class="d">-            write!(output, &quot;{value:?}&quot;)?;
</a><a href="#h0-8-16" id="h0-8-16" class="i">+            write!(output, &quot;{value}&quot;)?;
</a> 
<a href="#h0-8-18" id="h0-8-18" class="d">-            // If requested, dump the parsed expression.
</a><a href="#h0-8-19" id="h0-8-19" class="i">+            // If requested, convert the expression to conjunctive normal form
</a><a href="#h0-8-20" id="h0-8-20" class="i">+            // and dump it. Assert that it produces the same result.
</a><a href="#h0-8-21" id="h0-8-21" class="i">+            if tags.remove(&quot;cnf&quot;) {
</a><a href="#h0-8-22" id="h0-8-22" class="i">+                let cnf = expr.clone().into_cnf();
</a><a href="#h0-8-23" id="h0-8-23" class="i">+                assert_eq!(value, cnf.evaluate(None)?, &quot;CNF result differs&quot;);
</a><a href="#h0-8-24" id="h0-8-24" class="i">+                write!(output, &quot; ← {}&quot;, cnf.format_constant())?;
</a><a href="#h0-8-25" id="h0-8-25" class="i">+            }
</a><a href="#h0-8-26" id="h0-8-26" class="i">+
</a><a href="#h0-8-27" id="h0-8-27" class="i">+            // If requested, debug-dump the parsed expression.
</a>             if tags.remove(&quot;expr&quot;) {
<a href="#h0-8-29" id="h0-8-29" class="d">-                write!(output, &quot; ← {}&quot;, expr.format(&amp;Node::Nothing { columns: vec![] }))?;
</a><a href="#h0-8-30" id="h0-8-30" class="i">+                write!(output, &quot; ← {:?}&quot;, expr)?;
</a>             }
<a href="#h0-8-32" id="h0-8-32" class="i">+            writeln!(output)?;
</a> 
             // Reject unknown tags.
             if let Some(tag) = tags.iter().next() {
                 return Err(format!(&quot;unknown tag {tag}&quot;).into());
             }
 
<a href="#h0-8-39" id="h0-8-39" class="d">-            writeln!(output)?;
</a>             Ok(output)
         }
     }
<b>diff --git a/<a id="h1" href="../file/src/sql/testscripts/expressions/cnf.html">src/sql/testscripts/expressions/cnf</a> b/<a href="../file/src/sql/testscripts/expressions/cnf.html">src/sql/testscripts/expressions/cnf</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -3,28 +3,28 @@
</a> # Noop for non-boolean expressions.
 [cnf]&gt; 1 + 2
 ---
<a href="#h1-0-3" id="h1-0-3" class="d">-Integer(3) ← 1 + 2
</a><a href="#h1-0-4" id="h1-0-4" class="i">+3 ← 1 + 2
</a> 
 # Applies De Morgan&#39;s laws.
 [cnf]&gt; NOT (TRUE AND FALSE)
 ---
<a href="#h1-0-9" id="h1-0-9" class="d">-Boolean(true) ← NOT TRUE OR NOT FALSE
</a><a href="#h1-0-10" id="h1-0-10" class="i">+TRUE ← NOT TRUE OR NOT FALSE
</a> 
 [cnf]&gt; NOT (TRUE OR FALSE)
 ---
<a href="#h1-0-14" id="h1-0-14" class="d">-Boolean(false) ← NOT TRUE AND NOT FALSE
</a><a href="#h1-0-15" id="h1-0-15" class="i">+FALSE ← NOT TRUE AND NOT FALSE
</a> 
 # NOTs are pushed into the expression.
 [cnf]&gt; NOT (TRUE AND TRUE AND TRUE OR TRUE)
 ---
<a href="#h1-0-20" id="h1-0-20" class="d">-Boolean(false) ← (NOT TRUE OR NOT TRUE OR NOT TRUE) AND NOT TRUE
</a><a href="#h1-0-21" id="h1-0-21" class="i">+FALSE ← (NOT TRUE OR NOT TRUE OR NOT TRUE) AND NOT TRUE
</a> 
 # ORs are converted to ANDs by the distributive law.
 [cnf]&gt; (TRUE AND FALSE) OR (FALSE AND TRUE)
 ---
<a href="#h1-0-26" id="h1-0-26" class="d">-Boolean(false) ← (TRUE OR FALSE) AND (TRUE OR TRUE) AND (FALSE OR FALSE) AND (FALSE OR TRUE)
</a><a href="#h1-0-27" id="h1-0-27" class="i">+FALSE ← (TRUE OR FALSE) AND (TRUE OR TRUE) AND (FALSE OR FALSE) AND (FALSE OR TRUE)
</a> 
 # This is also true when combined with De Morgan&#39;s laws.
 [cnf]&gt; NOT ((TRUE OR FALSE) AND (TRUE OR FALSE))
 ---
<a href="#h1-0-32" id="h1-0-32" class="d">-Boolean(false) ← (NOT TRUE OR NOT TRUE) AND (NOT TRUE OR NOT FALSE) AND (NOT FALSE OR NOT TRUE) AND (NOT FALSE OR NOT FALSE)
</a><a href="#h1-0-33" id="h1-0-33" class="i">+FALSE ← (NOT TRUE OR NOT TRUE) AND (NOT TRUE OR NOT FALSE) AND (NOT FALSE OR NOT TRUE) AND (NOT FALSE OR NOT FALSE)
</a><b>diff --git a/<a id="h2" href="../file/src/sql/testscripts/expressions/func.html">src/sql/testscripts/expressions/func</a> b/<a href="../file/src/sql/testscripts/expressions/func.html">src/sql/testscripts/expressions/func</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -4,13 +4,13 @@
</a> &gt; sqrt(1)
 &gt; SQRT(1)
 ---
<a href="#h2-0-3" id="h2-0-3" class="d">-Float(1.0)
</a><a href="#h2-0-4" id="h2-0-4" class="d">-Float(1.0)
</a><a href="#h2-0-5" id="h2-0-5" class="i">+1.0
</a><a href="#h2-0-6" id="h2-0-6" class="i">+1.0
</a> 
 # A space is allowed around the arguments.
 &gt; sqrt ( 1 )
 ---
<a href="#h2-0-11" id="h2-0-11" class="d">-Float(1.0)
</a><a href="#h2-0-12" id="h2-0-12" class="i">+1.0
</a> 
 # Wrong number of arguments errors.
 !&gt; sqrt()
<b>diff --git a/<a id="h3" href="../file/src/sql/testscripts/expressions/func_sqrt.html">src/sql/testscripts/expressions/func_sqrt</a> b/<a href="../file/src/sql/testscripts/expressions/func_sqrt.html">src/sql/testscripts/expressions/func_sqrt</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -4,27 +4,27 @@
</a> [expr]&gt; sqrt(2)
 [expr]&gt; sqrt(100)
 ---
<a href="#h3-0-3" id="h3-0-3" class="d">-Float(1.4142135623730951) ← sqrt(2)
</a><a href="#h3-0-4" id="h3-0-4" class="d">-Float(10.0) ← sqrt(100)
</a><a href="#h3-0-5" id="h3-0-5" class="i">+1.4142135623730951 ← SquareRoot(Constant(Integer(2)))
</a><a href="#h3-0-6" id="h3-0-6" class="i">+10.0 ← SquareRoot(Constant(Integer(100)))
</a> 
 # Negative integers error, but 0 is valid.
 !&gt; sqrt(-1)
 &gt; sqrt(0)
 ---
 Error: invalid input: can&#39;t take negative square root
<a href="#h3-0-13" id="h3-0-13" class="d">-Float(0.0)
</a><a href="#h3-0-14" id="h3-0-14" class="i">+0.0
</a> 
 # Floats work.
 &gt; sqrt(3.14)
 &gt; sqrt(100.0)
 ---
<a href="#h3-0-20" id="h3-0-20" class="d">-Float(1.772004514666935)
</a><a href="#h3-0-21" id="h3-0-21" class="d">-Float(10.0)
</a><a href="#h3-0-22" id="h3-0-22" class="i">+1.772004514666935
</a><a href="#h3-0-23" id="h3-0-23" class="i">+10.0
</a> 
 # Negative floats work, but return NAN.
 &gt; sqrt(-1.0)
 ---
<a href="#h3-0-28" id="h3-0-28" class="d">-Float(NaN)
</a><a href="#h3-0-29" id="h3-0-29" class="i">+NaN
</a> 
 # Test various special float values.
 &gt; sqrt(-0.0)
<a href="#h3-1" id="h3-1" class="h">@@ -33,16 +33,16 @@ Float(NaN)
</a> &gt; sqrt(INFINITY)
 &gt; sqrt(-INFINITY)
 ---
<a href="#h3-1-3" id="h3-1-3" class="d">-Float(-0.0)
</a><a href="#h3-1-4" id="h3-1-4" class="d">-Float(0.0)
</a><a href="#h3-1-5" id="h3-1-5" class="d">-Float(NaN)
</a><a href="#h3-1-6" id="h3-1-6" class="d">-Float(inf)
</a><a href="#h3-1-7" id="h3-1-7" class="d">-Float(NaN)
</a><a href="#h3-1-8" id="h3-1-8" class="i">+-0.0
</a><a href="#h3-1-9" id="h3-1-9" class="i">+0.0
</a><a href="#h3-1-10" id="h3-1-10" class="i">+NaN
</a><a href="#h3-1-11" id="h3-1-11" class="i">+inf
</a><a href="#h3-1-12" id="h3-1-12" class="i">+NaN
</a> 
 # NULL is passed through.
 &gt; sqrt(NULL)
 ---
<a href="#h3-1-17" id="h3-1-17" class="d">-Null
</a><a href="#h3-1-18" id="h3-1-18" class="i">+NULL
</a> 
 # Strings and booleans error.
 !&gt; sqrt(TRUE)
<b>diff --git a/<a id="h4" href="../file/src/sql/testscripts/expressions/literals.html">src/sql/testscripts/expressions/literals</a> b/<a href="../file/src/sql/testscripts/expressions/literals.html">src/sql/testscripts/expressions/literals</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -7,36 +7,36 @@ null
</a> infinity
 nan
 ---
<a href="#h4-0-3" id="h4-0-3" class="d">-Boolean(true)
</a><a href="#h4-0-4" id="h4-0-4" class="d">-Boolean(false)
</a><a href="#h4-0-5" id="h4-0-5" class="d">-Null
</a><a href="#h4-0-6" id="h4-0-6" class="d">-Float(inf)
</a><a href="#h4-0-7" id="h4-0-7" class="d">-Float(NaN)
</a><a href="#h4-0-8" id="h4-0-8" class="i">+TRUE
</a><a href="#h4-0-9" id="h4-0-9" class="i">+FALSE
</a><a href="#h4-0-10" id="h4-0-10" class="i">+NULL
</a><a href="#h4-0-11" id="h4-0-11" class="i">+inf
</a><a href="#h4-0-12" id="h4-0-12" class="i">+NaN
</a> 
 # Constants are case-insensitive.
 NULL
 NaN
 ---
<a href="#h4-0-18" id="h4-0-18" class="d">-Null
</a><a href="#h4-0-19" id="h4-0-19" class="d">-Float(NaN)
</a><a href="#h4-0-20" id="h4-0-20" class="i">+NULL
</a><a href="#h4-0-21" id="h4-0-21" class="i">+NaN
</a> 
 # Integers.
 3
 314
 03
 ---
<a href="#h4-0-28" id="h4-0-28" class="d">-Integer(3)
</a><a href="#h4-0-29" id="h4-0-29" class="d">-Integer(314)
</a><a href="#h4-0-30" id="h4-0-30" class="d">-Integer(3)
</a><a href="#h4-0-31" id="h4-0-31" class="i">+3
</a><a href="#h4-0-32" id="h4-0-32" class="i">+314
</a><a href="#h4-0-33" id="h4-0-33" class="i">+3
</a> 
 # Floats with decimal points.
 3.72
 3.
 3.0
 ---
<a href="#h4-0-40" id="h4-0-40" class="d">-Float(3.72)
</a><a href="#h4-0-41" id="h4-0-41" class="d">-Float(3.0)
</a><a href="#h4-0-42" id="h4-0-42" class="d">-Float(3.0)
</a><a href="#h4-0-43" id="h4-0-43" class="i">+3.72
</a><a href="#h4-0-44" id="h4-0-44" class="i">+3.0
</a><a href="#h4-0-45" id="h4-0-45" class="i">+3.0
</a> 
 # Negative or explicit positive numbers are parsed as prefix operators.
 [expr]&gt; -3
<a href="#h4-1" id="h4-1" class="h">@@ -44,17 +44,17 @@ Float(3.0)
</a> [expr]&gt; -3.14
 [expr]&gt; +3.14
 ---
<a href="#h4-1-3" id="h4-1-3" class="d">-Integer(-3) ← -3
</a><a href="#h4-1-4" id="h4-1-4" class="d">-Integer(3) ← 3
</a><a href="#h4-1-5" id="h4-1-5" class="d">-Float(-3.14) ← -3.14
</a><a href="#h4-1-6" id="h4-1-6" class="d">-Float(3.14) ← 3.14
</a><a href="#h4-1-7" id="h4-1-7" class="i">+-3 ← Negate(Constant(Integer(3)))
</a><a href="#h4-1-8" id="h4-1-8" class="i">+3 ← Identity(Constant(Integer(3)))
</a><a href="#h4-1-9" id="h4-1-9" class="i">+-3.14 ← Negate(Constant(Float(3.14)))
</a><a href="#h4-1-10" id="h4-1-10" class="i">+3.14 ← Identity(Constant(Float(3.14)))
</a> 
 # Floats with exponents.
 3.14e3
 2.718E-2
 ---
<a href="#h4-1-16" id="h4-1-16" class="d">-Float(3140.0)
</a><a href="#h4-1-17" id="h4-1-17" class="d">-Float(0.02718)
</a><a href="#h4-1-18" id="h4-1-18" class="i">+3140.0
</a><a href="#h4-1-19" id="h4-1-19" class="i">+0.02718
</a> 
 # Integer overflow/underflow.
 &gt;  9223372036854775807
<a href="#h4-2" id="h4-2" class="h">@@ -62,9 +62,9 @@ Float(0.02718)
</a> &gt;  -9223372036854775807
 !&gt; -9223372036854775808
 ---
<a href="#h4-2-3" id="h4-2-3" class="d">-Integer(9223372036854775807)
</a><a href="#h4-2-4" id="h4-2-4" class="i">+9223372036854775807
</a> Error: invalid input: number too large to fit in target type
<a href="#h4-2-6" id="h4-2-6" class="d">-Integer(-9223372036854775807)
</a><a href="#h4-2-7" id="h4-2-7" class="i">+-9223372036854775807
</a> Error: invalid input: number too large to fit in target type
 
 # Float overflow/underflow.
<a href="#h4-3" id="h4-3" class="h">@@ -73,10 +73,10 @@ Error: invalid input: number too large to fit in target type
</a> &gt; -1.23456789012345e308
 &gt; -1e309
 ---
<a href="#h4-3-3" id="h4-3-3" class="d">-Float(1.23456789012345e308)
</a><a href="#h4-3-4" id="h4-3-4" class="d">-Float(inf)
</a><a href="#h4-3-5" id="h4-3-5" class="d">-Float(-1.23456789012345e308)
</a><a href="#h4-3-6" id="h4-3-6" class="d">-Float(-inf)
</a><a href="#h4-3-7" id="h4-3-7" class="i">+1.23456789012345e308
</a><a href="#h4-3-8" id="h4-3-8" class="i">+inf
</a><a href="#h4-3-9" id="h4-3-9" class="i">+-1.23456789012345e308
</a><a href="#h4-3-10" id="h4-3-10" class="i">+-inf
</a> 
 # Float precision.
 &gt; 1.23456789012345e-307
<a href="#h4-4" id="h4-4" class="h">@@ -85,20 +85,20 @@ Float(-inf)
</a> &gt; 0.12345678901234567890
 &gt; 1e-325
 ---
<a href="#h4-4-3" id="h4-4-3" class="d">-Float(1.23456789012345e-307)
</a><a href="#h4-4-4" id="h4-4-4" class="d">-Float(-1.23456789012345e-307)
</a><a href="#h4-4-5" id="h4-4-5" class="d">-Float(1e-323)
</a><a href="#h4-4-6" id="h4-4-6" class="d">-Float(0.12345678901234568)
</a><a href="#h4-4-7" id="h4-4-7" class="d">-Float(0.0)
</a><a href="#h4-4-8" id="h4-4-8" class="i">+1.23456789012345e-307
</a><a href="#h4-4-9" id="h4-4-9" class="i">+-1.23456789012345e-307
</a><a href="#h4-4-10" id="h4-4-10" class="i">+1e-323
</a><a href="#h4-4-11" id="h4-4-11" class="i">+0.12345678901234568
</a><a href="#h4-4-12" id="h4-4-12" class="i">+0.0
</a> 
 # Strings, using single quotes. Only &#39;&#39; is supported as an escape sequence.
 &gt; &#39;Hi! 👋&#39;
 &gt; &#39;Has &#39;&#39;single&#39;&#39; and &quot;double&quot; quotes&#39;
 &gt; &#39;Try \n newlines and \t tabs&#39;
 ---
<a href="#h4-4-19" id="h4-4-19" class="d">-String(&quot;Hi! 👋&quot;)
</a><a href="#h4-4-20" id="h4-4-20" class="d">-String(&quot;Has &#39;single&#39; and \&quot;double\&quot; quotes&quot;)
</a><a href="#h4-4-21" id="h4-4-21" class="d">-String(&quot;Try \\n newlines and \\t tabs&quot;)
</a><a href="#h4-4-22" id="h4-4-22" class="i">+&#39;Hi! 👋&#39;
</a><a href="#h4-4-23" id="h4-4-23" class="i">+&#39;Has \&#39;single\&#39; and \&quot;double\&quot; quotes&#39;
</a><a href="#h4-4-24" id="h4-4-24" class="i">+&#39;Try \\n newlines and \\t tabs&#39;
</a> 
 # Double quotes are identifiers, not string literals. This fails to evaluate as
 # a constant expression.
<b>diff --git a/<a id="h5" href="../file/src/sql/testscripts/expressions/op_compare_equal.html">src/sql/testscripts/expressions/op_compare_equal</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_equal.html">src/sql/testscripts/expressions/op_compare_equal</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -5,32 +5,32 @@
</a> &gt; TRUE = FALSE
 &gt; FALSE = TRUE
 ---
<a href="#h5-0-3" id="h5-0-3" class="d">-Boolean(true)
</a><a href="#h5-0-4" id="h5-0-4" class="d">-Boolean(false)
</a><a href="#h5-0-5" id="h5-0-5" class="d">-Boolean(false)
</a><a href="#h5-0-6" id="h5-0-6" class="i">+TRUE
</a><a href="#h5-0-7" id="h5-0-7" class="i">+FALSE
</a><a href="#h5-0-8" id="h5-0-8" class="i">+FALSE
</a> 
 # Integers.
 &gt; 1 = 1
 &gt; 1 = 2
 ---
<a href="#h5-0-14" id="h5-0-14" class="d">-Boolean(true)
</a><a href="#h5-0-15" id="h5-0-15" class="d">-Boolean(false)
</a><a href="#h5-0-16" id="h5-0-16" class="i">+TRUE
</a><a href="#h5-0-17" id="h5-0-17" class="i">+FALSE
</a> 
 # Floats.
 &gt; 3.14 = 3.14
 &gt; 3.14 = 2.718
 ---
<a href="#h5-0-23" id="h5-0-23" class="d">-Boolean(true)
</a><a href="#h5-0-24" id="h5-0-24" class="d">-Boolean(false)
</a><a href="#h5-0-25" id="h5-0-25" class="i">+TRUE
</a><a href="#h5-0-26" id="h5-0-26" class="i">+FALSE
</a> 
 # Float special values.
 &gt; 0.0 = -0.0
 &gt; INFINITY = INFINITY
 &gt; NAN = NAN
 ---
<a href="#h5-0-33" id="h5-0-33" class="d">-Boolean(true)
</a><a href="#h5-0-34" id="h5-0-34" class="d">-Boolean(true)
</a><a href="#h5-0-35" id="h5-0-35" class="d">-Boolean(false)
</a><a href="#h5-0-36" id="h5-0-36" class="i">+TRUE
</a><a href="#h5-0-37" id="h5-0-37" class="i">+TRUE
</a><a href="#h5-0-38" id="h5-0-38" class="i">+FALSE
</a> 
 # Mixed integers and floats.
 &gt; 3.0 = 3
<a href="#h5-1" id="h5-1" class="h">@@ -38,10 +38,10 @@ Boolean(false)
</a> &gt; 3 = 3.01
 &gt; -0.0 = 0
 ---
<a href="#h5-1-3" id="h5-1-3" class="d">-Boolean(true)
</a><a href="#h5-1-4" id="h5-1-4" class="d">-Boolean(false)
</a><a href="#h5-1-5" id="h5-1-5" class="d">-Boolean(false)
</a><a href="#h5-1-6" id="h5-1-6" class="d">-Boolean(true)
</a><a href="#h5-1-7" id="h5-1-7" class="i">+TRUE
</a><a href="#h5-1-8" id="h5-1-8" class="i">+FALSE
</a><a href="#h5-1-9" id="h5-1-9" class="i">+FALSE
</a><a href="#h5-1-10" id="h5-1-10" class="i">+TRUE
</a> 
 # Strings.
 &gt; &#39;abc&#39; = &#39;abc&#39;
<a href="#h5-2" id="h5-2" class="h">@@ -51,12 +51,12 @@ Boolean(true)
</a> &gt; &#39;😀&#39; = &#39;😀&#39;
 &gt; &#39;😀&#39; = &#39;🙁&#39;
 ---
<a href="#h5-2-3" id="h5-2-3" class="d">-Boolean(true)
</a><a href="#h5-2-4" id="h5-2-4" class="d">-Boolean(false)
</a><a href="#h5-2-5" id="h5-2-5" class="d">-Boolean(false)
</a><a href="#h5-2-6" id="h5-2-6" class="d">-Boolean(false)
</a><a href="#h5-2-7" id="h5-2-7" class="d">-Boolean(true)
</a><a href="#h5-2-8" id="h5-2-8" class="d">-Boolean(false)
</a><a href="#h5-2-9" id="h5-2-9" class="i">+TRUE
</a><a href="#h5-2-10" id="h5-2-10" class="i">+FALSE
</a><a href="#h5-2-11" id="h5-2-11" class="i">+FALSE
</a><a href="#h5-2-12" id="h5-2-12" class="i">+FALSE
</a><a href="#h5-2-13" id="h5-2-13" class="i">+TRUE
</a><a href="#h5-2-14" id="h5-2-14" class="i">+FALSE
</a> 
 # NULLs.
 &gt; 1 = NULL
<a href="#h5-3" id="h5-3" class="h">@@ -67,13 +67,13 @@ Boolean(false)
</a> &gt; NAN = NULL
 &gt; INFINITY = NULL
 ---
<a href="#h5-3-3" id="h5-3-3" class="d">-Null
</a><a href="#h5-3-4" id="h5-3-4" class="d">-Null
</a><a href="#h5-3-5" id="h5-3-5" class="d">-Null
</a><a href="#h5-3-6" id="h5-3-6" class="d">-Null
</a><a href="#h5-3-7" id="h5-3-7" class="d">-Null
</a><a href="#h5-3-8" id="h5-3-8" class="d">-Null
</a><a href="#h5-3-9" id="h5-3-9" class="d">-Null
</a><a href="#h5-3-10" id="h5-3-10" class="i">+NULL
</a><a href="#h5-3-11" id="h5-3-11" class="i">+NULL
</a><a href="#h5-3-12" id="h5-3-12" class="i">+NULL
</a><a href="#h5-3-13" id="h5-3-13" class="i">+NULL
</a><a href="#h5-3-14" id="h5-3-14" class="i">+NULL
</a><a href="#h5-3-15" id="h5-3-15" class="i">+NULL
</a><a href="#h5-3-16" id="h5-3-16" class="i">+NULL
</a> 
 # Type mismatches.
 !&gt; true = 1
<b>diff --git a/<a id="h6" href="../file/src/sql/testscripts/expressions/op_compare_greater.html">src/sql/testscripts/expressions/op_compare_greater</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_greater.html">src/sql/testscripts/expressions/op_compare_greater</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -6,10 +6,10 @@
</a> &gt; TRUE &gt; TRUE
 &gt; FALSE &gt; FALSE
 ---
<a href="#h6-0-3" id="h6-0-3" class="d">-Boolean(true)
</a><a href="#h6-0-4" id="h6-0-4" class="d">-Boolean(false)
</a><a href="#h6-0-5" id="h6-0-5" class="d">-Boolean(false)
</a><a href="#h6-0-6" id="h6-0-6" class="d">-Boolean(false)
</a><a href="#h6-0-7" id="h6-0-7" class="i">+TRUE
</a><a href="#h6-0-8" id="h6-0-8" class="i">+FALSE
</a><a href="#h6-0-9" id="h6-0-9" class="i">+FALSE
</a><a href="#h6-0-10" id="h6-0-10" class="i">+FALSE
</a> 
 # Integers.
 &gt; 3 &gt; 2
<a href="#h6-1" id="h6-1" class="h">@@ -18,11 +18,11 @@ Boolean(false)
</a> &gt; -1 &gt; 0
 &gt; 0 &gt; -1
 ---
<a href="#h6-1-3" id="h6-1-3" class="d">-Boolean(true)
</a><a href="#h6-1-4" id="h6-1-4" class="d">-Boolean(false)
</a><a href="#h6-1-5" id="h6-1-5" class="d">-Boolean(false)
</a><a href="#h6-1-6" id="h6-1-6" class="d">-Boolean(false)
</a><a href="#h6-1-7" id="h6-1-7" class="d">-Boolean(true)
</a><a href="#h6-1-8" id="h6-1-8" class="i">+TRUE
</a><a href="#h6-1-9" id="h6-1-9" class="i">+FALSE
</a><a href="#h6-1-10" id="h6-1-10" class="i">+FALSE
</a><a href="#h6-1-11" id="h6-1-11" class="i">+FALSE
</a><a href="#h6-1-12" id="h6-1-12" class="i">+TRUE
</a> 
 # Floats.
 &gt; 3.14 &gt; 3.13
<a href="#h6-2" id="h6-2" class="h">@@ -30,10 +30,10 @@ Boolean(true)
</a> &gt; 3.14 &gt; 3.15
 &gt; 0.0 &gt; -0.0
 ---
<a href="#h6-2-3" id="h6-2-3" class="d">-Boolean(true)
</a><a href="#h6-2-4" id="h6-2-4" class="d">-Boolean(false)
</a><a href="#h6-2-5" id="h6-2-5" class="d">-Boolean(false)
</a><a href="#h6-2-6" id="h6-2-6" class="d">-Boolean(false)
</a><a href="#h6-2-7" id="h6-2-7" class="i">+TRUE
</a><a href="#h6-2-8" id="h6-2-8" class="i">+FALSE
</a><a href="#h6-2-9" id="h6-2-9" class="i">+FALSE
</a><a href="#h6-2-10" id="h6-2-10" class="i">+FALSE
</a> 
 # Float special values.
 &gt; INFINITY &gt; 1e300
<a href="#h6-3" id="h6-3" class="h">@@ -44,13 +44,13 @@ Boolean(false)
</a> &gt; INFINITY &gt; NAN
 &gt; NAN &gt; 0.0
 ---
<a href="#h6-3-3" id="h6-3-3" class="d">-Boolean(true)
</a><a href="#h6-3-4" id="h6-3-4" class="d">-Boolean(false)
</a><a href="#h6-3-5" id="h6-3-5" class="d">-Boolean(true)
</a><a href="#h6-3-6" id="h6-3-6" class="d">-Boolean(false)
</a><a href="#h6-3-7" id="h6-3-7" class="d">-Boolean(false)
</a><a href="#h6-3-8" id="h6-3-8" class="d">-Boolean(false)
</a><a href="#h6-3-9" id="h6-3-9" class="d">-Boolean(false)
</a><a href="#h6-3-10" id="h6-3-10" class="i">+TRUE
</a><a href="#h6-3-11" id="h6-3-11" class="i">+FALSE
</a><a href="#h6-3-12" id="h6-3-12" class="i">+TRUE
</a><a href="#h6-3-13" id="h6-3-13" class="i">+FALSE
</a><a href="#h6-3-14" id="h6-3-14" class="i">+FALSE
</a><a href="#h6-3-15" id="h6-3-15" class="i">+FALSE
</a><a href="#h6-3-16" id="h6-3-16" class="i">+FALSE
</a> 
 # Mixed integer/float values.
 &gt; 3 &gt; 3.0
<a href="#h6-4" id="h6-4" class="h">@@ -58,10 +58,10 @@ Boolean(false)
</a> &gt; 3 &gt; 3.1
 &gt; 0 &gt; -0.0
 ---
<a href="#h6-4-3" id="h6-4-3" class="d">-Boolean(false)
</a><a href="#h6-4-4" id="h6-4-4" class="d">-Boolean(true)
</a><a href="#h6-4-5" id="h6-4-5" class="d">-Boolean(false)
</a><a href="#h6-4-6" id="h6-4-6" class="d">-Boolean(false)
</a><a href="#h6-4-7" id="h6-4-7" class="i">+FALSE
</a><a href="#h6-4-8" id="h6-4-8" class="i">+TRUE
</a><a href="#h6-4-9" id="h6-4-9" class="i">+FALSE
</a><a href="#h6-4-10" id="h6-4-10" class="i">+FALSE
</a> 
 # Strings.
 &gt; &#39;abc&#39; &gt; &#39;abc&#39;
<a href="#h6-5" id="h6-5" class="h">@@ -69,19 +69,19 @@ Boolean(false)
</a> &gt; &#39;abc&#39; &gt; &#39;ab&#39;
 &gt; &#39;b&#39; &gt; &#39;abc&#39;
 ---
<a href="#h6-5-3" id="h6-5-3" class="d">-Boolean(false)
</a><a href="#h6-5-4" id="h6-5-4" class="d">-Boolean(true)
</a><a href="#h6-5-5" id="h6-5-5" class="d">-Boolean(true)
</a><a href="#h6-5-6" id="h6-5-6" class="d">-Boolean(true)
</a><a href="#h6-5-7" id="h6-5-7" class="i">+FALSE
</a><a href="#h6-5-8" id="h6-5-8" class="i">+TRUE
</a><a href="#h6-5-9" id="h6-5-9" class="i">+TRUE
</a><a href="#h6-5-10" id="h6-5-10" class="i">+TRUE
</a> 
 # Empty strings.
 &gt; &#39;&#39; &gt; &#39;&#39;
 &gt; &#39;a&#39; &gt; &#39;&#39;
 &gt; &#39;&#39; &gt; &#39;a&#39;
 ---
<a href="#h6-5-17" id="h6-5-17" class="d">-Boolean(false)
</a><a href="#h6-5-18" id="h6-5-18" class="d">-Boolean(true)
</a><a href="#h6-5-19" id="h6-5-19" class="d">-Boolean(false)
</a><a href="#h6-5-20" id="h6-5-20" class="i">+FALSE
</a><a href="#h6-5-21" id="h6-5-21" class="i">+TRUE
</a><a href="#h6-5-22" id="h6-5-22" class="i">+FALSE
</a> 
 # String case comparisons.
 &gt; &#39;a&#39; &gt; &#39;B&#39;
<a href="#h6-6" id="h6-6" class="h">@@ -89,19 +89,19 @@ Boolean(false)
</a> &gt; &#39;A&#39; &gt; &#39;b&#39;
 &gt; &#39;Z&#39; &gt; &#39;b&#39;
 ---
<a href="#h6-6-3" id="h6-6-3" class="d">-Boolean(true)
</a><a href="#h6-6-4" id="h6-6-4" class="d">-Boolean(true)
</a><a href="#h6-6-5" id="h6-6-5" class="d">-Boolean(false)
</a><a href="#h6-6-6" id="h6-6-6" class="d">-Boolean(false)
</a><a href="#h6-6-7" id="h6-6-7" class="i">+TRUE
</a><a href="#h6-6-8" id="h6-6-8" class="i">+TRUE
</a><a href="#h6-6-9" id="h6-6-9" class="i">+FALSE
</a><a href="#h6-6-10" id="h6-6-10" class="i">+FALSE
</a> 
 # Unicode strings.
 &gt; &#39;🙁&#39; &gt; &#39;😀&#39;
 &gt; &#39;😀&#39; &gt; &#39;😀&#39;
 &gt; &#39;😀&#39; &gt; &#39;🙁&#39;
 ---
<a href="#h6-6-17" id="h6-6-17" class="d">-Boolean(true)
</a><a href="#h6-6-18" id="h6-6-18" class="d">-Boolean(false)
</a><a href="#h6-6-19" id="h6-6-19" class="d">-Boolean(false)
</a><a href="#h6-6-20" id="h6-6-20" class="i">+TRUE
</a><a href="#h6-6-21" id="h6-6-21" class="i">+FALSE
</a><a href="#h6-6-22" id="h6-6-22" class="i">+FALSE
</a> 
 # NULLs.
 &gt; TRUE &gt; NULL
<a href="#h6-7" id="h6-7" class="h">@@ -115,16 +115,16 @@ Boolean(false)
</a> &gt; NULL &gt; NULL
 &gt; NULL &gt; NAN
 ---
<a href="#h6-7-3" id="h6-7-3" class="d">-Null
</a><a href="#h6-7-4" id="h6-7-4" class="d">-Null
</a><a href="#h6-7-5" id="h6-7-5" class="d">-Null
</a><a href="#h6-7-6" id="h6-7-6" class="d">-Null
</a><a href="#h6-7-7" id="h6-7-7" class="d">-Null
</a><a href="#h6-7-8" id="h6-7-8" class="d">-Null
</a><a href="#h6-7-9" id="h6-7-9" class="d">-Null
</a><a href="#h6-7-10" id="h6-7-10" class="d">-Null
</a><a href="#h6-7-11" id="h6-7-11" class="d">-Null
</a><a href="#h6-7-12" id="h6-7-12" class="d">-Null
</a><a href="#h6-7-13" id="h6-7-13" class="i">+NULL
</a><a href="#h6-7-14" id="h6-7-14" class="i">+NULL
</a><a href="#h6-7-15" id="h6-7-15" class="i">+NULL
</a><a href="#h6-7-16" id="h6-7-16" class="i">+NULL
</a><a href="#h6-7-17" id="h6-7-17" class="i">+NULL
</a><a href="#h6-7-18" id="h6-7-18" class="i">+NULL
</a><a href="#h6-7-19" id="h6-7-19" class="i">+NULL
</a><a href="#h6-7-20" id="h6-7-20" class="i">+NULL
</a><a href="#h6-7-21" id="h6-7-21" class="i">+NULL
</a><a href="#h6-7-22" id="h6-7-22" class="i">+NULL
</a> 
 # Type conflicts.
 !&gt; TRUE &gt; 1
<b>diff --git a/<a id="h7" href="../file/src/sql/testscripts/expressions/op_compare_greater_equal.html">src/sql/testscripts/expressions/op_compare_greater_equal</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_greater_equal.html">src/sql/testscripts/expressions/op_compare_greater_equal</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -6,22 +6,22 @@
</a> [expr]&gt; 0 &gt;= 0
 [expr]&gt; 0 &gt;= -1
 ---
<a href="#h7-0-3" id="h7-0-3" class="d">-Boolean(false) ← 0 &gt; 1 OR 0 = 1
</a><a href="#h7-0-4" id="h7-0-4" class="d">-Boolean(true) ← 0 &gt; 0 OR 0 = 0
</a><a href="#h7-0-5" id="h7-0-5" class="d">-Boolean(true) ← 0 &gt; -1 OR 0 = -1
</a><a href="#h7-0-6" id="h7-0-6" class="i">+FALSE ← Or(GreaterThan(Constant(Integer(0)), Constant(Integer(1))), Equal(Constant(Integer(0)), Constant(Integer(1))))
</a><a href="#h7-0-7" id="h7-0-7" class="i">+TRUE ← Or(GreaterThan(Constant(Integer(0)), Constant(Integer(0))), Equal(Constant(Integer(0)), Constant(Integer(0))))
</a><a href="#h7-0-8" id="h7-0-8" class="i">+TRUE ← Or(GreaterThan(Constant(Integer(0)), Negate(Constant(Integer(1)))), Equal(Constant(Integer(0)), Negate(Constant(Integer(1)))))
</a> 
 [expr]&gt; -0.0 &gt;= 0.0
 [expr]&gt; INFINITY &gt;= INFINITY
 [expr]&gt; NAN &gt;= NAN
 ---
<a href="#h7-0-14" id="h7-0-14" class="d">-Boolean(true) ← -0.0 &gt; 0.0 OR -0.0 = 0.0
</a><a href="#h7-0-15" id="h7-0-15" class="d">-Boolean(true) ← inf &gt; inf OR inf = inf
</a><a href="#h7-0-16" id="h7-0-16" class="d">-Boolean(false) ← NaN &gt; NaN OR NaN = NaN
</a><a href="#h7-0-17" id="h7-0-17" class="i">+TRUE ← Or(GreaterThan(Negate(Constant(Float(0.0))), Constant(Float(0.0))), Equal(Negate(Constant(Float(0.0))), Constant(Float(0.0))))
</a><a href="#h7-0-18" id="h7-0-18" class="i">+TRUE ← Or(GreaterThan(Constant(Float(inf)), Constant(Float(inf))), Equal(Constant(Float(inf)), Constant(Float(inf))))
</a><a href="#h7-0-19" id="h7-0-19" class="i">+FALSE ← Or(GreaterThan(Constant(Float(NaN)), Constant(Float(NaN))), Equal(Constant(Float(NaN)), Constant(Float(NaN))))
</a> 
 [expr]&gt; NULL &gt;= 1
 [expr]&gt; NULL &gt;= NAN
 [expr]&gt; NULL &gt;= NULL
 ---
<a href="#h7-0-25" id="h7-0-25" class="d">-Null ← NULL &gt; 1 OR NULL = 1
</a><a href="#h7-0-26" id="h7-0-26" class="d">-Null ← NULL &gt; NaN OR NULL = NaN
</a><a href="#h7-0-27" id="h7-0-27" class="d">-Null ← NULL &gt; NULL OR NULL = NULL
</a><a href="#h7-0-28" id="h7-0-28" class="i">+NULL ← Or(GreaterThan(Constant(Null), Constant(Integer(1))), Equal(Constant(Null), Constant(Integer(1))))
</a><a href="#h7-0-29" id="h7-0-29" class="i">+NULL ← Or(GreaterThan(Constant(Null), Constant(Float(NaN))), Equal(Constant(Null), Constant(Float(NaN))))
</a><a href="#h7-0-30" id="h7-0-30" class="i">+NULL ← Or(GreaterThan(Constant(Null), Constant(Null)), Equal(Constant(Null), Constant(Null)))
</a><b>diff --git a/<a id="h8" href="../file/src/sql/testscripts/expressions/op_compare_is_nan.html">src/sql/testscripts/expressions/op_compare_is_nan</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_is_nan.html">src/sql/testscripts/expressions/op_compare_is_nan</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -4,9 +4,9 @@
</a> &gt; NAN IS NAN
 &gt; NULL IS NAN
 ---
<a href="#h8-0-3" id="h8-0-3" class="d">-Boolean(false)
</a><a href="#h8-0-4" id="h8-0-4" class="d">-Boolean(true)
</a><a href="#h8-0-5" id="h8-0-5" class="d">-Null
</a><a href="#h8-0-6" id="h8-0-6" class="i">+FALSE
</a><a href="#h8-0-7" id="h8-0-7" class="i">+TRUE
</a><a href="#h8-0-8" id="h8-0-8" class="i">+NULL
</a> 
 !&gt; FALSE IS NAN
 !&gt; 0 IS NAN
<b>diff --git a/<a id="h9" href="../file/src/sql/testscripts/expressions/op_compare_is_null.html">src/sql/testscripts/expressions/op_compare_is_null</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_is_null.html">src/sql/testscripts/expressions/op_compare_is_null</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -8,10 +8,10 @@
</a> &gt; NAN IS NULL
 &gt; NULL IS NULL
 ---
<a href="#h9-0-3" id="h9-0-3" class="d">-Boolean(false)
</a><a href="#h9-0-4" id="h9-0-4" class="d">-Boolean(false)
</a><a href="#h9-0-5" id="h9-0-5" class="d">-Boolean(false)
</a><a href="#h9-0-6" id="h9-0-6" class="d">-Boolean(false)
</a><a href="#h9-0-7" id="h9-0-7" class="d">-Boolean(false)
</a><a href="#h9-0-8" id="h9-0-8" class="d">-Boolean(false)
</a><a href="#h9-0-9" id="h9-0-9" class="d">-Boolean(true)
</a><a href="#h9-0-10" id="h9-0-10" class="i">+FALSE
</a><a href="#h9-0-11" id="h9-0-11" class="i">+FALSE
</a><a href="#h9-0-12" id="h9-0-12" class="i">+FALSE
</a><a href="#h9-0-13" id="h9-0-13" class="i">+FALSE
</a><a href="#h9-0-14" id="h9-0-14" class="i">+FALSE
</a><a href="#h9-0-15" id="h9-0-15" class="i">+FALSE
</a><a href="#h9-0-16" id="h9-0-16" class="i">+TRUE
</a><b>diff --git a/<a id="h10" href="../file/src/sql/testscripts/expressions/op_compare_lesser.html">src/sql/testscripts/expressions/op_compare_lesser</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_lesser.html">src/sql/testscripts/expressions/op_compare_lesser</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -6,10 +6,10 @@
</a> &gt; TRUE &lt; TRUE
 &gt; FALSE &lt; FALSE
 ---
<a href="#h10-0-3" id="h10-0-3" class="d">-Boolean(true)
</a><a href="#h10-0-4" id="h10-0-4" class="d">-Boolean(false)
</a><a href="#h10-0-5" id="h10-0-5" class="d">-Boolean(false)
</a><a href="#h10-0-6" id="h10-0-6" class="d">-Boolean(false)
</a><a href="#h10-0-7" id="h10-0-7" class="i">+TRUE
</a><a href="#h10-0-8" id="h10-0-8" class="i">+FALSE
</a><a href="#h10-0-9" id="h10-0-9" class="i">+FALSE
</a><a href="#h10-0-10" id="h10-0-10" class="i">+FALSE
</a> 
 # Integers.
 &gt; 3 &lt; 2
<a href="#h10-1" id="h10-1" class="h">@@ -18,11 +18,11 @@ Boolean(false)
</a> &gt; -1 &lt; 0
 &gt; 0 &lt; -1
 ---
<a href="#h10-1-3" id="h10-1-3" class="d">-Boolean(false)
</a><a href="#h10-1-4" id="h10-1-4" class="d">-Boolean(false)
</a><a href="#h10-1-5" id="h10-1-5" class="d">-Boolean(true)
</a><a href="#h10-1-6" id="h10-1-6" class="d">-Boolean(true)
</a><a href="#h10-1-7" id="h10-1-7" class="d">-Boolean(false)
</a><a href="#h10-1-8" id="h10-1-8" class="i">+FALSE
</a><a href="#h10-1-9" id="h10-1-9" class="i">+FALSE
</a><a href="#h10-1-10" id="h10-1-10" class="i">+TRUE
</a><a href="#h10-1-11" id="h10-1-11" class="i">+TRUE
</a><a href="#h10-1-12" id="h10-1-12" class="i">+FALSE
</a> 
 # Floats.
 &gt; 3.14 &lt; 3.13
<a href="#h10-2" id="h10-2" class="h">@@ -30,10 +30,10 @@ Boolean(false)
</a> &gt; 3.14 &lt; 3.15
 &gt; -0.0 &lt; 0.0
 ---
<a href="#h10-2-3" id="h10-2-3" class="d">-Boolean(false)
</a><a href="#h10-2-4" id="h10-2-4" class="d">-Boolean(false)
</a><a href="#h10-2-5" id="h10-2-5" class="d">-Boolean(true)
</a><a href="#h10-2-6" id="h10-2-6" class="d">-Boolean(false)
</a><a href="#h10-2-7" id="h10-2-7" class="i">+FALSE
</a><a href="#h10-2-8" id="h10-2-8" class="i">+FALSE
</a><a href="#h10-2-9" id="h10-2-9" class="i">+TRUE
</a><a href="#h10-2-10" id="h10-2-10" class="i">+FALSE
</a> 
 # Float special values.
 &gt; 1e300 &lt; INFINITY
<a href="#h10-3" id="h10-3" class="h">@@ -44,13 +44,13 @@ Boolean(false)
</a> &gt; INFINITY &lt; NAN
 &gt; 0.0 &lt; NAN
 ---
<a href="#h10-3-3" id="h10-3-3" class="d">-Boolean(true)
</a><a href="#h10-3-4" id="h10-3-4" class="d">-Boolean(false)
</a><a href="#h10-3-5" id="h10-3-5" class="d">-Boolean(true)
</a><a href="#h10-3-6" id="h10-3-6" class="d">-Boolean(false)
</a><a href="#h10-3-7" id="h10-3-7" class="d">-Boolean(false)
</a><a href="#h10-3-8" id="h10-3-8" class="d">-Boolean(false)
</a><a href="#h10-3-9" id="h10-3-9" class="d">-Boolean(false)
</a><a href="#h10-3-10" id="h10-3-10" class="i">+TRUE
</a><a href="#h10-3-11" id="h10-3-11" class="i">+FALSE
</a><a href="#h10-3-12" id="h10-3-12" class="i">+TRUE
</a><a href="#h10-3-13" id="h10-3-13" class="i">+FALSE
</a><a href="#h10-3-14" id="h10-3-14" class="i">+FALSE
</a><a href="#h10-3-15" id="h10-3-15" class="i">+FALSE
</a><a href="#h10-3-16" id="h10-3-16" class="i">+FALSE
</a> 
 # Mixed integer/float values.
 &gt; 3 &lt; 2.9
<a href="#h10-4" id="h10-4" class="h">@@ -58,10 +58,10 @@ Boolean(false)
</a> &gt; 3 &lt; 3.1
 &gt; -0.0 &lt; 0
 ---
<a href="#h10-4-3" id="h10-4-3" class="d">-Boolean(false)
</a><a href="#h10-4-4" id="h10-4-4" class="d">-Boolean(false)
</a><a href="#h10-4-5" id="h10-4-5" class="d">-Boolean(true)
</a><a href="#h10-4-6" id="h10-4-6" class="d">-Boolean(false)
</a><a href="#h10-4-7" id="h10-4-7" class="i">+FALSE
</a><a href="#h10-4-8" id="h10-4-8" class="i">+FALSE
</a><a href="#h10-4-9" id="h10-4-9" class="i">+TRUE
</a><a href="#h10-4-10" id="h10-4-10" class="i">+FALSE
</a> 
 # Strings.
 &gt; &#39;abc&#39; &lt; &#39;abc&#39;
<a href="#h10-5" id="h10-5" class="h">@@ -69,19 +69,19 @@ Boolean(false)
</a> &gt; &#39;ab&#39; &lt; &#39;abc&#39;
 &gt; &#39;abc&#39; &lt; &#39;b&#39;
 ---
<a href="#h10-5-3" id="h10-5-3" class="d">-Boolean(false)
</a><a href="#h10-5-4" id="h10-5-4" class="d">-Boolean(true)
</a><a href="#h10-5-5" id="h10-5-5" class="d">-Boolean(true)
</a><a href="#h10-5-6" id="h10-5-6" class="d">-Boolean(true)
</a><a href="#h10-5-7" id="h10-5-7" class="i">+FALSE
</a><a href="#h10-5-8" id="h10-5-8" class="i">+TRUE
</a><a href="#h10-5-9" id="h10-5-9" class="i">+TRUE
</a><a href="#h10-5-10" id="h10-5-10" class="i">+TRUE
</a> 
 # Empty strings.
 &gt; &#39;&#39; &lt; &#39;&#39;
 &gt; &#39;&#39; &lt; &#39;a&#39;
 &gt; &#39;a&#39; &lt; &#39;&#39;
 ---
<a href="#h10-5-17" id="h10-5-17" class="d">-Boolean(false)
</a><a href="#h10-5-18" id="h10-5-18" class="d">-Boolean(true)
</a><a href="#h10-5-19" id="h10-5-19" class="d">-Boolean(false)
</a><a href="#h10-5-20" id="h10-5-20" class="i">+FALSE
</a><a href="#h10-5-21" id="h10-5-21" class="i">+TRUE
</a><a href="#h10-5-22" id="h10-5-22" class="i">+FALSE
</a> 
 # String case comparisons.
 &gt; &#39;B&#39; &lt; &#39;a&#39;
<a href="#h10-6" id="h10-6" class="h">@@ -89,19 +89,19 @@ Boolean(false)
</a> &gt; &#39;B&#39; &lt; &#39;A&#39;
 &gt; &#39;B&#39; &lt; &#39;Z&#39;
 ---
<a href="#h10-6-3" id="h10-6-3" class="d">-Boolean(true)
</a><a href="#h10-6-4" id="h10-6-4" class="d">-Boolean(true)
</a><a href="#h10-6-5" id="h10-6-5" class="d">-Boolean(false)
</a><a href="#h10-6-6" id="h10-6-6" class="d">-Boolean(true)
</a><a href="#h10-6-7" id="h10-6-7" class="i">+TRUE
</a><a href="#h10-6-8" id="h10-6-8" class="i">+TRUE
</a><a href="#h10-6-9" id="h10-6-9" class="i">+FALSE
</a><a href="#h10-6-10" id="h10-6-10" class="i">+TRUE
</a> 
 # Unicode strings.
 &gt; &#39;😀&#39; &lt; &#39;🙁&#39; 
 &gt; &#39;😀&#39; &lt; &#39;😀&#39; 
 &gt; &#39;🙁&#39; &lt; &#39;😀&#39; 
 ---
<a href="#h10-6-17" id="h10-6-17" class="d">-Boolean(true)
</a><a href="#h10-6-18" id="h10-6-18" class="d">-Boolean(false)
</a><a href="#h10-6-19" id="h10-6-19" class="d">-Boolean(false)
</a><a href="#h10-6-20" id="h10-6-20" class="i">+TRUE
</a><a href="#h10-6-21" id="h10-6-21" class="i">+FALSE
</a><a href="#h10-6-22" id="h10-6-22" class="i">+FALSE
</a> 
 # NULLs.
 &gt; TRUE &lt; NULL
<a href="#h10-7" id="h10-7" class="h">@@ -115,16 +115,16 @@ Boolean(false)
</a> &gt; NULL &lt; NULL
 &gt; NULL &lt; NAN
 ---
<a href="#h10-7-3" id="h10-7-3" class="d">-Null
</a><a href="#h10-7-4" id="h10-7-4" class="d">-Null
</a><a href="#h10-7-5" id="h10-7-5" class="d">-Null
</a><a href="#h10-7-6" id="h10-7-6" class="d">-Null
</a><a href="#h10-7-7" id="h10-7-7" class="d">-Null
</a><a href="#h10-7-8" id="h10-7-8" class="d">-Null
</a><a href="#h10-7-9" id="h10-7-9" class="d">-Null
</a><a href="#h10-7-10" id="h10-7-10" class="d">-Null
</a><a href="#h10-7-11" id="h10-7-11" class="d">-Null
</a><a href="#h10-7-12" id="h10-7-12" class="d">-Null
</a><a href="#h10-7-13" id="h10-7-13" class="i">+NULL
</a><a href="#h10-7-14" id="h10-7-14" class="i">+NULL
</a><a href="#h10-7-15" id="h10-7-15" class="i">+NULL
</a><a href="#h10-7-16" id="h10-7-16" class="i">+NULL
</a><a href="#h10-7-17" id="h10-7-17" class="i">+NULL
</a><a href="#h10-7-18" id="h10-7-18" class="i">+NULL
</a><a href="#h10-7-19" id="h10-7-19" class="i">+NULL
</a><a href="#h10-7-20" id="h10-7-20" class="i">+NULL
</a><a href="#h10-7-21" id="h10-7-21" class="i">+NULL
</a><a href="#h10-7-22" id="h10-7-22" class="i">+NULL
</a> 
 # Type conflicts.
 !&gt; TRUE &lt; 1
<b>diff --git a/<a id="h11" href="../file/src/sql/testscripts/expressions/op_compare_lesser_equal.html">src/sql/testscripts/expressions/op_compare_lesser_equal</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_lesser_equal.html">src/sql/testscripts/expressions/op_compare_lesser_equal</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -6,22 +6,22 @@
</a> [expr]&gt; 0 &lt;= 0
 [expr]&gt; -1 &lt;= 0
 ---
<a href="#h11-0-3" id="h11-0-3" class="d">-Boolean(false) ← 1 &lt; 0 OR 1 = 0
</a><a href="#h11-0-4" id="h11-0-4" class="d">-Boolean(true) ← 0 &lt; 0 OR 0 = 0
</a><a href="#h11-0-5" id="h11-0-5" class="d">-Boolean(true) ← -1 &lt; 0 OR -1 = 0
</a><a href="#h11-0-6" id="h11-0-6" class="i">+FALSE ← Or(LessThan(Constant(Integer(1)), Constant(Integer(0))), Equal(Constant(Integer(1)), Constant(Integer(0))))
</a><a href="#h11-0-7" id="h11-0-7" class="i">+TRUE ← Or(LessThan(Constant(Integer(0)), Constant(Integer(0))), Equal(Constant(Integer(0)), Constant(Integer(0))))
</a><a href="#h11-0-8" id="h11-0-8" class="i">+TRUE ← Or(LessThan(Negate(Constant(Integer(1))), Constant(Integer(0))), Equal(Negate(Constant(Integer(1))), Constant(Integer(0))))
</a> 
 [expr]&gt; 0.0 &lt;= -0.0
 [expr]&gt; INFINITY &lt;= INFINITY
 [expr]&gt; NAN &lt;= NAN
 ---
<a href="#h11-0-14" id="h11-0-14" class="d">-Boolean(true) ← 0.0 &lt; -0.0 OR 0.0 = -0.0
</a><a href="#h11-0-15" id="h11-0-15" class="d">-Boolean(true) ← inf &lt; inf OR inf = inf
</a><a href="#h11-0-16" id="h11-0-16" class="d">-Boolean(false) ← NaN &lt; NaN OR NaN = NaN
</a><a href="#h11-0-17" id="h11-0-17" class="i">+TRUE ← Or(LessThan(Constant(Float(0.0)), Negate(Constant(Float(0.0)))), Equal(Constant(Float(0.0)), Negate(Constant(Float(0.0)))))
</a><a href="#h11-0-18" id="h11-0-18" class="i">+TRUE ← Or(LessThan(Constant(Float(inf)), Constant(Float(inf))), Equal(Constant(Float(inf)), Constant(Float(inf))))
</a><a href="#h11-0-19" id="h11-0-19" class="i">+FALSE ← Or(LessThan(Constant(Float(NaN)), Constant(Float(NaN))), Equal(Constant(Float(NaN)), Constant(Float(NaN))))
</a> 
 [expr]&gt; NULL &lt;= 1
 [expr]&gt; NULL &lt;= NAN
 [expr]&gt; NULL &lt;= NULL
 ---
<a href="#h11-0-25" id="h11-0-25" class="d">-Null ← NULL &lt; 1 OR NULL = 1
</a><a href="#h11-0-26" id="h11-0-26" class="d">-Null ← NULL &lt; NaN OR NULL = NaN
</a><a href="#h11-0-27" id="h11-0-27" class="d">-Null ← NULL &lt; NULL OR NULL = NULL
</a><a href="#h11-0-28" id="h11-0-28" class="i">+NULL ← Or(LessThan(Constant(Null), Constant(Integer(1))), Equal(Constant(Null), Constant(Integer(1))))
</a><a href="#h11-0-29" id="h11-0-29" class="i">+NULL ← Or(LessThan(Constant(Null), Constant(Float(NaN))), Equal(Constant(Null), Constant(Float(NaN))))
</a><a href="#h11-0-30" id="h11-0-30" class="i">+NULL ← Or(LessThan(Constant(Null), Constant(Null)), Equal(Constant(Null), Constant(Null)))
</a><b>diff --git a/<a id="h12" href="../file/src/sql/testscripts/expressions/op_compare_not_equal.html">src/sql/testscripts/expressions/op_compare_not_equal</a> b/<a href="../file/src/sql/testscripts/expressions/op_compare_not_equal.html">src/sql/testscripts/expressions/op_compare_not_equal</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -6,20 +6,20 @@
</a> [expr]&gt; 1 != 3
 [expr]&gt; 1 != NULL
 ---
<a href="#h12-0-3" id="h12-0-3" class="d">-Boolean(false) ← NOT 1 = 1
</a><a href="#h12-0-4" id="h12-0-4" class="d">-Boolean(true) ← NOT 1 = 3
</a><a href="#h12-0-5" id="h12-0-5" class="d">-Null ← NOT 1 = NULL
</a><a href="#h12-0-6" id="h12-0-6" class="i">+FALSE ← Not(Equal(Constant(Integer(1)), Constant(Integer(1))))
</a><a href="#h12-0-7" id="h12-0-7" class="i">+TRUE ← Not(Equal(Constant(Integer(1)), Constant(Integer(3))))
</a><a href="#h12-0-8" id="h12-0-8" class="i">+NULL ← Not(Equal(Constant(Integer(1)), Constant(Null)))
</a> 
 [expr]&gt; 3.0 != 3
 [expr]&gt; 0.0 != -0.0
 ---
<a href="#h12-0-13" id="h12-0-13" class="d">-Boolean(false) ← NOT 3.0 = 3
</a><a href="#h12-0-14" id="h12-0-14" class="d">-Boolean(false) ← NOT 0.0 = -0.0
</a><a href="#h12-0-15" id="h12-0-15" class="i">+FALSE ← Not(Equal(Constant(Float(3.0)), Constant(Integer(3))))
</a><a href="#h12-0-16" id="h12-0-16" class="i">+FALSE ← Not(Equal(Constant(Float(0.0)), Negate(Constant(Float(0.0)))))
</a> 
 [expr]&gt; NAN != NAN
 [expr]&gt; INFINITY != INFINITY
 [expr]&gt; NULL != NULL
 ---
<a href="#h12-0-22" id="h12-0-22" class="d">-Boolean(true) ← NOT NaN = NaN
</a><a href="#h12-0-23" id="h12-0-23" class="d">-Boolean(false) ← NOT inf = inf
</a><a href="#h12-0-24" id="h12-0-24" class="d">-Null ← NOT NULL = NULL
</a><a href="#h12-0-25" id="h12-0-25" class="i">+TRUE ← Not(Equal(Constant(Float(NaN)), Constant(Float(NaN))))
</a><a href="#h12-0-26" id="h12-0-26" class="i">+FALSE ← Not(Equal(Constant(Float(inf)), Constant(Float(inf))))
</a><a href="#h12-0-27" id="h12-0-27" class="i">+NULL ← Not(Equal(Constant(Null), Constant(Null)))
</a><b>diff --git a/<a id="h13" href="../file/src/sql/testscripts/expressions/op_logic_and.html">src/sql/testscripts/expressions/op_logic_and</a> b/<a href="../file/src/sql/testscripts/expressions/op_logic_and.html">src/sql/testscripts/expressions/op_logic_and</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -6,10 +6,10 @@
</a> &gt; FALSE AND TRUE
 &gt; FALSE AND FALSE
 ---
<a href="#h13-0-3" id="h13-0-3" class="d">-Boolean(true)
</a><a href="#h13-0-4" id="h13-0-4" class="d">-Boolean(false)
</a><a href="#h13-0-5" id="h13-0-5" class="d">-Boolean(false)
</a><a href="#h13-0-6" id="h13-0-6" class="d">-Boolean(false)
</a><a href="#h13-0-7" id="h13-0-7" class="i">+TRUE
</a><a href="#h13-0-8" id="h13-0-8" class="i">+FALSE
</a><a href="#h13-0-9" id="h13-0-9" class="i">+FALSE
</a><a href="#h13-0-10" id="h13-0-10" class="i">+FALSE
</a> 
 # Trinary logic.
 &gt; TRUE AND NULL
<a href="#h13-1" id="h13-1" class="h">@@ -18,11 +18,11 @@ Boolean(false)
</a> &gt; NULL AND FALSE
 &gt; NULL AND NULL
 ---
<a href="#h13-1-3" id="h13-1-3" class="d">-Null
</a><a href="#h13-1-4" id="h13-1-4" class="d">-Null
</a><a href="#h13-1-5" id="h13-1-5" class="d">-Boolean(false)
</a><a href="#h13-1-6" id="h13-1-6" class="d">-Boolean(false)
</a><a href="#h13-1-7" id="h13-1-7" class="d">-Null
</a><a href="#h13-1-8" id="h13-1-8" class="i">+NULL
</a><a href="#h13-1-9" id="h13-1-9" class="i">+NULL
</a><a href="#h13-1-10" id="h13-1-10" class="i">+FALSE
</a><a href="#h13-1-11" id="h13-1-11" class="i">+FALSE
</a><a href="#h13-1-12" id="h13-1-12" class="i">+NULL
</a> 
 # Non-booleans.
 !&gt; 1 AND TRUE
<b>diff --git a/<a id="h14" href="../file/src/sql/testscripts/expressions/op_logic_not.html">src/sql/testscripts/expressions/op_logic_not</a> b/<a href="../file/src/sql/testscripts/expressions/op_logic_not.html">src/sql/testscripts/expressions/op_logic_not</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -4,9 +4,9 @@
</a> &gt; NOT FALSE
 &gt; NOT NULL
 ---
<a href="#h14-0-3" id="h14-0-3" class="d">-Boolean(false)
</a><a href="#h14-0-4" id="h14-0-4" class="d">-Boolean(true)
</a><a href="#h14-0-5" id="h14-0-5" class="d">-Null
</a><a href="#h14-0-6" id="h14-0-6" class="i">+FALSE
</a><a href="#h14-0-7" id="h14-0-7" class="i">+TRUE
</a><a href="#h14-0-8" id="h14-0-8" class="i">+NULL
</a> 
 # Non-booleans.
 !&gt; NOT 1
<b>diff --git a/<a id="h15" href="../file/src/sql/testscripts/expressions/op_logic_or.html">src/sql/testscripts/expressions/op_logic_or</a> b/<a href="../file/src/sql/testscripts/expressions/op_logic_or.html">src/sql/testscripts/expressions/op_logic_or</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -6,10 +6,10 @@
</a> &gt; FALSE OR TRUE
 &gt; FALSE OR FALSE
 ---
<a href="#h15-0-3" id="h15-0-3" class="d">-Boolean(true)
</a><a href="#h15-0-4" id="h15-0-4" class="d">-Boolean(true)
</a><a href="#h15-0-5" id="h15-0-5" class="d">-Boolean(true)
</a><a href="#h15-0-6" id="h15-0-6" class="d">-Boolean(false)
</a><a href="#h15-0-7" id="h15-0-7" class="i">+TRUE
</a><a href="#h15-0-8" id="h15-0-8" class="i">+TRUE
</a><a href="#h15-0-9" id="h15-0-9" class="i">+TRUE
</a><a href="#h15-0-10" id="h15-0-10" class="i">+FALSE
</a> 
 # Trinary logic.
 &gt; TRUE OR NULL
<a href="#h15-1" id="h15-1" class="h">@@ -18,11 +18,11 @@ Boolean(false)
</a> &gt; NULL OR FALSE
 &gt; NULL OR NULL
 ---
<a href="#h15-1-3" id="h15-1-3" class="d">-Boolean(true)
</a><a href="#h15-1-4" id="h15-1-4" class="d">-Boolean(true)
</a><a href="#h15-1-5" id="h15-1-5" class="d">-Null
</a><a href="#h15-1-6" id="h15-1-6" class="d">-Null
</a><a href="#h15-1-7" id="h15-1-7" class="d">-Null
</a><a href="#h15-1-8" id="h15-1-8" class="i">+TRUE
</a><a href="#h15-1-9" id="h15-1-9" class="i">+TRUE
</a><a href="#h15-1-10" id="h15-1-10" class="i">+NULL
</a><a href="#h15-1-11" id="h15-1-11" class="i">+NULL
</a><a href="#h15-1-12" id="h15-1-12" class="i">+NULL
</a> 
 # Non-booleans.
 !&gt; 1 OR TRUE
<b>diff --git a/<a id="h16" href="../file/src/sql/testscripts/expressions/op_math_add.html">src/sql/testscripts/expressions/op_math_add</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_add.html">src/sql/testscripts/expressions/op_math_add</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -5,16 +5,16 @@
</a> [expr]&gt; 1 + -3
 [expr]&gt; 1 + -2 + 3
 ---
<a href="#h16-0-3" id="h16-0-3" class="d">-Integer(3) ← 1 + 2
</a><a href="#h16-0-4" id="h16-0-4" class="d">-Integer(-2) ← 1 + -3
</a><a href="#h16-0-5" id="h16-0-5" class="d">-Integer(2) ← 1 + -2 + 3
</a><a href="#h16-0-6" id="h16-0-6" class="i">+3 ← Add(Constant(Integer(1)), Constant(Integer(2)))
</a><a href="#h16-0-7" id="h16-0-7" class="i">+-2 ← Add(Constant(Integer(1)), Negate(Constant(Integer(3))))
</a><a href="#h16-0-8" id="h16-0-8" class="i">+2 ← Add(Add(Constant(Integer(1)), Negate(Constant(Integer(2)))), Constant(Integer(3)))
</a> 
 # Simple float addition.
 [expr]&gt; 3.1 + 2.71
 [expr]&gt; 3.1 + -2.71
 ---
<a href="#h16-0-14" id="h16-0-14" class="d">-Float(5.8100000000000005) ← 3.1 + 2.71
</a><a href="#h16-0-15" id="h16-0-15" class="d">-Float(0.3900000000000001) ← 3.1 + -2.71
</a><a href="#h16-0-16" id="h16-0-16" class="i">+5.8100000000000005 ← Add(Constant(Float(3.1)), Constant(Float(2.71)))
</a><a href="#h16-0-17" id="h16-0-17" class="i">+0.3900000000000001 ← Add(Constant(Float(3.1)), Negate(Constant(Float(2.71))))
</a> 
 # Combined int/float addition yields floats.
 &gt; 3.72 + 1
<a href="#h16-1" id="h16-1" class="h">@@ -22,19 +22,19 @@ Float(0.3900000000000001) ← 3.1 + -2.71
</a> &gt; 1 + 3.0
 &gt; -1 + 3.72
 ---
<a href="#h16-1-3" id="h16-1-3" class="d">-Float(4.720000000000001)
</a><a href="#h16-1-4" id="h16-1-4" class="d">-Float(4.720000000000001)
</a><a href="#h16-1-5" id="h16-1-5" class="d">-Float(4.0)
</a><a href="#h16-1-6" id="h16-1-6" class="d">-Float(2.72)
</a><a href="#h16-1-7" id="h16-1-7" class="i">+4.720000000000001
</a><a href="#h16-1-8" id="h16-1-8" class="i">+4.720000000000001
</a><a href="#h16-1-9" id="h16-1-9" class="i">+4.0
</a><a href="#h16-1-10" id="h16-1-10" class="i">+2.72
</a> 
 # Addition with nulls yields null.
 &gt; 1 + NULL
 &gt; NULL + 3.14
 &gt; NULL + NULL
 ---
<a href="#h16-1-17" id="h16-1-17" class="d">-Null
</a><a href="#h16-1-18" id="h16-1-18" class="d">-Null
</a><a href="#h16-1-19" id="h16-1-19" class="d">-Null
</a><a href="#h16-1-20" id="h16-1-20" class="i">+NULL
</a><a href="#h16-1-21" id="h16-1-21" class="i">+NULL
</a><a href="#h16-1-22" id="h16-1-22" class="i">+NULL
</a> 
 # Addition with infinity and NaN.
 &gt; 1 + INFINITY
<a href="#h16-2" id="h16-2" class="h">@@ -44,12 +44,12 @@ Null
</a> &gt; 3.14 + -NAN
 &gt; INFINITY + NAN
 ---
<a href="#h16-2-3" id="h16-2-3" class="d">-Float(inf)
</a><a href="#h16-2-4" id="h16-2-4" class="d">-Float(-inf)
</a><a href="#h16-2-5" id="h16-2-5" class="d">-Float(inf)
</a><a href="#h16-2-6" id="h16-2-6" class="d">-Float(NaN)
</a><a href="#h16-2-7" id="h16-2-7" class="d">-Float(NaN)
</a><a href="#h16-2-8" id="h16-2-8" class="d">-Float(NaN)
</a><a href="#h16-2-9" id="h16-2-9" class="i">+inf
</a><a href="#h16-2-10" id="h16-2-10" class="i">+-inf
</a><a href="#h16-2-11" id="h16-2-11" class="i">+inf
</a><a href="#h16-2-12" id="h16-2-12" class="i">+NaN
</a><a href="#h16-2-13" id="h16-2-13" class="i">+NaN
</a><a href="#h16-2-14" id="h16-2-14" class="i">+NaN
</a> 
 # Overflow and underflow.
 !&gt; 9223372036854775807 + 1
<a href="#h16-3" id="h16-3" class="h">@@ -59,8 +59,8 @@ Float(NaN)
</a> ---
 Error: invalid input: integer overflow
 Error: invalid input: integer overflow
<a href="#h16-3-3" id="h16-3-3" class="d">-Float(9.223372036854776e18)
</a><a href="#h16-3-4" id="h16-3-4" class="d">-Float(inf)
</a><a href="#h16-3-5" id="h16-3-5" class="i">+9.223372036854776e18
</a><a href="#h16-3-6" id="h16-3-6" class="i">+inf
</a> 
 # Bools and strings error.
 !&gt; TRUE + FALSE
<b>diff --git a/<a id="h17" href="../file/src/sql/testscripts/expressions/op_math_divide.html">src/sql/testscripts/expressions/op_math_divide</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_divide.html">src/sql/testscripts/expressions/op_math_divide</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -5,16 +5,16 @@
</a> [expr]&gt; 8 / 3
 [expr]&gt; 8 / -3
 ---
<a href="#h17-0-3" id="h17-0-3" class="d">-Integer(3) ← 9 / 3
</a><a href="#h17-0-4" id="h17-0-4" class="d">-Integer(2) ← 8 / 3
</a><a href="#h17-0-5" id="h17-0-5" class="d">-Integer(-2) ← 8 / -3
</a><a href="#h17-0-6" id="h17-0-6" class="i">+3 ← Divide(Constant(Integer(9)), Constant(Integer(3)))
</a><a href="#h17-0-7" id="h17-0-7" class="i">+2 ← Divide(Constant(Integer(8)), Constant(Integer(3)))
</a><a href="#h17-0-8" id="h17-0-8" class="i">+-2 ← Divide(Constant(Integer(8)), Negate(Constant(Integer(3))))
</a> 
 # Floats.
 [expr]&gt; 4.16 / 3.2
 [expr]&gt; 4.16 / -3.2
 ---
<a href="#h17-0-14" id="h17-0-14" class="d">-Float(1.3) ← 4.16 / 3.2
</a><a href="#h17-0-15" id="h17-0-15" class="d">-Float(-1.3) ← 4.16 / -3.2
</a><a href="#h17-0-16" id="h17-0-16" class="i">+1.3 ← Divide(Constant(Float(4.16)), Constant(Float(3.2)))
</a><a href="#h17-0-17" id="h17-0-17" class="i">+-1.3 ← Divide(Constant(Float(4.16)), Negate(Constant(Float(3.2))))
</a> 
 # Mixed always yields floats.
 &gt; 3 / 1.2
<a href="#h17-1" id="h17-1" class="h">@@ -22,10 +22,10 @@ Float(-1.3) ← 4.16 / -3.2
</a> &gt; 9.0 / 3
 &gt; 0.0 / 1
 ---
<a href="#h17-1-3" id="h17-1-3" class="d">-Float(2.5)
</a><a href="#h17-1-4" id="h17-1-4" class="d">-Float(0.39999999999999997)
</a><a href="#h17-1-5" id="h17-1-5" class="d">-Float(3.0)
</a><a href="#h17-1-6" id="h17-1-6" class="d">-Float(0.0)
</a><a href="#h17-1-7" id="h17-1-7" class="i">+2.5
</a><a href="#h17-1-8" id="h17-1-8" class="i">+0.39999999999999997
</a><a href="#h17-1-9" id="h17-1-9" class="i">+3.0
</a><a href="#h17-1-10" id="h17-1-10" class="i">+0.0
</a> 
 # Division by zero errors for integers, yields infinity or nan for floats.
 !&gt; 1 / 0
<a href="#h17-2" id="h17-2" class="h">@@ -39,10 +39,10 @@ Float(0.0)
</a> Error: invalid input: can&#39;t divide by zero
 Error: invalid input: can&#39;t divide by zero
 Error: invalid input: can&#39;t divide by zero
<a href="#h17-2-3" id="h17-2-3" class="d">-Float(inf)
</a><a href="#h17-2-4" id="h17-2-4" class="d">-Float(NaN)
</a><a href="#h17-2-5" id="h17-2-5" class="d">-Float(-inf)
</a><a href="#h17-2-6" id="h17-2-6" class="d">-Float(-inf)
</a><a href="#h17-2-7" id="h17-2-7" class="i">+inf
</a><a href="#h17-2-8" id="h17-2-8" class="i">+NaN
</a><a href="#h17-2-9" id="h17-2-9" class="i">+-inf
</a><a href="#h17-2-10" id="h17-2-10" class="i">+-inf
</a> 
 # Division with NULL always yields NULL.
 &gt; 1 / NULL
<a href="#h17-3" id="h17-3" class="h">@@ -52,12 +52,12 @@ Float(-inf)
</a> &gt; NULL / NULL
 &gt; NULL / 0
 ---
<a href="#h17-3-3" id="h17-3-3" class="d">-Null
</a><a href="#h17-3-4" id="h17-3-4" class="d">-Null
</a><a href="#h17-3-5" id="h17-3-5" class="d">-Null
</a><a href="#h17-3-6" id="h17-3-6" class="d">-Null
</a><a href="#h17-3-7" id="h17-3-7" class="d">-Null
</a><a href="#h17-3-8" id="h17-3-8" class="d">-Null
</a><a href="#h17-3-9" id="h17-3-9" class="i">+NULL
</a><a href="#h17-3-10" id="h17-3-10" class="i">+NULL
</a><a href="#h17-3-11" id="h17-3-11" class="i">+NULL
</a><a href="#h17-3-12" id="h17-3-12" class="i">+NULL
</a><a href="#h17-3-13" id="h17-3-13" class="i">+NULL
</a><a href="#h17-3-14" id="h17-3-14" class="i">+NULL
</a> 
 # Division by infinity.
 &gt; 3.14 / INFINITY
<a href="#h17-4" id="h17-4" class="h">@@ -69,14 +69,14 @@ Null
</a> &gt; INFINITY / INFINITY
 &gt; -INFINITY / -INFINITY
 ---
<a href="#h17-4-3" id="h17-4-3" class="d">-Float(0.0)
</a><a href="#h17-4-4" id="h17-4-4" class="d">-Float(-0.0)
</a><a href="#h17-4-5" id="h17-4-5" class="d">-Float(-0.0)
</a><a href="#h17-4-6" id="h17-4-6" class="d">-Float(inf)
</a><a href="#h17-4-7" id="h17-4-7" class="d">-Float(0.0)
</a><a href="#h17-4-8" id="h17-4-8" class="d">-Float(inf)
</a><a href="#h17-4-9" id="h17-4-9" class="d">-Float(NaN)
</a><a href="#h17-4-10" id="h17-4-10" class="d">-Float(NaN)
</a><a href="#h17-4-11" id="h17-4-11" class="i">+0.0
</a><a href="#h17-4-12" id="h17-4-12" class="i">+-0.0
</a><a href="#h17-4-13" id="h17-4-13" class="i">+-0.0
</a><a href="#h17-4-14" id="h17-4-14" class="i">+inf
</a><a href="#h17-4-15" id="h17-4-15" class="i">+0.0
</a><a href="#h17-4-16" id="h17-4-16" class="i">+inf
</a><a href="#h17-4-17" id="h17-4-17" class="i">+NaN
</a><a href="#h17-4-18" id="h17-4-18" class="i">+NaN
</a> 
 # Division by NaN.
 &gt; 1 / NAN
<a href="#h17-5" id="h17-5" class="h">@@ -84,10 +84,10 @@ Float(NaN)
</a> &gt; NAN / NAN
 &gt; NAN / 0
 ---
<a href="#h17-5-3" id="h17-5-3" class="d">-Float(NaN)
</a><a href="#h17-5-4" id="h17-5-4" class="d">-Float(NaN)
</a><a href="#h17-5-5" id="h17-5-5" class="d">-Float(NaN)
</a><a href="#h17-5-6" id="h17-5-6" class="d">-Float(NaN)
</a><a href="#h17-5-7" id="h17-5-7" class="i">+NaN
</a><a href="#h17-5-8" id="h17-5-8" class="i">+NaN
</a><a href="#h17-5-9" id="h17-5-9" class="i">+NaN
</a><a href="#h17-5-10" id="h17-5-10" class="i">+NaN
</a> 
 # Bools and strings error.
 !&gt; TRUE / FALSE
<b>diff --git a/<a id="h18" href="../file/src/sql/testscripts/expressions/op_math_exponentiate.html">src/sql/testscripts/expressions/op_math_exponentiate</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_exponentiate.html">src/sql/testscripts/expressions/op_math_exponentiate</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -6,24 +6,24 @@
</a> [expr]&gt; 0 ^ 2
 [expr]&gt; 9 ^ -3
 ---
<a href="#h18-0-3" id="h18-0-3" class="d">-Integer(8) ← 2 ^ 3
</a><a href="#h18-0-4" id="h18-0-4" class="d">-Integer(1) ← 2 ^ 0
</a><a href="#h18-0-5" id="h18-0-5" class="d">-Integer(0) ← 0 ^ 2
</a><a href="#h18-0-6" id="h18-0-6" class="d">-Float(0.0013717421124828531) ← 9 ^ -3
</a><a href="#h18-0-7" id="h18-0-7" class="i">+8 ← Exponentiate(Constant(Integer(2)), Constant(Integer(3)))
</a><a href="#h18-0-8" id="h18-0-8" class="i">+1 ← Exponentiate(Constant(Integer(2)), Constant(Integer(0)))
</a><a href="#h18-0-9" id="h18-0-9" class="i">+0 ← Exponentiate(Constant(Integer(0)), Constant(Integer(2)))
</a><a href="#h18-0-10" id="h18-0-10" class="i">+0.0013717421124828531 ← Exponentiate(Constant(Integer(9)), Negate(Constant(Integer(3))))
</a> 
 # Floats.
 [expr]&gt; 6.25 ^ 0.5
 [expr]&gt; 6.25 ^ 3.14
 ---
<a href="#h18-0-16" id="h18-0-16" class="d">-Float(2.5) ← 6.25 ^ 0.5
</a><a href="#h18-0-17" id="h18-0-17" class="d">-Float(315.5464179407336) ← 6.25 ^ 3.14
</a><a href="#h18-0-18" id="h18-0-18" class="i">+2.5 ← Exponentiate(Constant(Float(6.25)), Constant(Float(0.5)))
</a><a href="#h18-0-19" id="h18-0-19" class="i">+315.5464179407336 ← Exponentiate(Constant(Float(6.25)), Constant(Float(3.14)))
</a> 
 # Mixed.
 &gt; 6.25 ^ 2
 &gt; 9 ^ 0.5
 ---
<a href="#h18-0-25" id="h18-0-25" class="d">-Float(39.0625)
</a><a href="#h18-0-26" id="h18-0-26" class="d">-Float(3.0)
</a><a href="#h18-0-27" id="h18-0-27" class="i">+39.0625
</a><a href="#h18-0-28" id="h18-0-28" class="i">+3.0
</a> 
 # Overflow and underflow.
 !&gt; 2 ^ 10000000000
<a href="#h18-1" id="h18-1" class="h">@@ -32,7 +32,7 @@ Float(3.0)
</a> ---
 Error: invalid input: integer overflow
 Error: invalid input: integer overflow
<a href="#h18-1-3" id="h18-1-3" class="d">-Float(inf)
</a><a href="#h18-1-4" id="h18-1-4" class="i">+inf
</a> 
 # Nulls.
 &gt; 1 ^ NULL
<a href="#h18-2" id="h18-2" class="h">@@ -41,11 +41,11 @@ Float(inf)
</a> &gt; NULL ^ 3.14
 &gt; NULL ^ NULL
 ---
<a href="#h18-2-3" id="h18-2-3" class="d">-Null
</a><a href="#h18-2-4" id="h18-2-4" class="d">-Null
</a><a href="#h18-2-5" id="h18-2-5" class="d">-Null
</a><a href="#h18-2-6" id="h18-2-6" class="d">-Null
</a><a href="#h18-2-7" id="h18-2-7" class="d">-Null
</a><a href="#h18-2-8" id="h18-2-8" class="i">+NULL
</a><a href="#h18-2-9" id="h18-2-9" class="i">+NULL
</a><a href="#h18-2-10" id="h18-2-10" class="i">+NULL
</a><a href="#h18-2-11" id="h18-2-11" class="i">+NULL
</a><a href="#h18-2-12" id="h18-2-12" class="i">+NULL
</a> 
 # Infinity and NaN.
 &gt; 2 ^ INFINITY
<a href="#h18-3" id="h18-3" class="h">@@ -56,13 +56,13 @@ Null
</a> &gt; NAN ^ 2
 &gt; NAN ^ NAN
 ---
<a href="#h18-3-3" id="h18-3-3" class="d">-Float(inf)
</a><a href="#h18-3-4" id="h18-3-4" class="d">-Float(inf)
</a><a href="#h18-3-5" id="h18-3-5" class="d">-Float(inf)
</a><a href="#h18-3-6" id="h18-3-6" class="d">-Float(0.0)
</a><a href="#h18-3-7" id="h18-3-7" class="d">-Float(NaN)
</a><a href="#h18-3-8" id="h18-3-8" class="d">-Float(NaN)
</a><a href="#h18-3-9" id="h18-3-9" class="d">-Float(NaN)
</a><a href="#h18-3-10" id="h18-3-10" class="i">+inf
</a><a href="#h18-3-11" id="h18-3-11" class="i">+inf
</a><a href="#h18-3-12" id="h18-3-12" class="i">+inf
</a><a href="#h18-3-13" id="h18-3-13" class="i">+0.0
</a><a href="#h18-3-14" id="h18-3-14" class="i">+NaN
</a><a href="#h18-3-15" id="h18-3-15" class="i">+NaN
</a><a href="#h18-3-16" id="h18-3-16" class="i">+NaN
</a> 
 # Bools and strings.
 !&gt; TRUE ^ FALSE
<b>diff --git a/<a id="h19" href="../file/src/sql/testscripts/expressions/op_math_factorial.html">src/sql/testscripts/expressions/op_math_factorial</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_factorial.html">src/sql/testscripts/expressions/op_math_factorial</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -3,7 +3,7 @@
</a> # Integer works.
 [expr]&gt; 3!
 ---
<a href="#h19-0-3" id="h19-0-3" class="d">-Integer(6) ← 3!
</a><a href="#h19-0-4" id="h19-0-4" class="i">+6 ← Factorial(Constant(Integer(3)))
</a> 
 # But float, bool, and string fails.
 !&gt; 3.14!
<a href="#h19-1" id="h19-1" class="h">@@ -21,7 +21,7 @@ Error: invalid input: can&#39;t take factorial of &#39;a&#39;
</a> !&gt; INFINITY!
 !&gt; NAN!
 ---
<a href="#h19-1-3" id="h19-1-3" class="d">-Null
</a><a href="#h19-1-4" id="h19-1-4" class="i">+NULL
</a> Error: invalid input: can&#39;t take factorial of inf
 Error: invalid input: can&#39;t take factorial of NaN
 
<a href="#h19-2" id="h19-2" class="h">@@ -29,8 +29,8 @@ Error: invalid input: can&#39;t take factorial of NaN
</a> [expr]&gt; 3!!
 [expr]&gt; 2!!!!!!
 ---
<a href="#h19-2-3" id="h19-2-3" class="d">-Integer(720) ← 3!!
</a><a href="#h19-2-4" id="h19-2-4" class="d">-Integer(2) ← 2!!!!!!
</a><a href="#h19-2-5" id="h19-2-5" class="i">+720 ← Factorial(Factorial(Constant(Integer(3))))
</a><a href="#h19-2-6" id="h19-2-6" class="i">+2 ← Factorial(Factorial(Factorial(Factorial(Factorial(Factorial(Constant(Integer(2))))))))
</a> 
 # Overflow.
 [expr]!&gt; 3!!!
<b>diff --git a/<a id="h20" href="../file/src/sql/testscripts/expressions/op_math_identity.html">src/sql/testscripts/expressions/op_math_identity</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_identity.html">src/sql/testscripts/expressions/op_math_identity</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -4,22 +4,22 @@
</a> [expr]&gt; +1
 [expr]&gt; +3.14
 ---
<a href="#h20-0-3" id="h20-0-3" class="d">-Integer(1) ← 1
</a><a href="#h20-0-4" id="h20-0-4" class="d">-Float(3.14) ← 3.14
</a><a href="#h20-0-5" id="h20-0-5" class="i">+1 ← Identity(Constant(Integer(1)))
</a><a href="#h20-0-6" id="h20-0-6" class="i">+3.14 ← Identity(Constant(Float(3.14)))
</a> 
 # NULL, infinity and NaN.
 &gt; +NULL
 &gt; +INFINITY
 &gt; +NAN
 ---
<a href="#h20-0-13" id="h20-0-13" class="d">-Null
</a><a href="#h20-0-14" id="h20-0-14" class="d">-Float(inf)
</a><a href="#h20-0-15" id="h20-0-15" class="d">-Float(NaN)
</a><a href="#h20-0-16" id="h20-0-16" class="i">+NULL
</a><a href="#h20-0-17" id="h20-0-17" class="i">+inf
</a><a href="#h20-0-18" id="h20-0-18" class="i">+NaN
</a> 
 # Multiple applications work.
 [expr]&gt; +++1
 ---
<a href="#h20-0-23" id="h20-0-23" class="d">-Integer(1) ← 1
</a><a href="#h20-0-24" id="h20-0-24" class="i">+1 ← Identity(Identity(Identity(Constant(Integer(1)))))
</a> 
 # Bool and string fails.
 !&gt; +TRUE
<b>diff --git a/<a id="h21" href="../file/src/sql/testscripts/expressions/op_math_multiply.html">src/sql/testscripts/expressions/op_math_multiply</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_multiply.html">src/sql/testscripts/expressions/op_math_multiply</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -4,22 +4,22 @@
</a> [expr]&gt; 2 * 3
 [expr]&gt; 2 * -3
 ---
<a href="#h21-0-3" id="h21-0-3" class="d">-Integer(6) ← 2 * 3
</a><a href="#h21-0-4" id="h21-0-4" class="d">-Integer(-6) ← 2 * -3
</a><a href="#h21-0-5" id="h21-0-5" class="i">+6 ← Multiply(Constant(Integer(2)), Constant(Integer(3)))
</a><a href="#h21-0-6" id="h21-0-6" class="i">+-6 ← Multiply(Constant(Integer(2)), Negate(Constant(Integer(3))))
</a> 
 # Float.
 [expr]&gt; 3.14 * 2.71
 [expr]&gt; 3.14 * -2.71
 ---
<a href="#h21-0-12" id="h21-0-12" class="d">-Float(8.5094) ← 3.14 * 2.71
</a><a href="#h21-0-13" id="h21-0-13" class="d">-Float(-8.5094) ← 3.14 * -2.71
</a><a href="#h21-0-14" id="h21-0-14" class="i">+8.5094 ← Multiply(Constant(Float(3.14)), Constant(Float(2.71)))
</a><a href="#h21-0-15" id="h21-0-15" class="i">+-8.5094 ← Multiply(Constant(Float(3.14)), Negate(Constant(Float(2.71))))
</a> 
 # Mixed.
 &gt; 3.14 * 2
 &gt; -2 * 3.14
 ---
<a href="#h21-0-21" id="h21-0-21" class="d">-Float(6.28)
</a><a href="#h21-0-22" id="h21-0-22" class="d">-Float(-6.28)
</a><a href="#h21-0-23" id="h21-0-23" class="i">+6.28
</a><a href="#h21-0-24" id="h21-0-24" class="i">+-6.28
</a> 
 # Integer and float overflow, underflow, and precision loss.
 !&gt; 9223372036854775807 * 2
<a href="#h21-1" id="h21-1" class="h">@@ -29,8 +29,8 @@ Float(-6.28)
</a> ---
 Error: invalid input: integer overflow
 Error: invalid input: integer overflow
<a href="#h21-1-3" id="h21-1-3" class="d">-Float(inf)
</a><a href="#h21-1-4" id="h21-1-4" class="d">-Float(1.8446744073709552e19)
</a><a href="#h21-1-5" id="h21-1-5" class="i">+inf
</a><a href="#h21-1-6" id="h21-1-6" class="i">+1.8446744073709552e19
</a> 
 
 # NULLs always yield NULL.
<a href="#h21-2" id="h21-2" class="h">@@ -38,9 +38,9 @@ Float(1.8446744073709552e19)
</a> &gt; NULL * 3.14
 &gt; NULL * NULL
 ---
<a href="#h21-2-3" id="h21-2-3" class="d">-Null
</a><a href="#h21-2-4" id="h21-2-4" class="d">-Null
</a><a href="#h21-2-5" id="h21-2-5" class="d">-Null
</a><a href="#h21-2-6" id="h21-2-6" class="i">+NULL
</a><a href="#h21-2-7" id="h21-2-7" class="i">+NULL
</a><a href="#h21-2-8" id="h21-2-8" class="i">+NULL
</a> 
 # Infinity.
 &gt; 2 * INFINITY
<a href="#h21-3" id="h21-3" class="h">@@ -49,11 +49,11 @@ Null
</a> &gt; INFINITY * INFINITY
 &gt; INFINITY * -INFINITY
 ---
<a href="#h21-3-3" id="h21-3-3" class="d">-Float(inf)
</a><a href="#h21-3-4" id="h21-3-4" class="d">-Float(-inf)
</a><a href="#h21-3-5" id="h21-3-5" class="d">-Float(-inf)
</a><a href="#h21-3-6" id="h21-3-6" class="d">-Float(inf)
</a><a href="#h21-3-7" id="h21-3-7" class="d">-Float(-inf)
</a><a href="#h21-3-8" id="h21-3-8" class="i">+inf
</a><a href="#h21-3-9" id="h21-3-9" class="i">+-inf
</a><a href="#h21-3-10" id="h21-3-10" class="i">+-inf
</a><a href="#h21-3-11" id="h21-3-11" class="i">+inf
</a><a href="#h21-3-12" id="h21-3-12" class="i">+-inf
</a> 
 # NaN.
 &gt; 2 * NAN
<a href="#h21-4" id="h21-4" class="h">@@ -61,10 +61,10 @@ Float(-inf)
</a> &gt; INFINITY * NAN
 &gt; NAN * NAN
 ---
<a href="#h21-4-3" id="h21-4-3" class="d">-Float(NaN)
</a><a href="#h21-4-4" id="h21-4-4" class="d">-Float(NaN)
</a><a href="#h21-4-5" id="h21-4-5" class="d">-Float(NaN)
</a><a href="#h21-4-6" id="h21-4-6" class="d">-Float(NaN)
</a><a href="#h21-4-7" id="h21-4-7" class="i">+NaN
</a><a href="#h21-4-8" id="h21-4-8" class="i">+NaN
</a><a href="#h21-4-9" id="h21-4-9" class="i">+NaN
</a><a href="#h21-4-10" id="h21-4-10" class="i">+NaN
</a> 
 # Bools and strings.
 !&gt; TRUE * FALSE
<b>diff --git a/<a id="h22" href="../file/src/sql/testscripts/expressions/op_math_negate.html">src/sql/testscripts/expressions/op_math_negate</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_negate.html">src/sql/testscripts/expressions/op_math_negate</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -4,24 +4,24 @@
</a> [expr]&gt; -1
 [expr]&gt; -3.14
 ---
<a href="#h22-0-3" id="h22-0-3" class="d">-Integer(-1) ← -1
</a><a href="#h22-0-4" id="h22-0-4" class="d">-Float(-3.14) ← -3.14
</a><a href="#h22-0-5" id="h22-0-5" class="i">+-1 ← Negate(Constant(Integer(1)))
</a><a href="#h22-0-6" id="h22-0-6" class="i">+-3.14 ← Negate(Constant(Float(3.14)))
</a> 
 # NULL, infinity and NaN.
 &gt; -NULL
 &gt; -INFINITY
 &gt; -NAN
 ---
<a href="#h22-0-13" id="h22-0-13" class="d">-Null
</a><a href="#h22-0-14" id="h22-0-14" class="d">-Float(-inf)
</a><a href="#h22-0-15" id="h22-0-15" class="d">-Float(NaN)
</a><a href="#h22-0-16" id="h22-0-16" class="i">+NULL
</a><a href="#h22-0-17" id="h22-0-17" class="i">+-inf
</a><a href="#h22-0-18" id="h22-0-18" class="i">+NaN
</a> 
 # Multiple applications work.
 [expr]&gt; ---1
 [expr]&gt; ----1
 ---
<a href="#h22-0-24" id="h22-0-24" class="d">-Integer(-1) ← ---1
</a><a href="#h22-0-25" id="h22-0-25" class="d">-Integer(1) ← ----1
</a><a href="#h22-0-26" id="h22-0-26" class="i">+-1 ← Negate(Negate(Negate(Constant(Integer(1)))))
</a><a href="#h22-0-27" id="h22-0-27" class="i">+1 ← Negate(Negate(Negate(Negate(Constant(Integer(1))))))
</a> 
 # Bool and string fails.
 !&gt; -TRUE
<b>diff --git a/<a id="h23" href="../file/src/sql/testscripts/expressions/op_math_remainder.html">src/sql/testscripts/expressions/op_math_remainder</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_remainder.html">src/sql/testscripts/expressions/op_math_remainder</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -8,32 +8,32 @@
</a> [expr]&gt; -5 % 3
 [expr]&gt; 5 % -3
 ---
<a href="#h23-0-3" id="h23-0-3" class="d">-Integer(2) ← 5 % 3
</a><a href="#h23-0-4" id="h23-0-4" class="d">-Integer(-2) ← -5 % 3
</a><a href="#h23-0-5" id="h23-0-5" class="d">-Integer(2) ← 5 % -3
</a><a href="#h23-0-6" id="h23-0-6" class="i">+2 ← Remainder(Constant(Integer(5)), Constant(Integer(3)))
</a><a href="#h23-0-7" id="h23-0-7" class="i">+-2 ← Remainder(Negate(Constant(Integer(5))), Constant(Integer(3)))
</a><a href="#h23-0-8" id="h23-0-8" class="i">+2 ← Remainder(Constant(Integer(5)), Negate(Constant(Integer(3))))
</a> 
 # Floats.
 [expr]&gt; 6.28 % 2.2
 [expr]&gt; 6.28 % -2.2
 ---
<a href="#h23-0-14" id="h23-0-14" class="d">-Float(1.88) ← 6.28 % 2.2
</a><a href="#h23-0-15" id="h23-0-15" class="d">-Float(1.88) ← 6.28 % -2.2
</a><a href="#h23-0-16" id="h23-0-16" class="i">+1.88 ← Remainder(Constant(Float(6.28)), Constant(Float(2.2)))
</a><a href="#h23-0-17" id="h23-0-17" class="i">+1.88 ← Remainder(Constant(Float(6.28)), Negate(Constant(Float(2.2))))
</a> 
 # Mixed.
 &gt; 3.15 % 2
 &gt; 6 % 3.15
 &gt; 3.15 % -2
 ---
<a href="#h23-0-24" id="h23-0-24" class="d">-Float(1.15)
</a><a href="#h23-0-25" id="h23-0-25" class="d">-Float(2.85)
</a><a href="#h23-0-26" id="h23-0-26" class="d">-Float(1.15)
</a><a href="#h23-0-27" id="h23-0-27" class="i">+1.15
</a><a href="#h23-0-28" id="h23-0-28" class="i">+2.85
</a><a href="#h23-0-29" id="h23-0-29" class="i">+1.15
</a> 
 # Division by zero.
 !&gt; 7 % 0
 &gt; 6.28 % 0.0
 ---
 Error: invalid input: can&#39;t divide by zero
<a href="#h23-0-36" id="h23-0-36" class="d">-Float(NaN)
</a><a href="#h23-0-37" id="h23-0-37" class="i">+NaN
</a> 
 # NULLs.
 &gt; 1 % NULL
<a href="#h23-1" id="h23-1" class="h">@@ -41,10 +41,10 @@ Float(NaN)
</a> &gt; 3.14 % NULL
 &gt; NULL % NULL
 ---
<a href="#h23-1-3" id="h23-1-3" class="d">-Null
</a><a href="#h23-1-4" id="h23-1-4" class="d">-Null
</a><a href="#h23-1-5" id="h23-1-5" class="d">-Null
</a><a href="#h23-1-6" id="h23-1-6" class="d">-Null
</a><a href="#h23-1-7" id="h23-1-7" class="i">+NULL
</a><a href="#h23-1-8" id="h23-1-8" class="i">+NULL
</a><a href="#h23-1-9" id="h23-1-9" class="i">+NULL
</a><a href="#h23-1-10" id="h23-1-10" class="i">+NULL
</a> 
 # Infinity and NaN.
 &gt; INFINITY % 7
<a href="#h23-2" id="h23-2" class="h">@@ -55,13 +55,13 @@ Null
</a> &gt; NAN % 7
 &gt; NAN % NAN
 ---
<a href="#h23-2-3" id="h23-2-3" class="d">-Float(NaN)
</a><a href="#h23-2-4" id="h23-2-4" class="d">-Float(7.0)
</a><a href="#h23-2-5" id="h23-2-5" class="d">-Float(7.0)
</a><a href="#h23-2-6" id="h23-2-6" class="d">-Float(NaN)
</a><a href="#h23-2-7" id="h23-2-7" class="d">-Float(NaN)
</a><a href="#h23-2-8" id="h23-2-8" class="d">-Float(NaN)
</a><a href="#h23-2-9" id="h23-2-9" class="d">-Float(NaN)
</a><a href="#h23-2-10" id="h23-2-10" class="i">+NaN
</a><a href="#h23-2-11" id="h23-2-11" class="i">+7.0
</a><a href="#h23-2-12" id="h23-2-12" class="i">+7.0
</a><a href="#h23-2-13" id="h23-2-13" class="i">+NaN
</a><a href="#h23-2-14" id="h23-2-14" class="i">+NaN
</a><a href="#h23-2-15" id="h23-2-15" class="i">+NaN
</a><a href="#h23-2-16" id="h23-2-16" class="i">+NaN
</a> 
 # Bools and strings.
 !&gt; TRUE % FALSE
<b>diff --git a/<a id="h24" href="../file/src/sql/testscripts/expressions/op_math_subtract.html">src/sql/testscripts/expressions/op_math_subtract</a> b/<a href="../file/src/sql/testscripts/expressions/op_math_subtract.html">src/sql/testscripts/expressions/op_math_subtract</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -5,16 +5,16 @@
</a> [expr]&gt; 2 - 3
 [expr]&gt; 1 - -3 - 2
 ---
<a href="#h24-0-3" id="h24-0-3" class="d">-Integer(1) ← 2 - 1
</a><a href="#h24-0-4" id="h24-0-4" class="d">-Integer(-1) ← 2 - 3
</a><a href="#h24-0-5" id="h24-0-5" class="d">-Integer(2) ← 1 - -3 - 2
</a><a href="#h24-0-6" id="h24-0-6" class="i">+1 ← Subtract(Constant(Integer(2)), Constant(Integer(1)))
</a><a href="#h24-0-7" id="h24-0-7" class="i">+-1 ← Subtract(Constant(Integer(2)), Constant(Integer(3)))
</a><a href="#h24-0-8" id="h24-0-8" class="i">+2 ← Subtract(Subtract(Constant(Integer(1)), Negate(Constant(Integer(3)))), Constant(Integer(2)))
</a> 
 # Simple float subtraction.
 [expr]&gt; 3.1 - 2.71
 [expr]&gt; 3.1 - -2.71
 ---
<a href="#h24-0-14" id="h24-0-14" class="d">-Float(0.3900000000000001) ← 3.1 - 2.71
</a><a href="#h24-0-15" id="h24-0-15" class="d">-Float(5.8100000000000005) ← 3.1 - -2.71
</a><a href="#h24-0-16" id="h24-0-16" class="i">+0.3900000000000001 ← Subtract(Constant(Float(3.1)), Constant(Float(2.71)))
</a><a href="#h24-0-17" id="h24-0-17" class="i">+5.8100000000000005 ← Subtract(Constant(Float(3.1)), Negate(Constant(Float(2.71))))
</a> 
 # Combined int/float subtraction yields floats.
 &gt; 3.72 - 1
<a href="#h24-1" id="h24-1" class="h">@@ -22,19 +22,19 @@ Float(5.8100000000000005) ← 3.1 - -2.71
</a> &gt; 1 - 3.0
 &gt; -1 - 3.72
 ---
<a href="#h24-1-3" id="h24-1-3" class="d">-Float(2.72)
</a><a href="#h24-1-4" id="h24-1-4" class="d">-Float(-2.72)
</a><a href="#h24-1-5" id="h24-1-5" class="d">-Float(-2.0)
</a><a href="#h24-1-6" id="h24-1-6" class="d">-Float(-4.720000000000001)
</a><a href="#h24-1-7" id="h24-1-7" class="i">+2.72
</a><a href="#h24-1-8" id="h24-1-8" class="i">+-2.72
</a><a href="#h24-1-9" id="h24-1-9" class="i">+-2.0
</a><a href="#h24-1-10" id="h24-1-10" class="i">+-4.720000000000001
</a> 
 # Subtraction with nulls yields null.
 &gt; 1 - NULL
 &gt; NULL - 3.14
 &gt; NULL - NULL
 ---
<a href="#h24-1-17" id="h24-1-17" class="d">-Null
</a><a href="#h24-1-18" id="h24-1-18" class="d">-Null
</a><a href="#h24-1-19" id="h24-1-19" class="d">-Null
</a><a href="#h24-1-20" id="h24-1-20" class="i">+NULL
</a><a href="#h24-1-21" id="h24-1-21" class="i">+NULL
</a><a href="#h24-1-22" id="h24-1-22" class="i">+NULL
</a> 
 # Subtraction with infinity and NaN.
 &gt; 1 - INFINITY
<a href="#h24-2" id="h24-2" class="h">@@ -44,12 +44,12 @@ Null
</a> &gt; 3.14 - -NAN
 &gt; INFINITY - NAN
 ---
<a href="#h24-2-3" id="h24-2-3" class="d">-Float(-inf)
</a><a href="#h24-2-4" id="h24-2-4" class="d">-Float(-inf)
</a><a href="#h24-2-5" id="h24-2-5" class="d">-Float(inf)
</a><a href="#h24-2-6" id="h24-2-6" class="d">-Float(NaN)
</a><a href="#h24-2-7" id="h24-2-7" class="d">-Float(NaN)
</a><a href="#h24-2-8" id="h24-2-8" class="d">-Float(NaN)
</a><a href="#h24-2-9" id="h24-2-9" class="i">+-inf
</a><a href="#h24-2-10" id="h24-2-10" class="i">+-inf
</a><a href="#h24-2-11" id="h24-2-11" class="i">+inf
</a><a href="#h24-2-12" id="h24-2-12" class="i">+NaN
</a><a href="#h24-2-13" id="h24-2-13" class="i">+NaN
</a><a href="#h24-2-14" id="h24-2-14" class="i">+NaN
</a> 
 # Overflow and underflow.
 !&gt; 9223372036854775807 - -1
<a href="#h24-3" id="h24-3" class="h">@@ -59,8 +59,8 @@ Float(NaN)
</a> ---
 Error: invalid input: integer overflow
 Error: invalid input: integer overflow
<a href="#h24-3-3" id="h24-3-3" class="d">-Float(9.223372036854776e18)
</a><a href="#h24-3-4" id="h24-3-4" class="d">-Float(-inf)
</a><a href="#h24-3-5" id="h24-3-5" class="i">+9.223372036854776e18
</a><a href="#h24-3-6" id="h24-3-6" class="i">+-inf
</a> 
 # Bools and strings error.
 !&gt; TRUE - FALSE
<b>diff --git a/<a id="h25" href="../file/src/sql/testscripts/expressions/op_precedence.html">src/sql/testscripts/expressions/op_precedence</a> b/<a href="../file/src/sql/testscripts/expressions/op_precedence.html">src/sql/testscripts/expressions/op_precedence</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -23,26 +23,26 @@
</a> &gt; 2 + 3!
 &gt; (2 + 3)!
 ---
<a href="#h25-0-3" id="h25-0-3" class="d">-Integer(5)
</a><a href="#h25-0-4" id="h25-0-4" class="d">-Integer(9)
</a><a href="#h25-0-5" id="h25-0-5" class="d">-Integer(1)
</a><a href="#h25-0-6" id="h25-0-6" class="d">-Integer(-3)
</a><a href="#h25-0-7" id="h25-0-7" class="d">-Integer(8)
</a><a href="#h25-0-8" id="h25-0-8" class="d">-Integer(120)
</a><a href="#h25-0-9" id="h25-0-9" class="i">+5
</a><a href="#h25-0-10" id="h25-0-10" class="i">+9
</a><a href="#h25-0-11" id="h25-0-11" class="i">+1
</a><a href="#h25-0-12" id="h25-0-12" class="i">+-3
</a><a href="#h25-0-13" id="h25-0-13" class="i">+8
</a><a href="#h25-0-14" id="h25-0-14" class="i">+120
</a> 
 # Prefix -.
 &gt; -3 ^ 2
 &gt; -(3 ^ 2)
 ---
<a href="#h25-0-20" id="h25-0-20" class="d">-Integer(9)
</a><a href="#h25-0-21" id="h25-0-21" class="d">-Integer(-9)
</a><a href="#h25-0-22" id="h25-0-22" class="i">+9
</a><a href="#h25-0-23" id="h25-0-23" class="i">+-9
</a> 
 # Postfix !.
 &gt; 2 ^ 3!
 &gt; (2 ^ 3)!
 ---
<a href="#h25-0-29" id="h25-0-29" class="d">-Integer(64)
</a><a href="#h25-0-30" id="h25-0-30" class="d">-Integer(40320)
</a><a href="#h25-0-31" id="h25-0-31" class="i">+64
</a><a href="#h25-0-32" id="h25-0-32" class="i">+40320
</a> 
 # ^, which is also left-associative.
 &gt; 2 ^ 3 ^ 2
<a href="#h25-1" id="h25-1" class="h">@@ -54,14 +54,14 @@ Integer(40320)
</a> &gt; 2 ^ 5 % 2
 &gt; 2 ^ (5 % 2)
 ---
<a href="#h25-1-3" id="h25-1-3" class="d">-Integer(512)
</a><a href="#h25-1-4" id="h25-1-4" class="d">-Integer(64)
</a><a href="#h25-1-5" id="h25-1-5" class="d">-Integer(32)
</a><a href="#h25-1-6" id="h25-1-6" class="d">-Integer(4096)
</a><a href="#h25-1-7" id="h25-1-7" class="d">-Integer(8)
</a><a href="#h25-1-8" id="h25-1-8" class="d">-Integer(4)
</a><a href="#h25-1-9" id="h25-1-9" class="d">-Integer(0)
</a><a href="#h25-1-10" id="h25-1-10" class="d">-Integer(2)
</a><a href="#h25-1-11" id="h25-1-11" class="i">+512
</a><a href="#h25-1-12" id="h25-1-12" class="i">+64
</a><a href="#h25-1-13" id="h25-1-13" class="i">+32
</a><a href="#h25-1-14" id="h25-1-14" class="i">+4096
</a><a href="#h25-1-15" id="h25-1-15" class="i">+8
</a><a href="#h25-1-16" id="h25-1-16" class="i">+4
</a><a href="#h25-1-17" id="h25-1-17" class="i">+0
</a><a href="#h25-1-18" id="h25-1-18" class="i">+2
</a> 
 # *
 &gt; 3 * 4 / 2
<a href="#h25-2" id="h25-2" class="h">@@ -73,14 +73,14 @@ Integer(2)
</a> &gt; 1 - 2 * 3
 &gt; (1 - 2) * 3
 ---
<a href="#h25-2-3" id="h25-2-3" class="d">-Integer(6)
</a><a href="#h25-2-4" id="h25-2-4" class="d">-Integer(6)
</a><a href="#h25-2-5" id="h25-2-5" class="d">-Integer(0)
</a><a href="#h25-2-6" id="h25-2-6" class="d">-Integer(3)
</a><a href="#h25-2-7" id="h25-2-7" class="d">-Integer(7)
</a><a href="#h25-2-8" id="h25-2-8" class="d">-Integer(9)
</a><a href="#h25-2-9" id="h25-2-9" class="d">-Integer(-5)
</a><a href="#h25-2-10" id="h25-2-10" class="d">-Integer(-3)
</a><a href="#h25-2-11" id="h25-2-11" class="i">+6
</a><a href="#h25-2-12" id="h25-2-12" class="i">+6
</a><a href="#h25-2-13" id="h25-2-13" class="i">+0
</a><a href="#h25-2-14" id="h25-2-14" class="i">+3
</a><a href="#h25-2-15" id="h25-2-15" class="i">+7
</a><a href="#h25-2-16" id="h25-2-16" class="i">+9
</a><a href="#h25-2-17" id="h25-2-17" class="i">+-5
</a><a href="#h25-2-18" id="h25-2-18" class="i">+-3
</a> 
 # /
 &gt; 4 / 2 * 3
<a href="#h25-3" id="h25-3" class="h">@@ -92,14 +92,14 @@ Integer(-3)
</a> &gt; 4 - 2 / 2
 &gt; (4 - 2) / 2
 ---
<a href="#h25-3-3" id="h25-3-3" class="d">-Integer(6)
</a><a href="#h25-3-4" id="h25-3-4" class="d">-Integer(0)
</a><a href="#h25-3-5" id="h25-3-5" class="d">-Integer(2)
</a><a href="#h25-3-6" id="h25-3-6" class="d">-Integer(8)
</a><a href="#h25-3-7" id="h25-3-7" class="d">-Integer(4)
</a><a href="#h25-3-8" id="h25-3-8" class="d">-Integer(3)
</a><a href="#h25-3-9" id="h25-3-9" class="d">-Integer(3)
</a><a href="#h25-3-10" id="h25-3-10" class="d">-Integer(1)
</a><a href="#h25-3-11" id="h25-3-11" class="i">+6
</a><a href="#h25-3-12" id="h25-3-12" class="i">+0
</a><a href="#h25-3-13" id="h25-3-13" class="i">+2
</a><a href="#h25-3-14" id="h25-3-14" class="i">+8
</a><a href="#h25-3-15" id="h25-3-15" class="i">+4
</a><a href="#h25-3-16" id="h25-3-16" class="i">+3
</a><a href="#h25-3-17" id="h25-3-17" class="i">+3
</a><a href="#h25-3-18" id="h25-3-18" class="i">+1
</a> 
 # %
 &gt; 4 % 3 * 3
<a href="#h25-4" id="h25-4" class="h">@@ -111,14 +111,14 @@ Integer(1)
</a> &gt; 8 - 5 % 3
 &gt; (8 - 5) % 3
 ---
<a href="#h25-4-3" id="h25-4-3" class="d">-Integer(3)
</a><a href="#h25-4-4" id="h25-4-4" class="d">-Integer(4)
</a><a href="#h25-4-5" id="h25-4-5" class="d">-Integer(1)
</a><a href="#h25-4-6" id="h25-4-6" class="d">-Integer(0)
</a><a href="#h25-4-7" id="h25-4-7" class="d">-Integer(3)
</a><a href="#h25-4-8" id="h25-4-8" class="d">-Integer(0)
</a><a href="#h25-4-9" id="h25-4-9" class="d">-Integer(6)
</a><a href="#h25-4-10" id="h25-4-10" class="d">-Integer(0)
</a><a href="#h25-4-11" id="h25-4-11" class="i">+3
</a><a href="#h25-4-12" id="h25-4-12" class="i">+4
</a><a href="#h25-4-13" id="h25-4-13" class="i">+1
</a><a href="#h25-4-14" id="h25-4-14" class="i">+0
</a><a href="#h25-4-15" id="h25-4-15" class="i">+3
</a><a href="#h25-4-16" id="h25-4-16" class="i">+0
</a><a href="#h25-4-17" id="h25-4-17" class="i">+6
</a><a href="#h25-4-18" id="h25-4-18" class="i">+0
</a> 
 # +
 &gt; 1 + 2 - 3
<a href="#h25-5" id="h25-5" class="h">@@ -132,15 +132,15 @@ Integer(0)
</a> &gt; 1 + 2 &lt;= 2
 !&gt; 1 + (2 &lt;= 2)
 ---
<a href="#h25-5-3" id="h25-5-3" class="d">-Integer(0)
</a><a href="#h25-5-4" id="h25-5-4" class="d">-Integer(0)
</a><a href="#h25-5-5" id="h25-5-5" class="d">-Boolean(true)
</a><a href="#h25-5-6" id="h25-5-6" class="i">+0
</a><a href="#h25-5-7" id="h25-5-7" class="i">+0
</a><a href="#h25-5-8" id="h25-5-8" class="i">+TRUE
</a> Error: invalid input: can&#39;t add 1 and FALSE
<a href="#h25-5-10" id="h25-5-10" class="d">-Boolean(true)
</a><a href="#h25-5-11" id="h25-5-11" class="i">+TRUE
</a> Error: invalid input: can&#39;t add 1 and TRUE
<a href="#h25-5-13" id="h25-5-13" class="d">-Boolean(false)
</a><a href="#h25-5-14" id="h25-5-14" class="i">+FALSE
</a> Error: invalid input: can&#39;t add 1 and FALSE
<a href="#h25-5-16" id="h25-5-16" class="d">-Boolean(false)
</a><a href="#h25-5-17" id="h25-5-17" class="i">+FALSE
</a> Error: invalid input: can&#39;t add 1 and TRUE
 
 # -
<a href="#h25-6" id="h25-6" class="h">@@ -155,15 +155,15 @@ Error: invalid input: can&#39;t add 1 and TRUE
</a> &gt; 2 - 1 &lt;= 2
 !&gt; 2 - (1 &lt;= 2)
 ---
<a href="#h25-6-3" id="h25-6-3" class="d">-Integer(2)
</a><a href="#h25-6-4" id="h25-6-4" class="d">-Integer(0)
</a><a href="#h25-6-5" id="h25-6-5" class="d">-Boolean(false)
</a><a href="#h25-6-6" id="h25-6-6" class="i">+2
</a><a href="#h25-6-7" id="h25-6-7" class="i">+0
</a><a href="#h25-6-8" id="h25-6-8" class="i">+FALSE
</a> Error: invalid input: can&#39;t subtract 2 and FALSE
<a href="#h25-6-10" id="h25-6-10" class="d">-Boolean(false)
</a><a href="#h25-6-11" id="h25-6-11" class="i">+FALSE
</a> Error: invalid input: can&#39;t subtract 2 and FALSE
<a href="#h25-6-13" id="h25-6-13" class="d">-Boolean(true)
</a><a href="#h25-6-14" id="h25-6-14" class="i">+TRUE
</a> Error: invalid input: can&#39;t subtract 2 and TRUE
<a href="#h25-6-16" id="h25-6-16" class="d">-Boolean(true)
</a><a href="#h25-6-17" id="h25-6-17" class="i">+TRUE
</a> Error: invalid input: can&#39;t subtract 2 and TRUE
 
 # &gt;
<a href="#h25-7" id="h25-7" class="h">@@ -184,21 +184,21 @@ Error: invalid input: can&#39;t subtract 2 and TRUE
</a> &gt; 5 &gt; 3 IS NULL
 !&gt; 5 &gt; (3 IS NULL)
 ---
<a href="#h25-7-3" id="h25-7-3" class="d">-Boolean(false)
</a><a href="#h25-7-4" id="h25-7-4" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-7-6" id="h25-7-6" class="d">-Boolean(true)
</a><a href="#h25-7-7" id="h25-7-7" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-7-9" id="h25-7-9" class="d">-Boolean(false)
</a><a href="#h25-7-10" id="h25-7-10" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-7-12" id="h25-7-12" class="d">-Boolean(true)
</a><a href="#h25-7-13" id="h25-7-13" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-7-15" id="h25-7-15" class="d">-Boolean(true)
</a><a href="#h25-7-16" id="h25-7-16" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-7-18" id="h25-7-18" class="d">-Boolean(false)
</a><a href="#h25-7-19" id="h25-7-19" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
 Error: invalid input: can&#39;t LIKE TRUE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 3 and &#39;abc&#39;
<a href="#h25-7-23" id="h25-7-23" class="d">-Boolean(false)
</a><a href="#h25-7-24" id="h25-7-24" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 5 and FALSE
 
 # &gt;=
<a href="#h25-8" id="h25-8" class="h">@@ -219,21 +219,21 @@ Error: invalid input: can&#39;t compare 5 and FALSE
</a> &gt; 5 &gt;= 3 IS NULL
 !&gt; 5 &gt;= (3 IS NULL)
 ---
<a href="#h25-8-3" id="h25-8-3" class="d">-Boolean(false)
</a><a href="#h25-8-4" id="h25-8-4" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-8-6" id="h25-8-6" class="d">-Boolean(true)
</a><a href="#h25-8-7" id="h25-8-7" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-8-9" id="h25-8-9" class="d">-Boolean(false)
</a><a href="#h25-8-10" id="h25-8-10" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-8-12" id="h25-8-12" class="d">-Boolean(true)
</a><a href="#h25-8-13" id="h25-8-13" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-8-15" id="h25-8-15" class="d">-Boolean(true)
</a><a href="#h25-8-16" id="h25-8-16" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-8-18" id="h25-8-18" class="d">-Boolean(false)
</a><a href="#h25-8-19" id="h25-8-19" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
 Error: invalid input: can&#39;t LIKE TRUE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 3 and &#39;abc&#39;
<a href="#h25-8-23" id="h25-8-23" class="d">-Boolean(false)
</a><a href="#h25-8-24" id="h25-8-24" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 5 and FALSE
 
 # &lt;
<a href="#h25-9" id="h25-9" class="h">@@ -254,21 +254,21 @@ Error: invalid input: can&#39;t compare 5 and FALSE
</a> &gt; 5 &lt; 3 IS NULL
 !&gt; 5 &lt; (3 IS NULL)
 ---
<a href="#h25-9-3" id="h25-9-3" class="d">-Boolean(true)
</a><a href="#h25-9-4" id="h25-9-4" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-9-6" id="h25-9-6" class="d">-Boolean(true)
</a><a href="#h25-9-7" id="h25-9-7" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-9-9" id="h25-9-9" class="d">-Boolean(false)
</a><a href="#h25-9-10" id="h25-9-10" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-9-12" id="h25-9-12" class="d">-Boolean(false)
</a><a href="#h25-9-13" id="h25-9-13" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-9-15" id="h25-9-15" class="d">-Boolean(false)
</a><a href="#h25-9-16" id="h25-9-16" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-9-18" id="h25-9-18" class="d">-Boolean(true)
</a><a href="#h25-9-19" id="h25-9-19" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
 Error: invalid input: can&#39;t LIKE FALSE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 3 and &#39;abc&#39;
<a href="#h25-9-23" id="h25-9-23" class="d">-Boolean(false)
</a><a href="#h25-9-24" id="h25-9-24" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 5 and FALSE
 
 # &lt;=
<a href="#h25-10" id="h25-10" class="h">@@ -289,21 +289,21 @@ Error: invalid input: can&#39;t compare 5 and FALSE
</a> &gt; 5 &lt;= 3 IS NULL
 !&gt; 5 &lt;= (3 IS NULL)
 ---
<a href="#h25-10-3" id="h25-10-3" class="d">-Boolean(true)
</a><a href="#h25-10-4" id="h25-10-4" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-10-6" id="h25-10-6" class="d">-Boolean(true)
</a><a href="#h25-10-7" id="h25-10-7" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-10-9" id="h25-10-9" class="d">-Boolean(false)
</a><a href="#h25-10-10" id="h25-10-10" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-10-12" id="h25-10-12" class="d">-Boolean(false)
</a><a href="#h25-10-13" id="h25-10-13" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-10-15" id="h25-10-15" class="d">-Boolean(false)
</a><a href="#h25-10-16" id="h25-10-16" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
<a href="#h25-10-18" id="h25-10-18" class="d">-Boolean(true)
</a><a href="#h25-10-19" id="h25-10-19" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 3 and TRUE
 Error: invalid input: can&#39;t LIKE FALSE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 3 and &#39;abc&#39;
<a href="#h25-10-23" id="h25-10-23" class="d">-Boolean(false)
</a><a href="#h25-10-24" id="h25-10-24" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 5 and FALSE
 
 # =
<a href="#h25-11" id="h25-11" class="h">@@ -316,13 +316,13 @@ Error: invalid input: can&#39;t compare 5 and FALSE
</a> &gt; NOT 1 = 1
 !&gt; (NOT 1) = 1
 ---
<a href="#h25-11-3" id="h25-11-3" class="d">-Boolean(true)
</a><a href="#h25-11-4" id="h25-11-4" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 1 and FALSE
 Error: invalid input: can&#39;t LIKE TRUE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 1 and &#39;abc&#39;
<a href="#h25-11-8" id="h25-11-8" class="d">-Boolean(true)
</a><a href="#h25-11-9" id="h25-11-9" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 1 and TRUE
<a href="#h25-11-11" id="h25-11-11" class="d">-Boolean(false)
</a><a href="#h25-11-12" id="h25-11-12" class="i">+FALSE
</a> Error: invalid input: can&#39;t NOT 1
 
 # !=
<a href="#h25-12" id="h25-12" class="h">@@ -335,13 +335,13 @@ Error: invalid input: can&#39;t NOT 1
</a> &gt; NOT 1 != 1
 !&gt; (NOT 1) != 1
 ---
<a href="#h25-12-3" id="h25-12-3" class="d">-Boolean(false)
</a><a href="#h25-12-4" id="h25-12-4" class="i">+FALSE
</a> Error: invalid input: can&#39;t compare 1 and FALSE
 Error: invalid input: can&#39;t LIKE FALSE and &#39;abc&#39;
 Error: invalid input: can&#39;t LIKE 1 and &#39;abc&#39;
<a href="#h25-12-8" id="h25-12-8" class="d">-Boolean(true)
</a><a href="#h25-12-9" id="h25-12-9" class="i">+TRUE
</a> Error: invalid input: can&#39;t compare 1 and TRUE
<a href="#h25-12-11" id="h25-12-11" class="d">-Boolean(true)
</a><a href="#h25-12-12" id="h25-12-12" class="i">+TRUE
</a> Error: invalid input: can&#39;t NOT 1
 
 # LIKE
<a href="#h25-13" id="h25-13" class="h">@@ -350,45 +350,45 @@ Error: invalid input: can&#39;t NOT 1
</a> &gt; NOT &#39;abc&#39; LIKE &#39;abc&#39;
 !&gt; (NOT &#39;abc&#39;) LIKE &#39;abc&#39;
 ---
<a href="#h25-13-3" id="h25-13-3" class="d">-Boolean(true)
</a><a href="#h25-13-4" id="h25-13-4" class="i">+TRUE
</a> Error: invalid input: can&#39;t LIKE &#39;abc&#39; and TRUE
<a href="#h25-13-6" id="h25-13-6" class="d">-Boolean(false)
</a><a href="#h25-13-7" id="h25-13-7" class="i">+FALSE
</a> Error: invalid input: can&#39;t NOT &#39;abc&#39;
 
 # IS NULL
 &gt; NOT NULL IS NULL
 &gt; (NOT NULL) IS NULL
 ---
<a href="#h25-13-14" id="h25-13-14" class="d">-Boolean(false)
</a><a href="#h25-13-15" id="h25-13-15" class="d">-Boolean(true)
</a><a href="#h25-13-16" id="h25-13-16" class="i">+FALSE
</a><a href="#h25-13-17" id="h25-13-17" class="i">+TRUE
</a> 
 # IS NOT NULL
 &gt; NOT NULL IS NOT NULL
 &gt; (NOT NULL) IS NOT NULL
 ---
<a href="#h25-13-23" id="h25-13-23" class="d">-Boolean(true)
</a><a href="#h25-13-24" id="h25-13-24" class="d">-Boolean(false)
</a><a href="#h25-13-25" id="h25-13-25" class="i">+TRUE
</a><a href="#h25-13-26" id="h25-13-26" class="i">+FALSE
</a> 
 # IS NAN
 &gt; NOT NAN IS NAN
 !&gt; (NOT NAN) IS NAN
 ---
<a href="#h25-13-32" id="h25-13-32" class="d">-Boolean(false)
</a><a href="#h25-13-33" id="h25-13-33" class="i">+FALSE
</a> Error: invalid input: can&#39;t NOT NaN
 
 # IS NOT NAN
 &gt; NOT NAN IS NOT NAN
 !&gt; (NOT NAN) IS NOT NAN
 ---
<a href="#h25-13-40" id="h25-13-40" class="d">-Boolean(true)
</a><a href="#h25-13-41" id="h25-13-41" class="i">+TRUE
</a> Error: invalid input: can&#39;t NOT NaN
 
 # NOT.
 &gt; NOT TRUE AND FALSE
 &gt; NOT (TRUE AND FALSE)
 ---
<a href="#h25-13-48" id="h25-13-48" class="d">-Boolean(false)
</a><a href="#h25-13-49" id="h25-13-49" class="d">-Boolean(true)
</a><a href="#h25-13-50" id="h25-13-50" class="i">+FALSE
</a><a href="#h25-13-51" id="h25-13-51" class="i">+TRUE
</a> 
 # AND
 &gt; FALSE AND TRUE OR TRUE
<a href="#h25-14" id="h25-14" class="h">@@ -396,9 +396,9 @@ Boolean(true)
</a> &gt; TRUE OR TRUE AND FALSE
 &gt; (TRUE OR TRUE) AND FALSE
 ---
<a href="#h25-14-3" id="h25-14-3" class="d">-Boolean(true)
</a><a href="#h25-14-4" id="h25-14-4" class="d">-Boolean(false)
</a><a href="#h25-14-5" id="h25-14-5" class="d">-Boolean(true)
</a><a href="#h25-14-6" id="h25-14-6" class="d">-Boolean(false)
</a><a href="#h25-14-7" id="h25-14-7" class="i">+TRUE
</a><a href="#h25-14-8" id="h25-14-8" class="i">+FALSE
</a><a href="#h25-14-9" id="h25-14-9" class="i">+TRUE
</a><a href="#h25-14-10" id="h25-14-10" class="i">+FALSE
</a> 
 # OR has the lowest precedence, so nothing to test.
<b>diff --git a/<a id="h26" href="../file/src/sql/testscripts/expressions/op_string_like.html">src/sql/testscripts/expressions/op_string_like</a> b/<a href="../file/src/sql/testscripts/expressions/op_string_like.html">src/sql/testscripts/expressions/op_string_like</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -6,10 +6,10 @@
</a> &gt; &#39;abcde&#39; LIKE &#39;%cde&#39;
 &gt; &#39;abcde&#39; LIKE &#39;%&#39;
 ---
<a href="#h26-0-3" id="h26-0-3" class="d">-Boolean(true)
</a><a href="#h26-0-4" id="h26-0-4" class="d">-Boolean(true)
</a><a href="#h26-0-5" id="h26-0-5" class="d">-Boolean(true)
</a><a href="#h26-0-6" id="h26-0-6" class="d">-Boolean(true)
</a><a href="#h26-0-7" id="h26-0-7" class="i">+TRUE
</a><a href="#h26-0-8" id="h26-0-8" class="i">+TRUE
</a><a href="#h26-0-9" id="h26-0-9" class="i">+TRUE
</a><a href="#h26-0-10" id="h26-0-10" class="i">+TRUE
</a> 
 # Multi-character mismatches.
 &gt; &#39;abcde&#39; LIKE &#39;a%f&#39;
<a href="#h26-1" id="h26-1" class="h">@@ -17,10 +17,10 @@ Boolean(true)
</a> &gt; &#39;abcde&#39; LIKE &#39;b%&#39;
 &gt; &#39;abcde&#39; LIKE &#39;%d&#39;
 ---
<a href="#h26-1-3" id="h26-1-3" class="d">-Boolean(false)
</a><a href="#h26-1-4" id="h26-1-4" class="d">-Boolean(false)
</a><a href="#h26-1-5" id="h26-1-5" class="d">-Boolean(false)
</a><a href="#h26-1-6" id="h26-1-6" class="d">-Boolean(false)
</a><a href="#h26-1-7" id="h26-1-7" class="i">+FALSE
</a><a href="#h26-1-8" id="h26-1-8" class="i">+FALSE
</a><a href="#h26-1-9" id="h26-1-9" class="i">+FALSE
</a><a href="#h26-1-10" id="h26-1-10" class="i">+FALSE
</a> 
 # Multi-character wildcards match 0 characters.
 &gt; &#39;abcde&#39; LIKE &#39;abc%de&#39;
<a href="#h26-2" id="h26-2" class="h">@@ -28,28 +28,28 @@ Boolean(false)
</a> &gt; &#39;abcde&#39; LIKE &#39;abcde%&#39;
 &gt; &#39;&#39; LIKE &#39;%&#39;
 ---
<a href="#h26-2-3" id="h26-2-3" class="d">-Boolean(true)
</a><a href="#h26-2-4" id="h26-2-4" class="d">-Boolean(true)
</a><a href="#h26-2-5" id="h26-2-5" class="d">-Boolean(true)
</a><a href="#h26-2-6" id="h26-2-6" class="d">-Boolean(true)
</a><a href="#h26-2-7" id="h26-2-7" class="i">+TRUE
</a><a href="#h26-2-8" id="h26-2-8" class="i">+TRUE
</a><a href="#h26-2-9" id="h26-2-9" class="i">+TRUE
</a><a href="#h26-2-10" id="h26-2-10" class="i">+TRUE
</a> 
 # Single-character matches.
 &gt; &#39;abcde&#39; LIKE &#39;ab_de&#39;
 &gt; &#39;abcde&#39; LIKE &#39;_bcde&#39;
 &gt; &#39;abcde&#39; LIKE &#39;abcd_&#39;
 ---
<a href="#h26-2-17" id="h26-2-17" class="d">-Boolean(true)
</a><a href="#h26-2-18" id="h26-2-18" class="d">-Boolean(true)
</a><a href="#h26-2-19" id="h26-2-19" class="d">-Boolean(true)
</a><a href="#h26-2-20" id="h26-2-20" class="i">+TRUE
</a><a href="#h26-2-21" id="h26-2-21" class="i">+TRUE
</a><a href="#h26-2-22" id="h26-2-22" class="i">+TRUE
</a> 
 # Single-character mismatches.
 &gt; &#39;abcde&#39; LIKE &#39;ab_e&#39;
 &gt; &#39;abcde&#39; LIKE &#39;abc_&#39;
 &gt; &#39;abcde&#39; LIKE &#39;_bcd&#39;
 ---
<a href="#h26-2-29" id="h26-2-29" class="d">-Boolean(false)
</a><a href="#h26-2-30" id="h26-2-30" class="d">-Boolean(false)
</a><a href="#h26-2-31" id="h26-2-31" class="d">-Boolean(false)
</a><a href="#h26-2-32" id="h26-2-32" class="i">+FALSE
</a><a href="#h26-2-33" id="h26-2-33" class="i">+FALSE
</a><a href="#h26-2-34" id="h26-2-34" class="i">+FALSE
</a> 
 # Single-character wildcards require at least one match.
 &gt; &#39;abcde&#39; LIKE &#39;abc_de&#39;
<a href="#h26-3" id="h26-3" class="h">@@ -57,26 +57,26 @@ Boolean(false)
</a> &gt; &#39;abcde&#39; LIKE &#39;abcde_&#39;
 &gt; &#39;&#39; LIKE &#39;_&#39;
 ---
<a href="#h26-3-3" id="h26-3-3" class="d">-Boolean(false)
</a><a href="#h26-3-4" id="h26-3-4" class="d">-Boolean(false)
</a><a href="#h26-3-5" id="h26-3-5" class="d">-Boolean(false)
</a><a href="#h26-3-6" id="h26-3-6" class="d">-Boolean(false)
</a><a href="#h26-3-7" id="h26-3-7" class="i">+FALSE
</a><a href="#h26-3-8" id="h26-3-8" class="i">+FALSE
</a><a href="#h26-3-9" id="h26-3-9" class="i">+FALSE
</a><a href="#h26-3-10" id="h26-3-10" class="i">+FALSE
</a> 
 # Exact matches. Submatches are not sufficient.
 &gt; &#39;abcde&#39; LIKE &#39;abcde&#39;
 &gt; &#39;abcde&#39; LIKE &#39;abc&#39;
 &gt; &#39;abcde&#39; LIKE &#39;abcdef&#39;
 ---
<a href="#h26-3-17" id="h26-3-17" class="d">-Boolean(true)
</a><a href="#h26-3-18" id="h26-3-18" class="d">-Boolean(false)
</a><a href="#h26-3-19" id="h26-3-19" class="d">-Boolean(false)
</a><a href="#h26-3-20" id="h26-3-20" class="i">+TRUE
</a><a href="#h26-3-21" id="h26-3-21" class="i">+FALSE
</a><a href="#h26-3-22" id="h26-3-22" class="i">+FALSE
</a> 
 # Patterns are case-sensitive.
 &gt; &#39;abcde&#39; LIKE &#39;ABCDE&#39;
 &gt; &#39;abcde&#39; LIKE &#39;A%&#39;
 ---
<a href="#h26-3-28" id="h26-3-28" class="d">-Boolean(false)
</a><a href="#h26-3-29" id="h26-3-29" class="d">-Boolean(false)
</a><a href="#h26-3-30" id="h26-3-30" class="i">+FALSE
</a><a href="#h26-3-31" id="h26-3-31" class="i">+FALSE
</a> 
 # Wildcards can be mixed and used multiple times, and % can match nothing.
 &gt; &#39;abcde&#39; LIKE &#39;a%c%e&#39;
<a href="#h26-4" id="h26-4" class="h">@@ -85,11 +85,11 @@ Boolean(false)
</a> &gt; &#39;abcde&#39; LIKE &#39;a___e&#39;
 &gt; &#39;abcdefghijklmno&#39; LIKE &#39;a_c%f%i_kl%m_o&#39;
 ---
<a href="#h26-4-3" id="h26-4-3" class="d">-Boolean(true)
</a><a href="#h26-4-4" id="h26-4-4" class="d">-Boolean(true)
</a><a href="#h26-4-5" id="h26-4-5" class="d">-Boolean(true)
</a><a href="#h26-4-6" id="h26-4-6" class="d">-Boolean(true)
</a><a href="#h26-4-7" id="h26-4-7" class="d">-Boolean(true)
</a><a href="#h26-4-8" id="h26-4-8" class="i">+TRUE
</a><a href="#h26-4-9" id="h26-4-9" class="i">+TRUE
</a><a href="#h26-4-10" id="h26-4-10" class="i">+TRUE
</a><a href="#h26-4-11" id="h26-4-11" class="i">+TRUE
</a><a href="#h26-4-12" id="h26-4-12" class="i">+TRUE
</a> 
 # NULLs.
 &gt; NULL LIKE &#39;%&#39;
<a href="#h26-5" id="h26-5" class="h">@@ -97,17 +97,17 @@ Boolean(true)
</a> &gt; &#39;abc&#39; LIKE NULL
 &gt; NULL LIKE NULL
 ---
<a href="#h26-5-3" id="h26-5-3" class="d">-Null
</a><a href="#h26-5-4" id="h26-5-4" class="d">-Null
</a><a href="#h26-5-5" id="h26-5-5" class="d">-Null
</a><a href="#h26-5-6" id="h26-5-6" class="d">-Null
</a><a href="#h26-5-7" id="h26-5-7" class="i">+NULL
</a><a href="#h26-5-8" id="h26-5-8" class="i">+NULL
</a><a href="#h26-5-9" id="h26-5-9" class="i">+NULL
</a><a href="#h26-5-10" id="h26-5-10" class="i">+NULL
</a> 
 # * and ? are not valid patterns.
 &gt; &#39;abcde&#39; LIKE &#39;a*e&#39;
 &gt; &#39;abcde&#39; LIKE &#39;ab?de&#39;
 ---
<a href="#h26-5-16" id="h26-5-16" class="d">-Boolean(false)
</a><a href="#h26-5-17" id="h26-5-17" class="d">-Boolean(false)
</a><a href="#h26-5-18" id="h26-5-18" class="i">+FALSE
</a><a href="#h26-5-19" id="h26-5-19" class="i">+FALSE
</a> 
 # Fails with non-strings.
 !&gt; &#39;abc&#39; LIKE 1
<b>diff --git a/<a id="h27" href="../file/src/sql/testscripts/optimizer/fold_constants.html">src/sql/testscripts/optimizer/fold_constants</a> b/<a href="../file/src/sql/testscripts/optimizers/fold_constants.html">src/sql/testscripts/optimizers/fold_constants</a></b>
<b>diff --git a/<a id="h28" href="../file/src/sql/testscripts/optimizer/index_lookup.html">src/sql/testscripts/optimizer/index_lookup</a> b/<a href="../file/src/sql/testscripts/optimizers/index_lookup.html">src/sql/testscripts/optimizers/index_lookup</a></b>
<b>diff --git a/<a id="h29" href="../file/src/sql/testscripts/optimizer/join_type.html">src/sql/testscripts/optimizer/join_type</a> b/<a href="../file/src/sql/testscripts/optimizers/join_type.html">src/sql/testscripts/optimizers/join_type</a></b>
<b>diff --git a/<a id="h30" href="../file/src/sql/testscripts/optimizer/push_filters.html">src/sql/testscripts/optimizer/push_filters</a> b/<a href="../file/src/sql/testscripts/optimizers/push_filters.html">src/sql/testscripts/optimizers/push_filters</a></b>
<b>diff --git a/<a id="h31" href="../file/src/sql/testscripts/optimizer/short_circuit.html">src/sql/testscripts/optimizer/short_circuit</a> b/<a href="../file/src/sql/testscripts/optimizers/short_circuit.html">src/sql/testscripts/optimizers/short_circuit</a></b>
<b>diff --git a/<a id="h32" href="../file/src/sql/testscripts/schema/create_table.html">src/sql/testscripts/schema/create_table</a> b/<a href="../file/src/sql/testscripts/schema/create_table.html">src/sql/testscripts/schema/create_table</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -5,13 +5,13 @@
</a> [plan,result,ops]&gt; CREATE TABLE test (id INTEGER PRIMARY KEY)
 ---
 CreateTable: test
<a href="#h32-0-3" id="h32-0-3" class="i">+set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h32-0-4" id="h32-0-4" class="i">+set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h32-0-5" id="h32-0-5" class="i">+set mvcc:TxnWrite(1, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h32-0-6" id="h32-0-6" class="i">+set mvcc:Version(sql:Table(test), 1) → CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a><a href="#h32-0-7" id="h32-0-7" class="i">+delete mvcc:TxnWrite(1, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h32-0-8" id="h32-0-8" class="i">+delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> CreateTable { name: &quot;test&quot; }
<a href="#h32-0-10" id="h32-0-10" class="d">-storage set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h32-0-11" id="h32-0-11" class="d">-storage set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h32-0-12" id="h32-0-12" class="d">-storage set mvcc:TxnWrite(1, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h32-0-13" id="h32-0-13" class="d">-storage set mvcc:Version(sql:Table(test), 1) → CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a><a href="#h32-0-14" id="h32-0-14" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h32-0-15" id="h32-0-15" class="d">-storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> 
 dump
 ---
<b>diff --git a/<a id="h33" href="../file/src/sql/testscripts/schema/create_table_index.html">src/sql/testscripts/schema/create_table_index</a> b/<a href="../file/src/sql/testscripts/schema/create_table_index.html">src/sql/testscripts/schema/create_table_index</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -2,12 +2,12 @@
</a> # separate index).
 [ops]&gt; CREATE TABLE indexed (id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER INDEX)
 ---
<a href="#h33-0-3" id="h33-0-3" class="d">-storage set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h33-0-4" id="h33-0-4" class="d">-storage set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h33-0-5" id="h33-0-5" class="d">-storage set mvcc:TxnWrite(1, sql:Table(indexed)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h33-0-6" id="h33-0-6" class="d">-storage set mvcc:Version(sql:Table(indexed), 1) → CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00&quot;]
</a><a href="#h33-0-7" id="h33-0-7" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h33-0-8" id="h33-0-8" class="d">-storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h33-0-9" id="h33-0-9" class="i">+set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h33-0-10" id="h33-0-10" class="i">+set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h33-0-11" id="h33-0-11" class="i">+set mvcc:TxnWrite(1, sql:Table(indexed)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h33-0-12" id="h33-0-12" class="i">+set mvcc:Version(sql:Table(indexed), 1) → CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00&quot;]
</a><a href="#h33-0-13" id="h33-0-13" class="i">+delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h33-0-14" id="h33-0-14" class="i">+delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> 
 schema
 ---
<b>diff --git a/<a id="h34" href="../file/src/sql/testscripts/schema/create_table_reference.html">src/sql/testscripts/schema/create_table_reference</a> b/<a href="../file/src/sql/testscripts/schema/create_table_reference.html">src/sql/testscripts/schema/create_table_reference</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -15,12 +15,12 @@ ok
</a> # indexes, but only a single schema entity.
 [ops]&gt; CREATE TABLE name (id INT PRIMARY KEY, ref_id INT REFERENCES &quot;ref&quot;, sref_id STRING REFERENCES sref)
 ---
<a href="#h34-0-3" id="h34-0-3" class="d">-storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h34-0-4" id="h34-0-4" class="d">-storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h34-0-5" id="h34-0-5" class="d">-storage set mvcc:TxnWrite(5, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h34-0-6" id="h34-0-6" class="d">-storage set mvcc:Version(sql:Table(name), 5) → CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h34-0-7" id="h34-0-7" class="d">-storage delete mvcc:TxnWrite(5, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h34-0-8" id="h34-0-8" class="d">-storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a><a href="#h34-0-9" id="h34-0-9" class="i">+set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h34-0-10" id="h34-0-10" class="i">+set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h34-0-11" id="h34-0-11" class="i">+set mvcc:TxnWrite(5, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h34-0-12" id="h34-0-12" class="i">+set mvcc:Version(sql:Table(name), 5) → CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h34-0-13" id="h34-0-13" class="i">+delete mvcc:TxnWrite(5, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h34-0-14" id="h34-0-14" class="i">+delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> 
 schema name
 ---
<b>diff --git a/<a id="h35" href="../file/src/sql/testscripts/schema/create_table_transaction.html">src/sql/testscripts/schema/create_table_transaction</a> b/<a href="../file/src/sql/testscripts/schema/create_table_transaction.html">src/sql/testscripts/schema/create_table_transaction</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -3,8 +3,8 @@
</a> &gt; BEGIN
 [ops]&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
 ---
<a href="#h35-0-3" id="h35-0-3" class="d">-storage set mvcc:TxnWrite(1, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h35-0-4" id="h35-0-4" class="d">-storage set mvcc:Version(sql:Table(name), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h35-0-5" id="h35-0-5" class="i">+set mvcc:TxnWrite(1, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h35-0-6" id="h35-0-6" class="i">+set mvcc:Version(sql:Table(name), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a> 
 schema name
 ---
<a href="#h35-1" id="h35-1" class="h">@@ -23,9 +23,9 @@ mvcc:Version(sql:Table(name), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY,
</a> # Rolling it back undoes it.
 [ops]&gt; ROLLBACK
 ---
<a href="#h35-1-3" id="h35-1-3" class="d">-storage delete mvcc:Version(sql:Table(name), 1) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h35-1-4" id="h35-1-4" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h35-1-5" id="h35-1-5" class="d">-storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h35-1-6" id="h35-1-6" class="i">+delete mvcc:Version(sql:Table(name), 1) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h35-1-7" id="h35-1-7" class="i">+delete mvcc:TxnWrite(1, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h35-1-8" id="h35-1-8" class="i">+delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> 
 dump
 ---
<a href="#h35-2" id="h35-2" class="h">@@ -36,8 +36,8 @@ mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a> &gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
 [ops]&gt; COMMIT
 ---
<a href="#h35-2-3" id="h35-2-3" class="d">-storage delete mvcc:TxnWrite(2, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h35-2-4" id="h35-2-4" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h35-2-5" id="h35-2-5" class="i">+delete mvcc:TxnWrite(2, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h35-2-6" id="h35-2-6" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 dump
 ---
<b>diff --git a/<a id="h36" href="../file/src/sql/testscripts/schema/create_table_unique.html">src/sql/testscripts/schema/create_table_unique</a> b/<a href="../file/src/sql/testscripts/schema/create_table_unique.html">src/sql/testscripts/schema/create_table_unique</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -2,12 +2,12 @@
</a> # separate index).
 [ops]&gt; CREATE TABLE indexed (id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER UNIQUE)
 ---
<a href="#h36-0-3" id="h36-0-3" class="d">-storage set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h36-0-4" id="h36-0-4" class="d">-storage set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h36-0-5" id="h36-0-5" class="d">-storage set mvcc:TxnWrite(1, sql:Table(indexed)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h36-0-6" id="h36-0-6" class="d">-storage set mvcc:Version(sql:Table(indexed), 1) → CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL UNIQUE INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x01\x01\x00&quot;]
</a><a href="#h36-0-7" id="h36-0-7" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h36-0-8" id="h36-0-8" class="d">-storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h36-0-9" id="h36-0-9" class="i">+set mvcc:NextVersion → 2 [&quot;\x00&quot; → &quot;\x02&quot;]
</a><a href="#h36-0-10" id="h36-0-10" class="i">+set mvcc:TxnActive(1) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;&quot;]
</a><a href="#h36-0-11" id="h36-0-11" class="i">+set mvcc:TxnWrite(1, sql:Table(indexed)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h36-0-12" id="h36-0-12" class="i">+set mvcc:Version(sql:Table(indexed), 1) → CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL UNIQUE INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x01\x01\x00&quot;]
</a><a href="#h36-0-13" id="h36-0-13" class="i">+delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h36-0-14" id="h36-0-14" class="i">+delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> 
 # The column gets an implicit secondary index marker.
 schema
<b>diff --git a/<a id="h37" href="../file/src/sql/testscripts/schema/drop_table.html">src/sql/testscripts/schema/drop_table</a> b/<a href="../file/src/sql/testscripts/schema/drop_table.html">src/sql/testscripts/schema/drop_table</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -10,19 +10,19 @@ ok
</a> [plan,result,ops]&gt; DROP TABLE name
 ---
 DropTable: name
<a href="#h37-0-3" id="h37-0-3" class="i">+set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h37-0-4" id="h37-0-4" class="i">+set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h37-0-5" id="h37-0-5" class="i">+set mvcc:TxnWrite(3, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-6" id="h37-0-6" class="i">+set mvcc:Version(sql:Table(name), 3) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-7" id="h37-0-7" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-8" id="h37-0-8" class="i">+set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-9" id="h37-0-9" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-10" id="h37-0-10" class="i">+set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-11" id="h37-0-11" class="i">+delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h37-0-12" id="h37-0-12" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h37-0-13" id="h37-0-13" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h37-0-14" id="h37-0-14" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> DropTable { name: &quot;name&quot;, existed: true }
<a href="#h37-0-16" id="h37-0-16" class="d">-storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h37-0-17" id="h37-0-17" class="d">-storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h37-0-18" id="h37-0-18" class="d">-storage set mvcc:TxnWrite(3, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-19" id="h37-0-19" class="d">-storage set mvcc:Version(sql:Table(name), 3) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-20" id="h37-0-20" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-21" id="h37-0-21" class="d">-storage set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-22" id="h37-0-22" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h37-0-23" id="h37-0-23" class="d">-storage set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h37-0-24" id="h37-0-24" class="d">-storage delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h37-0-25" id="h37-0-25" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h37-0-26" id="h37-0-26" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h37-0-27" id="h37-0-27" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 schema
 ---
<a href="#h37-1" id="h37-1" class="h">@@ -45,10 +45,10 @@ Error: invalid input: table name does not exist
</a> 
 [result,ops]&gt; DROP TABLE IF EXISTS name
 ---
<a href="#h37-1-3" id="h37-1-3" class="i">+set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h37-1-4" id="h37-1-4" class="i">+set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h37-1-5" id="h37-1-5" class="i">+delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> DropTable { name: &quot;name&quot;, existed: false }
<a href="#h37-1-7" id="h37-1-7" class="d">-storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h37-1-8" id="h37-1-8" class="d">-storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h37-1-9" id="h37-1-9" class="d">-storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> 
 # No table or multiple tables errors.
 !&gt; DROP TABLE
<b>diff --git a/<a id="h38" href="../file/src/sql/testscripts/schema/drop_table_index.html">src/sql/testscripts/schema/drop_table_index</a> b/<a href="../file/src/sql/testscripts/schema/drop_table_index.html">src/sql/testscripts/schema/drop_table_index</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -42,45 +42,45 @@ mvcc:Version(sql:Row(ref, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80
</a> [ops]&gt; DROP TABLE name
 &gt; DROP TABLE ref
 ---
<a href="#h38-0-3" id="h38-0-3" class="d">-storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h38-0-4" id="h38-0-4" class="d">-storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h38-0-5" id="h38-0-5" class="d">-storage set mvcc:TxnWrite(8, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-6" id="h38-0-6" class="d">-storage set mvcc:Version(sql:Table(name), 8) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-7" id="h38-0-7" class="d">-storage set mvcc:TxnWrite(8, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-8" id="h38-0-8" class="d">-storage set mvcc:Version(sql:Row(name, 1), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-9" id="h38-0-9" class="d">-storage set mvcc:TxnWrite(8, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-10" id="h38-0-10" class="d">-storage set mvcc:Version(sql:Row(name, 2), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-11" id="h38-0-11" class="d">-storage set mvcc:TxnWrite(8, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-12" id="h38-0-12" class="d">-storage set mvcc:Version(sql:Row(name, 3), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-13" id="h38-0-13" class="d">-storage set mvcc:TxnWrite(8, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-14" id="h38-0-14" class="d">-storage set mvcc:Version(sql:Row(name, 4), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-15" id="h38-0-15" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-16" id="h38-0-16" class="d">-storage set mvcc:Version(sql:Index(name.unique, 1), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-17" id="h38-0-17" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-18" id="h38-0-18" class="d">-storage set mvcc:Version(sql:Index(name.unique, 2), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-19" id="h38-0-19" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.unique, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-20" id="h38-0-20" class="d">-storage set mvcc:Version(sql:Index(name.unique, 3), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-21" id="h38-0-21" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.unique, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-22" id="h38-0-22" class="d">-storage set mvcc:Version(sql:Index(name.unique, 4), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-23" id="h38-0-23" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-24" id="h38-0-24" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, NULL), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-25" id="h38-0-25" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-26" id="h38-0-26" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, 1), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-27" id="h38-0-27" class="d">-storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-28" id="h38-0-28" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, 2), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-29" id="h38-0-29" class="d">-storage delete mvcc:TxnWrite(8, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h38-0-30" id="h38-0-30" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h38-0-31" id="h38-0-31" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-32" id="h38-0-32" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-33" id="h38-0-33" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-34" id="h38-0-34" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-35" id="h38-0-35" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h38-0-36" id="h38-0-36" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h38-0-37" id="h38-0-37" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-38" id="h38-0-38" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-39" id="h38-0-39" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h38-0-40" id="h38-0-40" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h38-0-41" id="h38-0-41" class="d">-storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h38-0-42" id="h38-0-42" class="i">+set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h38-0-43" id="h38-0-43" class="i">+set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h38-0-44" id="h38-0-44" class="i">+set mvcc:TxnWrite(8, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-45" id="h38-0-45" class="i">+set mvcc:Version(sql:Table(name), 8) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-46" id="h38-0-46" class="i">+set mvcc:TxnWrite(8, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-47" id="h38-0-47" class="i">+set mvcc:Version(sql:Row(name, 1), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-48" id="h38-0-48" class="i">+set mvcc:TxnWrite(8, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-49" id="h38-0-49" class="i">+set mvcc:Version(sql:Row(name, 2), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-50" id="h38-0-50" class="i">+set mvcc:TxnWrite(8, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-51" id="h38-0-51" class="i">+set mvcc:Version(sql:Row(name, 3), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-52" id="h38-0-52" class="i">+set mvcc:TxnWrite(8, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-53" id="h38-0-53" class="i">+set mvcc:Version(sql:Row(name, 4), 8) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-54" id="h38-0-54" class="i">+set mvcc:TxnWrite(8, sql:Index(name.unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-55" id="h38-0-55" class="i">+set mvcc:Version(sql:Index(name.unique, 1), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-56" id="h38-0-56" class="i">+set mvcc:TxnWrite(8, sql:Index(name.unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-57" id="h38-0-57" class="i">+set mvcc:Version(sql:Index(name.unique, 2), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-58" id="h38-0-58" class="i">+set mvcc:TxnWrite(8, sql:Index(name.unique, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-59" id="h38-0-59" class="i">+set mvcc:Version(sql:Index(name.unique, 3), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-60" id="h38-0-60" class="i">+set mvcc:TxnWrite(8, sql:Index(name.unique, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-61" id="h38-0-61" class="i">+set mvcc:Version(sql:Index(name.unique, 4), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-62" id="h38-0-62" class="i">+set mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-63" id="h38-0-63" class="i">+set mvcc:Version(sql:Index(name.ref_id, NULL), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-64" id="h38-0-64" class="i">+set mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-65" id="h38-0-65" class="i">+set mvcc:Version(sql:Index(name.ref_id, 1), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-66" id="h38-0-66" class="i">+set mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h38-0-67" id="h38-0-67" class="i">+set mvcc:Version(sql:Index(name.ref_id, 2), 8) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h38-0-68" id="h38-0-68" class="i">+delete mvcc:TxnWrite(8, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h38-0-69" id="h38-0-69" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h38-0-70" id="h38-0-70" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-71" id="h38-0-71" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-72" id="h38-0-72" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-73" id="h38-0-73" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-74" id="h38-0-74" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h38-0-75" id="h38-0-75" class="i">+delete mvcc:TxnWrite(8, sql:Index(name.unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h38-0-76" id="h38-0-76" class="i">+delete mvcc:TxnWrite(8, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h38-0-77" id="h38-0-77" class="i">+delete mvcc:TxnWrite(8, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h38-0-78" id="h38-0-78" class="i">+delete mvcc:TxnWrite(8, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h38-0-79" id="h38-0-79" class="i">+delete mvcc:TxnWrite(8, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h38-0-80" id="h38-0-80" class="i">+delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a> 
 dump
 ---
<b>diff --git a/<a id="h39" href="../file/src/sql/testscripts/schema/drop_table_transaction.html">src/sql/testscripts/schema/drop_table_transaction</a> b/<a href="../file/src/sql/testscripts/schema/drop_table_transaction.html">src/sql/testscripts/schema/drop_table_transaction</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -16,12 +16,12 @@ mvcc:Version(sql:Row(name, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x
</a> &gt; BEGIN
 [ops]&gt; DROP TABLE name
 ---
<a href="#h39-0-3" id="h39-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-4" id="h39-0-4" class="d">-storage set mvcc:Version(sql:Table(name), 3) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h39-0-5" id="h39-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-6" id="h39-0-6" class="d">-storage set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h39-0-7" id="h39-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-8" id="h39-0-8" class="d">-storage set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h39-0-9" id="h39-0-9" class="i">+set mvcc:TxnWrite(3, sql:Table(name)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-10" id="h39-0-10" class="i">+set mvcc:Version(sql:Table(name), 3) → None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h39-0-11" id="h39-0-11" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-12" id="h39-0-12" class="i">+set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h39-0-13" id="h39-0-13" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h39-0-14" id="h39-0-14" class="i">+set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a> 
 schema
 ---
<a href="#h39-1" id="h39-1" class="h">@@ -44,13 +44,13 @@ mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x8
</a> # Rolling it back undoes it.
 [ops]&gt; ROLLBACK
 ---
<a href="#h39-1-3" id="h39-1-3" class="d">-storage delete mvcc:Version(sql:Table(name), 3) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-4" id="h39-1-4" class="d">-storage delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h39-1-5" id="h39-1-5" class="d">-storage delete mvcc:Version(sql:Row(name, 1), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-6" id="h39-1-6" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h39-1-7" id="h39-1-7" class="d">-storage delete mvcc:Version(sql:Row(name, 2), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-8" id="h39-1-8" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h39-1-9" id="h39-1-9" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-10" id="h39-1-10" class="i">+delete mvcc:Version(sql:Table(name), 3) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-11" id="h39-1-11" class="i">+delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h39-1-12" id="h39-1-12" class="i">+delete mvcc:Version(sql:Row(name, 1), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-13" id="h39-1-13" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h39-1-14" id="h39-1-14" class="i">+delete mvcc:Version(sql:Row(name, 2), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h39-1-15" id="h39-1-15" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h39-1-16" id="h39-1-16" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 dump
 ---
<a href="#h39-2" id="h39-2" class="h">@@ -64,10 +64,10 @@ mvcc:Version(sql:Row(name, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x
</a> &gt; DROP TABLE name
 [ops]&gt; COMMIT
 ---
<a href="#h39-2-3" id="h39-2-3" class="d">-storage delete mvcc:TxnWrite(4, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h39-2-4" id="h39-2-4" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h39-2-5" id="h39-2-5" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h39-2-6" id="h39-2-6" class="d">-storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h39-2-7" id="h39-2-7" class="i">+delete mvcc:TxnWrite(4, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h39-2-8" id="h39-2-8" class="i">+delete mvcc:TxnWrite(4, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h39-2-9" id="h39-2-9" class="i">+delete mvcc:TxnWrite(4, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h39-2-10" id="h39-2-10" class="i">+delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 dump
 ---
<b>diff --git a/<a id="h40" href="../file/src/sql/testscripts/transactions/begin.html">src/sql/testscripts/transactions/begin</a> b/<a href="../file/src/sql/testscripts/transactions/begin.html">src/sql/testscripts/transactions/begin</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -9,9 +9,9 @@ ok
</a> # record for itself.
 c1:[result,ops]&gt; BEGIN
 ---
<a href="#h40-0-3" id="h40-0-3" class="d">-c1: v3 read-write active={}
</a><a href="#h40-0-4" id="h40-0-4" class="d">-c1: storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h40-0-5" id="h40-0-5" class="d">-c1: storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h40-0-6" id="h40-0-6" class="i">+c1: set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h40-0-7" id="h40-0-7" class="i">+c1: set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h40-0-8" id="h40-0-8" class="i">+c1: Begin { state: TransactionState { version: 3, read_only: false, active: {} } }
</a> 
 # Starting another transaction for c1 errors.
 c1:!&gt; BEGIN
<a href="#h40-1" id="h40-1" class="h">@@ -24,10 +24,10 @@ c1: Error: invalid input: already in a transaction
</a> # its active set. The active snapshot is persisted to storage.
 c2:[result,ops]&gt; BEGIN
 ---
<a href="#h40-1-3" id="h40-1-3" class="d">-c2: v4 read-write active={3}
</a><a href="#h40-1-4" id="h40-1-4" class="d">-c2: storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h40-1-5" id="h40-1-5" class="d">-c2: storage set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h40-1-6" id="h40-1-6" class="d">-c2: storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h40-1-7" id="h40-1-7" class="i">+c2: set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h40-1-8" id="h40-1-8" class="i">+c2: set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h40-1-9" id="h40-1-9" class="i">+c2: set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h40-1-10" id="h40-1-10" class="i">+c2: Begin { state: TransactionState { version: 4, read_only: false, active: {3} } }
</a> 
 # A read-only transaction doesn&#39;t allocate a new version, and doesn&#39;t perform
 # any storage engine writes. It does capture an active set though, and it can&#39;t
<a href="#h40-2" id="h40-2" class="h">@@ -36,7 +36,7 @@ c3:[result,ops]&gt; BEGIN READ ONLY
</a> c3:!&gt; INSERT INTO test VALUES (0, &#39;&#39;)
 c3:&gt; ROLLBACK
 ---
<a href="#h40-2-3" id="h40-2-3" class="d">-c3: v5 read-only active={3,4}
</a><a href="#h40-2-4" id="h40-2-4" class="i">+c3: Begin { state: TransactionState { version: 5, read_only: true, active: {3, 4} } }
</a> c3: Error: invalid input: primary key 0 already exists
 
 # c1 writes a value and commits.
<a href="#h40-3" id="h40-3" class="h">@@ -51,7 +51,7 @@ c3:[result,ops]&gt; BEGIN READ ONLY AS OF SYSTEM TIME 1
</a> c3:!&gt; SELECT * FROM test
 c3:&gt; ROLLBACK
 ---
<a href="#h40-3-3" id="h40-3-3" class="d">-c3: v1 read-only active={}
</a><a href="#h40-3-4" id="h40-3-4" class="i">+c3: Begin { state: TransactionState { version: 1, read_only: true, active: {} } }
</a> c3: Error: invalid input: table test does not exist
 
 # It sees the table at version 2, but no rows. The row is visible
<a href="#h40-4" id="h40-4" class="h">@@ -61,13 +61,13 @@ c3:[result,ops]&gt; BEGIN READ ONLY AS OF SYSTEM TIME 2
</a> c3:&gt; SELECT * FROM test
 c3:&gt; ROLLBACK
 ---
<a href="#h40-4-3" id="h40-4-3" class="d">-c3: v2 read-only active={}
</a><a href="#h40-4-4" id="h40-4-4" class="i">+c3: Begin { state: TransactionState { version: 2, read_only: true, active: {} } }
</a> 
 c3:[result,ops]&gt; BEGIN READ ONLY AS OF SYSTEM TIME 3
 c3:&gt; SELECT * FROM test
 c3:&gt; ROLLBACK
 ---
<a href="#h40-4-10" id="h40-4-10" class="d">-c3: v3 read-only active={}
</a><a href="#h40-4-11" id="h40-4-11" class="i">+c3: Begin { state: TransactionState { version: 3, read_only: true, active: {} } }
</a> c3: 0, &#39;&#39;
 
 # At version 4, we inherit c2&#39;s active set which excludes c1, and still can&#39;t
<a href="#h40-5" id="h40-5" class="h">@@ -76,5 +76,5 @@ c3:[result,ops]&gt; BEGIN READ ONLY AS OF SYSTEM TIME 4
</a> c3:&gt; SELECT * FROM test
 c3:&gt; ROLLBACK
 ---
<a href="#h40-5-3" id="h40-5-3" class="d">-c3: v4 read-only active={3}
</a><a href="#h40-5-4" id="h40-5-4" class="i">+c3: Begin { state: TransactionState { version: 4, read_only: true, active: {3} } }
</a> c3: 0, &#39;&#39;
<b>diff --git a/<a id="h41" href="../file/src/sql/testscripts/transactions/commit.html">src/sql/testscripts/transactions/commit</a> b/<a href="../file/src/sql/testscripts/transactions/commit.html">src/sql/testscripts/transactions/commit</a></b>
<a href="#h41-0" id="h41-0" class="h">@@ -9,18 +9,18 @@ ok
</a> [ops,result]&gt; INSERT INTO test VALUES (1, &#39;a&#39;), (2, &#39;b&#39;)
 [ops,result]&gt; COMMIT
 ---
<a href="#h41-0-3" id="h41-0-3" class="d">-v2 read-write active={}
</a><a href="#h41-0-4" id="h41-0-4" class="d">-storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h41-0-5" id="h41-0-5" class="d">-storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h41-0-6" id="h41-0-6" class="i">+set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h41-0-7" id="h41-0-7" class="i">+set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h41-0-8" id="h41-0-8" class="i">+Begin { state: TransactionState { version: 2, read_only: false, active: {} } }
</a><a href="#h41-0-9" id="h41-0-9" class="i">+set mvcc:TxnWrite(2, sql:Row(test, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h41-0-10" id="h41-0-10" class="i">+set mvcc:Version(sql:Row(test, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h41-0-11" id="h41-0-11" class="i">+set mvcc:TxnWrite(2, sql:Row(test, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h41-0-12" id="h41-0-12" class="i">+set mvcc:Version(sql:Row(test, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a> Insert { count: 2 }
<a href="#h41-0-14" id="h41-0-14" class="d">-storage set mvcc:TxnWrite(2, sql:Row(test, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h41-0-15" id="h41-0-15" class="d">-storage set mvcc:Version(sql:Row(test, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h41-0-16" id="h41-0-16" class="d">-storage set mvcc:TxnWrite(2, sql:Row(test, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h41-0-17" id="h41-0-17" class="d">-storage set mvcc:Version(sql:Row(test, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h41-0-18" id="h41-0-18" class="i">+delete mvcc:TxnWrite(2, sql:Row(test, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h41-0-19" id="h41-0-19" class="i">+delete mvcc:TxnWrite(2, sql:Row(test, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h41-0-20" id="h41-0-20" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> Commit { version: 2 }
<a href="#h41-0-22" id="h41-0-22" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(test, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h41-0-23" id="h41-0-23" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(test, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h41-0-24" id="h41-0-24" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 # A later transaction can see its writes.
 c1:&gt; SELECT * FROM test
<a href="#h41-1" id="h41-1" class="h">@@ -36,12 +36,12 @@ ok
</a> c2:[ops,result]&gt; BEGIN
 c2:[ops,result]&gt; COMMIT
 ---
<a href="#h41-1-3" id="h41-1-3" class="d">-c2: v4 read-write active={3}
</a><a href="#h41-1-4" id="h41-1-4" class="d">-c2: storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h41-1-5" id="h41-1-5" class="d">-c2: storage set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h41-1-6" id="h41-1-6" class="d">-c2: storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h41-1-7" id="h41-1-7" class="i">+c2: set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h41-1-8" id="h41-1-8" class="i">+c2: set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h41-1-9" id="h41-1-9" class="i">+c2: set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h41-1-10" id="h41-1-10" class="i">+c2: Begin { state: TransactionState { version: 4, read_only: false, active: {3} } }
</a><a href="#h41-1-11" id="h41-1-11" class="i">+c2: delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> c2: Commit { version: 4 }
<a href="#h41-1-13" id="h41-1-13" class="d">-c2: storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 # Commit errors when there&#39;s no open transaction.
 !&gt; COMMIT
<b>diff --git a/<a id="h42" href="../file/src/sql/testscripts/transactions/isolation.html">src/sql/testscripts/transactions/isolation</a> b/<a href="../file/src/sql/testscripts/transactions/isolation.html">src/sql/testscripts/transactions/isolation</a></b>
<a href="#h42-0" id="h42-0" class="h">@@ -38,7 +38,7 @@ ok
</a> c4:[result]&gt; BEGIN
 c4:&gt; INSERT INTO test VALUES (4, &#39;d&#39;)
 ---
<a href="#h42-0-3" id="h42-0-3" class="d">-c4: v4 read-write active={2,3}
</a><a href="#h42-0-4" id="h42-0-4" class="i">+c4: Begin { state: TransactionState { version: 4, read_only: false, active: {2, 3} } }
</a> 
 # Commit c2.
 c2:&gt; COMMIT
<b>diff --git a/<a id="h43" href="../file/src/sql/testscripts/transactions/rollback.html">src/sql/testscripts/transactions/rollback</a> b/<a href="../file/src/sql/testscripts/transactions/rollback.html">src/sql/testscripts/transactions/rollback</a></b>
<a href="#h43-0" id="h43-0" class="h">@@ -9,20 +9,20 @@ ok
</a> [ops,result]&gt; INSERT INTO test VALUES (1, &#39;a&#39;), (2, &#39;b&#39;)
 [ops,result]&gt; ROLLBACK
 ---
<a href="#h43-0-3" id="h43-0-3" class="d">-v2 read-write active={}
</a><a href="#h43-0-4" id="h43-0-4" class="d">-storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h43-0-5" id="h43-0-5" class="d">-storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h43-0-6" id="h43-0-6" class="i">+set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h43-0-7" id="h43-0-7" class="i">+set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h43-0-8" id="h43-0-8" class="i">+Begin { state: TransactionState { version: 2, read_only: false, active: {} } }
</a><a href="#h43-0-9" id="h43-0-9" class="i">+set mvcc:TxnWrite(2, sql:Row(test, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h43-0-10" id="h43-0-10" class="i">+set mvcc:Version(sql:Row(test, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h43-0-11" id="h43-0-11" class="i">+set mvcc:TxnWrite(2, sql:Row(test, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h43-0-12" id="h43-0-12" class="i">+set mvcc:Version(sql:Row(test, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a> Insert { count: 2 }
<a href="#h43-0-14" id="h43-0-14" class="d">-storage set mvcc:TxnWrite(2, sql:Row(test, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h43-0-15" id="h43-0-15" class="d">-storage set mvcc:Version(sql:Row(test, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h43-0-16" id="h43-0-16" class="d">-storage set mvcc:TxnWrite(2, sql:Row(test, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h43-0-17" id="h43-0-17" class="d">-storage set mvcc:Version(sql:Row(test, 2), 2) → 2,&#39;b&#39; [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h43-0-18" id="h43-0-18" class="i">+delete mvcc:Version(sql:Row(test, 1), 2) [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h43-0-19" id="h43-0-19" class="i">+delete mvcc:TxnWrite(2, sql:Row(test, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h43-0-20" id="h43-0-20" class="i">+delete mvcc:Version(sql:Row(test, 2), 2) [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h43-0-21" id="h43-0-21" class="i">+delete mvcc:TxnWrite(2, sql:Row(test, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h43-0-22" id="h43-0-22" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> Rollback { version: 2 }
<a href="#h43-0-24" id="h43-0-24" class="d">-storage delete mvcc:Version(sql:Row(test, 1), 2) [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h43-0-25" id="h43-0-25" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(test, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h43-0-26" id="h43-0-26" class="d">-storage delete mvcc:Version(sql:Row(test, 2), 2) [&quot;\x04\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h43-0-27" id="h43-0-27" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(test, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02test\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h43-0-28" id="h43-0-28" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 # A later transaction can&#39;t see its writes.
 c1:&gt; SELECT * FROM test
<a href="#h43-1" id="h43-1" class="h">@@ -38,12 +38,12 @@ ok
</a> c2:[ops,result]&gt; BEGIN
 c2:[ops,result]&gt; ROLLBACK
 ---
<a href="#h43-1-3" id="h43-1-3" class="d">-c2: v4 read-write active={3}
</a><a href="#h43-1-4" id="h43-1-4" class="d">-c2: storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h43-1-5" id="h43-1-5" class="d">-c2: storage set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h43-1-6" id="h43-1-6" class="d">-c2: storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h43-1-7" id="h43-1-7" class="i">+c2: set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h43-1-8" id="h43-1-8" class="i">+c2: set mvcc:TxnActiveSnapshot(4) → {3} [&quot;\x02\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03&quot;]
</a><a href="#h43-1-9" id="h43-1-9" class="i">+c2: set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h43-1-10" id="h43-1-10" class="i">+c2: Begin { state: TransactionState { version: 4, read_only: false, active: {3} } }
</a><a href="#h43-1-11" id="h43-1-11" class="i">+c2: delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> c2: Rollback { version: 4 }
<a href="#h43-1-13" id="h43-1-13" class="d">-c2: storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 # Rollback errors when there&#39;s no open transaction.
 !&gt; ROLLBACK
<b>diff --git a/<a id="h44" href="../file/src/sql/testscripts/transactions/schema.html">src/sql/testscripts/transactions/schema</a> b/<a href="../file/src/sql/testscripts/transactions/schema.html">src/sql/testscripts/transactions/schema</a></b>
<a href="#h44-0" id="h44-0" class="h">@@ -4,8 +4,8 @@ c1:&gt; BEGIN
</a> c1:[ops]&gt; CREATE TABLE test (id INT PRIMARY KEY, value STRING)
 c1:&gt; SELECT * FROM test
 ---
<a href="#h44-0-3" id="h44-0-3" class="d">-c1: storage set mvcc:TxnWrite(1, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h44-0-4" id="h44-0-4" class="d">-c1: storage set mvcc:Version(sql:Table(test), 1) → CREATE TABLE test ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04test\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h44-0-5" id="h44-0-5" class="i">+c1: set mvcc:TxnWrite(1, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h44-0-6" id="h44-0-6" class="i">+c1: set mvcc:Version(sql:Table(test), 1) → CREATE TABLE test ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04test\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a> 
 # A concurrent transaction can&#39;t see the uncommitted table.
 c2:!&gt; SELECT * FROM test
<a href="#h44-1" id="h44-1" class="h">@@ -15,9 +15,9 @@ c2: Error: invalid input: table test does not exist
</a> # Rolling back the transaction removes the table.
 c1:[ops]&gt; ROLLBACK
 ---
<a href="#h44-1-3" id="h44-1-3" class="d">-c1: storage delete mvcc:Version(sql:Table(test), 1) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h44-1-4" id="h44-1-4" class="d">-c1: storage delete mvcc:TxnWrite(1, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h44-1-5" id="h44-1-5" class="d">-c1: storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h44-1-6" id="h44-1-6" class="i">+c1: delete mvcc:Version(sql:Table(test), 1) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h44-1-7" id="h44-1-7" class="i">+c1: delete mvcc:TxnWrite(1, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h44-1-8" id="h44-1-8" class="i">+c1: delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a> 
 c1:!&gt; SELECT * FROM test
 c2:!&gt; SELECT * FROM test
<a href="#h44-2" id="h44-2" class="h">@@ -29,8 +29,8 @@ c2: Error: invalid input: table test does not exist
</a> c1:&gt; BEGIN
 c1:[ops]&gt; CREATE TABLE test (id INT PRIMARY KEY, value STRING)
 ---
<a href="#h44-2-3" id="h44-2-3" class="d">-c1: storage set mvcc:TxnWrite(2, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h44-2-4" id="h44-2-4" class="d">-c1: storage set mvcc:Version(sql:Table(test), 2) → CREATE TABLE test ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x1d\x04test\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h44-2-5" id="h44-2-5" class="i">+c1: set mvcc:TxnWrite(2, sql:Table(test)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h44-2-6" id="h44-2-6" class="i">+c1: set mvcc:Version(sql:Table(test), 2) → CREATE TABLE test ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x1d\x04test\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a> 
 c2:!&gt; SELECT * FROM test
 ---
<a href="#h44-3" id="h44-3" class="h">@@ -38,8 +38,8 @@ c2: Error: invalid input: table test does not exist
</a> 
 c1:[ops]&gt; COMMIT
 ---
<a href="#h44-3-3" id="h44-3-3" class="d">-c1: storage delete mvcc:TxnWrite(2, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h44-3-4" id="h44-3-4" class="d">-c1: storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h44-3-5" id="h44-3-5" class="i">+c1: delete mvcc:TxnWrite(2, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h44-3-6" id="h44-3-6" class="i">+c1: delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 c2:&gt; SELECT * FROM test
 ---
<b>diff --git a/<a id="h45" href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a> b/<a href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a></b>
<a href="#h45-0" id="h45-0" class="h">@@ -13,12 +13,12 @@ ok
</a> ---
 Delete: name
 └─ Scan: name
<a href="#h45-0-3" id="h45-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-4" id="h45-0-4" class="d">-storage set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h45-0-5" id="h45-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-6" id="h45-0-6" class="d">-storage set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h45-0-7" id="h45-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-8" id="h45-0-8" class="d">-storage set mvcc:Version(sql:Row(name, 3), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h45-0-9" id="h45-0-9" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-10" id="h45-0-10" class="i">+set mvcc:Version(sql:Row(name, 1), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h45-0-11" id="h45-0-11" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-12" id="h45-0-12" class="i">+set mvcc:Version(sql:Row(name, 2), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h45-0-13" id="h45-0-13" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-0-14" id="h45-0-14" class="i">+set mvcc:Version(sql:Row(name, 3), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a> 
 &gt; SELECT * FROM name
 &gt; ROLLBACK
<a href="#h45-1" id="h45-1" class="h">@@ -39,18 +39,18 @@ Error: invalid input: unexpected token ,
</a> # Deleting in an implicit transaction works, and deletes.
 [ops]&gt; DELETE FROM name
 ---
<a href="#h45-1-3" id="h45-1-3" class="d">-storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h45-1-4" id="h45-1-4" class="d">-storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h45-1-5" id="h45-1-5" class="d">-storage set mvcc:TxnWrite(5, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-6" id="h45-1-6" class="d">-storage set mvcc:Version(sql:Row(name, 1), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-7" id="h45-1-7" class="d">-storage set mvcc:TxnWrite(5, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-8" id="h45-1-8" class="d">-storage set mvcc:Version(sql:Row(name, 2), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-9" id="h45-1-9" class="d">-storage set mvcc:TxnWrite(5, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-10" id="h45-1-10" class="d">-storage set mvcc:Version(sql:Row(name, 3), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-11" id="h45-1-11" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h45-1-12" id="h45-1-12" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h45-1-13" id="h45-1-13" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h45-1-14" id="h45-1-14" class="d">-storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a><a href="#h45-1-15" id="h45-1-15" class="i">+set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h45-1-16" id="h45-1-16" class="i">+set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h45-1-17" id="h45-1-17" class="i">+set mvcc:TxnWrite(5, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-18" id="h45-1-18" class="i">+set mvcc:Version(sql:Row(name, 1), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-19" id="h45-1-19" class="i">+set mvcc:TxnWrite(5, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-20" id="h45-1-20" class="i">+set mvcc:Version(sql:Row(name, 2), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-21" id="h45-1-21" class="i">+set mvcc:TxnWrite(5, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h45-1-22" id="h45-1-22" class="i">+set mvcc:Version(sql:Row(name, 3), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h45-1-23" id="h45-1-23" class="i">+delete mvcc:TxnWrite(5, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h45-1-24" id="h45-1-24" class="i">+delete mvcc:TxnWrite(5, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h45-1-25" id="h45-1-25" class="i">+delete mvcc:TxnWrite(5, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h45-1-26" id="h45-1-26" class="i">+delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> 
 &gt; SELECT * FROM name
 ---
<b>diff --git a/<a id="h46" href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a> b/<a href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a></b>
<a href="#h46-0" id="h46-0" class="h">@@ -20,21 +20,21 @@ ok
</a> # DELETE updates the secondary indexes.
 [ops]&gt; DELETE FROM name WHERE id = 4
 ---
<a href="#h46-0-3" id="h46-0-3" class="d">-storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h46-0-4" id="h46-0-4" class="d">-storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h46-0-5" id="h46-0-5" class="d">-storage set mvcc:TxnWrite(9, sql:Index(name.index, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-6" id="h46-0-6" class="d">-storage set mvcc:Version(sql:Index(name.index, 8), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-7" id="h46-0-7" class="d">-storage set mvcc:TxnWrite(9, sql:Index(name.unique, &#39;baz&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-8" id="h46-0-8" class="d">-storage set mvcc:Version(sql:Index(name.unique, &#39;baz&#39;), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-9" id="h46-0-9" class="d">-storage set mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-10" id="h46-0-10" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, 2), 9) → 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h46-0-11" id="h46-0-11" class="d">-storage set mvcc:TxnWrite(9, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-12" id="h46-0-12" class="d">-storage set mvcc:Version(sql:Row(name, 4), 9) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-13" id="h46-0-13" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(name.index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h46-0-14" id="h46-0-14" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h46-0-15" id="h46-0-15" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(name.unique, &#39;baz&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h46-0-16" id="h46-0-16" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h46-0-17" id="h46-0-17" class="d">-storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h46-0-18" id="h46-0-18" class="i">+set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h46-0-19" id="h46-0-19" class="i">+set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h46-0-20" id="h46-0-20" class="i">+set mvcc:TxnWrite(9, sql:Index(name.index, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-21" id="h46-0-21" class="i">+set mvcc:Version(sql:Index(name.index, 8), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-22" id="h46-0-22" class="i">+set mvcc:TxnWrite(9, sql:Index(name.unique, &#39;baz&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-23" id="h46-0-23" class="i">+set mvcc:Version(sql:Index(name.unique, &#39;baz&#39;), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-24" id="h46-0-24" class="i">+set mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-25" id="h46-0-25" class="i">+set mvcc:Version(sql:Index(name.ref_id, 2), 9) → 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h46-0-26" id="h46-0-26" class="i">+set mvcc:TxnWrite(9, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h46-0-27" id="h46-0-27" class="i">+set mvcc:Version(sql:Row(name, 4), 9) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h46-0-28" id="h46-0-28" class="i">+delete mvcc:TxnWrite(9, sql:Index(name.index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h46-0-29" id="h46-0-29" class="i">+delete mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h46-0-30" id="h46-0-30" class="i">+delete mvcc:TxnWrite(9, sql:Index(name.unique, &#39;baz&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h46-0-31" id="h46-0-31" class="i">+delete mvcc:TxnWrite(9, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h46-0-32" id="h46-0-32" class="i">+delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> 
 # Dump the final state.
 &gt; SELECT * FROM name
<b>diff --git a/<a id="h47" href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a> b/<a href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a></b>
<a href="#h47-0" id="h47-0" class="h">@@ -36,12 +36,12 @@ Error: invalid input: row referenced by name.id=1
</a> # DELETE of an unreferenced row succeeds.
 [ops]&gt; DELETE FROM ref WHERE id = 3
 ---
<a href="#h47-0-3" id="h47-0-3" class="d">-storage set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h47-0-4" id="h47-0-4" class="d">-storage set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h47-0-5" id="h47-0-5" class="d">-storage set mvcc:TxnWrite(13, sql:Row(ref, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-0-6" id="h47-0-6" class="d">-storage set mvcc:Version(sql:Row(ref, 3), 13) → None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h47-0-7" id="h47-0-7" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(ref, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h47-0-8" id="h47-0-8" class="d">-storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a><a href="#h47-0-9" id="h47-0-9" class="i">+set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h47-0-10" id="h47-0-10" class="i">+set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h47-0-11" id="h47-0-11" class="i">+set mvcc:TxnWrite(13, sql:Row(ref, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-0-12" id="h47-0-12" class="i">+set mvcc:Version(sql:Row(ref, 3), 13) → None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h47-0-13" id="h47-0-13" class="i">+delete mvcc:TxnWrite(13, sql:Row(ref, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h47-0-14" id="h47-0-14" class="i">+delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> 
 &gt; SELECT * FROM ref
 ---
<a href="#h47-1" id="h47-1" class="h">@@ -51,26 +51,26 @@ storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> # DELETE in the source table succeeds. It also removes the index entries.
 [ops]&gt; DELETE FROM name WHERE id = 2 OR id = 3
 ---
<a href="#h47-1-3" id="h47-1-3" class="d">-storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h47-1-4" id="h47-1-4" class="d">-storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h47-1-5" id="h47-1-5" class="d">-storage set mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-6" id="h47-1-6" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, NULL), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-7" id="h47-1-7" class="d">-storage set mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-8" id="h47-1-8" class="d">-storage set mvcc:Version(sql:Index(name.sref_id, &#39;b&#39;), 14) → 3 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h47-1-9" id="h47-1-9" class="d">-storage set mvcc:TxnWrite(14, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-10" id="h47-1-10" class="d">-storage set mvcc:Version(sql:Row(name, 2), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-11" id="h47-1-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-12" id="h47-1-12" class="d">-storage set mvcc:Version(sql:Index(name.ref_id, 2), 14) → 4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h47-1-13" id="h47-1-13" class="d">-storage set mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-14" id="h47-1-14" class="d">-storage set mvcc:Version(sql:Index(name.sref_id, &#39;b&#39;), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-15" id="h47-1-15" class="d">-storage set mvcc:TxnWrite(14, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-16" id="h47-1-16" class="d">-storage set mvcc:Version(sql:Row(name, 3), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-17" id="h47-1-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h47-1-18" id="h47-1-18" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h47-1-19" id="h47-1-19" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h47-1-20" id="h47-1-20" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h47-1-21" id="h47-1-21" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h47-1-22" id="h47-1-22" class="d">-storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h47-1-23" id="h47-1-23" class="i">+set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h47-1-24" id="h47-1-24" class="i">+set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h47-1-25" id="h47-1-25" class="i">+set mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-26" id="h47-1-26" class="i">+set mvcc:Version(sql:Index(name.ref_id, NULL), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-27" id="h47-1-27" class="i">+set mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-28" id="h47-1-28" class="i">+set mvcc:Version(sql:Index(name.sref_id, &#39;b&#39;), 14) → 3 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h47-1-29" id="h47-1-29" class="i">+set mvcc:TxnWrite(14, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-30" id="h47-1-30" class="i">+set mvcc:Version(sql:Row(name, 2), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-31" id="h47-1-31" class="i">+set mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-32" id="h47-1-32" class="i">+set mvcc:Version(sql:Index(name.ref_id, 2), 14) → 4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h47-1-33" id="h47-1-33" class="i">+set mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-34" id="h47-1-34" class="i">+set mvcc:Version(sql:Index(name.sref_id, &#39;b&#39;), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-35" id="h47-1-35" class="i">+set mvcc:TxnWrite(14, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h47-1-36" id="h47-1-36" class="i">+set mvcc:Version(sql:Row(name, 3), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h47-1-37" id="h47-1-37" class="i">+delete mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h47-1-38" id="h47-1-38" class="i">+delete mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h47-1-39" id="h47-1-39" class="i">+delete mvcc:TxnWrite(14, sql:Index(name.sref_id, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h47-1-40" id="h47-1-40" class="i">+delete mvcc:TxnWrite(14, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h47-1-41" id="h47-1-41" class="i">+delete mvcc:TxnWrite(14, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h47-1-42" id="h47-1-42" class="i">+delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a> 
 # DELETE of a no-longer-referenced row succeeds.
 &gt; DELETE FROM sref WHERE id = &#39;b&#39;
<b>diff --git a/<a id="h48" href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a> b/<a href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a></b>
<a href="#h48-0" id="h48-0" class="h">@@ -9,32 +9,32 @@ ok
</a> ---
 Insert: name
 └─ Values: 1, &#39;a&#39;
<a href="#h48-0-3" id="h48-0-3" class="i">+set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h48-0-4" id="h48-0-4" class="i">+set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h48-0-5" id="h48-0-5" class="i">+set mvcc:TxnWrite(2, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-6" id="h48-0-6" class="i">+set mvcc:Version(sql:Row(name, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h48-0-7" id="h48-0-7" class="i">+delete mvcc:TxnWrite(2, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h48-0-8" id="h48-0-8" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> Insert { count: 1 }
<a href="#h48-0-10" id="h48-0-10" class="d">-storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h48-0-11" id="h48-0-11" class="d">-storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h48-0-12" id="h48-0-12" class="d">-storage set mvcc:TxnWrite(2, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-13" id="h48-0-13" class="d">-storage set mvcc:Version(sql:Row(name, 1), 2) → 1,&#39;a&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h48-0-14" id="h48-0-14" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h48-0-15" id="h48-0-15" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 # It can also write multiple rows.
 [plan,result,ops]&gt; INSERT INTO name VALUES (2, &#39;b&#39;), (3, &#39;c&#39;), (4, &#39;d&#39;)
 ---
 Insert: name
 └─ Values: 3 rows
<a href="#h48-0-22" id="h48-0-22" class="i">+set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h48-0-23" id="h48-0-23" class="i">+set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h48-0-24" id="h48-0-24" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-25" id="h48-0-25" class="i">+set mvcc:Version(sql:Row(name, 2), 3) → 2,&#39;b&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h48-0-26" id="h48-0-26" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-27" id="h48-0-27" class="i">+set mvcc:Version(sql:Row(name, 3), 3) → 3,&#39;c&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h48-0-28" id="h48-0-28" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-29" id="h48-0-29" class="i">+set mvcc:Version(sql:Row(name, 4), 3) → 4,&#39;d&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h48-0-30" id="h48-0-30" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h48-0-31" id="h48-0-31" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h48-0-32" id="h48-0-32" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h48-0-33" id="h48-0-33" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> Insert { count: 3 }
<a href="#h48-0-35" id="h48-0-35" class="d">-storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h48-0-36" id="h48-0-36" class="d">-storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h48-0-37" id="h48-0-37" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-38" id="h48-0-38" class="d">-storage set mvcc:Version(sql:Row(name, 2), 3) → 2,&#39;b&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h48-0-39" id="h48-0-39" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-40" id="h48-0-40" class="d">-storage set mvcc:Version(sql:Row(name, 3), 3) → 3,&#39;c&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h48-0-41" id="h48-0-41" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h48-0-42" id="h48-0-42" class="d">-storage set mvcc:Version(sql:Row(name, 4), 3) → 4,&#39;d&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h48-0-43" id="h48-0-43" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h48-0-44" id="h48-0-44" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h48-0-45" id="h48-0-45" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h48-0-46" id="h48-0-46" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 &gt; SELECT * FROM name
 ---
<b>diff --git a/<a id="h49" href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a> b/<a href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a></b>
<a href="#h49-0" id="h49-0" class="h">@@ -13,298 +13,298 @@ ok
</a> # An INSERT writes to all indexes.
 [ops]&gt; INSERT INTO &quot;index&quot; VALUES (1, TRUE, 7, 3.14, &#39;foo&#39;)
 ---
<a href="#h49-0-3" id="h49-0-3" class="d">-storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h49-0-4" id="h49-0-4" class="d">-storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h49-0-5" id="h49-0-5" class="d">-storage set mvcc:TxnWrite(2, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-6" id="h49-0-6" class="d">-storage set mvcc:Version(sql:Row(index, 1), 2) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h49-0-7" id="h49-0-7" class="d">-storage set mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-8" id="h49-0-8" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-9" id="h49-0-9" class="d">-storage set mvcc:TxnWrite(2, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-10" id="h49-0-10" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-11" id="h49-0-11" class="d">-storage set mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-12" id="h49-0-12" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-13" id="h49-0-13" class="d">-storage set mvcc:TxnWrite(2, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-14" id="h49-0-14" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-15" id="h49-0-15" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h49-0-16" id="h49-0-16" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h49-0-17" id="h49-0-17" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-18" id="h49-0-18" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-19" id="h49-0-19" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h49-0-20" id="h49-0-20" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h49-0-21" id="h49-0-21" class="i">+set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h49-0-22" id="h49-0-22" class="i">+set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h49-0-23" id="h49-0-23" class="i">+set mvcc:TxnWrite(2, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-24" id="h49-0-24" class="i">+set mvcc:Version(sql:Row(index, 1), 2) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h49-0-25" id="h49-0-25" class="i">+set mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-26" id="h49-0-26" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-27" id="h49-0-27" class="i">+set mvcc:TxnWrite(2, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-28" id="h49-0-28" class="i">+set mvcc:Version(sql:Index(index.int, 7), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-29" id="h49-0-29" class="i">+set mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-30" id="h49-0-30" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-31" id="h49-0-31" class="i">+set mvcc:TxnWrite(2, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-32" id="h49-0-32" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 2) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h49-0-33" id="h49-0-33" class="i">+delete mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h49-0-34" id="h49-0-34" class="i">+delete mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h49-0-35" id="h49-0-35" class="i">+delete mvcc:TxnWrite(2, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-36" id="h49-0-36" class="i">+delete mvcc:TxnWrite(2, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-37" id="h49-0-37" class="i">+delete mvcc:TxnWrite(2, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h49-0-38" id="h49-0-38" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 # Another insert with the same values adds to the index entries.
 [ops]&gt; INSERT INTO &quot;index&quot; VALUES (2, TRUE, 7, 3.14, &#39;foo&#39;)
 ---
<a href="#h49-0-43" id="h49-0-43" class="d">-storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h49-0-44" id="h49-0-44" class="d">-storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h49-0-45" id="h49-0-45" class="d">-storage set mvcc:TxnWrite(3, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-46" id="h49-0-46" class="d">-storage set mvcc:Version(sql:Row(index, 2), 3) → 2,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h49-0-47" id="h49-0-47" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-48" id="h49-0-48" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-49" id="h49-0-49" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-50" id="h49-0-50" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-51" id="h49-0-51" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-52" id="h49-0-52" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-53" id="h49-0-53" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-54" id="h49-0-54" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-55" id="h49-0-55" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h49-0-56" id="h49-0-56" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h49-0-57" id="h49-0-57" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-58" id="h49-0-58" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-59" id="h49-0-59" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h49-0-60" id="h49-0-60" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h49-0-61" id="h49-0-61" class="i">+set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h49-0-62" id="h49-0-62" class="i">+set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h49-0-63" id="h49-0-63" class="i">+set mvcc:TxnWrite(3, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-64" id="h49-0-64" class="i">+set mvcc:Version(sql:Row(index, 2), 3) → 2,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h49-0-65" id="h49-0-65" class="i">+set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-66" id="h49-0-66" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-67" id="h49-0-67" class="i">+set mvcc:TxnWrite(3, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-68" id="h49-0-68" class="i">+set mvcc:Version(sql:Index(index.int, 7), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-69" id="h49-0-69" class="i">+set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-70" id="h49-0-70" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-71" id="h49-0-71" class="i">+set mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-72" id="h49-0-72" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 3) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h49-0-73" id="h49-0-73" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h49-0-74" id="h49-0-74" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h49-0-75" id="h49-0-75" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-76" id="h49-0-76" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-77" id="h49-0-77" class="i">+delete mvcc:TxnWrite(3, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h49-0-78" id="h49-0-78" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 # An insert with different values writes new index entries.
 [ops]&gt; INSERT INTO &quot;index&quot; VALUES (3, FALSE, 0, 2.718, &#39;&#39;)
 ---
<a href="#h49-0-83" id="h49-0-83" class="d">-storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h49-0-84" id="h49-0-84" class="d">-storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h49-0-85" id="h49-0-85" class="d">-storage set mvcc:TxnWrite(4, sql:Row(index, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-86" id="h49-0-86" class="d">-storage set mvcc:Version(sql:Row(index, 3), 4) → 3,FALSE,0,2.718,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x12\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x00&quot;]
</a><a href="#h49-0-87" id="h49-0-87" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-88" id="h49-0-88" class="d">-storage set mvcc:Version(sql:Index(index.bool, FALSE), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-89" id="h49-0-89" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.int, 0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-90" id="h49-0-90" class="d">-storage set mvcc:Version(sql:Index(index.int, 0), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-91" id="h49-0-91" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-92" id="h49-0-92" class="d">-storage set mvcc:Version(sql:Index(index.float, 2.718), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-93" id="h49-0-93" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-94" id="h49-0-94" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;&#39;), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-95" id="h49-0-95" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-96" id="h49-0-96" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h49-0-97" id="h49-0-97" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-98" id="h49-0-98" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-99" id="h49-0-99" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(index, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h49-0-100" id="h49-0-100" class="d">-storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h49-0-101" id="h49-0-101" class="i">+set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h49-0-102" id="h49-0-102" class="i">+set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h49-0-103" id="h49-0-103" class="i">+set mvcc:TxnWrite(4, sql:Row(index, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-104" id="h49-0-104" class="i">+set mvcc:Version(sql:Row(index, 3), 4) → 3,FALSE,0,2.718,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x12\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x00&quot;]
</a><a href="#h49-0-105" id="h49-0-105" class="i">+set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-106" id="h49-0-106" class="i">+set mvcc:Version(sql:Index(index.bool, FALSE), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-107" id="h49-0-107" class="i">+set mvcc:TxnWrite(4, sql:Index(index.int, 0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-108" id="h49-0-108" class="i">+set mvcc:Version(sql:Index(index.int, 0), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-109" id="h49-0-109" class="i">+set mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-110" id="h49-0-110" class="i">+set mvcc:Version(sql:Index(index.float, 2.718), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-111" id="h49-0-111" class="i">+set mvcc:TxnWrite(4, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-112" id="h49-0-112" class="i">+set mvcc:Version(sql:Index(index.string, &#39;&#39;), 4) → 3 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h49-0-113" id="h49-0-113" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-114" id="h49-0-114" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h49-0-115" id="h49-0-115" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-116" id="h49-0-116" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-117" id="h49-0-117" class="i">+delete mvcc:TxnWrite(4, sql:Row(index, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h49-0-118" id="h49-0-118" class="i">+delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 # Inserts with NULLS adds NULL entries. These are used for IS NULL queries.
 [ops]&gt; INSERT INTO &quot;index&quot; VALUES (4), (5)
 ---
<a href="#h49-0-123" id="h49-0-123" class="d">-storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h49-0-124" id="h49-0-124" class="d">-storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h49-0-125" id="h49-0-125" class="d">-storage set mvcc:TxnWrite(5, sql:Row(index, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-126" id="h49-0-126" class="d">-storage set mvcc:Version(sql:Row(index, 4), 5) → 4,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-127" id="h49-0-127" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-128" id="h49-0-128" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-129" id="h49-0-129" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-130" id="h49-0-130" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-131" id="h49-0-131" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-132" id="h49-0-132" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-133" id="h49-0-133" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-134" id="h49-0-134" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-135" id="h49-0-135" class="d">-storage set mvcc:TxnWrite(5, sql:Row(index, 5)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-136" id="h49-0-136" class="d">-storage set mvcc:Version(sql:Row(index, 5), 5) → 5,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-137" id="h49-0-137" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-138" id="h49-0-138" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-139" id="h49-0-139" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-140" id="h49-0-140" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-141" id="h49-0-141" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-142" id="h49-0-142" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-143" id="h49-0-143" class="d">-storage set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-144" id="h49-0-144" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-145" id="h49-0-145" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-146" id="h49-0-146" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-147" id="h49-0-147" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-148" id="h49-0-148" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-149" id="h49-0-149" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(index, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h49-0-150" id="h49-0-150" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(index, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h49-0-151" id="h49-0-151" class="d">-storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a><a href="#h49-0-152" id="h49-0-152" class="i">+set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h49-0-153" id="h49-0-153" class="i">+set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h49-0-154" id="h49-0-154" class="i">+set mvcc:TxnWrite(5, sql:Row(index, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-155" id="h49-0-155" class="i">+set mvcc:Version(sql:Row(index, 4), 5) → 4,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-156" id="h49-0-156" class="i">+set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-157" id="h49-0-157" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-158" id="h49-0-158" class="i">+set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-159" id="h49-0-159" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-160" id="h49-0-160" class="i">+set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-161" id="h49-0-161" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-162" id="h49-0-162" class="i">+set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-163" id="h49-0-163" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 5) → 4 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h49-0-164" id="h49-0-164" class="i">+set mvcc:TxnWrite(5, sql:Row(index, 5)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-165" id="h49-0-165" class="i">+set mvcc:Version(sql:Row(index, 5), 5) → 5,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-166" id="h49-0-166" class="i">+set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-167" id="h49-0-167" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-168" id="h49-0-168" class="i">+set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-169" id="h49-0-169" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-170" id="h49-0-170" class="i">+set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-171" id="h49-0-171" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-172" id="h49-0-172" class="i">+set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-173" id="h49-0-173" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 5) → 4,5 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h49-0-174" id="h49-0-174" class="i">+delete mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-175" id="h49-0-175" class="i">+delete mvcc:TxnWrite(5, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-176" id="h49-0-176" class="i">+delete mvcc:TxnWrite(5, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-177" id="h49-0-177" class="i">+delete mvcc:TxnWrite(5, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-178" id="h49-0-178" class="i">+delete mvcc:TxnWrite(5, sql:Row(index, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h49-0-179" id="h49-0-179" class="i">+delete mvcc:TxnWrite(5, sql:Row(index, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h49-0-180" id="h49-0-180" class="i">+delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> 
 # Float NaNs are considered equal and indexed.
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (6, NAN), (7, NAN)
 ---
<a href="#h49-0-185" id="h49-0-185" class="d">-storage set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h49-0-186" id="h49-0-186" class="d">-storage set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h49-0-187" id="h49-0-187" class="d">-storage set mvcc:TxnWrite(6, sql:Row(index, 6)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-188" id="h49-0-188" class="d">-storage set mvcc:Version(sql:Row(index, 6), 6) → 6,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h49-0-189" id="h49-0-189" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-190" id="h49-0-190" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-191" id="h49-0-191" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-192" id="h49-0-192" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-193" id="h49-0-193" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-194" id="h49-0-194" class="d">-storage set mvcc:Version(sql:Index(index.float, NaN), 6) → 6 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h49-0-195" id="h49-0-195" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-196" id="h49-0-196" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-197" id="h49-0-197" class="d">-storage set mvcc:TxnWrite(6, sql:Row(index, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-198" id="h49-0-198" class="d">-storage set mvcc:Version(sql:Row(index, 7), 6) → 7,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h49-0-199" id="h49-0-199" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-200" id="h49-0-200" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-201" id="h49-0-201" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-202" id="h49-0-202" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-203" id="h49-0-203" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-204" id="h49-0-204" class="d">-storage set mvcc:Version(sql:Index(index.float, NaN), 6) → 6,7 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-205" id="h49-0-205" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-206" id="h49-0-206" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-207" id="h49-0-207" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-208" id="h49-0-208" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-209" id="h49-0-209" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-210" id="h49-0-210" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-211" id="h49-0-211" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(index, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h49-0-212" id="h49-0-212" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(index, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-213" id="h49-0-213" class="d">-storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a><a href="#h49-0-214" id="h49-0-214" class="i">+set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h49-0-215" id="h49-0-215" class="i">+set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h49-0-216" id="h49-0-216" class="i">+set mvcc:TxnWrite(6, sql:Row(index, 6)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-217" id="h49-0-217" class="i">+set mvcc:Version(sql:Row(index, 6), 6) → 6,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h49-0-218" id="h49-0-218" class="i">+set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-219" id="h49-0-219" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-220" id="h49-0-220" class="i">+set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-221" id="h49-0-221" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-222" id="h49-0-222" class="i">+set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-223" id="h49-0-223" class="i">+set mvcc:Version(sql:Index(index.float, NaN), 6) → 6 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h49-0-224" id="h49-0-224" class="i">+set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-225" id="h49-0-225" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 6) → 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h49-0-226" id="h49-0-226" class="i">+set mvcc:TxnWrite(6, sql:Row(index, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-227" id="h49-0-227" class="i">+set mvcc:Version(sql:Row(index, 7), 6) → 7,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h49-0-228" id="h49-0-228" class="i">+set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-229" id="h49-0-229" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-230" id="h49-0-230" class="i">+set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-231" id="h49-0-231" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-232" id="h49-0-232" class="i">+set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-233" id="h49-0-233" class="i">+set mvcc:Version(sql:Index(index.float, NaN), 6) → 6,7 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-234" id="h49-0-234" class="i">+set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-235" id="h49-0-235" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 6) → 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h49-0-236" id="h49-0-236" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-237" id="h49-0-237" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-238" id="h49-0-238" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-239" id="h49-0-239" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-240" id="h49-0-240" class="i">+delete mvcc:TxnWrite(6, sql:Row(index, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h49-0-241" id="h49-0-241" class="i">+delete mvcc:TxnWrite(6, sql:Row(index, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h49-0-242" id="h49-0-242" class="i">+delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a> 
 # Float 0.0 and -0.0 are normalized as 0.0 and indexed as such.
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (8, -0.0), (9, 0.0)
 ---
<a href="#h49-0-247" id="h49-0-247" class="d">-storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h49-0-248" id="h49-0-248" class="d">-storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h49-0-249" id="h49-0-249" class="d">-storage set mvcc:TxnWrite(7, sql:Row(index, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-250" id="h49-0-250" class="d">-storage set mvcc:Version(sql:Row(index, 8), 7) → 8,NULL,NULL,0.0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-251" id="h49-0-251" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-252" id="h49-0-252" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-253" id="h49-0-253" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-254" id="h49-0-254" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-255" id="h49-0-255" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-256" id="h49-0-256" class="d">-storage set mvcc:Version(sql:Index(index.float, 0.0), 7) → 8 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h49-0-257" id="h49-0-257" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-258" id="h49-0-258" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-259" id="h49-0-259" class="d">-storage set mvcc:TxnWrite(7, sql:Row(index, 9)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-260" id="h49-0-260" class="d">-storage set mvcc:Version(sql:Row(index, 9), 7) → 9,NULL,NULL,0.0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-261" id="h49-0-261" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-262" id="h49-0-262" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-263" id="h49-0-263" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-264" id="h49-0-264" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-265" id="h49-0-265" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-266" id="h49-0-266" class="d">-storage set mvcc:Version(sql:Index(index.float, 0.0), 7) → 8,9 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-267" id="h49-0-267" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-268" id="h49-0-268" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-269" id="h49-0-269" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-270" id="h49-0-270" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-271" id="h49-0-271" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-272" id="h49-0-272" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-273" id="h49-0-273" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h49-0-274" id="h49-0-274" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(index, 9)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a><a href="#h49-0-275" id="h49-0-275" class="d">-storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h49-0-276" id="h49-0-276" class="i">+set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h49-0-277" id="h49-0-277" class="i">+set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h49-0-278" id="h49-0-278" class="i">+set mvcc:TxnWrite(7, sql:Row(index, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-279" id="h49-0-279" class="i">+set mvcc:Version(sql:Row(index, 8), 7) → 8,NULL,NULL,0.0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-280" id="h49-0-280" class="i">+set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-281" id="h49-0-281" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-282" id="h49-0-282" class="i">+set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-283" id="h49-0-283" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-284" id="h49-0-284" class="i">+set mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-285" id="h49-0-285" class="i">+set mvcc:Version(sql:Index(index.float, 0.0), 7) → 8 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h49-0-286" id="h49-0-286" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-287" id="h49-0-287" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 7) → 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h49-0-288" id="h49-0-288" class="i">+set mvcc:TxnWrite(7, sql:Row(index, 9)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-289" id="h49-0-289" class="i">+set mvcc:Version(sql:Row(index, 9), 7) → 9,NULL,NULL,0.0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h49-0-290" id="h49-0-290" class="i">+set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-291" id="h49-0-291" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-292" id="h49-0-292" class="i">+set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-293" id="h49-0-293" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-294" id="h49-0-294" class="i">+set mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-295" id="h49-0-295" class="i">+set mvcc:Version(sql:Index(index.float, 0.0), 7) → 8,9 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-296" id="h49-0-296" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-297" id="h49-0-297" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 7) → 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h49-0-298" id="h49-0-298" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-299" id="h49-0-299" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-300" id="h49-0-300" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-301" id="h49-0-301" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-302" id="h49-0-302" class="i">+delete mvcc:TxnWrite(7, sql:Row(index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h49-0-303" id="h49-0-303" class="i">+delete mvcc:TxnWrite(7, sql:Row(index, 9)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a><a href="#h49-0-304" id="h49-0-304" class="i">+delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> 
 # Float INFINITY is also indexed.
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (10, -INFINITY), (11, INFINITY)
 ---
<a href="#h49-0-309" id="h49-0-309" class="d">-storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h49-0-310" id="h49-0-310" class="d">-storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h49-0-311" id="h49-0-311" class="d">-storage set mvcc:TxnWrite(8, sql:Row(index, 10)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-312" id="h49-0-312" class="d">-storage set mvcc:Version(sql:Row(index, 10), 8) → 10,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h49-0-313" id="h49-0-313" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-314" id="h49-0-314" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-315" id="h49-0-315" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-316" id="h49-0-316" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-317" id="h49-0-317" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-318" id="h49-0-318" class="d">-storage set mvcc:Version(sql:Index(index.float, -inf), 8) → 10 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h49-0-319" id="h49-0-319" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-320" id="h49-0-320" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-321" id="h49-0-321" class="d">-storage set mvcc:TxnWrite(8, sql:Row(index, 11)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-322" id="h49-0-322" class="d">-storage set mvcc:Version(sql:Row(index, 11), 8) → 11,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x16\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h49-0-323" id="h49-0-323" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-324" id="h49-0-324" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-325" id="h49-0-325" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-326" id="h49-0-326" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-327" id="h49-0-327" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-328" id="h49-0-328" class="d">-storage set mvcc:Version(sql:Index(index.float, inf), 8) → 11 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h49-0-329" id="h49-0-329" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-330" id="h49-0-330" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-331" id="h49-0-331" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-332" id="h49-0-332" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h49-0-333" id="h49-0-333" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-334" id="h49-0-334" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-335" id="h49-0-335" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-336" id="h49-0-336" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(index, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h49-0-337" id="h49-0-337" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(index, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h49-0-338" id="h49-0-338" class="d">-storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h49-0-339" id="h49-0-339" class="i">+set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h49-0-340" id="h49-0-340" class="i">+set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h49-0-341" id="h49-0-341" class="i">+set mvcc:TxnWrite(8, sql:Row(index, 10)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-342" id="h49-0-342" class="i">+set mvcc:Version(sql:Row(index, 10), 8) → 10,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h49-0-343" id="h49-0-343" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-344" id="h49-0-344" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-345" id="h49-0-345" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-346" id="h49-0-346" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-347" id="h49-0-347" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-348" id="h49-0-348" class="i">+set mvcc:Version(sql:Index(index.float, -inf), 8) → 10 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h49-0-349" id="h49-0-349" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-350" id="h49-0-350" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 8) → 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h49-0-351" id="h49-0-351" class="i">+set mvcc:TxnWrite(8, sql:Row(index, 11)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-352" id="h49-0-352" class="i">+set mvcc:Version(sql:Row(index, 11), 8) → 11,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x16\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h49-0-353" id="h49-0-353" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-354" id="h49-0-354" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-355" id="h49-0-355" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-356" id="h49-0-356" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-357" id="h49-0-357" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-358" id="h49-0-358" class="i">+set mvcc:Version(sql:Index(index.float, inf), 8) → 11 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h49-0-359" id="h49-0-359" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-360" id="h49-0-360" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 8) → 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h49-0-361" id="h49-0-361" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-362" id="h49-0-362" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h49-0-363" id="h49-0-363" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-364" id="h49-0-364" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-365" id="h49-0-365" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-366" id="h49-0-366" class="i">+delete mvcc:TxnWrite(8, sql:Row(index, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h49-0-367" id="h49-0-367" class="i">+delete mvcc:TxnWrite(8, sql:Row(index, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h49-0-368" id="h49-0-368" class="i">+delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a> 
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (12, -INFINITY), (13, INFINITY)
 ---
<a href="#h49-0-372" id="h49-0-372" class="d">-storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h49-0-373" id="h49-0-373" class="d">-storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h49-0-374" id="h49-0-374" class="d">-storage set mvcc:TxnWrite(9, sql:Row(index, 12)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-375" id="h49-0-375" class="d">-storage set mvcc:Version(sql:Row(index, 12), 9) → 12,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x18\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h49-0-376" id="h49-0-376" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-377" id="h49-0-377" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-378" id="h49-0-378" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-379" id="h49-0-379" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-380" id="h49-0-380" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-381" id="h49-0-381" class="d">-storage set mvcc:Version(sql:Index(index.float, -inf), 9) → 10,12 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x14\x02\x18&quot;]
</a><a href="#h49-0-382" id="h49-0-382" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-383" id="h49-0-383" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-384" id="h49-0-384" class="d">-storage set mvcc:TxnWrite(9, sql:Row(index, 13)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-385" id="h49-0-385" class="d">-storage set mvcc:Version(sql:Row(index, 13), 9) → 13,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x1a\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h49-0-386" id="h49-0-386" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-387" id="h49-0-387" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-388" id="h49-0-388" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-389" id="h49-0-389" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-390" id="h49-0-390" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-391" id="h49-0-391" class="d">-storage set mvcc:Version(sql:Index(index.float, inf), 9) → 11,13 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x16\x02\x1a&quot;]
</a><a href="#h49-0-392" id="h49-0-392" class="d">-storage set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-393" id="h49-0-393" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-394" id="h49-0-394" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-395" id="h49-0-395" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h49-0-396" id="h49-0-396" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-397" id="h49-0-397" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-398" id="h49-0-398" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-399" id="h49-0-399" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(index, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h49-0-400" id="h49-0-400" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(index, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h49-0-401" id="h49-0-401" class="d">-storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h49-0-402" id="h49-0-402" class="i">+set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h49-0-403" id="h49-0-403" class="i">+set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h49-0-404" id="h49-0-404" class="i">+set mvcc:TxnWrite(9, sql:Row(index, 12)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-405" id="h49-0-405" class="i">+set mvcc:Version(sql:Row(index, 12), 9) → 12,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x18\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h49-0-406" id="h49-0-406" class="i">+set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-407" id="h49-0-407" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-408" id="h49-0-408" class="i">+set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-409" id="h49-0-409" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-410" id="h49-0-410" class="i">+set mvcc:TxnWrite(9, sql:Index(index.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-411" id="h49-0-411" class="i">+set mvcc:Version(sql:Index(index.float, -inf), 9) → 10,12 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x14\x02\x18&quot;]
</a><a href="#h49-0-412" id="h49-0-412" class="i">+set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-413" id="h49-0-413" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 9) → 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h49-0-414" id="h49-0-414" class="i">+set mvcc:TxnWrite(9, sql:Row(index, 13)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-415" id="h49-0-415" class="i">+set mvcc:Version(sql:Row(index, 13), 9) → 13,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x1a\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h49-0-416" id="h49-0-416" class="i">+set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-417" id="h49-0-417" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-418" id="h49-0-418" class="i">+set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-419" id="h49-0-419" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-420" id="h49-0-420" class="i">+set mvcc:TxnWrite(9, sql:Index(index.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-421" id="h49-0-421" class="i">+set mvcc:Version(sql:Index(index.float, inf), 9) → 11,13 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x16\x02\x1a&quot;]
</a><a href="#h49-0-422" id="h49-0-422" class="i">+set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-423" id="h49-0-423" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 9) → 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h49-0-424" id="h49-0-424" class="i">+delete mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-425" id="h49-0-425" class="i">+delete mvcc:TxnWrite(9, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h49-0-426" id="h49-0-426" class="i">+delete mvcc:TxnWrite(9, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-427" id="h49-0-427" class="i">+delete mvcc:TxnWrite(9, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-428" id="h49-0-428" class="i">+delete mvcc:TxnWrite(9, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-429" id="h49-0-429" class="i">+delete mvcc:TxnWrite(9, sql:Row(index, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h49-0-430" id="h49-0-430" class="i">+delete mvcc:TxnWrite(9, sql:Row(index, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h49-0-431" id="h49-0-431" class="i">+delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> 
 # Empty strings are considered equal.
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;string&quot;) VALUES (14, &#39;&#39;), (15, &#39;&#39;)
 ---
<a href="#h49-0-436" id="h49-0-436" class="d">-storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h49-0-437" id="h49-0-437" class="d">-storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h49-0-438" id="h49-0-438" class="d">-storage set mvcc:TxnWrite(10, sql:Row(index, 14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-439" id="h49-0-439" class="d">-storage set mvcc:Version(sql:Row(index, 14), 10) → 14,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1c\x00\x00\x00\x04\x00&quot;]
</a><a href="#h49-0-440" id="h49-0-440" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-441" id="h49-0-441" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h49-0-442" id="h49-0-442" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-443" id="h49-0-443" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h49-0-444" id="h49-0-444" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-445" id="h49-0-445" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 10) → 4,5,14 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x1c&quot;]
</a><a href="#h49-0-446" id="h49-0-446" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-447" id="h49-0-447" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;&#39;), 10) → 3,14 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x05\x02\x02\x06\x02\x1c&quot;]
</a><a href="#h49-0-448" id="h49-0-448" class="d">-storage set mvcc:TxnWrite(10, sql:Row(index, 15)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-449" id="h49-0-449" class="d">-storage set mvcc:Version(sql:Row(index, 15), 10) → 15,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1e\x00\x00\x00\x04\x00&quot;]
</a><a href="#h49-0-450" id="h49-0-450" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-451" id="h49-0-451" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-452" id="h49-0-452" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-453" id="h49-0-453" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-454" id="h49-0-454" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-455" id="h49-0-455" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 10) → 4,5,14,15 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-456" id="h49-0-456" class="d">-storage set mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-457" id="h49-0-457" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;&#39;), 10) → 3,14,15 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x06\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-458" id="h49-0-458" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-459" id="h49-0-459" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-460" id="h49-0-460" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-461" id="h49-0-461" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-462" id="h49-0-462" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(index, 14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot;]
</a><a href="#h49-0-463" id="h49-0-463" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(index, 15)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot;]
</a><a href="#h49-0-464" id="h49-0-464" class="d">-storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h49-0-465" id="h49-0-465" class="i">+set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h49-0-466" id="h49-0-466" class="i">+set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h49-0-467" id="h49-0-467" class="i">+set mvcc:TxnWrite(10, sql:Row(index, 14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-468" id="h49-0-468" class="i">+set mvcc:Version(sql:Row(index, 14), 10) → 14,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1c\x00\x00\x00\x04\x00&quot;]
</a><a href="#h49-0-469" id="h49-0-469" class="i">+set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-470" id="h49-0-470" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h49-0-471" id="h49-0-471" class="i">+set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-472" id="h49-0-472" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h49-0-473" id="h49-0-473" class="i">+set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-474" id="h49-0-474" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 10) → 4,5,14 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x1c&quot;]
</a><a href="#h49-0-475" id="h49-0-475" class="i">+set mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-476" id="h49-0-476" class="i">+set mvcc:Version(sql:Index(index.string, &#39;&#39;), 10) → 3,14 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x05\x02\x02\x06\x02\x1c&quot;]
</a><a href="#h49-0-477" id="h49-0-477" class="i">+set mvcc:TxnWrite(10, sql:Row(index, 15)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-478" id="h49-0-478" class="i">+set mvcc:Version(sql:Row(index, 15), 10) → 15,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1e\x00\x00\x00\x04\x00&quot;]
</a><a href="#h49-0-479" id="h49-0-479" class="i">+set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-480" id="h49-0-480" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-481" id="h49-0-481" class="i">+set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-482" id="h49-0-482" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 10) → 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-483" id="h49-0-483" class="i">+set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-484" id="h49-0-484" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 10) → 4,5,14,15 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-485" id="h49-0-485" class="i">+set mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-486" id="h49-0-486" class="i">+set mvcc:Version(sql:Index(index.string, &#39;&#39;), 10) → 3,14,15 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x06\x02\x1c\x02\x1e&quot;]
</a><a href="#h49-0-487" id="h49-0-487" class="i">+delete mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-488" id="h49-0-488" class="i">+delete mvcc:TxnWrite(10, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-489" id="h49-0-489" class="i">+delete mvcc:TxnWrite(10, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-490" id="h49-0-490" class="i">+delete mvcc:TxnWrite(10, sql:Index(index.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-491" id="h49-0-491" class="i">+delete mvcc:TxnWrite(10, sql:Row(index, 14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot;]
</a><a href="#h49-0-492" id="h49-0-492" class="i">+delete mvcc:TxnWrite(10, sql:Row(index, 15)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot;]
</a><a href="#h49-0-493" id="h49-0-493" class="i">+delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a> 
 # Case differences are not considered equal
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;string&quot;) VALUES (16, &#39;case&#39;), (17, &#39;CaSe&#39;)
 ---
<a href="#h49-0-498" id="h49-0-498" class="d">-storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h49-0-499" id="h49-0-499" class="d">-storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h49-0-500" id="h49-0-500" class="d">-storage set mvcc:TxnWrite(11, sql:Row(index, 16)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-501" id="h49-0-501" class="d">-storage set mvcc:Version(sql:Row(index, 16), 11) → 16,NULL,NULL,NULL,&#39;case&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02 \x00\x00\x00\x04\x04case&quot;]
</a><a href="#h49-0-502" id="h49-0-502" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-503" id="h49-0-503" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-504" id="h49-0-504" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-505" id="h49-0-505" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-506" id="h49-0-506" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-507" id="h49-0-507" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 11) → 4,5,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-508" id="h49-0-508" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-509" id="h49-0-509" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;case&#39;), 11) → 16 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02 &quot;]
</a><a href="#h49-0-510" id="h49-0-510" class="d">-storage set mvcc:TxnWrite(11, sql:Row(index, 17)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-511" id="h49-0-511" class="d">-storage set mvcc:Version(sql:Row(index, 17), 11) → 17,NULL,NULL,NULL,&#39;CaSe&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02\&quot;\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h49-0-512" id="h49-0-512" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-513" id="h49-0-513" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-514" id="h49-0-514" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-515" id="h49-0-515" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-516" id="h49-0-516" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-517" id="h49-0-517" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 11) → 4,5,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-518" id="h49-0-518" class="d">-storage set mvcc:TxnWrite(11, sql:Index(index.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-519" id="h49-0-519" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;CaSe&#39;), 11) → 17 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\&quot;&quot;]
</a><a href="#h49-0-520" id="h49-0-520" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-521" id="h49-0-521" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-522" id="h49-0-522" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-523" id="h49-0-523" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(index.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-524" id="h49-0-524" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(index.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-525" id="h49-0-525" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(index, 16)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot;]
</a><a href="#h49-0-526" id="h49-0-526" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(index, 17)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot;]
</a><a href="#h49-0-527" id="h49-0-527" class="d">-storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><a href="#h49-0-528" id="h49-0-528" class="i">+set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h49-0-529" id="h49-0-529" class="i">+set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h49-0-530" id="h49-0-530" class="i">+set mvcc:TxnWrite(11, sql:Row(index, 16)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-531" id="h49-0-531" class="i">+set mvcc:Version(sql:Row(index, 16), 11) → 16,NULL,NULL,NULL,&#39;case&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02 \x00\x00\x00\x04\x04case&quot;]
</a><a href="#h49-0-532" id="h49-0-532" class="i">+set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-533" id="h49-0-533" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-534" id="h49-0-534" class="i">+set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-535" id="h49-0-535" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-536" id="h49-0-536" class="i">+set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-537" id="h49-0-537" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 11) → 4,5,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h49-0-538" id="h49-0-538" class="i">+set mvcc:TxnWrite(11, sql:Index(index.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-539" id="h49-0-539" class="i">+set mvcc:Version(sql:Index(index.string, &#39;case&#39;), 11) → 16 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02 &quot;]
</a><a href="#h49-0-540" id="h49-0-540" class="i">+set mvcc:TxnWrite(11, sql:Row(index, 17)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-541" id="h49-0-541" class="i">+set mvcc:Version(sql:Row(index, 17), 11) → 17,NULL,NULL,NULL,&#39;CaSe&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02\&quot;\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h49-0-542" id="h49-0-542" class="i">+set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-543" id="h49-0-543" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-544" id="h49-0-544" class="i">+set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-545" id="h49-0-545" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 11) → 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-546" id="h49-0-546" class="i">+set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-547" id="h49-0-547" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 11) → 4,5,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h49-0-548" id="h49-0-548" class="i">+set mvcc:TxnWrite(11, sql:Index(index.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h49-0-549" id="h49-0-549" class="i">+set mvcc:Version(sql:Index(index.string, &#39;CaSe&#39;), 11) → 17 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\&quot;&quot;]
</a><a href="#h49-0-550" id="h49-0-550" class="i">+delete mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-551" id="h49-0-551" class="i">+delete mvcc:TxnWrite(11, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-552" id="h49-0-552" class="i">+delete mvcc:TxnWrite(11, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-553" id="h49-0-553" class="i">+delete mvcc:TxnWrite(11, sql:Index(index.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-554" id="h49-0-554" class="i">+delete mvcc:TxnWrite(11, sql:Index(index.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h49-0-555" id="h49-0-555" class="i">+delete mvcc:TxnWrite(11, sql:Row(index, 16)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot;]
</a><a href="#h49-0-556" id="h49-0-556" class="i">+delete mvcc:TxnWrite(11, sql:Row(index, 17)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot;]
</a><a href="#h49-0-557" id="h49-0-557" class="i">+delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><b>diff --git a/<a id="h50" href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a> b/<a href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a></b>
<a href="#h50-0" id="h50-0" class="h">@@ -26,24 +26,24 @@ ok
</a> # INSERTs with existing references work, and update the index entries.
 [ops]&gt; INSERT INTO name VALUES (1, true, 1, 3.14, &#39;foo&#39;)
 ---
<a href="#h50-0-3" id="h50-0-3" class="d">-storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h50-0-4" id="h50-0-4" class="d">-storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h50-0-5" id="h50-0-5" class="d">-storage set mvcc:TxnWrite(10, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-6" id="h50-0-6" class="d">-storage set mvcc:Version(sql:Row(name, 1), 10) → 1,TRUE,1,3.14,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h50-0-7" id="h50-0-7" class="d">-storage set mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-8" id="h50-0-8" class="d">-storage set mvcc:Version(sql:Index(name.bool, TRUE), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-9" id="h50-0-9" class="d">-storage set mvcc:TxnWrite(10, sql:Index(name.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-10" id="h50-0-10" class="d">-storage set mvcc:Version(sql:Index(name.int, 1), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-11" id="h50-0-11" class="d">-storage set mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-12" id="h50-0-12" class="d">-storage set mvcc:Version(sql:Index(name.float, 3.14), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-13" id="h50-0-13" class="d">-storage set mvcc:TxnWrite(10, sql:Index(name.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-14" id="h50-0-14" class="d">-storage set mvcc:Version(sql:Index(name.string, &#39;foo&#39;), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-15" id="h50-0-15" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h50-0-16" id="h50-0-16" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h50-0-17" id="h50-0-17" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-0-18" id="h50-0-18" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(name.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-0-19" id="h50-0-19" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-0-20" id="h50-0-20" class="d">-storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h50-0-21" id="h50-0-21" class="i">+set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h50-0-22" id="h50-0-22" class="i">+set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h50-0-23" id="h50-0-23" class="i">+set mvcc:TxnWrite(10, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-24" id="h50-0-24" class="i">+set mvcc:Version(sql:Row(name, 1), 10) → 1,TRUE,1,3.14,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h50-0-25" id="h50-0-25" class="i">+set mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-26" id="h50-0-26" class="i">+set mvcc:Version(sql:Index(name.bool, TRUE), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-27" id="h50-0-27" class="i">+set mvcc:TxnWrite(10, sql:Index(name.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-28" id="h50-0-28" class="i">+set mvcc:Version(sql:Index(name.int, 1), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-29" id="h50-0-29" class="i">+set mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-30" id="h50-0-30" class="i">+set mvcc:Version(sql:Index(name.float, 3.14), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-31" id="h50-0-31" class="i">+set mvcc:TxnWrite(10, sql:Index(name.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-0-32" id="h50-0-32" class="i">+set mvcc:Version(sql:Index(name.string, &#39;foo&#39;), 10) → 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-0-33" id="h50-0-33" class="i">+delete mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h50-0-34" id="h50-0-34" class="i">+delete mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h50-0-35" id="h50-0-35" class="i">+delete mvcc:TxnWrite(10, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-0-36" id="h50-0-36" class="i">+delete mvcc:TxnWrite(10, sql:Index(name.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-0-37" id="h50-0-37" class="i">+delete mvcc:TxnWrite(10, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-0-38" id="h50-0-38" class="i">+delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a> 
 # INSERTs error on missing references.
 !&gt; INSERT INTO name (id, &quot;bool&quot;) VALUES (2, FALSE)
<a href="#h50-1" id="h50-1" class="h">@@ -59,24 +59,24 @@ Error: invalid input: reference &#39;bar&#39; not in table string
</a> # -0.0 is equivalent to 0.0.
 [ops]&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (2, -0.0)
 ---
<a href="#h50-1-3" id="h50-1-3" class="d">-storage set mvcc:NextVersion → 16 [&quot;\x00&quot; → &quot;\x10&quot;]
</a><a href="#h50-1-4" id="h50-1-4" class="d">-storage set mvcc:TxnActive(15) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;&quot;]
</a><a href="#h50-1-5" id="h50-1-5" class="d">-storage set mvcc:TxnWrite(15, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-6" id="h50-1-6" class="d">-storage set mvcc:Version(sql:Row(name, 2), 15) → 2,NULL,NULL,0.0,NULL [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h50-1-7" id="h50-1-7" class="d">-storage set mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-8" id="h50-1-8" class="d">-storage set mvcc:Version(sql:Index(name.bool, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-9" id="h50-1-9" class="d">-storage set mvcc:TxnWrite(15, sql:Index(name.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-10" id="h50-1-10" class="d">-storage set mvcc:Version(sql:Index(name.int, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-11" id="h50-1-11" class="d">-storage set mvcc:TxnWrite(15, sql:Index(name.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-12" id="h50-1-12" class="d">-storage set mvcc:Version(sql:Index(name.float, 0.0), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-13" id="h50-1-13" class="d">-storage set mvcc:TxnWrite(15, sql:Index(name.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-14" id="h50-1-14" class="d">-storage set mvcc:Version(sql:Index(name.string, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-15" id="h50-1-15" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-16" id="h50-1-16" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(name.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-17" id="h50-1-17" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-18" id="h50-1-18" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-19" id="h50-1-19" class="d">-storage delete mvcc:TxnWrite(15, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h50-1-20" id="h50-1-20" class="d">-storage delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
</a><a href="#h50-1-21" id="h50-1-21" class="i">+set mvcc:NextVersion → 16 [&quot;\x00&quot; → &quot;\x10&quot;]
</a><a href="#h50-1-22" id="h50-1-22" class="i">+set mvcc:TxnActive(15) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;&quot;]
</a><a href="#h50-1-23" id="h50-1-23" class="i">+set mvcc:TxnWrite(15, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-24" id="h50-1-24" class="i">+set mvcc:Version(sql:Row(name, 2), 15) → 2,NULL,NULL,0.0,NULL [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h50-1-25" id="h50-1-25" class="i">+set mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-26" id="h50-1-26" class="i">+set mvcc:Version(sql:Index(name.bool, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-27" id="h50-1-27" class="i">+set mvcc:TxnWrite(15, sql:Index(name.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-28" id="h50-1-28" class="i">+set mvcc:Version(sql:Index(name.int, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-29" id="h50-1-29" class="i">+set mvcc:TxnWrite(15, sql:Index(name.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-30" id="h50-1-30" class="i">+set mvcc:Version(sql:Index(name.float, 0.0), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-31" id="h50-1-31" class="i">+set mvcc:TxnWrite(15, sql:Index(name.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-1-32" id="h50-1-32" class="i">+set mvcc:Version(sql:Index(name.string, NULL), 15) → 2 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h50-1-33" id="h50-1-33" class="i">+delete mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-34" id="h50-1-34" class="i">+delete mvcc:TxnWrite(15, sql:Index(name.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-35" id="h50-1-35" class="i">+delete mvcc:TxnWrite(15, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-36" id="h50-1-36" class="i">+delete mvcc:TxnWrite(15, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-1-37" id="h50-1-37" class="i">+delete mvcc:TxnWrite(15, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h50-1-38" id="h50-1-38" class="i">+delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
</a> 
 # NaN is not valid as a missing reference marker.
 !&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (3, NAN)
<a href="#h50-2" id="h50-2" class="h">@@ -118,39 +118,39 @@ ok
</a> 
 [ops]&gt; INSERT INTO self VALUES (1, 1)
 ---
<a href="#h50-2-3" id="h50-2-3" class="d">-storage set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h50-2-4" id="h50-2-4" class="d">-storage set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h50-2-5" id="h50-2-5" class="d">-storage set mvcc:TxnWrite(22, sql:Row(self, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-6" id="h50-2-6" class="d">-storage set mvcc:Version(sql:Row(self, 1), 22) → 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h50-2-7" id="h50-2-7" class="d">-storage set mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-8" id="h50-2-8" class="d">-storage set mvcc:Version(sql:Index(self.self_id, 1), 22) → 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-2-9" id="h50-2-9" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-10" id="h50-2-10" class="d">-storage delete mvcc:TxnWrite(22, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-11" id="h50-2-11" class="d">-storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a><a href="#h50-2-12" id="h50-2-12" class="i">+set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h50-2-13" id="h50-2-13" class="i">+set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h50-2-14" id="h50-2-14" class="i">+set mvcc:TxnWrite(22, sql:Row(self, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-15" id="h50-2-15" class="i">+set mvcc:Version(sql:Row(self, 1), 22) → 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h50-2-16" id="h50-2-16" class="i">+set mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-17" id="h50-2-17" class="i">+set mvcc:Version(sql:Index(self.self_id, 1), 22) → 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h50-2-18" id="h50-2-18" class="i">+delete mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-19" id="h50-2-19" class="i">+delete mvcc:TxnWrite(22, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-20" id="h50-2-20" class="i">+delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a> 
 [ops]&gt; INSERT INTO self VALUES (2, 1)
 ---
<a href="#h50-2-24" id="h50-2-24" class="d">-storage set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h50-2-25" id="h50-2-25" class="d">-storage set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h50-2-26" id="h50-2-26" class="d">-storage set mvcc:TxnWrite(23, sql:Row(self, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-27" id="h50-2-27" class="d">-storage set mvcc:Version(sql:Row(self, 2), 23) → 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h50-2-28" id="h50-2-28" class="d">-storage set mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-29" id="h50-2-29" class="d">-storage set mvcc:Version(sql:Index(self.self_id, 1), 23) → 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h50-2-30" id="h50-2-30" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-31" id="h50-2-31" class="d">-storage delete mvcc:TxnWrite(23, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h50-2-32" id="h50-2-32" class="d">-storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a><a href="#h50-2-33" id="h50-2-33" class="i">+set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h50-2-34" id="h50-2-34" class="i">+set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h50-2-35" id="h50-2-35" class="i">+set mvcc:TxnWrite(23, sql:Row(self, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-36" id="h50-2-36" class="i">+set mvcc:Version(sql:Row(self, 2), 23) → 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h50-2-37" id="h50-2-37" class="i">+set mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-38" id="h50-2-38" class="i">+set mvcc:Version(sql:Index(self.self_id, 1), 23) → 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h50-2-39" id="h50-2-39" class="i">+delete mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h50-2-40" id="h50-2-40" class="i">+delete mvcc:TxnWrite(23, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h50-2-41" id="h50-2-41" class="i">+delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a> 
 [ops]&gt; INSERT INTO self VALUES (3, NULL)
 ---
<a href="#h50-2-45" id="h50-2-45" class="d">-storage set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h50-2-46" id="h50-2-46" class="d">-storage set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h50-2-47" id="h50-2-47" class="d">-storage set mvcc:TxnWrite(24, sql:Row(self, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-48" id="h50-2-48" class="d">-storage set mvcc:Version(sql:Row(self, 3), 24) → 3,NULL [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x04\x02\x02\x06\x00&quot;]
</a><a href="#h50-2-49" id="h50-2-49" class="d">-storage set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-50" id="h50-2-50" class="d">-storage set mvcc:Version(sql:Index(self.self_id, NULL), 24) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h50-2-51" id="h50-2-51" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-2-52" id="h50-2-52" class="d">-storage delete mvcc:TxnWrite(24, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h50-2-53" id="h50-2-53" class="d">-storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a><a href="#h50-2-54" id="h50-2-54" class="i">+set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h50-2-55" id="h50-2-55" class="i">+set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h50-2-56" id="h50-2-56" class="i">+set mvcc:TxnWrite(24, sql:Row(self, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-57" id="h50-2-57" class="i">+set mvcc:Version(sql:Row(self, 3), 24) → 3,NULL [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x04\x02\x02\x06\x00&quot;]
</a><a href="#h50-2-58" id="h50-2-58" class="i">+set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h50-2-59" id="h50-2-59" class="i">+set mvcc:Version(sql:Index(self.self_id, NULL), 24) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h50-2-60" id="h50-2-60" class="i">+delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h50-2-61" id="h50-2-61" class="i">+delete mvcc:TxnWrite(24, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h50-2-62" id="h50-2-62" class="i">+delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a> 
 !&gt; INSERT INTO self VALUES (4, 9)
 ---
<b>diff --git a/<a id="h51" href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a> b/<a href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a></b>
<a href="#h51-0" id="h51-0" class="h">@@ -13,24 +13,24 @@ ok
</a> # An INSERT writes to all indexes.
 [ops]&gt; INSERT INTO &quot;unique&quot; VALUES (1, TRUE, 7, 3.14, &#39;foo&#39;)
 ---
<a href="#h51-0-3" id="h51-0-3" class="d">-storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h51-0-4" id="h51-0-4" class="d">-storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h51-0-5" id="h51-0-5" class="d">-storage set mvcc:TxnWrite(2, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-6" id="h51-0-6" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 2) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h51-0-7" id="h51-0-7" class="d">-storage set mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-8" id="h51-0-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, TRUE), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-9" id="h51-0-9" class="d">-storage set mvcc:TxnWrite(2, sql:Index(unique.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-10" id="h51-0-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, 7), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-11" id="h51-0-11" class="d">-storage set mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-12" id="h51-0-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, 3.14), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-13" id="h51-0-13" class="d">-storage set mvcc:TxnWrite(2, sql:Index(unique.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-14" id="h51-0-14" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;foo&#39;), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-15" id="h51-0-15" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h51-0-16" id="h51-0-16" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h51-0-17" id="h51-0-17" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(unique.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h51-0-18" id="h51-0-18" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(unique.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-0-19" id="h51-0-19" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h51-0-20" id="h51-0-20" class="d">-storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h51-0-21" id="h51-0-21" class="i">+set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h51-0-22" id="h51-0-22" class="i">+set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h51-0-23" id="h51-0-23" class="i">+set mvcc:TxnWrite(2, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-24" id="h51-0-24" class="i">+set mvcc:Version(sql:Row(unique, 1), 2) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h51-0-25" id="h51-0-25" class="i">+set mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-26" id="h51-0-26" class="i">+set mvcc:Version(sql:Index(unique.bool, TRUE), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-27" id="h51-0-27" class="i">+set mvcc:TxnWrite(2, sql:Index(unique.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-28" id="h51-0-28" class="i">+set mvcc:Version(sql:Index(unique.int, 7), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-29" id="h51-0-29" class="i">+set mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-30" id="h51-0-30" class="i">+set mvcc:Version(sql:Index(unique.float, 3.14), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-31" id="h51-0-31" class="i">+set mvcc:TxnWrite(2, sql:Index(unique.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-0-32" id="h51-0-32" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;foo&#39;), 2) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h51-0-33" id="h51-0-33" class="i">+delete mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h51-0-34" id="h51-0-34" class="i">+delete mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h51-0-35" id="h51-0-35" class="i">+delete mvcc:TxnWrite(2, sql:Index(unique.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h51-0-36" id="h51-0-36" class="i">+delete mvcc:TxnWrite(2, sql:Index(unique.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-0-37" id="h51-0-37" class="i">+delete mvcc:TxnWrite(2, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h51-0-38" id="h51-0-38" class="i">+delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> 
 # Another insert with the same values errors for all indexes.
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;bool&quot;) VALUES (2, TRUE)
<a href="#h51-1" id="h51-1" class="h">@@ -46,132 +46,132 @@ Error: invalid input: value &#39;foo&#39; already in unique column string
</a> # An insert with different values writes new index entries.
 [ops]&gt; INSERT INTO &quot;unique&quot; VALUES (3, FALSE, 0, 2.718, &#39;bar&#39;)
 ---
<a href="#h51-1-3" id="h51-1-3" class="d">-storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h51-1-4" id="h51-1-4" class="d">-storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h51-1-5" id="h51-1-5" class="d">-storage set mvcc:TxnWrite(7, sql:Row(unique, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-6" id="h51-1-6" class="d">-storage set mvcc:Version(sql:Row(unique, 3), 7) → 3,FALSE,0,2.718,&#39;bar&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h51-1-7" id="h51-1-7" class="d">-storage set mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-8" id="h51-1-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, FALSE), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-9" id="h51-1-9" class="d">-storage set mvcc:TxnWrite(7, sql:Index(unique.int, 0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-10" id="h51-1-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, 0), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-11" id="h51-1-11" class="d">-storage set mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-12" id="h51-1-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, 2.718), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-13" id="h51-1-13" class="d">-storage set mvcc:TxnWrite(7, sql:Index(unique.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-14" id="h51-1-14" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;bar&#39;), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-15" id="h51-1-15" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-16" id="h51-1-16" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h51-1-17" id="h51-1-17" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(unique.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-18" id="h51-1-18" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(unique.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-19" id="h51-1-19" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h51-1-20" id="h51-1-20" class="d">-storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h51-1-21" id="h51-1-21" class="i">+set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h51-1-22" id="h51-1-22" class="i">+set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h51-1-23" id="h51-1-23" class="i">+set mvcc:TxnWrite(7, sql:Row(unique, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-24" id="h51-1-24" class="i">+set mvcc:Version(sql:Row(unique, 3), 7) → 3,FALSE,0,2.718,&#39;bar&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h51-1-25" id="h51-1-25" class="i">+set mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-26" id="h51-1-26" class="i">+set mvcc:Version(sql:Index(unique.bool, FALSE), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-27" id="h51-1-27" class="i">+set mvcc:TxnWrite(7, sql:Index(unique.int, 0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-28" id="h51-1-28" class="i">+set mvcc:Version(sql:Index(unique.int, 0), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-29" id="h51-1-29" class="i">+set mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-30" id="h51-1-30" class="i">+set mvcc:Version(sql:Index(unique.float, 2.718), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-31" id="h51-1-31" class="i">+set mvcc:TxnWrite(7, sql:Index(unique.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-32" id="h51-1-32" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;bar&#39;), 7) → 3 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h51-1-33" id="h51-1-33" class="i">+delete mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-34" id="h51-1-34" class="i">+delete mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h51-1-35" id="h51-1-35" class="i">+delete mvcc:TxnWrite(7, sql:Index(unique.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-36" id="h51-1-36" class="i">+delete mvcc:TxnWrite(7, sql:Index(unique.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-37" id="h51-1-37" class="i">+delete mvcc:TxnWrite(7, sql:Row(unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h51-1-38" id="h51-1-38" class="i">+delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> 
 # Inserts with NULLS adds NULL entries. Duplicates are allowed
 [ops]&gt; INSERT INTO &quot;unique&quot; VALUES (4)
 ---
<a href="#h51-1-43" id="h51-1-43" class="d">-storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h51-1-44" id="h51-1-44" class="d">-storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h51-1-45" id="h51-1-45" class="d">-storage set mvcc:TxnWrite(8, sql:Row(unique, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-46" id="h51-1-46" class="d">-storage set mvcc:Version(sql:Row(unique, 4), 8) → 4,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-47" id="h51-1-47" class="d">-storage set mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-48" id="h51-1-48" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-49" id="h51-1-49" class="d">-storage set mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-50" id="h51-1-50" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-51" id="h51-1-51" class="d">-storage set mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-52" id="h51-1-52" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-53" id="h51-1-53" class="d">-storage set mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-54" id="h51-1-54" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-55" id="h51-1-55" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-56" id="h51-1-56" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-57" id="h51-1-57" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-58" id="h51-1-58" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-59" id="h51-1-59" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h51-1-60" id="h51-1-60" class="d">-storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h51-1-61" id="h51-1-61" class="i">+set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h51-1-62" id="h51-1-62" class="i">+set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h51-1-63" id="h51-1-63" class="i">+set mvcc:TxnWrite(8, sql:Row(unique, 4)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-64" id="h51-1-64" class="i">+set mvcc:Version(sql:Row(unique, 4), 8) → 4,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-65" id="h51-1-65" class="i">+set mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-66" id="h51-1-66" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-67" id="h51-1-67" class="i">+set mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-68" id="h51-1-68" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-69" id="h51-1-69" class="i">+set mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-70" id="h51-1-70" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-71" id="h51-1-71" class="i">+set mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-72" id="h51-1-72" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 8) → 4 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h51-1-73" id="h51-1-73" class="i">+delete mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-74" id="h51-1-74" class="i">+delete mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-75" id="h51-1-75" class="i">+delete mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-76" id="h51-1-76" class="i">+delete mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-77" id="h51-1-77" class="i">+delete mvcc:TxnWrite(8, sql:Row(unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h51-1-78" id="h51-1-78" class="i">+delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a> 
 [ops]&gt; INSERT INTO &quot;unique&quot; VALUES (5)
 ---
<a href="#h51-1-82" id="h51-1-82" class="d">-storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h51-1-83" id="h51-1-83" class="d">-storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h51-1-84" id="h51-1-84" class="d">-storage set mvcc:TxnWrite(9, sql:Row(unique, 5)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-85" id="h51-1-85" class="d">-storage set mvcc:Version(sql:Row(unique, 5), 9) → 5,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-86" id="h51-1-86" class="d">-storage set mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-87" id="h51-1-87" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-88" id="h51-1-88" class="d">-storage set mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-89" id="h51-1-89" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-90" id="h51-1-90" class="d">-storage set mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-91" id="h51-1-91" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-92" id="h51-1-92" class="d">-storage set mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-93" id="h51-1-93" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-94" id="h51-1-94" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-95" id="h51-1-95" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-96" id="h51-1-96" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-97" id="h51-1-97" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-98" id="h51-1-98" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(unique, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h51-1-99" id="h51-1-99" class="d">-storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h51-1-100" id="h51-1-100" class="i">+set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h51-1-101" id="h51-1-101" class="i">+set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h51-1-102" id="h51-1-102" class="i">+set mvcc:TxnWrite(9, sql:Row(unique, 5)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-103" id="h51-1-103" class="i">+set mvcc:Version(sql:Row(unique, 5), 9) → 5,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-104" id="h51-1-104" class="i">+set mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-105" id="h51-1-105" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-106" id="h51-1-106" class="i">+set mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-107" id="h51-1-107" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-108" id="h51-1-108" class="i">+set mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-109" id="h51-1-109" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-110" id="h51-1-110" class="i">+set mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-111" id="h51-1-111" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 9) → 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h51-1-112" id="h51-1-112" class="i">+delete mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-113" id="h51-1-113" class="i">+delete mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-114" id="h51-1-114" class="i">+delete mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-115" id="h51-1-115" class="i">+delete mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-116" id="h51-1-116" class="i">+delete mvcc:TxnWrite(9, sql:Row(unique, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h51-1-117" id="h51-1-117" class="i">+delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> 
 # Float NaNs are considered different and allowed.
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (6, NAN)
 ---
<a href="#h51-1-122" id="h51-1-122" class="d">-storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h51-1-123" id="h51-1-123" class="d">-storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h51-1-124" id="h51-1-124" class="d">-storage set mvcc:TxnWrite(10, sql:Row(unique, 6)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-125" id="h51-1-125" class="d">-storage set mvcc:Version(sql:Row(unique, 6), 10) → 6,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h51-1-126" id="h51-1-126" class="d">-storage set mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-127" id="h51-1-127" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-128" id="h51-1-128" class="d">-storage set mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-129" id="h51-1-129" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-130" id="h51-1-130" class="d">-storage set mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-131" id="h51-1-131" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 10) → 6 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h51-1-132" id="h51-1-132" class="d">-storage set mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-133" id="h51-1-133" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-134" id="h51-1-134" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-135" id="h51-1-135" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-136" id="h51-1-136" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-137" id="h51-1-137" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-138" id="h51-1-138" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(unique, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h51-1-139" id="h51-1-139" class="d">-storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h51-1-140" id="h51-1-140" class="i">+set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h51-1-141" id="h51-1-141" class="i">+set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h51-1-142" id="h51-1-142" class="i">+set mvcc:TxnWrite(10, sql:Row(unique, 6)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-143" id="h51-1-143" class="i">+set mvcc:Version(sql:Row(unique, 6), 10) → 6,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h51-1-144" id="h51-1-144" class="i">+set mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-145" id="h51-1-145" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-146" id="h51-1-146" class="i">+set mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-147" id="h51-1-147" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-148" id="h51-1-148" class="i">+set mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-149" id="h51-1-149" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 10) → 6 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h51-1-150" id="h51-1-150" class="i">+set mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-151" id="h51-1-151" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 10) → 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h51-1-152" id="h51-1-152" class="i">+delete mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-153" id="h51-1-153" class="i">+delete mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-154" id="h51-1-154" class="i">+delete mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-155" id="h51-1-155" class="i">+delete mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-156" id="h51-1-156" class="i">+delete mvcc:TxnWrite(10, sql:Row(unique, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h51-1-157" id="h51-1-157" class="i">+delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a> 
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (7, NAN)
 ---
<a href="#h51-1-161" id="h51-1-161" class="d">-storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h51-1-162" id="h51-1-162" class="d">-storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h51-1-163" id="h51-1-163" class="d">-storage set mvcc:TxnWrite(11, sql:Row(unique, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-164" id="h51-1-164" class="d">-storage set mvcc:Version(sql:Row(unique, 7), 11) → 7,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h51-1-165" id="h51-1-165" class="d">-storage set mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-166" id="h51-1-166" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-167" id="h51-1-167" class="d">-storage set mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-168" id="h51-1-168" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-169" id="h51-1-169" class="d">-storage set mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-170" id="h51-1-170" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 11) → 6,7 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-171" id="h51-1-171" class="d">-storage set mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-172" id="h51-1-172" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-173" id="h51-1-173" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-174" id="h51-1-174" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-175" id="h51-1-175" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-176" id="h51-1-176" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-177" id="h51-1-177" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(unique, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h51-1-178" id="h51-1-178" class="d">-storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><a href="#h51-1-179" id="h51-1-179" class="i">+set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h51-1-180" id="h51-1-180" class="i">+set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h51-1-181" id="h51-1-181" class="i">+set mvcc:TxnWrite(11, sql:Row(unique, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-182" id="h51-1-182" class="i">+set mvcc:Version(sql:Row(unique, 7), 11) → 7,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h51-1-183" id="h51-1-183" class="i">+set mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-184" id="h51-1-184" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-185" id="h51-1-185" class="i">+set mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-186" id="h51-1-186" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-187" id="h51-1-187" class="i">+set mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-188" id="h51-1-188" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 11) → 6,7 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-189" id="h51-1-189" class="i">+set mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-190" id="h51-1-190" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 11) → 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h51-1-191" id="h51-1-191" class="i">+delete mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-192" id="h51-1-192" class="i">+delete mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-193" id="h51-1-193" class="i">+delete mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-194" id="h51-1-194" class="i">+delete mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-195" id="h51-1-195" class="i">+delete mvcc:TxnWrite(11, sql:Row(unique, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h51-1-196" id="h51-1-196" class="i">+delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a> 
 # Float 0.0 and -0.0 are considered equal.
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (8, -0.0)
 ---
<a href="#h51-1-201" id="h51-1-201" class="d">-storage set mvcc:NextVersion → 13 [&quot;\x00&quot; → &quot;\r&quot;]
</a><a href="#h51-1-202" id="h51-1-202" class="d">-storage set mvcc:TxnActive(12) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;&quot;]
</a><a href="#h51-1-203" id="h51-1-203" class="d">-storage set mvcc:TxnWrite(12, sql:Row(unique, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-204" id="h51-1-204" class="d">-storage set mvcc:Version(sql:Row(unique, 8), 12) → 8,NULL,NULL,0.0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-205" id="h51-1-205" class="d">-storage set mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-206" id="h51-1-206" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-207" id="h51-1-207" class="d">-storage set mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-208" id="h51-1-208" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-209" id="h51-1-209" class="d">-storage set mvcc:TxnWrite(12, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-210" id="h51-1-210" class="d">-storage set mvcc:Version(sql:Index(unique.float, 0.0), 12) → 8 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h51-1-211" id="h51-1-211" class="d">-storage set mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-212" id="h51-1-212" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-213" id="h51-1-213" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-214" id="h51-1-214" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-215" id="h51-1-215" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-216" id="h51-1-216" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-217" id="h51-1-217" class="d">-storage delete mvcc:TxnWrite(12, sql:Row(unique, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h51-1-218" id="h51-1-218" class="d">-storage delete mvcc:TxnActive(12) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot;]
</a><a href="#h51-1-219" id="h51-1-219" class="i">+set mvcc:NextVersion → 13 [&quot;\x00&quot; → &quot;\r&quot;]
</a><a href="#h51-1-220" id="h51-1-220" class="i">+set mvcc:TxnActive(12) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;&quot;]
</a><a href="#h51-1-221" id="h51-1-221" class="i">+set mvcc:TxnWrite(12, sql:Row(unique, 8)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-222" id="h51-1-222" class="i">+set mvcc:Version(sql:Row(unique, 8), 12) → 8,NULL,NULL,0.0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h51-1-223" id="h51-1-223" class="i">+set mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-224" id="h51-1-224" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-225" id="h51-1-225" class="i">+set mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-226" id="h51-1-226" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-227" id="h51-1-227" class="i">+set mvcc:TxnWrite(12, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-228" id="h51-1-228" class="i">+set mvcc:Version(sql:Index(unique.float, 0.0), 12) → 8 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h51-1-229" id="h51-1-229" class="i">+set mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-1-230" id="h51-1-230" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 12) → 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h51-1-231" id="h51-1-231" class="i">+delete mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-232" id="h51-1-232" class="i">+delete mvcc:TxnWrite(12, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-233" id="h51-1-233" class="i">+delete mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-234" id="h51-1-234" class="i">+delete mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-1-235" id="h51-1-235" class="i">+delete mvcc:TxnWrite(12, sql:Row(unique, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h51-1-236" id="h51-1-236" class="i">+delete mvcc:TxnActive(12) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot;]
</a> 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (9, 0.0)
 ---
<a href="#h51-2" id="h51-2" class="h">@@ -180,24 +180,24 @@ Error: invalid input: value 0.0 already in unique column float
</a> # Float INFINITY is also unique.
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (10, INFINITY)
 ---
<a href="#h51-2-3" id="h51-2-3" class="d">-storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h51-2-4" id="h51-2-4" class="d">-storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h51-2-5" id="h51-2-5" class="d">-storage set mvcc:TxnWrite(14, sql:Row(unique, 10)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-6" id="h51-2-6" class="d">-storage set mvcc:Version(sql:Row(unique, 10), 14) → 10,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h51-2-7" id="h51-2-7" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-8" id="h51-2-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-9" id="h51-2-9" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-10" id="h51-2-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-11" id="h51-2-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-12" id="h51-2-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, inf), 14) → 10 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h51-2-13" id="h51-2-13" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-14" id="h51-2-14" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-15" id="h51-2-15" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-16" id="h51-2-16" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-17" id="h51-2-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-18" id="h51-2-18" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-19" id="h51-2-19" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(unique, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h51-2-20" id="h51-2-20" class="d">-storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h51-2-21" id="h51-2-21" class="i">+set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h51-2-22" id="h51-2-22" class="i">+set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h51-2-23" id="h51-2-23" class="i">+set mvcc:TxnWrite(14, sql:Row(unique, 10)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-24" id="h51-2-24" class="i">+set mvcc:Version(sql:Row(unique, 10), 14) → 10,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h51-2-25" id="h51-2-25" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-26" id="h51-2-26" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-27" id="h51-2-27" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-28" id="h51-2-28" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-29" id="h51-2-29" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-30" id="h51-2-30" class="i">+set mvcc:Version(sql:Index(unique.float, inf), 14) → 10 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h51-2-31" id="h51-2-31" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-2-32" id="h51-2-32" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 14) → 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h51-2-33" id="h51-2-33" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-34" id="h51-2-34" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-35" id="h51-2-35" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-36" id="h51-2-36" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-2-37" id="h51-2-37" class="i">+delete mvcc:TxnWrite(14, sql:Row(unique, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h51-2-38" id="h51-2-38" class="i">+delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a> 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (11, INFINITY)
 ---
<a href="#h51-3" id="h51-3" class="h">@@ -206,24 +206,24 @@ Error: invalid input: value inf already in unique column float
</a> # Empty strings are considered equal.
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (11, &#39;&#39;)
 ---
<a href="#h51-3-3" id="h51-3-3" class="d">-storage set mvcc:NextVersion → 17 [&quot;\x00&quot; → &quot;\x11&quot;]
</a><a href="#h51-3-4" id="h51-3-4" class="d">-storage set mvcc:TxnActive(16) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;&quot;]
</a><a href="#h51-3-5" id="h51-3-5" class="d">-storage set mvcc:TxnWrite(16, sql:Row(unique, 11)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-6" id="h51-3-6" class="d">-storage set mvcc:Version(sql:Row(unique, 11), 16) → 11,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x08\x05\x02\x16\x00\x00\x00\x04\x00&quot;]
</a><a href="#h51-3-7" id="h51-3-7" class="d">-storage set mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-8" id="h51-3-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 16) → 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h51-3-9" id="h51-3-9" class="d">-storage set mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-10" id="h51-3-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 16) → 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h51-3-11" id="h51-3-11" class="d">-storage set mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-12" id="h51-3-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 16) → 4,5,11 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x16&quot;]
</a><a href="#h51-3-13" id="h51-3-13" class="d">-storage set mvcc:TxnWrite(16, sql:Index(unique.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-14" id="h51-3-14" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;&#39;), 16) → 11 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h51-3-15" id="h51-3-15" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-16" id="h51-3-16" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-17" id="h51-3-17" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-18" id="h51-3-18" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(unique.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-19" id="h51-3-19" class="d">-storage delete mvcc:TxnWrite(16, sql:Row(unique, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h51-3-20" id="h51-3-20" class="d">-storage delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
</a><a href="#h51-3-21" id="h51-3-21" class="i">+set mvcc:NextVersion → 17 [&quot;\x00&quot; → &quot;\x11&quot;]
</a><a href="#h51-3-22" id="h51-3-22" class="i">+set mvcc:TxnActive(16) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;&quot;]
</a><a href="#h51-3-23" id="h51-3-23" class="i">+set mvcc:TxnWrite(16, sql:Row(unique, 11)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-24" id="h51-3-24" class="i">+set mvcc:Version(sql:Row(unique, 11), 16) → 11,NULL,NULL,NULL,&#39;&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x08\x05\x02\x16\x00\x00\x00\x04\x00&quot;]
</a><a href="#h51-3-25" id="h51-3-25" class="i">+set mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-26" id="h51-3-26" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 16) → 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h51-3-27" id="h51-3-27" class="i">+set mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-28" id="h51-3-28" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 16) → 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h51-3-29" id="h51-3-29" class="i">+set mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-30" id="h51-3-30" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 16) → 4,5,11 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x16&quot;]
</a><a href="#h51-3-31" id="h51-3-31" class="i">+set mvcc:TxnWrite(16, sql:Index(unique.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-3-32" id="h51-3-32" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;&#39;), 16) → 11 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h51-3-33" id="h51-3-33" class="i">+delete mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-34" id="h51-3-34" class="i">+delete mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-35" id="h51-3-35" class="i">+delete mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-36" id="h51-3-36" class="i">+delete mvcc:TxnWrite(16, sql:Index(unique.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-3-37" id="h51-3-37" class="i">+delete mvcc:TxnWrite(16, sql:Row(unique, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h51-3-38" id="h51-3-38" class="i">+delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
</a> 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (12, &#39;&#39;)
 ---
<a href="#h51-4" id="h51-4" class="h">@@ -232,42 +232,42 @@ Error: invalid input: value &#39;&#39; already in unique column string
</a> # Case differences are not considered equal.
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (12, &#39;case&#39;)
 ---
<a href="#h51-4-3" id="h51-4-3" class="d">-storage set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h51-4-4" id="h51-4-4" class="d">-storage set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h51-4-5" id="h51-4-5" class="d">-storage set mvcc:TxnWrite(18, sql:Row(unique, 12)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-6" id="h51-4-6" class="d">-storage set mvcc:Version(sql:Row(unique, 12), 18) → 12,NULL,NULL,NULL,&#39;case&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0c\x05\x02\x18\x00\x00\x00\x04\x04case&quot;]
</a><a href="#h51-4-7" id="h51-4-7" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-8" id="h51-4-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 18) → 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-9" id="h51-4-9" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-10" id="h51-4-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 18) → 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-11" id="h51-4-11" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-12" id="h51-4-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 18) → 4,5,11,12 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-13" id="h51-4-13" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-14" id="h51-4-14" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;case&#39;), 18) → 12 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x18&quot;]
</a><a href="#h51-4-15" id="h51-4-15" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-16" id="h51-4-16" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-17" id="h51-4-17" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-18" id="h51-4-18" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-19" id="h51-4-19" class="d">-storage delete mvcc:TxnWrite(18, sql:Row(unique, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h51-4-20" id="h51-4-20" class="d">-storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a><a href="#h51-4-21" id="h51-4-21" class="i">+set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h51-4-22" id="h51-4-22" class="i">+set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h51-4-23" id="h51-4-23" class="i">+set mvcc:TxnWrite(18, sql:Row(unique, 12)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-24" id="h51-4-24" class="i">+set mvcc:Version(sql:Row(unique, 12), 18) → 12,NULL,NULL,NULL,&#39;case&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0c\x05\x02\x18\x00\x00\x00\x04\x04case&quot;]
</a><a href="#h51-4-25" id="h51-4-25" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-26" id="h51-4-26" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 18) → 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-27" id="h51-4-27" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-28" id="h51-4-28" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 18) → 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-29" id="h51-4-29" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-30" id="h51-4-30" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 18) → 4,5,11,12 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x16\x02\x18&quot;]
</a><a href="#h51-4-31" id="h51-4-31" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-32" id="h51-4-32" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;case&#39;), 18) → 12 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x18&quot;]
</a><a href="#h51-4-33" id="h51-4-33" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-34" id="h51-4-34" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-35" id="h51-4-35" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-36" id="h51-4-36" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-37" id="h51-4-37" class="i">+delete mvcc:TxnWrite(18, sql:Row(unique, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h51-4-38" id="h51-4-38" class="i">+delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a> 
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (13, &#39;CaSe&#39;)
 ---
<a href="#h51-4-42" id="h51-4-42" class="d">-storage set mvcc:NextVersion → 20 [&quot;\x00&quot; → &quot;\x14&quot;]
</a><a href="#h51-4-43" id="h51-4-43" class="d">-storage set mvcc:TxnActive(19) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;&quot;]
</a><a href="#h51-4-44" id="h51-4-44" class="d">-storage set mvcc:TxnWrite(19, sql:Row(unique, 13)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-45" id="h51-4-45" class="d">-storage set mvcc:Version(sql:Row(unique, 13), 19) → 13,NULL,NULL,NULL,&#39;CaSe&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0c\x05\x02\x1a\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h51-4-46" id="h51-4-46" class="d">-storage set mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-47" id="h51-4-47" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 19) → 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-48" id="h51-4-48" class="d">-storage set mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-49" id="h51-4-49" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 19) → 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-50" id="h51-4-50" class="d">-storage set mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-51" id="h51-4-51" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 19) → 4,5,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-52" id="h51-4-52" class="d">-storage set mvcc:TxnWrite(19, sql:Index(unique.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-53" id="h51-4-53" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;CaSe&#39;), 19) → 13 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x03\x01\x02\x1a&quot;]
</a><a href="#h51-4-54" id="h51-4-54" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-55" id="h51-4-55" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-56" id="h51-4-56" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-57" id="h51-4-57" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(unique.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-58" id="h51-4-58" class="d">-storage delete mvcc:TxnWrite(19, sql:Row(unique, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h51-4-59" id="h51-4-59" class="d">-storage delete mvcc:TxnActive(19) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot;]
</a><a href="#h51-4-60" id="h51-4-60" class="i">+set mvcc:NextVersion → 20 [&quot;\x00&quot; → &quot;\x14&quot;]
</a><a href="#h51-4-61" id="h51-4-61" class="i">+set mvcc:TxnActive(19) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;&quot;]
</a><a href="#h51-4-62" id="h51-4-62" class="i">+set mvcc:TxnWrite(19, sql:Row(unique, 13)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-63" id="h51-4-63" class="i">+set mvcc:Version(sql:Row(unique, 13), 19) → 13,NULL,NULL,NULL,&#39;CaSe&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0c\x05\x02\x1a\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h51-4-64" id="h51-4-64" class="i">+set mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-65" id="h51-4-65" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 19) → 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-66" id="h51-4-66" class="i">+set mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-67" id="h51-4-67" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 19) → 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-68" id="h51-4-68" class="i">+set mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-69" id="h51-4-69" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 19) → 4,5,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h51-4-70" id="h51-4-70" class="i">+set mvcc:TxnWrite(19, sql:Index(unique.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h51-4-71" id="h51-4-71" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;CaSe&#39;), 19) → 13 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x03\x01\x02\x1a&quot;]
</a><a href="#h51-4-72" id="h51-4-72" class="i">+delete mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-73" id="h51-4-73" class="i">+delete mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-74" id="h51-4-74" class="i">+delete mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-75" id="h51-4-75" class="i">+delete mvcc:TxnWrite(19, sql:Index(unique.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h51-4-76" id="h51-4-76" class="i">+delete mvcc:TxnWrite(19, sql:Row(unique, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h51-4-77" id="h51-4-77" class="i">+delete mvcc:TxnActive(19) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot;]
</a><b>diff --git a/<a id="h52" href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a> b/<a href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a></b>
<a href="#h52-0" id="h52-0" class="h">@@ -10,16 +10,16 @@ ok
</a> ---
 Update: name (value=&#39;foo&#39;)
 └─ Scan: name
<a href="#h52-0-3" id="h52-0-3" class="i">+set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h52-0-4" id="h52-0-4" class="i">+set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h52-0-5" id="h52-0-5" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h52-0-6" id="h52-0-6" class="i">+set mvcc:Version(sql:Row(name, 1), 3) → 1,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h52-0-7" id="h52-0-7" class="i">+set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h52-0-8" id="h52-0-8" class="i">+set mvcc:Version(sql:Row(name, 2), 3) → 2,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h52-0-9" id="h52-0-9" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h52-0-10" id="h52-0-10" class="i">+delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h52-0-11" id="h52-0-11" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> Update { count: 2 }
<a href="#h52-0-13" id="h52-0-13" class="d">-storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h52-0-14" id="h52-0-14" class="d">-storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h52-0-15" id="h52-0-15" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h52-0-16" id="h52-0-16" class="d">-storage set mvcc:Version(sql:Row(name, 1), 3) → 1,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h52-0-17" id="h52-0-17" class="d">-storage set mvcc:TxnWrite(3, sql:Row(name, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h52-0-18" id="h52-0-18" class="d">-storage set mvcc:Version(sql:Row(name, 2), 3) → 2,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h52-0-19" id="h52-0-19" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h52-0-20" id="h52-0-20" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h52-0-21" id="h52-0-21" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 &gt; SELECT * FROM name
 ---
<b>diff --git a/<a id="h53" href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a> b/<a href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a></b>
<a href="#h53-0" id="h53-0" class="h">@@ -14,87 +14,87 @@ ok
</a> # An UPDATE writes to all indexes.
 [ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = FALSE, &quot;int&quot; = 1, &quot;float&quot; = 2.718, &quot;string&quot; = &#39;bar&#39;
 ---
<a href="#h53-0-3" id="h53-0-3" class="d">-storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h53-0-4" id="h53-0-4" class="d">-storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h53-0-5" id="h53-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-6" id="h53-0-6" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-7" id="h53-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-8" id="h53-0-8" class="d">-storage set mvcc:Version(sql:Index(index.bool, FALSE), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-9" id="h53-0-9" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-10" id="h53-0-10" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-11" id="h53-0-11" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-12" id="h53-0-12" class="d">-storage set mvcc:Version(sql:Index(index.int, 1), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-13" id="h53-0-13" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-14" id="h53-0-14" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 3) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-15" id="h53-0-15" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-16" id="h53-0-16" class="d">-storage set mvcc:Version(sql:Index(index.float, 2.718), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-17" id="h53-0-17" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-18" id="h53-0-18" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-19" id="h53-0-19" class="d">-storage set mvcc:TxnWrite(3, sql:Index(index.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-20" id="h53-0-20" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;bar&#39;), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-21" id="h53-0-21" class="d">-storage set mvcc:TxnWrite(3, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-22" id="h53-0-22" class="d">-storage set mvcc:Version(sql:Row(index, 1), 3) → 1,FALSE,1,2.718,&#39;bar&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x02\x01\x00\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h53-0-23" id="h53-0-23" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-24" id="h53-0-24" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-0-25" id="h53-0-25" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h53-0-26" id="h53-0-26" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-0-27" id="h53-0-27" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-28" id="h53-0-28" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-0-29" id="h53-0-29" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-30" id="h53-0-30" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-31" id="h53-0-31" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-32" id="h53-0-32" class="d">-storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h53-0-33" id="h53-0-33" class="i">+set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h53-0-34" id="h53-0-34" class="i">+set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h53-0-35" id="h53-0-35" class="i">+set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-36" id="h53-0-36" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-37" id="h53-0-37" class="i">+set mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-38" id="h53-0-38" class="i">+set mvcc:Version(sql:Index(index.bool, FALSE), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-39" id="h53-0-39" class="i">+set mvcc:TxnWrite(3, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-40" id="h53-0-40" class="i">+set mvcc:Version(sql:Index(index.int, 7), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-41" id="h53-0-41" class="i">+set mvcc:TxnWrite(3, sql:Index(index.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-42" id="h53-0-42" class="i">+set mvcc:Version(sql:Index(index.int, 1), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-43" id="h53-0-43" class="i">+set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-44" id="h53-0-44" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 3) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-45" id="h53-0-45" class="i">+set mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-46" id="h53-0-46" class="i">+set mvcc:Version(sql:Index(index.float, 2.718), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-47" id="h53-0-47" class="i">+set mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-48" id="h53-0-48" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-49" id="h53-0-49" class="i">+set mvcc:TxnWrite(3, sql:Index(index.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-50" id="h53-0-50" class="i">+set mvcc:Version(sql:Index(index.string, &#39;bar&#39;), 3) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-51" id="h53-0-51" class="i">+set mvcc:TxnWrite(3, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-52" id="h53-0-52" class="i">+set mvcc:Version(sql:Row(index, 1), 3) → 1,FALSE,1,2.718,&#39;bar&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x02\x01\x00\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h53-0-53" id="h53-0-53" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-54" id="h53-0-54" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-0-55" id="h53-0-55" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h53-0-56" id="h53-0-56" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-0-57" id="h53-0-57" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-58" id="h53-0-58" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-0-59" id="h53-0-59" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-60" id="h53-0-60" class="i">+delete mvcc:TxnWrite(3, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-61" id="h53-0-61" class="i">+delete mvcc:TxnWrite(3, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-62" id="h53-0-62" class="i">+delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> 
 # A single-column update only updates the relevant index.
 [ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = TRUE
 ---
<a href="#h53-0-67" id="h53-0-67" class="d">-storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h53-0-68" id="h53-0-68" class="d">-storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h53-0-69" id="h53-0-69" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-70" id="h53-0-70" class="d">-storage set mvcc:Version(sql:Index(index.bool, FALSE), 4) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-71" id="h53-0-71" class="d">-storage set mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-72" id="h53-0-72" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 4) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-73" id="h53-0-73" class="d">-storage set mvcc:TxnWrite(4, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-74" id="h53-0-74" class="d">-storage set mvcc:Version(sql:Row(index, 1), 4) → 1,TRUE,1,2.718,&#39;bar&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h53-0-75" id="h53-0-75" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-76" id="h53-0-76" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-0-77" id="h53-0-77" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-78" id="h53-0-78" class="d">-storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h53-0-79" id="h53-0-79" class="i">+set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h53-0-80" id="h53-0-80" class="i">+set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h53-0-81" id="h53-0-81" class="i">+set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-82" id="h53-0-82" class="i">+set mvcc:Version(sql:Index(index.bool, FALSE), 4) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-83" id="h53-0-83" class="i">+set mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-84" id="h53-0-84" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 4) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-0-85" id="h53-0-85" class="i">+set mvcc:TxnWrite(4, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-86" id="h53-0-86" class="i">+set mvcc:Version(sql:Row(index, 1), 4) → 1,TRUE,1,2.718,&#39;bar&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h53-0-87" id="h53-0-87" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-88" id="h53-0-88" class="i">+delete mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-0-89" id="h53-0-89" class="i">+delete mvcc:TxnWrite(4, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-0-90" id="h53-0-90" class="i">+delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 # An update with different values writes new index entries.
 &gt; INSERT INTO &quot;index&quot; VALUES (2, NULL, NULL, NULL, NULL)
 [ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = FALSE, &quot;int&quot; = 7, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;abc&#39; WHERE id = 2
 ---
<a href="#h53-0-96" id="h53-0-96" class="d">-storage set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h53-0-97" id="h53-0-97" class="d">-storage set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h53-0-98" id="h53-0-98" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-99" id="h53-0-99" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-100" id="h53-0-100" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-101" id="h53-0-101" class="d">-storage set mvcc:Version(sql:Index(index.bool, FALSE), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-102" id="h53-0-102" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-103" id="h53-0-103" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-104" id="h53-0-104" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-105" id="h53-0-105" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-106" id="h53-0-106" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-107" id="h53-0-107" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-108" id="h53-0-108" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-109" id="h53-0-109" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-110" id="h53-0-110" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-111" id="h53-0-111" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-112" id="h53-0-112" class="d">-storage set mvcc:TxnWrite(6, sql:Index(index.string, &#39;abc&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-113" id="h53-0-113" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;abc&#39;), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-114" id="h53-0-114" class="d">-storage set mvcc:TxnWrite(6, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-115" id="h53-0-115" class="d">-storage set mvcc:Version(sql:Row(index, 2), 6) → 2,FALSE,7,3.14,&#39;abc&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x15\x05\x02\x04\x01\x00\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03abc&quot;]
</a><a href="#h53-0-116" id="h53-0-116" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-117" id="h53-0-117" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-118" id="h53-0-118" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-119" id="h53-0-119" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-0-120" id="h53-0-120" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-121" id="h53-0-121" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-0-122" id="h53-0-122" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-123" id="h53-0-123" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(index.string, &#39;abc&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-124" id="h53-0-124" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-0-125" id="h53-0-125" class="d">-storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a><a href="#h53-0-126" id="h53-0-126" class="i">+set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h53-0-127" id="h53-0-127" class="i">+set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h53-0-128" id="h53-0-128" class="i">+set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-129" id="h53-0-129" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-130" id="h53-0-130" class="i">+set mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-131" id="h53-0-131" class="i">+set mvcc:Version(sql:Index(index.bool, FALSE), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-132" id="h53-0-132" class="i">+set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-133" id="h53-0-133" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-134" id="h53-0-134" class="i">+set mvcc:TxnWrite(6, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-135" id="h53-0-135" class="i">+set mvcc:Version(sql:Index(index.int, 7), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-136" id="h53-0-136" class="i">+set mvcc:TxnWrite(6, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-137" id="h53-0-137" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-138" id="h53-0-138" class="i">+set mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-139" id="h53-0-139" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-140" id="h53-0-140" class="i">+set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-141" id="h53-0-141" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h53-0-142" id="h53-0-142" class="i">+set mvcc:TxnWrite(6, sql:Index(index.string, &#39;abc&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-143" id="h53-0-143" class="i">+set mvcc:Version(sql:Index(index.string, &#39;abc&#39;), 6) → 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-0-144" id="h53-0-144" class="i">+set mvcc:TxnWrite(6, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-0-145" id="h53-0-145" class="i">+set mvcc:Version(sql:Row(index, 2), 6) → 2,FALSE,7,3.14,&#39;abc&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x15\x05\x02\x04\x01\x00\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03abc&quot;]
</a><a href="#h53-0-146" id="h53-0-146" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-147" id="h53-0-147" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-148" id="h53-0-148" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-149" id="h53-0-149" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-0-150" id="h53-0-150" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-151" id="h53-0-151" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-0-152" id="h53-0-152" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-153" id="h53-0-153" class="i">+delete mvcc:TxnWrite(6, sql:Index(index.string, &#39;abc&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-0-154" id="h53-0-154" class="i">+delete mvcc:TxnWrite(6, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-0-155" id="h53-0-155" class="i">+delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a> 
 &gt; SELECT * FROM &quot;index&quot;
 ---
<a href="#h53-1" id="h53-1" class="h">@@ -104,44 +104,44 @@ storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a> # Updates with same values merges the index entries.
 [ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = TRUE, &quot;int&quot; = 7, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;foo&#39;
 ---
<a href="#h53-1-3" id="h53-1-3" class="d">-storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h53-1-4" id="h53-1-4" class="d">-storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h53-1-5" id="h53-1-5" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-6" id="h53-1-6" class="d">-storage set mvcc:Version(sql:Index(index.int, 1), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-7" id="h53-1-7" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-8" id="h53-1-8" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-9" id="h53-1-9" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-10" id="h53-1-10" class="d">-storage set mvcc:Version(sql:Index(index.float, 2.718), 7) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-11" id="h53-1-11" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-12" id="h53-1-12" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-13" id="h53-1-13" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-14" id="h53-1-14" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;bar&#39;), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-15" id="h53-1-15" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-16" id="h53-1-16" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 7) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-1-17" id="h53-1-17" class="d">-storage set mvcc:TxnWrite(7, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-18" id="h53-1-18" class="d">-storage set mvcc:Version(sql:Row(index, 1), 7) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h53-1-19" id="h53-1-19" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-20" id="h53-1-20" class="d">-storage set mvcc:Version(sql:Index(index.bool, FALSE), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-21" id="h53-1-21" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-22" id="h53-1-22" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-23" id="h53-1-23" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, &#39;abc&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-24" id="h53-1-24" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;abc&#39;), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-25" id="h53-1-25" class="d">-storage set mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-26" id="h53-1-26" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-27" id="h53-1-27" class="d">-storage set mvcc:TxnWrite(7, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-28" id="h53-1-28" class="d">-storage set mvcc:Version(sql:Row(index, 2), 7) → 2,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h53-1-29" id="h53-1-29" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-30" id="h53-1-30" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-1-31" id="h53-1-31" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h53-1-32" id="h53-1-32" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-1-33" id="h53-1-33" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-1-34" id="h53-1-34" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-1-35" id="h53-1-35" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;abc&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-36" id="h53-1-36" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-37" id="h53-1-37" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-38" id="h53-1-38" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-1-39" id="h53-1-39" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-1-40" id="h53-1-40" class="d">-storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h53-1-41" id="h53-1-41" class="i">+set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h53-1-42" id="h53-1-42" class="i">+set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h53-1-43" id="h53-1-43" class="i">+set mvcc:TxnWrite(7, sql:Index(index.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-44" id="h53-1-44" class="i">+set mvcc:Version(sql:Index(index.int, 1), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-45" id="h53-1-45" class="i">+set mvcc:TxnWrite(7, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-46" id="h53-1-46" class="i">+set mvcc:Version(sql:Index(index.int, 7), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-47" id="h53-1-47" class="i">+set mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-48" id="h53-1-48" class="i">+set mvcc:Version(sql:Index(index.float, 2.718), 7) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-49" id="h53-1-49" class="i">+set mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-50" id="h53-1-50" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-51" id="h53-1-51" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, &#39;bar&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-52" id="h53-1-52" class="i">+set mvcc:Version(sql:Index(index.string, &#39;bar&#39;), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-53" id="h53-1-53" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-54" id="h53-1-54" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 7) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-1-55" id="h53-1-55" class="i">+set mvcc:TxnWrite(7, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-56" id="h53-1-56" class="i">+set mvcc:Version(sql:Row(index, 1), 7) → 1,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h53-1-57" id="h53-1-57" class="i">+set mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-58" id="h53-1-58" class="i">+set mvcc:Version(sql:Index(index.bool, FALSE), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-59" id="h53-1-59" class="i">+set mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-60" id="h53-1-60" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-61" id="h53-1-61" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, &#39;abc&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-62" id="h53-1-62" class="i">+set mvcc:Version(sql:Index(index.string, &#39;abc&#39;), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h53-1-63" id="h53-1-63" class="i">+set mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-64" id="h53-1-64" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 7) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-1-65" id="h53-1-65" class="i">+set mvcc:TxnWrite(7, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-1-66" id="h53-1-66" class="i">+set mvcc:Version(sql:Row(index, 2), 7) → 2,TRUE,7,3.14,&#39;foo&#39; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h53-1-67" id="h53-1-67" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-68" id="h53-1-68" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-1-69" id="h53-1-69" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h53-1-70" id="h53-1-70" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-1-71" id="h53-1-71" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-1-72" id="h53-1-72" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-1-73" id="h53-1-73" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;abc&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-74" id="h53-1-74" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;bar&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-75" id="h53-1-75" class="i">+delete mvcc:TxnWrite(7, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-1-76" id="h53-1-76" class="i">+delete mvcc:TxnWrite(7, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-1-77" id="h53-1-77" class="i">+delete mvcc:TxnWrite(7, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-1-78" id="h53-1-78" class="i">+delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> 
 &gt; SELECT * FROM &quot;index&quot;
 ---
<a href="#h53-2" id="h53-2" class="h">@@ -151,55 +151,55 @@ storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> # Updates with all NULLs work and get indexed.
 [ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = NULL, &quot;int&quot; = NULL, &quot;float&quot; = NULL, &quot;string&quot; = NULL
 ---
<a href="#h53-2-3" id="h53-2-3" class="d">-storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h53-2-4" id="h53-2-4" class="d">-storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h53-2-5" id="h53-2-5" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-6" id="h53-2-6" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-7" id="h53-2-7" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-8" id="h53-2-8" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-9" id="h53-2-9" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-10" id="h53-2-10" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-11" id="h53-2-11" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-12" id="h53-2-12" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-13" id="h53-2-13" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-14" id="h53-2-14" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-15" id="h53-2-15" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-16" id="h53-2-16" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-17" id="h53-2-17" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-18" id="h53-2-18" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-19" id="h53-2-19" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-20" id="h53-2-20" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-21" id="h53-2-21" class="d">-storage set mvcc:TxnWrite(8, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-22" id="h53-2-22" class="d">-storage set mvcc:Version(sql:Row(index, 1), 8) → 1,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h53-2-23" id="h53-2-23" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-24" id="h53-2-24" class="d">-storage set mvcc:Version(sql:Index(index.bool, TRUE), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-25" id="h53-2-25" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-26" id="h53-2-26" class="d">-storage set mvcc:Version(sql:Index(index.bool, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-27" id="h53-2-27" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-28" id="h53-2-28" class="d">-storage set mvcc:Version(sql:Index(index.int, 7), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-29" id="h53-2-29" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-30" id="h53-2-30" class="d">-storage set mvcc:Version(sql:Index(index.int, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-31" id="h53-2-31" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-32" id="h53-2-32" class="d">-storage set mvcc:Version(sql:Index(index.float, 3.14), 8) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-33" id="h53-2-33" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-34" id="h53-2-34" class="d">-storage set mvcc:Version(sql:Index(index.float, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-35" id="h53-2-35" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-36" id="h53-2-36" class="d">-storage set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-37" id="h53-2-37" class="d">-storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-38" id="h53-2-38" class="d">-storage set mvcc:Version(sql:Index(index.string, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-39" id="h53-2-39" class="d">-storage set mvcc:TxnWrite(8, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-40" id="h53-2-40" class="d">-storage set mvcc:Version(sql:Row(index, 2), 8) → 2,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h53-2-41" id="h53-2-41" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-42" id="h53-2-42" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-2-43" id="h53-2-43" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-44" id="h53-2-44" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-2-45" id="h53-2-45" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-46" id="h53-2-46" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-2-47" id="h53-2-47" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-48" id="h53-2-48" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-49" id="h53-2-49" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-2-50" id="h53-2-50" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-2-51" id="h53-2-51" class="d">-storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h53-2-52" id="h53-2-52" class="i">+set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h53-2-53" id="h53-2-53" class="i">+set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h53-2-54" id="h53-2-54" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-55" id="h53-2-55" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-56" id="h53-2-56" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-57" id="h53-2-57" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-58" id="h53-2-58" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-59" id="h53-2-59" class="i">+set mvcc:Version(sql:Index(index.int, 7), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-60" id="h53-2-60" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-61" id="h53-2-61" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-62" id="h53-2-62" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-63" id="h53-2-63" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-64" id="h53-2-64" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-65" id="h53-2-65" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-66" id="h53-2-66" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-67" id="h53-2-67" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 8) → 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h53-2-68" id="h53-2-68" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-69" id="h53-2-69" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 8) → 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h53-2-70" id="h53-2-70" class="i">+set mvcc:TxnWrite(8, sql:Row(index, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-71" id="h53-2-71" class="i">+set mvcc:Version(sql:Row(index, 1), 8) → 1,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h53-2-72" id="h53-2-72" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-73" id="h53-2-73" class="i">+set mvcc:Version(sql:Index(index.bool, TRUE), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-74" id="h53-2-74" class="i">+set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-75" id="h53-2-75" class="i">+set mvcc:Version(sql:Index(index.bool, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-76" id="h53-2-76" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, 7)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-77" id="h53-2-77" class="i">+set mvcc:Version(sql:Index(index.int, 7), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-78" id="h53-2-78" class="i">+set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-79" id="h53-2-79" class="i">+set mvcc:Version(sql:Index(index.int, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-80" id="h53-2-80" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-81" id="h53-2-81" class="i">+set mvcc:Version(sql:Index(index.float, 3.14), 8) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-82" id="h53-2-82" class="i">+set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-83" id="h53-2-83" class="i">+set mvcc:Version(sql:Index(index.float, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-84" id="h53-2-84" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-85" id="h53-2-85" class="i">+set mvcc:Version(sql:Index(index.string, &#39;foo&#39;), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h53-2-86" id="h53-2-86" class="i">+set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-87" id="h53-2-87" class="i">+set mvcc:Version(sql:Index(index.string, NULL), 8) → 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h53-2-88" id="h53-2-88" class="i">+set mvcc:TxnWrite(8, sql:Row(index, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h53-2-89" id="h53-2-89" class="i">+set mvcc:Version(sql:Row(index, 2), 8) → 2,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h53-2-90" id="h53-2-90" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-91" id="h53-2-91" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h53-2-92" id="h53-2-92" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-93" id="h53-2-93" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h53-2-94" id="h53-2-94" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-95" id="h53-2-95" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h53-2-96" id="h53-2-96" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-97" id="h53-2-97" class="i">+delete mvcc:TxnWrite(8, sql:Index(index.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h53-2-98" id="h53-2-98" class="i">+delete mvcc:TxnWrite(8, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h53-2-99" id="h53-2-99" class="i">+delete mvcc:TxnWrite(8, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h53-2-100" id="h53-2-100" class="i">+delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a> 
 &gt; SELECT * FROM &quot;index&quot;
 ---
<b>diff --git a/<a id="h54" href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a> b/<a href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a></b>
<a href="#h54-0" id="h54-0" class="h">@@ -27,36 +27,36 @@ ok
</a> # UPDATEs with existing references work, and update the index entries.
 [ops]&gt; UPDATE name SET &quot;bool&quot; = TRUE, &quot;int&quot; = 1, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;foo&#39;
 ---
<a href="#h54-0-3" id="h54-0-3" class="d">-storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h54-0-4" id="h54-0-4" class="d">-storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h54-0-5" id="h54-0-5" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-6" id="h54-0-6" class="d">-storage set mvcc:Version(sql:Index(name.bool, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-7" id="h54-0-7" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-8" id="h54-0-8" class="d">-storage set mvcc:Version(sql:Index(name.bool, TRUE), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-9" id="h54-0-9" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-10" id="h54-0-10" class="d">-storage set mvcc:Version(sql:Index(name.int, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-11" id="h54-0-11" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-12" id="h54-0-12" class="d">-storage set mvcc:Version(sql:Index(name.int, 1), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-13" id="h54-0-13" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-14" id="h54-0-14" class="d">-storage set mvcc:Version(sql:Index(name.float, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-15" id="h54-0-15" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-16" id="h54-0-16" class="d">-storage set mvcc:Version(sql:Index(name.float, 3.14), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-17" id="h54-0-17" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-18" id="h54-0-18" class="d">-storage set mvcc:Version(sql:Index(name.string, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-19" id="h54-0-19" class="d">-storage set mvcc:TxnWrite(11, sql:Index(name.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-20" id="h54-0-20" class="d">-storage set mvcc:Version(sql:Index(name.string, &#39;foo&#39;), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-21" id="h54-0-21" class="d">-storage set mvcc:TxnWrite(11, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-22" id="h54-0-22" class="d">-storage set mvcc:Version(sql:Row(name, 1), 11) → 1,TRUE,1,3.14,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h54-0-23" id="h54-0-23" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-24" id="h54-0-24" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h54-0-25" id="h54-0-25" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-26" id="h54-0-26" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h54-0-27" id="h54-0-27" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-28" id="h54-0-28" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-0-29" id="h54-0-29" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-30" id="h54-0-30" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(name.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-31" id="h54-0-31" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-0-32" id="h54-0-32" class="d">-storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><a href="#h54-0-33" id="h54-0-33" class="i">+set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h54-0-34" id="h54-0-34" class="i">+set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h54-0-35" id="h54-0-35" class="i">+set mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-36" id="h54-0-36" class="i">+set mvcc:Version(sql:Index(name.bool, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-37" id="h54-0-37" class="i">+set mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-38" id="h54-0-38" class="i">+set mvcc:Version(sql:Index(name.bool, TRUE), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-39" id="h54-0-39" class="i">+set mvcc:TxnWrite(11, sql:Index(name.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-40" id="h54-0-40" class="i">+set mvcc:Version(sql:Index(name.int, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-41" id="h54-0-41" class="i">+set mvcc:TxnWrite(11, sql:Index(name.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-42" id="h54-0-42" class="i">+set mvcc:Version(sql:Index(name.int, 1), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-43" id="h54-0-43" class="i">+set mvcc:TxnWrite(11, sql:Index(name.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-44" id="h54-0-44" class="i">+set mvcc:Version(sql:Index(name.float, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-45" id="h54-0-45" class="i">+set mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-46" id="h54-0-46" class="i">+set mvcc:Version(sql:Index(name.float, 3.14), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-47" id="h54-0-47" class="i">+set mvcc:TxnWrite(11, sql:Index(name.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-48" id="h54-0-48" class="i">+set mvcc:Version(sql:Index(name.string, NULL), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h54-0-49" id="h54-0-49" class="i">+set mvcc:TxnWrite(11, sql:Index(name.string, &#39;foo&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-50" id="h54-0-50" class="i">+set mvcc:Version(sql:Index(name.string, &#39;foo&#39;), 11) → 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-0-51" id="h54-0-51" class="i">+set mvcc:TxnWrite(11, sql:Row(name, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-0-52" id="h54-0-52" class="i">+set mvcc:Version(sql:Row(name, 1), 11) → 1,TRUE,1,3.14,&#39;foo&#39; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h54-0-53" id="h54-0-53" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-54" id="h54-0-54" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h54-0-55" id="h54-0-55" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-56" id="h54-0-56" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h54-0-57" id="h54-0-57" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-58" id="h54-0-58" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-0-59" id="h54-0-59" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-60" id="h54-0-60" class="i">+delete mvcc:TxnWrite(11, sql:Index(name.string, &#39;foo&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-0-61" id="h54-0-61" class="i">+delete mvcc:TxnWrite(11, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-0-62" id="h54-0-62" class="i">+delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a> 
 # UPDATEs error on missing references.
 !&gt; UPDATE name SET &quot;bool&quot; = FALSE
<a href="#h54-1" id="h54-1" class="h">@@ -111,48 +111,48 @@ ok
</a> 
 [ops]&gt; UPDATE self SET self_id = 1 WHERE id = 1
 ---
<a href="#h54-1-3" id="h54-1-3" class="d">-storage set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h54-1-4" id="h54-1-4" class="d">-storage set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h54-1-5" id="h54-1-5" class="d">-storage set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-6" id="h54-1-6" class="d">-storage set mvcc:Version(sql:Index(self.self_id, NULL), 24) → 2,3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h54-1-7" id="h54-1-7" class="d">-storage set mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-8" id="h54-1-8" class="d">-storage set mvcc:Version(sql:Index(self.self_id, 1), 24) → 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-1-9" id="h54-1-9" class="d">-storage set mvcc:TxnWrite(24, sql:Row(self, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-10" id="h54-1-10" class="d">-storage set mvcc:Version(sql:Row(self, 1), 24) → 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h54-1-11" id="h54-1-11" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-12" id="h54-1-12" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-13" id="h54-1-13" class="d">-storage delete mvcc:TxnWrite(24, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-14" id="h54-1-14" class="d">-storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a><a href="#h54-1-15" id="h54-1-15" class="i">+set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h54-1-16" id="h54-1-16" class="i">+set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h54-1-17" id="h54-1-17" class="i">+set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-18" id="h54-1-18" class="i">+set mvcc:Version(sql:Index(self.self_id, NULL), 24) → 2,3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h54-1-19" id="h54-1-19" class="i">+set mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-20" id="h54-1-20" class="i">+set mvcc:Version(sql:Index(self.self_id, 1), 24) → 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h54-1-21" id="h54-1-21" class="i">+set mvcc:TxnWrite(24, sql:Row(self, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-22" id="h54-1-22" class="i">+set mvcc:Version(sql:Row(self, 1), 24) → 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h54-1-23" id="h54-1-23" class="i">+delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-24" id="h54-1-24" class="i">+delete mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-25" id="h54-1-25" class="i">+delete mvcc:TxnWrite(24, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-26" id="h54-1-26" class="i">+delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a> 
 [ops]&gt; UPDATE self SET self_id = 1 WHERE id = 2
 ---
<a href="#h54-1-30" id="h54-1-30" class="d">-storage set mvcc:NextVersion → 26 [&quot;\x00&quot; → &quot;\x1a&quot;]
</a><a href="#h54-1-31" id="h54-1-31" class="d">-storage set mvcc:TxnActive(25) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;&quot;]
</a><a href="#h54-1-32" id="h54-1-32" class="d">-storage set mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-33" id="h54-1-33" class="d">-storage set mvcc:Version(sql:Index(self.self_id, NULL), 25) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h54-1-34" id="h54-1-34" class="d">-storage set mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-35" id="h54-1-35" class="d">-storage set mvcc:Version(sql:Index(self.self_id, 1), 25) → 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h54-1-36" id="h54-1-36" class="d">-storage set mvcc:TxnWrite(25, sql:Row(self, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-37" id="h54-1-37" class="d">-storage set mvcc:Version(sql:Row(self, 2), 25) → 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h54-1-38" id="h54-1-38" class="d">-storage delete mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-39" id="h54-1-39" class="d">-storage delete mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-40" id="h54-1-40" class="d">-storage delete mvcc:TxnWrite(25, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h54-1-41" id="h54-1-41" class="d">-storage delete mvcc:TxnActive(25) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot;]
</a><a href="#h54-1-42" id="h54-1-42" class="i">+set mvcc:NextVersion → 26 [&quot;\x00&quot; → &quot;\x1a&quot;]
</a><a href="#h54-1-43" id="h54-1-43" class="i">+set mvcc:TxnActive(25) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;&quot;]
</a><a href="#h54-1-44" id="h54-1-44" class="i">+set mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-45" id="h54-1-45" class="i">+set mvcc:Version(sql:Index(self.self_id, NULL), 25) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h54-1-46" id="h54-1-46" class="i">+set mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-47" id="h54-1-47" class="i">+set mvcc:Version(sql:Index(self.self_id, 1), 25) → 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h54-1-48" id="h54-1-48" class="i">+set mvcc:TxnWrite(25, sql:Row(self, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-49" id="h54-1-49" class="i">+set mvcc:Version(sql:Row(self, 2), 25) → 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h54-1-50" id="h54-1-50" class="i">+delete mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-51" id="h54-1-51" class="i">+delete mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h54-1-52" id="h54-1-52" class="i">+delete mvcc:TxnWrite(25, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h54-1-53" id="h54-1-53" class="i">+delete mvcc:TxnActive(25) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot;]
</a> 
 [ops]&gt; UPDATE self SET self_id = 2 WHERE id = 3
 ---
<a href="#h54-1-57" id="h54-1-57" class="d">-storage set mvcc:NextVersion → 27 [&quot;\x00&quot; → &quot;\x1b&quot;]
</a><a href="#h54-1-58" id="h54-1-58" class="d">-storage set mvcc:TxnActive(26) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;&quot;]
</a><a href="#h54-1-59" id="h54-1-59" class="d">-storage set mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-60" id="h54-1-60" class="d">-storage set mvcc:Version(sql:Index(self.self_id, NULL), 26) → None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x00&quot;]
</a><a href="#h54-1-61" id="h54-1-61" class="d">-storage set mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-62" id="h54-1-62" class="d">-storage set mvcc:Version(sql:Index(self.self_id, 2), 26) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h54-1-63" id="h54-1-63" class="d">-storage set mvcc:TxnWrite(26, sql:Row(self, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-64" id="h54-1-64" class="d">-storage set mvcc:Version(sql:Row(self, 3), 26) → 3,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h54-1-65" id="h54-1-65" class="d">-storage delete mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-66" id="h54-1-66" class="d">-storage delete mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h54-1-67" id="h54-1-67" class="d">-storage delete mvcc:TxnWrite(26, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h54-1-68" id="h54-1-68" class="d">-storage delete mvcc:TxnActive(26) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot;]
</a><a href="#h54-1-69" id="h54-1-69" class="i">+set mvcc:NextVersion → 27 [&quot;\x00&quot; → &quot;\x1b&quot;]
</a><a href="#h54-1-70" id="h54-1-70" class="i">+set mvcc:TxnActive(26) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;&quot;]
</a><a href="#h54-1-71" id="h54-1-71" class="i">+set mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-72" id="h54-1-72" class="i">+set mvcc:Version(sql:Index(self.self_id, NULL), 26) → None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x00&quot;]
</a><a href="#h54-1-73" id="h54-1-73" class="i">+set mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-74" id="h54-1-74" class="i">+set mvcc:Version(sql:Index(self.self_id, 2), 26) → 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h54-1-75" id="h54-1-75" class="i">+set mvcc:TxnWrite(26, sql:Row(self, 3)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h54-1-76" id="h54-1-76" class="i">+set mvcc:Version(sql:Row(self, 3), 26) → 3,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h54-1-77" id="h54-1-77" class="i">+delete mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h54-1-78" id="h54-1-78" class="i">+delete mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h54-1-79" id="h54-1-79" class="i">+delete mvcc:TxnWrite(26, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h54-1-80" id="h54-1-80" class="i">+delete mvcc:TxnActive(26) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot;]
</a> 
 # Breaking the reference isn&#39;t.
 !&gt; UPDATE self SET id = 4 WHERE id = 1
<b>diff --git a/<a id="h55" href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a> b/<a href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a></b>
<a href="#h55-0" id="h55-0" class="h">@@ -17,36 +17,36 @@ ok
</a>     SET &quot;bool&quot; = true, &quot;int&quot; = 2, &quot;float&quot; = 2.718, &quot;string&quot; = &#39;b&#39; \
     WHERE id = 2
 ---
<a href="#h55-0-3" id="h55-0-3" class="d">-storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h55-0-4" id="h55-0-4" class="d">-storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h55-0-5" id="h55-0-5" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-6" id="h55-0-6" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-7" id="h55-0-7" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-8" id="h55-0-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, TRUE), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-9" id="h55-0-9" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-10" id="h55-0-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-11" id="h55-0-11" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.int, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-12" id="h55-0-12" class="d">-storage set mvcc:Version(sql:Index(unique.int, 2), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-13" id="h55-0-13" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-14" id="h55-0-14" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-15" id="h55-0-15" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-16" id="h55-0-16" class="d">-storage set mvcc:Version(sql:Index(unique.float, 2.718), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-17" id="h55-0-17" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-18" id="h55-0-18" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-19" id="h55-0-19" class="d">-storage set mvcc:TxnWrite(4, sql:Index(unique.string, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-20" id="h55-0-20" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;b&#39;), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-21" id="h55-0-21" class="d">-storage set mvcc:TxnWrite(4, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-22" id="h55-0-22" class="d">-storage set mvcc:Version(sql:Row(unique, 2), 4) → 2,TRUE,2,2.718,&#39;b&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x13\x05\x02\x04\x01\x01\x02\x04\x03X9\xb4\xc8v\xbe\x05@\x04\x01b&quot;]
</a><a href="#h55-0-23" id="h55-0-23" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-24" id="h55-0-24" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h55-0-25" id="h55-0-25" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-26" id="h55-0-26" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h55-0-27" id="h55-0-27" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-28" id="h55-0-28" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-0-29" id="h55-0-29" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-30" id="h55-0-30" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(unique.string, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-31" id="h55-0-31" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-0-32" id="h55-0-32" class="d">-storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h55-0-33" id="h55-0-33" class="i">+set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h55-0-34" id="h55-0-34" class="i">+set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h55-0-35" id="h55-0-35" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-36" id="h55-0-36" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-37" id="h55-0-37" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-38" id="h55-0-38" class="i">+set mvcc:Version(sql:Index(unique.bool, TRUE), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-39" id="h55-0-39" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-40" id="h55-0-40" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-41" id="h55-0-41" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.int, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-42" id="h55-0-42" class="i">+set mvcc:Version(sql:Index(unique.int, 2), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-43" id="h55-0-43" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-44" id="h55-0-44" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-45" id="h55-0-45" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-46" id="h55-0-46" class="i">+set mvcc:Version(sql:Index(unique.float, 2.718), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-47" id="h55-0-47" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-48" id="h55-0-48" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h55-0-49" id="h55-0-49" class="i">+set mvcc:TxnWrite(4, sql:Index(unique.string, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-50" id="h55-0-50" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;b&#39;), 4) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-0-51" id="h55-0-51" class="i">+set mvcc:TxnWrite(4, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-0-52" id="h55-0-52" class="i">+set mvcc:Version(sql:Row(unique, 2), 4) → 2,TRUE,2,2.718,&#39;b&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x13\x05\x02\x04\x01\x01\x02\x04\x03X9\xb4\xc8v\xbe\x05@\x04\x01b&quot;]
</a><a href="#h55-0-53" id="h55-0-53" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-54" id="h55-0-54" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h55-0-55" id="h55-0-55" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-56" id="h55-0-56" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h55-0-57" id="h55-0-57" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-58" id="h55-0-58" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-0-59" id="h55-0-59" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-60" id="h55-0-60" class="i">+delete mvcc:TxnWrite(4, sql:Index(unique.string, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-0-61" id="h55-0-61" class="i">+delete mvcc:TxnWrite(4, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-0-62" id="h55-0-62" class="i">+delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> 
 # An update that violates the unique constraint fails.
 !&gt; UPDATE &quot;unique&quot; SET &quot;bool&quot; = FALSE WHERE id = 2
<a href="#h55-1" id="h55-1" class="h">@@ -73,59 +73,59 @@ Error: invalid input: value &#39;abc&#39; already in unique column string
</a> # Updates with NULLS sets NULL entries. Duplicates are allowed.
 [ops]&gt; UPDATE &quot;unique&quot; SET &quot;bool&quot; = NULL, &quot;int&quot; = NULL, &quot;float&quot; = NULL, &quot;string&quot; = NULL
 ---
<a href="#h55-1-3" id="h55-1-3" class="d">-storage set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h55-1-4" id="h55-1-4" class="d">-storage set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h55-1-5" id="h55-1-5" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-6" id="h55-1-6" class="d">-storage set mvcc:Version(sql:Index(unique.bool, FALSE), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-7" id="h55-1-7" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-8" id="h55-1-8" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-9" id="h55-1-9" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-10" id="h55-1-10" class="d">-storage set mvcc:Version(sql:Index(unique.int, 1), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-11" id="h55-1-11" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-12" id="h55-1-12" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-13" id="h55-1-13" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-14" id="h55-1-14" class="d">-storage set mvcc:Version(sql:Index(unique.float, 3.14), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-15" id="h55-1-15" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-16" id="h55-1-16" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-17" id="h55-1-17" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.string, &#39;a&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-18" id="h55-1-18" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;a&#39;), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-19" id="h55-1-19" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-20" id="h55-1-20" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-21" id="h55-1-21" class="d">-storage set mvcc:TxnWrite(13, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-22" id="h55-1-22" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 13) → 1,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h55-1-23" id="h55-1-23" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-24" id="h55-1-24" class="d">-storage set mvcc:Version(sql:Index(unique.bool, TRUE), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-25" id="h55-1-25" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-26" id="h55-1-26" class="d">-storage set mvcc:Version(sql:Index(unique.bool, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-27" id="h55-1-27" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.int, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-28" id="h55-1-28" class="d">-storage set mvcc:Version(sql:Index(unique.int, 2), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-29" id="h55-1-29" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-30" id="h55-1-30" class="d">-storage set mvcc:Version(sql:Index(unique.int, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-31" id="h55-1-31" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-32" id="h55-1-32" class="d">-storage set mvcc:Version(sql:Index(unique.float, 2.718), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-33" id="h55-1-33" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-34" id="h55-1-34" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-35" id="h55-1-35" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.string, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-36" id="h55-1-36" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;b&#39;), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-37" id="h55-1-37" class="d">-storage set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-38" id="h55-1-38" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-39" id="h55-1-39" class="d">-storage set mvcc:TxnWrite(13, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-40" id="h55-1-40" class="d">-storage set mvcc:Version(sql:Row(unique, 2), 13) → 2,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h55-1-41" id="h55-1-41" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-42" id="h55-1-42" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-43" id="h55-1-43" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h55-1-44" id="h55-1-44" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-45" id="h55-1-45" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h55-1-46" id="h55-1-46" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h55-1-47" id="h55-1-47" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-48" id="h55-1-48" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-1-49" id="h55-1-49" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-1-50" id="h55-1-50" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-51" id="h55-1-51" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.string, &#39;a&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-52" id="h55-1-52" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(unique.string, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-53" id="h55-1-53" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-1-54" id="h55-1-54" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-1-55" id="h55-1-55" class="d">-storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a><a href="#h55-1-56" id="h55-1-56" class="i">+set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h55-1-57" id="h55-1-57" class="i">+set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h55-1-58" id="h55-1-58" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-59" id="h55-1-59" class="i">+set mvcc:Version(sql:Index(unique.bool, FALSE), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-60" id="h55-1-60" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-61" id="h55-1-61" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-62" id="h55-1-62" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.int, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-63" id="h55-1-63" class="i">+set mvcc:Version(sql:Index(unique.int, 1), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-64" id="h55-1-64" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-65" id="h55-1-65" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-66" id="h55-1-66" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-67" id="h55-1-67" class="i">+set mvcc:Version(sql:Index(unique.float, 3.14), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-68" id="h55-1-68" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-69" id="h55-1-69" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-70" id="h55-1-70" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.string, &#39;a&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-71" id="h55-1-71" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;a&#39;), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-72" id="h55-1-72" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-73" id="h55-1-73" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 13) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-1-74" id="h55-1-74" class="i">+set mvcc:TxnWrite(13, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-75" id="h55-1-75" class="i">+set mvcc:Version(sql:Row(unique, 1), 13) → 1,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h55-1-76" id="h55-1-76" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-77" id="h55-1-77" class="i">+set mvcc:Version(sql:Index(unique.bool, TRUE), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-78" id="h55-1-78" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-79" id="h55-1-79" class="i">+set mvcc:Version(sql:Index(unique.bool, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-80" id="h55-1-80" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.int, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-81" id="h55-1-81" class="i">+set mvcc:Version(sql:Index(unique.int, 2), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-82" id="h55-1-82" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-83" id="h55-1-83" class="i">+set mvcc:Version(sql:Index(unique.int, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-84" id="h55-1-84" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-85" id="h55-1-85" class="i">+set mvcc:Version(sql:Index(unique.float, 2.718), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-86" id="h55-1-86" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-87" id="h55-1-87" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-88" id="h55-1-88" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.string, &#39;b&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-89" id="h55-1-89" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;b&#39;), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h55-1-90" id="h55-1-90" class="i">+set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-91" id="h55-1-91" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 13) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-1-92" id="h55-1-92" class="i">+set mvcc:TxnWrite(13, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-1-93" id="h55-1-93" class="i">+set mvcc:Version(sql:Row(unique, 2), 13) → 2,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h55-1-94" id="h55-1-94" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-95" id="h55-1-95" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-96" id="h55-1-96" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h55-1-97" id="h55-1-97" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-98" id="h55-1-98" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h55-1-99" id="h55-1-99" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h55-1-100" id="h55-1-100" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-101" id="h55-1-101" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-1-102" id="h55-1-102" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-1-103" id="h55-1-103" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-104" id="h55-1-104" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.string, &#39;a&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-105" id="h55-1-105" class="i">+delete mvcc:TxnWrite(13, sql:Index(unique.string, &#39;b&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-1-106" id="h55-1-106" class="i">+delete mvcc:TxnWrite(13, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-1-107" id="h55-1-107" class="i">+delete mvcc:TxnWrite(13, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-1-108" id="h55-1-108" class="i">+delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> 
 &gt; SELECT * FROM &quot;unique&quot;
 ---
<a href="#h55-2" id="h55-2" class="h">@@ -135,25 +135,25 @@ storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> # Float NaNs are considered different and allowed.
 [ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = NAN
 ---
<a href="#h55-2-3" id="h55-2-3" class="d">-storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h55-2-4" id="h55-2-4" class="d">-storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h55-2-5" id="h55-2-5" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-6" id="h55-2-6" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 14) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-2-7" id="h55-2-7" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-8" id="h55-2-8" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 14) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-2-9" id="h55-2-9" class="d">-storage set mvcc:TxnWrite(14, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-10" id="h55-2-10" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 14) → 1,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h55-2-11" id="h55-2-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-12" id="h55-2-12" class="d">-storage set mvcc:Version(sql:Index(unique.float, NULL), 14) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h55-2-13" id="h55-2-13" class="d">-storage set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-14" id="h55-2-14" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 14) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-2-15" id="h55-2-15" class="d">-storage set mvcc:TxnWrite(14, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-16" id="h55-2-16" class="d">-storage set mvcc:Version(sql:Row(unique, 2), 14) → 2,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h55-2-17" id="h55-2-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-2-18" id="h55-2-18" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-2-19" id="h55-2-19" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-2-20" id="h55-2-20" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-2-21" id="h55-2-21" class="d">-storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h55-2-22" id="h55-2-22" class="i">+set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h55-2-23" id="h55-2-23" class="i">+set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h55-2-24" id="h55-2-24" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-25" id="h55-2-25" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 14) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-2-26" id="h55-2-26" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-27" id="h55-2-27" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 14) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-2-28" id="h55-2-28" class="i">+set mvcc:TxnWrite(14, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-29" id="h55-2-29" class="i">+set mvcc:Version(sql:Row(unique, 1), 14) → 1,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h55-2-30" id="h55-2-30" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-31" id="h55-2-31" class="i">+set mvcc:Version(sql:Index(unique.float, NULL), 14) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h55-2-32" id="h55-2-32" class="i">+set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-33" id="h55-2-33" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 14) → 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h55-2-34" id="h55-2-34" class="i">+set mvcc:TxnWrite(14, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-2-35" id="h55-2-35" class="i">+set mvcc:Version(sql:Row(unique, 2), 14) → 2,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h55-2-36" id="h55-2-36" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-2-37" id="h55-2-37" class="i">+delete mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-2-38" id="h55-2-38" class="i">+delete mvcc:TxnWrite(14, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-2-39" id="h55-2-39" class="i">+delete mvcc:TxnWrite(14, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-2-40" id="h55-2-40" class="i">+delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a> 
 &gt; SELECT * FROM &quot;unique&quot;
 ---
<a href="#h55-3" id="h55-3" class="h">@@ -164,18 +164,18 @@ storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a> [ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = -0.0 WHERE id = 1
 !&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = 0.0 WHERE id = 2
 ---
<a href="#h55-3-3" id="h55-3-3" class="d">-storage set mvcc:NextVersion → 16 [&quot;\x00&quot; → &quot;\x10&quot;]
</a><a href="#h55-3-4" id="h55-3-4" class="d">-storage set mvcc:TxnActive(15) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;&quot;]
</a><a href="#h55-3-5" id="h55-3-5" class="d">-storage set mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-6" id="h55-3-6" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 15) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-3-7" id="h55-3-7" class="d">-storage set mvcc:TxnWrite(15, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-8" id="h55-3-8" class="d">-storage set mvcc:Version(sql:Index(unique.float, 0.0), 15) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-3-9" id="h55-3-9" class="d">-storage set mvcc:TxnWrite(15, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-10" id="h55-3-10" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 15) → 1,NULL,NULL,0.0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h55-3-11" id="h55-3-11" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-3-12" id="h55-3-12" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-3-13" id="h55-3-13" class="d">-storage delete mvcc:TxnWrite(15, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-3-14" id="h55-3-14" class="d">-storage delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
</a><a href="#h55-3-15" id="h55-3-15" class="i">+set mvcc:NextVersion → 16 [&quot;\x00&quot; → &quot;\x10&quot;]
</a><a href="#h55-3-16" id="h55-3-16" class="i">+set mvcc:TxnActive(15) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;&quot;]
</a><a href="#h55-3-17" id="h55-3-17" class="i">+set mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-18" id="h55-3-18" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 15) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-3-19" id="h55-3-19" class="i">+set mvcc:TxnWrite(15, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-20" id="h55-3-20" class="i">+set mvcc:Version(sql:Index(unique.float, 0.0), 15) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-3-21" id="h55-3-21" class="i">+set mvcc:TxnWrite(15, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-3-22" id="h55-3-22" class="i">+set mvcc:Version(sql:Row(unique, 1), 15) → 1,NULL,NULL,0.0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h55-3-23" id="h55-3-23" class="i">+delete mvcc:TxnWrite(15, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-3-24" id="h55-3-24" class="i">+delete mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-3-25" id="h55-3-25" class="i">+delete mvcc:TxnWrite(15, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-3-26" id="h55-3-26" class="i">+delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
</a> Error: invalid input: value 0.0 already in unique column float
 
 &gt; SELECT * FROM &quot;unique&quot;
<a href="#h55-4" id="h55-4" class="h">@@ -187,30 +187,30 @@ Error: invalid input: value 0.0 already in unique column float
</a> [ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = INFINITY WHERE id = 1
 [ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = -INFINITY WHERE id = 2
 ---
<a href="#h55-4-3" id="h55-4-3" class="d">-storage set mvcc:NextVersion → 18 [&quot;\x00&quot; → &quot;\x12&quot;]
</a><a href="#h55-4-4" id="h55-4-4" class="d">-storage set mvcc:TxnActive(17) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;&quot;]
</a><a href="#h55-4-5" id="h55-4-5" class="d">-storage set mvcc:TxnWrite(17, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-6" id="h55-4-6" class="d">-storage set mvcc:Version(sql:Index(unique.float, 0.0), 17) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x00&quot;]
</a><a href="#h55-4-7" id="h55-4-7" class="d">-storage set mvcc:TxnWrite(17, sql:Index(unique.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-8" id="h55-4-8" class="d">-storage set mvcc:Version(sql:Index(unique.float, inf), 17) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-4-9" id="h55-4-9" class="d">-storage set mvcc:TxnWrite(17, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-10" id="h55-4-10" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 17) → 1,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h55-4-11" id="h55-4-11" class="d">-storage delete mvcc:TxnWrite(17, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-12" id="h55-4-12" class="d">-storage delete mvcc:TxnWrite(17, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-13" id="h55-4-13" class="d">-storage delete mvcc:TxnWrite(17, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-4-14" id="h55-4-14" class="d">-storage delete mvcc:TxnActive(17) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot;]
</a><a href="#h55-4-15" id="h55-4-15" class="d">-storage set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h55-4-16" id="h55-4-16" class="d">-storage set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h55-4-17" id="h55-4-17" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-18" id="h55-4-18" class="d">-storage set mvcc:Version(sql:Index(unique.float, NaN), 18) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x00&quot;]
</a><a href="#h55-4-19" id="h55-4-19" class="d">-storage set mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-20" id="h55-4-20" class="d">-storage set mvcc:Version(sql:Index(unique.float, -inf), 18) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-4-21" id="h55-4-21" class="d">-storage set mvcc:TxnWrite(18, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-22" id="h55-4-22" class="d">-storage set mvcc:Version(sql:Row(unique, 2), 18) → 2,NULL,NULL,-inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h55-4-23" id="h55-4-23" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h55-4-24" id="h55-4-24" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-25" id="h55-4-25" class="d">-storage delete mvcc:TxnWrite(18, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-4-26" id="h55-4-26" class="d">-storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a><a href="#h55-4-27" id="h55-4-27" class="i">+set mvcc:NextVersion → 18 [&quot;\x00&quot; → &quot;\x12&quot;]
</a><a href="#h55-4-28" id="h55-4-28" class="i">+set mvcc:TxnActive(17) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;&quot;]
</a><a href="#h55-4-29" id="h55-4-29" class="i">+set mvcc:TxnWrite(17, sql:Index(unique.float, 0.0)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-30" id="h55-4-30" class="i">+set mvcc:Version(sql:Index(unique.float, 0.0), 17) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x00&quot;]
</a><a href="#h55-4-31" id="h55-4-31" class="i">+set mvcc:TxnWrite(17, sql:Index(unique.float, inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-32" id="h55-4-32" class="i">+set mvcc:Version(sql:Index(unique.float, inf), 17) → 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-4-33" id="h55-4-33" class="i">+set mvcc:TxnWrite(17, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-34" id="h55-4-34" class="i">+set mvcc:Version(sql:Row(unique, 1), 17) → 1,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h55-4-35" id="h55-4-35" class="i">+delete mvcc:TxnWrite(17, sql:Index(unique.float, 0.0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-36" id="h55-4-36" class="i">+delete mvcc:TxnWrite(17, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-37" id="h55-4-37" class="i">+delete mvcc:TxnWrite(17, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-4-38" id="h55-4-38" class="i">+delete mvcc:TxnActive(17) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot;]
</a><a href="#h55-4-39" id="h55-4-39" class="i">+set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h55-4-40" id="h55-4-40" class="i">+set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h55-4-41" id="h55-4-41" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-42" id="h55-4-42" class="i">+set mvcc:Version(sql:Index(unique.float, NaN), 18) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x00&quot;]
</a><a href="#h55-4-43" id="h55-4-43" class="i">+set mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-44" id="h55-4-44" class="i">+set mvcc:Version(sql:Index(unique.float, -inf), 18) → 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-4-45" id="h55-4-45" class="i">+set mvcc:TxnWrite(18, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-4-46" id="h55-4-46" class="i">+set mvcc:Version(sql:Row(unique, 2), 18) → 2,NULL,NULL,-inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h55-4-47" id="h55-4-47" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h55-4-48" id="h55-4-48" class="i">+delete mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-4-49" id="h55-4-49" class="i">+delete mvcc:TxnWrite(18, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-4-50" id="h55-4-50" class="i">+delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a> 
 &gt; SELECT * FROM &quot;unique&quot;
 ---
<a href="#h55-5" id="h55-5" class="h">@@ -231,30 +231,30 @@ Error: invalid input: value &#39;&#39; already in unique column string
</a> [ops]&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;case&#39; WHERE id = 1
 [ops]&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;CaSe&#39; WHERE id = 2
 ---
<a href="#h55-5-3" id="h55-5-3" class="d">-storage set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h55-5-4" id="h55-5-4" class="d">-storage set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h55-5-5" id="h55-5-5" class="d">-storage set mvcc:TxnWrite(22, sql:Index(unique.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-6" id="h55-5-6" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;&#39;), 22) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x00&quot;]
</a><a href="#h55-5-7" id="h55-5-7" class="d">-storage set mvcc:TxnWrite(22, sql:Index(unique.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-8" id="h55-5-8" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;case&#39;), 22) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-5-9" id="h55-5-9" class="d">-storage set mvcc:TxnWrite(22, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-10" id="h55-5-10" class="d">-storage set mvcc:Version(sql:Row(unique, 1), 22) → 1,NULL,NULL,inf,&#39;case&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x14\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x04\x04case&quot;]
</a><a href="#h55-5-11" id="h55-5-11" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(unique.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-12" id="h55-5-12" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(unique.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-13" id="h55-5-13" class="d">-storage delete mvcc:TxnWrite(22, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-5-14" id="h55-5-14" class="d">-storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a><a href="#h55-5-15" id="h55-5-15" class="d">-storage set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h55-5-16" id="h55-5-16" class="d">-storage set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h55-5-17" id="h55-5-17" class="d">-storage set mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-18" id="h55-5-18" class="d">-storage set mvcc:Version(sql:Index(unique.string, NULL), 23) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x00&quot;]
</a><a href="#h55-5-19" id="h55-5-19" class="d">-storage set mvcc:TxnWrite(23, sql:Index(unique.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-20" id="h55-5-20" class="d">-storage set mvcc:Version(sql:Index(unique.string, &#39;CaSe&#39;), 23) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-5-21" id="h55-5-21" class="d">-storage set mvcc:TxnWrite(23, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-22" id="h55-5-22" class="d">-storage set mvcc:Version(sql:Row(unique, 2), 23) → 2,NULL,NULL,-inf,&#39;CaSe&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x14\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x04\x04CaSe&quot;]
</a><a href="#h55-5-23" id="h55-5-23" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-24" id="h55-5-24" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(unique.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-25" id="h55-5-25" class="d">-storage delete mvcc:TxnWrite(23, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-5-26" id="h55-5-26" class="d">-storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a><a href="#h55-5-27" id="h55-5-27" class="i">+set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h55-5-28" id="h55-5-28" class="i">+set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h55-5-29" id="h55-5-29" class="i">+set mvcc:TxnWrite(22, sql:Index(unique.string, &#39;&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-30" id="h55-5-30" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;&#39;), 22) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x00&quot;]
</a><a href="#h55-5-31" id="h55-5-31" class="i">+set mvcc:TxnWrite(22, sql:Index(unique.string, &#39;case&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-32" id="h55-5-32" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;case&#39;), 22) → 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h55-5-33" id="h55-5-33" class="i">+set mvcc:TxnWrite(22, sql:Row(unique, 1)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-34" id="h55-5-34" class="i">+set mvcc:Version(sql:Row(unique, 1), 22) → 1,NULL,NULL,inf,&#39;case&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x14\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x04\x04case&quot;]
</a><a href="#h55-5-35" id="h55-5-35" class="i">+delete mvcc:TxnWrite(22, sql:Index(unique.string, &#39;&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-36" id="h55-5-36" class="i">+delete mvcc:TxnWrite(22, sql:Index(unique.string, &#39;case&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-37" id="h55-5-37" class="i">+delete mvcc:TxnWrite(22, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h55-5-38" id="h55-5-38" class="i">+delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a><a href="#h55-5-39" id="h55-5-39" class="i">+set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h55-5-40" id="h55-5-40" class="i">+set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h55-5-41" id="h55-5-41" class="i">+set mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-42" id="h55-5-42" class="i">+set mvcc:Version(sql:Index(unique.string, NULL), 23) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x00&quot;]
</a><a href="#h55-5-43" id="h55-5-43" class="i">+set mvcc:TxnWrite(23, sql:Index(unique.string, &#39;CaSe&#39;)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-44" id="h55-5-44" class="i">+set mvcc:Version(sql:Index(unique.string, &#39;CaSe&#39;), 23) → 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h55-5-45" id="h55-5-45" class="i">+set mvcc:TxnWrite(23, sql:Row(unique, 2)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h55-5-46" id="h55-5-46" class="i">+set mvcc:Version(sql:Row(unique, 2), 23) → 2,NULL,NULL,-inf,&#39;CaSe&#39; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x14\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x04\x04CaSe&quot;]
</a><a href="#h55-5-47" id="h55-5-47" class="i">+delete mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-48" id="h55-5-48" class="i">+delete mvcc:TxnWrite(23, sql:Index(unique.string, &#39;CaSe&#39;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h55-5-49" id="h55-5-49" class="i">+delete mvcc:TxnWrite(23, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h55-5-50" id="h55-5-50" class="i">+delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a> 
 &gt; SELECT * FROM &quot;unique&quot;
 ---
<b>diff --git a/<a id="h56" href="../file/src/sql/types/expression.rs.html">src/sql/types/expression.rs</a> b/<a href="../file/src/sql/types/expression.rs.html">src/sql/types/expression.rs</a></b>
<a href="#h56-0" id="h56-0" class="h">@@ -125,6 +125,11 @@ impl Expression {
</a>         }
     }
 
<a href="#h56-0-3" id="h56-0-3" class="i">+    /// Formats a constant expression. Errors on column references.
</a><a href="#h56-0-4" id="h56-0-4" class="i">+    pub fn format_constant(&amp;self) -&gt; String {
</a><a href="#h56-0-5" id="h56-0-5" class="i">+        self.format(&amp;Node::Nothing { columns: Vec::new() })
</a><a href="#h56-0-6" id="h56-0-6" class="i">+    }
</a><a href="#h56-0-7" id="h56-0-7" class="i">+
</a>     /// Evaluates an expression, returning a value. Column references look up
     /// values in the given row. If None, any Column references will panic.
     pub fn evaluate(&amp;self, row: Option&lt;&amp;Row&gt;) -&gt; Result&lt;Value&gt; {
<b>diff --git a/<a id="h57" href="../file/src/storage/mvcc.rs.html">src/storage/mvcc.rs</a> b/<a href="../file/src/storage/mvcc.rs.html">src/storage/mvcc.rs</a></b>
<a href="#h57-0" id="h57-0" class="h">@@ -787,6 +787,42 @@ pub mod tests {
</a> 
     type TestEngine = Emit&lt;Mirror&lt;BitCask, Memory&gt;&gt;;
 
<a href="#h57-0-3" id="h57-0-3" class="i">+    impl MVCCRunner {
</a><a href="#h57-0-4" id="h57-0-4" class="i">+        fn new() -&gt; Self {
</a><a href="#h57-0-5" id="h57-0-5" class="i">+            // Use both a BitCask and a Memory engine, and mirror operations
</a><a href="#h57-0-6" id="h57-0-6" class="i">+            // across them. Emit engine operations to op_rx.
</a><a href="#h57-0-7" id="h57-0-7" class="i">+            let (op_tx, op_rx) = crossbeam::channel::unbounded();
</a><a href="#h57-0-8" id="h57-0-8" class="i">+            let tempdir = tempfile::TempDir::with_prefix(&quot;toydb&quot;).expect(&quot;tempdir failed&quot;);
</a><a href="#h57-0-9" id="h57-0-9" class="i">+            let bitcask = BitCask::new(tempdir.path().join(&quot;bitcask&quot;)).expect(&quot;bitcask failed&quot;);
</a><a href="#h57-0-10" id="h57-0-10" class="i">+            let memory = Memory::new();
</a><a href="#h57-0-11" id="h57-0-11" class="i">+            let engine = Emit::new(Mirror::new(bitcask, memory), op_tx);
</a><a href="#h57-0-12" id="h57-0-12" class="i">+            let mvcc = MVCC::new(engine);
</a><a href="#h57-0-13" id="h57-0-13" class="i">+            Self { mvcc, op_rx, txns: HashMap::new(), tempdir }
</a><a href="#h57-0-14" id="h57-0-14" class="i">+        }
</a><a href="#h57-0-15" id="h57-0-15" class="i">+
</a><a href="#h57-0-16" id="h57-0-16" class="i">+        /// Fetches the named transaction from a command prefix.
</a><a href="#h57-0-17" id="h57-0-17" class="i">+        fn get_txn(
</a><a href="#h57-0-18" id="h57-0-18" class="i">+            &amp;mut self,
</a><a href="#h57-0-19" id="h57-0-19" class="i">+            prefix: &amp;Option&lt;String&gt;,
</a><a href="#h57-0-20" id="h57-0-20" class="i">+        ) -&gt; Result&lt;&amp;&#39;_ mut Transaction&lt;TestEngine&gt;, Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-0-21" id="h57-0-21" class="i">+            let name = Self::txn_name(prefix)?;
</a><a href="#h57-0-22" id="h57-0-22" class="i">+            self.txns.get_mut(name).ok_or(format!(&quot;unknown txn {name}&quot;).into())
</a><a href="#h57-0-23" id="h57-0-23" class="i">+        }
</a><a href="#h57-0-24" id="h57-0-24" class="i">+
</a><a href="#h57-0-25" id="h57-0-25" class="i">+        /// Fetches the txn name from a command prefix, or errors.
</a><a href="#h57-0-26" id="h57-0-26" class="i">+        fn txn_name(prefix: &amp;Option&lt;String&gt;) -&gt; Result&lt;&amp;str, Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-0-27" id="h57-0-27" class="i">+            prefix.as_deref().ok_or(&quot;no txn name&quot;.into())
</a><a href="#h57-0-28" id="h57-0-28" class="i">+        }
</a><a href="#h57-0-29" id="h57-0-29" class="i">+
</a><a href="#h57-0-30" id="h57-0-30" class="i">+        /// Errors if a txn prefix is given.
</a><a href="#h57-0-31" id="h57-0-31" class="i">+        fn no_txn(command: &amp;goldenscript::Command) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-0-32" id="h57-0-32" class="i">+            if let Some(name) = &amp;command.prefix {
</a><a href="#h57-0-33" id="h57-0-33" class="i">+                return Err(format!(&quot;can&#39;t run {} with txn {name}&quot;, command.name).into());
</a><a href="#h57-0-34" id="h57-0-34" class="i">+            }
</a><a href="#h57-0-35" id="h57-0-35" class="i">+            Ok(())
</a><a href="#h57-0-36" id="h57-0-36" class="i">+        }
</a><a href="#h57-0-37" id="h57-0-37" class="i">+    }
</a><a href="#h57-0-38" id="h57-0-38" class="i">+
</a>     impl goldenscript::Runner for MVCCRunner {
         fn run(&amp;mut self, command: &amp;goldenscript::Command) -&gt; Result&lt;String, Box&lt;dyn Error&gt;&gt; {
             let mut output = String::new();
<a href="#h57-1" id="h57-1" class="h">@@ -1029,40 +1065,4 @@ pub mod tests {
</a>             Ok(output)
         }
     }
<a href="#h57-1-3" id="h57-1-3" class="d">-
</a><a href="#h57-1-4" id="h57-1-4" class="d">-    impl MVCCRunner {
</a><a href="#h57-1-5" id="h57-1-5" class="d">-        fn new() -&gt; Self {
</a><a href="#h57-1-6" id="h57-1-6" class="d">-            // Use both a BitCask and a Memory engine, and mirror operations
</a><a href="#h57-1-7" id="h57-1-7" class="d">-            // across them. Emit engine operations to op_rx.
</a><a href="#h57-1-8" id="h57-1-8" class="d">-            let (op_tx, op_rx) = crossbeam::channel::unbounded();
</a><a href="#h57-1-9" id="h57-1-9" class="d">-            let tempdir = tempfile::TempDir::with_prefix(&quot;toydb&quot;).expect(&quot;tempdir failed&quot;);
</a><a href="#h57-1-10" id="h57-1-10" class="d">-            let bitcask = BitCask::new(tempdir.path().join(&quot;bitcask&quot;)).expect(&quot;bitcask failed&quot;);
</a><a href="#h57-1-11" id="h57-1-11" class="d">-            let memory = Memory::new();
</a><a href="#h57-1-12" id="h57-1-12" class="d">-            let engine = Emit::new(Mirror::new(bitcask, memory), op_tx);
</a><a href="#h57-1-13" id="h57-1-13" class="d">-            let mvcc = MVCC::new(engine);
</a><a href="#h57-1-14" id="h57-1-14" class="d">-            Self { mvcc, op_rx, txns: HashMap::new(), tempdir }
</a><a href="#h57-1-15" id="h57-1-15" class="d">-        }
</a><a href="#h57-1-16" id="h57-1-16" class="d">-
</a><a href="#h57-1-17" id="h57-1-17" class="d">-        /// Fetches the named transaction from a command prefix.
</a><a href="#h57-1-18" id="h57-1-18" class="d">-        fn get_txn(
</a><a href="#h57-1-19" id="h57-1-19" class="d">-            &amp;mut self,
</a><a href="#h57-1-20" id="h57-1-20" class="d">-            prefix: &amp;Option&lt;String&gt;,
</a><a href="#h57-1-21" id="h57-1-21" class="d">-        ) -&gt; Result&lt;&amp;&#39;_ mut Transaction&lt;TestEngine&gt;, Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-1-22" id="h57-1-22" class="d">-            let name = Self::txn_name(prefix)?;
</a><a href="#h57-1-23" id="h57-1-23" class="d">-            self.txns.get_mut(name).ok_or(format!(&quot;unknown txn {name}&quot;).into())
</a><a href="#h57-1-24" id="h57-1-24" class="d">-        }
</a><a href="#h57-1-25" id="h57-1-25" class="d">-
</a><a href="#h57-1-26" id="h57-1-26" class="d">-        /// Fetches the txn name from a command prefix, or errors.
</a><a href="#h57-1-27" id="h57-1-27" class="d">-        fn txn_name(prefix: &amp;Option&lt;String&gt;) -&gt; Result&lt;&amp;str, Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-1-28" id="h57-1-28" class="d">-            prefix.as_deref().ok_or(&quot;no txn name&quot;.into())
</a><a href="#h57-1-29" id="h57-1-29" class="d">-        }
</a><a href="#h57-1-30" id="h57-1-30" class="d">-
</a><a href="#h57-1-31" id="h57-1-31" class="d">-        /// Errors if a txn prefix is given.
</a><a href="#h57-1-32" id="h57-1-32" class="d">-        fn no_txn(command: &amp;goldenscript::Command) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</a><a href="#h57-1-33" id="h57-1-33" class="d">-            if let Some(name) = &amp;command.prefix {
</a><a href="#h57-1-34" id="h57-1-34" class="d">-                return Err(format!(&quot;can&#39;t run {} with txn {name}&quot;, command.name).into());
</a><a href="#h57-1-35" id="h57-1-35" class="d">-            }
</a><a href="#h57-1-36" id="h57-1-36" class="d">-            Ok(())
</a><a href="#h57-1-37" id="h57-1-37" class="d">-        }
</a><a href="#h57-1-38" id="h57-1-38" class="d">-    }
</a> }
</pre>
</div>
</body>
</html>
