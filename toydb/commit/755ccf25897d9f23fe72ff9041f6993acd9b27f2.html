<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>format: improve SQL formatting, including Raft SQL commands - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/755ccf25897d9f23fe72ff9041f6993acd9b27f2.html">755ccf25897d9f23fe72ff9041f6993acd9b27f2</a>
<b>parent</b> <a href="../commit/457b04c27472a61d793f5e094b1f5c394d1871ea.html">457b04c27472a61d793f5e094b1f5c394d1871ea</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Tue,  9 Jul 2024 19:16:39 +0200

format: improve SQL formatting, including Raft SQL commands

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/bin/toydump.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/encoding/format.rs</a></td><td> | </td><td class="num">128</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/raft/log.rs</a></td><td> | </td><td class="num">29</td><td><span class="i">++++++++++++++++++++</span><span class="d">---------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">src/sql/engine/mod.rs</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">src/sql/engine/raft.rs</a></td><td> | </td><td class="num">17</td><td><span class="i">+++++++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">src/sql/testscripts/schema/create_table</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">src/sql/testscripts/schema/create_table_index</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">src/sql/testscripts/schema/create_table_reference</a></td><td> | </td><td class="num">20</td><td><span class="i">++++++++++</span><span class="d">----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">src/sql/testscripts/schema/create_table_transaction</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">src/sql/testscripts/schema/create_table_unique</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">src/sql/testscripts/schema/drop_table</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++</span><span class="d">---------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">src/sql/testscripts/schema/drop_table_index</a></td><td> | </td><td class="num">166</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">src/sql/testscripts/schema/drop_table_transaction</a></td><td> | </td><td class="num">72</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d">------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">src/sql/testscripts/writes/delete</a></td><td> | </td><td class="num">44</td><td><span class="i">++++++++++++++++++++++</span><span class="d">----------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h14">src/sql/testscripts/writes/delete_index</a></td><td> | </td><td class="num">80</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">src/sql/testscripts/writes/delete_reference</a></td><td> | </td><td class="num">126</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h16">src/sql/testscripts/writes/insert</a></td><td> | </td><td class="num">34</td><td><span class="i">+++++++++++++++++</span><span class="d">-----------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h17">src/sql/testscripts/writes/insert_index</a></td><td> | </td><td class="num">460</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h18">src/sql/testscripts/writes/insert_reference</a></td><td> | </td><td class="num">96</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h19">src/sql/testscripts/writes/insert_unique</a></td><td> | </td><td class="num">330</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h20">src/sql/testscripts/writes/update</a></td><td> | </td><td class="num">22</td><td><span class="i">+++++++++++</span><span class="d">-----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h21">src/sql/testscripts/writes/update_index</a></td><td> | </td><td class="num">288</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h22">src/sql/testscripts/writes/update_reference</a></td><td> | </td><td class="num">108</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">src/sql/testscripts/writes/update_unique</a></td><td> | </td><td class="num">276</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++</span><span class="d">----------------------------------------</span></td></tr>
</table></pre><pre>24 files changed, 1229 insertions(+), 1137 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/bin/toydump.rs.html">src/bin/toydump.rs</a> b/<a href="../file/src/bin/toydump.rs.html">src/bin/toydump.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -26,7 +26,7 @@ fn main() -&gt; Result&lt;()&gt; {
</a>     let mut scan = engine.scan(..);
     while let Some((key, value)) = scan.next().transpose()? {
         let mut string = match raft {
<a href="#h0-0-3" id="h0-0-3" class="d">-            true =&gt; format::Raft::key_value(&amp;key, &amp;value),
</a><a href="#h0-0-4" id="h0-0-4" class="i">+            true =&gt; format::Raft::&lt;format::SQLCommand&gt;::key_value(&amp;key, &amp;value),
</a>             false =&gt; format::MVCC::&lt;format::SQL&gt;::key_value(&amp;key, &amp;value),
         };
         if raw {
<b>diff --git a/<a id="h1" href="../file/src/encoding/format.rs.html">src/encoding/format.rs</a> b/<a href="../file/src/encoding/format.rs.html">src/encoding/format.rs</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,7 +1,7 @@
</a> //! Decodes and formats raw keys and values, recursively as needed. Handles both
 //! both Raft, MVCC, SQL, and raw binary data.
 
<a href="#h1-0-3" id="h1-0-3" class="d">-use super::{bincode, Key as _};
</a><a href="#h1-0-4" id="h1-0-4" class="i">+use super::{bincode, Key as _, Value as _};
</a> use crate::raft;
 use crate::sql;
 use crate::storage::mvcc;
<a href="#h1-1" id="h1-1" class="h">@@ -19,9 +19,7 @@ pub trait Formatter {
</a> 
     /// Formats a key/value pair.
     fn key_value(key: &amp;[u8], value: &amp;[u8]) -&gt; String {
<a href="#h1-1-3" id="h1-1-3" class="d">-        let fkey = Self::key(key);
</a><a href="#h1-1-4" id="h1-1-4" class="d">-        let fvalue = Self::value(key, value);
</a><a href="#h1-1-5" id="h1-1-5" class="d">-        format!(&quot;{fkey} â†’ {fvalue}&quot;)
</a><a href="#h1-1-6" id="h1-1-6" class="i">+        Self::key_maybe_value(key, Some(value))
</a>     }
 
     /// Formats a key/value pair, where the value may not exist.
<a href="#h1-2" id="h1-2" class="h">@@ -53,23 +51,18 @@ impl Formatter for Raw {
</a>     }
 }
 
<a href="#h1-2-3" id="h1-2-3" class="d">-/// Formats Raft log entries.
</a><a href="#h1-2-4" id="h1-2-4" class="d">-///
</a><a href="#h1-2-5" id="h1-2-5" class="d">-/// TODO: decode the commands as well.
</a><a href="#h1-2-6" id="h1-2-6" class="d">-pub struct Raft;
</a><a href="#h1-2-7" id="h1-2-7" class="i">+/// Formats Raft log entries. Dispatches to I for command formatting.
</a><a href="#h1-2-8" id="h1-2-8" class="i">+pub struct Raft&lt;I: Formatter&gt;(std::marker::PhantomData&lt;I&gt;);
</a> 
<a href="#h1-2-10" id="h1-2-10" class="d">-impl Raft {
</a><a href="#h1-2-11" id="h1-2-11" class="i">+impl&lt;I: Formatter&gt; Raft&lt;I&gt; {
</a>     pub fn entry(entry: &amp;raft::Entry) -&gt; String {
<a href="#h1-2-13" id="h1-2-13" class="d">-        format!(
</a><a href="#h1-2-14" id="h1-2-14" class="d">-            &quot;{}@{} {}&quot;,
</a><a href="#h1-2-15" id="h1-2-15" class="d">-            entry.index,
</a><a href="#h1-2-16" id="h1-2-16" class="d">-            entry.term,
</a><a href="#h1-2-17" id="h1-2-17" class="d">-            entry.command.as_deref().map(Raw::bytes).unwrap_or(&quot;None&quot;.to_string())
</a><a href="#h1-2-18" id="h1-2-18" class="d">-        )
</a><a href="#h1-2-19" id="h1-2-19" class="i">+        let fcommand =
</a><a href="#h1-2-20" id="h1-2-20" class="i">+            entry.command.as_deref().map(|c| I::value(&amp;[], c)).unwrap_or(&quot;None&quot;.to_string());
</a><a href="#h1-2-21" id="h1-2-21" class="i">+        format!(&quot;{}@{} {fcommand}&quot;, entry.index, entry.term)
</a>     }
 }
 
<a href="#h1-2-25" id="h1-2-25" class="d">-impl Formatter for Raft {
</a><a href="#h1-2-26" id="h1-2-26" class="i">+impl&lt;I: Formatter&gt; Formatter for Raft&lt;I&gt; {
</a>     fn key(key: &amp;[u8]) -&gt; String {
         let Ok(key) = raft::Key::decode(key) else {
             return Raw::key(key);
<a href="#h1-3" id="h1-3" class="h">@@ -154,41 +147,124 @@ impl&lt;I: Formatter&gt; Formatter for MVCC&lt;I&gt; {
</a> }
 
 /// Formats SQL keys/values.
<a href="#h1-3-3" id="h1-3-3" class="d">-///
</a><a href="#h1-3-4" id="h1-3-4" class="d">-/// TODO: consider more terse formatting, e.g. dropping the value type names and
</a><a href="#h1-3-5" id="h1-3-5" class="d">-/// instead relying on unambiguous string formatting.
</a><a href="#h1-3-6" id="h1-3-6" class="d">-///
</a><a href="#h1-3-7" id="h1-3-7" class="d">-/// TODO: decode and format the applied_index key.
</a> pub struct SQL;
 
<a href="#h1-3-10" id="h1-3-10" class="i">+impl SQL {
</a><a href="#h1-3-11" id="h1-3-11" class="i">+    fn literal(value: &amp;sql::types::Value) -&gt; String {
</a><a href="#h1-3-12" id="h1-3-12" class="i">+        match value {
</a><a href="#h1-3-13" id="h1-3-13" class="i">+            sql::types::Value::String(s) =&gt; format!(&quot;{s:?}&quot;), // quoted string
</a><a href="#h1-3-14" id="h1-3-14" class="i">+            value =&gt; value.to_string(),
</a><a href="#h1-3-15" id="h1-3-15" class="i">+        }
</a><a href="#h1-3-16" id="h1-3-16" class="i">+    }
</a><a href="#h1-3-17" id="h1-3-17" class="i">+
</a><a href="#h1-3-18" id="h1-3-18" class="i">+    fn values(values: impl IntoIterator&lt;Item = sql::types::Value&gt;) -&gt; String {
</a><a href="#h1-3-19" id="h1-3-19" class="i">+        values.into_iter().map(|v| Self::literal(&amp;v)).join(&quot;,&quot;)
</a><a href="#h1-3-20" id="h1-3-20" class="i">+    }
</a><a href="#h1-3-21" id="h1-3-21" class="i">+
</a><a href="#h1-3-22" id="h1-3-22" class="i">+    fn schema(table: sql::types::Table) -&gt; String {
</a><a href="#h1-3-23" id="h1-3-23" class="i">+        let re = regex::Regex::new(r#&quot;\n\s*&quot;#).expect(&quot;regex failed&quot;);
</a><a href="#h1-3-24" id="h1-3-24" class="i">+        re.replace_all(&amp;table.to_string(), &quot; &quot;).into_owned()
</a><a href="#h1-3-25" id="h1-3-25" class="i">+    }
</a><a href="#h1-3-26" id="h1-3-26" class="i">+}
</a><a href="#h1-3-27" id="h1-3-27" class="i">+
</a> impl Formatter for SQL {
     fn key(key: &amp;[u8]) -&gt; String {
<a href="#h1-3-30" id="h1-3-30" class="i">+        // Special-case the applied_index key.
</a><a href="#h1-3-31" id="h1-3-31" class="i">+        if key == sql::engine::Raft::APPLIED_INDEX_KEY {
</a><a href="#h1-3-32" id="h1-3-32" class="i">+            return String::from_utf8_lossy(key).into_owned();
</a><a href="#h1-3-33" id="h1-3-33" class="i">+        }
</a><a href="#h1-3-34" id="h1-3-34" class="i">+
</a>         let Ok(key) = sql::engine::Key::decode(key) else { return Raw::key(key) };
<a href="#h1-3-36" id="h1-3-36" class="d">-        format!(&quot;sql:{key:?}&quot;)
</a><a href="#h1-3-37" id="h1-3-37" class="i">+        match key {
</a><a href="#h1-3-38" id="h1-3-38" class="i">+            sql::engine::Key::Table(name) =&gt; format!(&quot;sql:Table({name})&quot;),
</a><a href="#h1-3-39" id="h1-3-39" class="i">+            sql::engine::Key::Index(table, column, value) =&gt; {
</a><a href="#h1-3-40" id="h1-3-40" class="i">+                format!(&quot;sql:Index({table}.{column}, {})&quot;, Self::literal(&amp;value))
</a><a href="#h1-3-41" id="h1-3-41" class="i">+            }
</a><a href="#h1-3-42" id="h1-3-42" class="i">+            sql::engine::Key::Row(table, id) =&gt; {
</a><a href="#h1-3-43" id="h1-3-43" class="i">+                format!(&quot;sql:Row({table}, {})&quot;, Self::literal(&amp;id))
</a><a href="#h1-3-44" id="h1-3-44" class="i">+            }
</a><a href="#h1-3-45" id="h1-3-45" class="i">+        }
</a>     }
 
     fn value(key: &amp;[u8], value: &amp;[u8]) -&gt; String {
<a href="#h1-3-49" id="h1-3-49" class="i">+        // Special-case the applied_index key.
</a><a href="#h1-3-50" id="h1-3-50" class="i">+        if key == sql::engine::Raft::APPLIED_INDEX_KEY {
</a><a href="#h1-3-51" id="h1-3-51" class="i">+            if let Ok(applied_index) = bincode::deserialize::&lt;raft::Index&gt;(value) {
</a><a href="#h1-3-52" id="h1-3-52" class="i">+                return applied_index.to_string();
</a><a href="#h1-3-53" id="h1-3-53" class="i">+            }
</a><a href="#h1-3-54" id="h1-3-54" class="i">+        }
</a><a href="#h1-3-55" id="h1-3-55" class="i">+
</a>         let Ok(key) = sql::engine::Key::decode(key) else { return Raw::key(value) };
         match key {
             sql::engine::Key::Table(_) =&gt; {
                 let Ok(table) = bincode::deserialize::&lt;sql::types::Table&gt;(value) else {
                     return Raw::bytes(value);
                 };
<a href="#h1-3-62" id="h1-3-62" class="d">-                let re = regex::Regex::new(r#&quot;\n\s*&quot;#).expect(&quot;regex failed&quot;);
</a><a href="#h1-3-63" id="h1-3-63" class="d">-                re.replace_all(&amp;format!(&quot;{table}&quot;), &quot; &quot;).into_owned()
</a><a href="#h1-3-64" id="h1-3-64" class="i">+                Self::schema(table)
</a>             }
             sql::engine::Key::Row(_, _) =&gt; {
                 let Ok(row) = bincode::deserialize::&lt;sql::types::Row&gt;(value) else {
                     return Raw::bytes(value);
                 };
<a href="#h1-3-70" id="h1-3-70" class="d">-                row.into_iter().map(|v| format!(&quot;{v:?}&quot;)).join(&quot;,&quot;)
</a><a href="#h1-3-71" id="h1-3-71" class="i">+                Self::values(row)
</a>             }
             sql::engine::Key::Index(_, _, _) =&gt; {
                 let Ok(index) = bincode::deserialize::&lt;BTreeSet&lt;sql::types::Value&gt;&gt;(value) else {
                     return Raw::bytes(value);
                 };
<a href="#h1-3-77" id="h1-3-77" class="d">-                index.into_iter().map(|v| format!(&quot;{v:?}&quot;)).join(&quot;,&quot;)
</a><a href="#h1-3-78" id="h1-3-78" class="i">+                Self::values(index)
</a>             }
         }
     }
 }
<a href="#h1-3-83" id="h1-3-83" class="i">+
</a><a href="#h1-3-84" id="h1-3-84" class="i">+/// Formats SQL Raft write commands, from the Raft log.
</a><a href="#h1-3-85" id="h1-3-85" class="i">+pub struct SQLCommand;
</a><a href="#h1-3-86" id="h1-3-86" class="i">+
</a><a href="#h1-3-87" id="h1-3-87" class="i">+impl Formatter for SQLCommand {
</a><a href="#h1-3-88" id="h1-3-88" class="i">+    /// There is no key, since they&#39;re wrapped in a Raft log entry.
</a><a href="#h1-3-89" id="h1-3-89" class="i">+    fn key(_: &amp;[u8]) -&gt; String {
</a><a href="#h1-3-90" id="h1-3-90" class="i">+        panic!(&quot;SQL commands don&#39;t have a key&quot;);
</a><a href="#h1-3-91" id="h1-3-91" class="i">+    }
</a><a href="#h1-3-92" id="h1-3-92" class="i">+
</a><a href="#h1-3-93" id="h1-3-93" class="i">+    fn value(_: &amp;[u8], value: &amp;[u8]) -&gt; String {
</a><a href="#h1-3-94" id="h1-3-94" class="i">+        let Ok(write) = sql::engine::Write::decode(value) else {
</a><a href="#h1-3-95" id="h1-3-95" class="i">+            return Raw::bytes(value);
</a><a href="#h1-3-96" id="h1-3-96" class="i">+        };
</a><a href="#h1-3-97" id="h1-3-97" class="i">+
</a><a href="#h1-3-98" id="h1-3-98" class="i">+        let txn = match &amp;write {
</a><a href="#h1-3-99" id="h1-3-99" class="i">+            sql::engine::Write::Begin =&gt; None,
</a><a href="#h1-3-100" id="h1-3-100" class="i">+            sql::engine::Write::Commit(txn)
</a><a href="#h1-3-101" id="h1-3-101" class="i">+            | sql::engine::Write::Rollback(txn)
</a><a href="#h1-3-102" id="h1-3-102" class="i">+            | sql::engine::Write::Delete { txn, .. }
</a><a href="#h1-3-103" id="h1-3-103" class="i">+            | sql::engine::Write::Insert { txn, .. }
</a><a href="#h1-3-104" id="h1-3-104" class="i">+            | sql::engine::Write::Update { txn, .. }
</a><a href="#h1-3-105" id="h1-3-105" class="i">+            | sql::engine::Write::CreateTable { txn, .. }
</a><a href="#h1-3-106" id="h1-3-106" class="i">+            | sql::engine::Write::DeleteTable { txn, .. } =&gt; Some(txn),
</a><a href="#h1-3-107" id="h1-3-107" class="i">+        };
</a><a href="#h1-3-108" id="h1-3-108" class="i">+        let ftxn =
</a><a href="#h1-3-109" id="h1-3-109" class="i">+            txn.filter(|t| !t.read_only).map(|t| format!(&quot;t{} &quot;, t.version)).unwrap_or_default();
</a><a href="#h1-3-110" id="h1-3-110" class="i">+
</a><a href="#h1-3-111" id="h1-3-111" class="i">+        let fcommand = match write {
</a><a href="#h1-3-112" id="h1-3-112" class="i">+            sql::engine::Write::Begin =&gt; &quot;BEGIN&quot;.to_string(),
</a><a href="#h1-3-113" id="h1-3-113" class="i">+            sql::engine::Write::Commit(_) =&gt; &quot;COMMIT&quot;.to_string(),
</a><a href="#h1-3-114" id="h1-3-114" class="i">+            sql::engine::Write::Rollback(_) =&gt; &quot;ROLLBACK&quot;.to_string(),
</a><a href="#h1-3-115" id="h1-3-115" class="i">+            sql::engine::Write::Delete { table, ids, .. } =&gt; {
</a><a href="#h1-3-116" id="h1-3-116" class="i">+                format!(&quot;DELETE {table} {}&quot;, ids.iter().map(|id| id.to_string()).join(&quot;,&quot;))
</a><a href="#h1-3-117" id="h1-3-117" class="i">+            }
</a><a href="#h1-3-118" id="h1-3-118" class="i">+            sql::engine::Write::Insert { table, rows, .. } =&gt; {
</a><a href="#h1-3-119" id="h1-3-119" class="i">+                format!(
</a><a href="#h1-3-120" id="h1-3-120" class="i">+                    &quot;INSERT {table} {}&quot;,
</a><a href="#h1-3-121" id="h1-3-121" class="i">+                    rows.into_iter().map(|row| format!(&quot;({})&quot;, SQL::values(row))).join(&quot; &quot;)
</a><a href="#h1-3-122" id="h1-3-122" class="i">+                )
</a><a href="#h1-3-123" id="h1-3-123" class="i">+            }
</a><a href="#h1-3-124" id="h1-3-124" class="i">+            sql::engine::Write::Update { table, rows, .. } =&gt; format!(
</a><a href="#h1-3-125" id="h1-3-125" class="i">+                &quot;UPDATE {table} {}&quot;,
</a><a href="#h1-3-126" id="h1-3-126" class="i">+                rows.into_iter().map(|(id, row)| format!(&quot;{id}â†’({})&quot;, SQL::values(row))).join(&quot; &quot;)
</a><a href="#h1-3-127" id="h1-3-127" class="i">+            ),
</a><a href="#h1-3-128" id="h1-3-128" class="i">+            sql::engine::Write::CreateTable { schema, .. } =&gt; SQL::schema(schema),
</a><a href="#h1-3-129" id="h1-3-129" class="i">+            sql::engine::Write::DeleteTable { table, .. } =&gt; format!(&quot;DROP TABLE {table}&quot;),
</a><a href="#h1-3-130" id="h1-3-130" class="i">+        };
</a><a href="#h1-3-131" id="h1-3-131" class="i">+        format!(&quot;{ftxn}{fcommand}&quot;)
</a><a href="#h1-3-132" id="h1-3-132" class="i">+    }
</a><a href="#h1-3-133" id="h1-3-133" class="i">+}
</a><b>diff --git a/<a id="h2" href="../file/src/raft/log.rs.html">src/raft/log.rs</a> b/<a href="../file/src/raft/log.rs.html">src/raft/log.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -375,7 +375,10 @@ mod tests {
</a>                     args.reject_rest()?;
                     let index = self.log.append(command)?;
                     let entry = self.log.get(index)?.expect(&quot;entry not found&quot;);
<a href="#h2-0-3" id="h2-0-3" class="d">-                    output.push_str(&amp;format!(&quot;append â†’ {}\n&quot;, format::Raft::entry(&amp;entry)));
</a><a href="#h2-0-4" id="h2-0-4" class="i">+                    output.push_str(&amp;format!(
</a><a href="#h2-0-5" id="h2-0-5" class="i">+                        &quot;append â†’ {}\n&quot;,
</a><a href="#h2-0-6" id="h2-0-6" class="i">+                        format::Raft::&lt;format::Raw&gt;::entry(&amp;entry)
</a><a href="#h2-0-7" id="h2-0-7" class="i">+                    ));
</a>                 }
 
                 // commit INDEX
<a href="#h2-1" id="h2-1" class="h">@@ -385,7 +388,10 @@ mod tests {
</a>                     args.reject_rest()?;
                     let index = self.log.commit(index)?;
                     let entry = self.log.get(index)?.expect(&quot;entry not found&quot;);
<a href="#h2-1-3" id="h2-1-3" class="d">-                    output.push_str(&amp;format!(&quot;commit â†’ {}\n&quot;, format::Raft::entry(&amp;entry)));
</a><a href="#h2-1-4" id="h2-1-4" class="i">+                    output.push_str(&amp;format!(
</a><a href="#h2-1-5" id="h2-1-5" class="i">+                        &quot;commit â†’ {}\n&quot;,
</a><a href="#h2-1-6" id="h2-1-6" class="i">+                        format::Raft::&lt;format::Raw&gt;::entry(&amp;entry)
</a><a href="#h2-1-7" id="h2-1-7" class="i">+                    ));
</a>                 }
 
                 // dump
<a href="#h2-2" id="h2-2" class="h">@@ -397,7 +403,7 @@ mod tests {
</a>                         writeln!(
                             output,
                             &quot;{} [{}]&quot;,
<a href="#h2-2-3" id="h2-2-3" class="d">-                            format::Raft::key_value(&amp;key, &amp;value),
</a><a href="#h2-2-4" id="h2-2-4" class="i">+                            format::Raft::&lt;format::Raw&gt;::key_value(&amp;key, &amp;value),
</a>                             format::Raw::key_value(&amp;key, &amp;value)
                         )?;
                     }
<a href="#h2-3" id="h2-3" class="h">@@ -414,7 +420,7 @@ mod tests {
</a>                             .log
                             .get(index)?
                             .as_ref()
<a href="#h2-3-3" id="h2-3-3" class="d">-                            .map(format::Raft::entry)
</a><a href="#h2-3-4" id="h2-3-4" class="i">+                            .map(format::Raft::&lt;format::Raw&gt;::entry)
</a>                             .unwrap_or(&quot;None&quot;.to_string());
                         output.push_str(&amp;format!(&quot;{entry}\n&quot;));
                     }
<a href="#h2-4" id="h2-4" class="h">@@ -464,7 +470,8 @@ mod tests {
</a>                     args.reject_rest()?;
                     let mut scan = self.log.scan(range);
                     while let Some(entry) = scan.next().transpose()? {
<a href="#h2-4-3" id="h2-4-3" class="d">-                        output.push_str(&amp;format!(&quot;{}\n&quot;, format::Raft::entry(&amp;entry)));
</a><a href="#h2-4-4" id="h2-4-4" class="i">+                        output
</a><a href="#h2-4-5" id="h2-4-5" class="i">+                            .push_str(&amp;format!(&quot;{}\n&quot;, format::Raft::&lt;format::Raw&gt;::entry(&amp;entry)));
</a>                     }
                 }
 
<a href="#h2-5" id="h2-5" class="h">@@ -476,7 +483,8 @@ mod tests {
</a>                     args.reject_rest()?;
                     let mut scan = self.log.scan_apply(applied_index);
                     while let Some(entry) = scan.next().transpose()? {
<a href="#h2-5-3" id="h2-5-3" class="d">-                        output.push_str(&amp;format!(&quot;{}\n&quot;, format::Raft::entry(&amp;entry)));
</a><a href="#h2-5-4" id="h2-5-4" class="i">+                        output
</a><a href="#h2-5-5" id="h2-5-5" class="i">+                            .push_str(&amp;format!(&quot;{}\n&quot;, format::Raft::&lt;format::Raw&gt;::entry(&amp;entry)));
</a>                     }
                 }
 
<a href="#h2-6" id="h2-6" class="h">@@ -504,7 +512,10 @@ mod tests {
</a>                     args.reject_rest()?;
                     let index = self.log.splice(entries)?;
                     let entry = self.log.get(index)?.expect(&quot;entry not found&quot;);
<a href="#h2-6-3" id="h2-6-3" class="d">-                    output.push_str(&amp;format!(&quot;splice â†’ {}\n&quot;, format::Raft::entry(&amp;entry)));
</a><a href="#h2-6-4" id="h2-6-4" class="i">+                    output.push_str(&amp;format!(
</a><a href="#h2-6-5" id="h2-6-5" class="i">+                        &quot;splice â†’ {}\n&quot;,
</a><a href="#h2-6-6" id="h2-6-6" class="i">+                        format::Raft::&lt;format::Raw&gt;::entry(&amp;entry)
</a><a href="#h2-6-7" id="h2-6-7" class="i">+                    ));
</a>                 }
 
                 // status [engine=BOOL]
<a href="#h2-7" id="h2-7" class="h">@@ -552,14 +563,14 @@ mod tests {
</a>                     Operation::Delete { key } =&gt; writeln!(
                         output,
                         &quot;engine delete {} [{}]&quot;,
<a href="#h2-7-3" id="h2-7-3" class="d">-                        format::Raft::key(&amp;key),
</a><a href="#h2-7-4" id="h2-7-4" class="i">+                        format::Raft::&lt;format::Raw&gt;::key(&amp;key),
</a>                         format::Raw::key(&amp;key)
                     )?,
                     Operation::Flush =&gt; writeln!(output, &quot;engine flush&quot;)?,
                     Operation::Set { key, value } =&gt; writeln!(
                         output,
                         &quot;engine set {} [{}]&quot;,
<a href="#h2-7-11" id="h2-7-11" class="d">-                        format::Raft::key_value(&amp;key, &amp;value),
</a><a href="#h2-7-12" id="h2-7-12" class="i">+                        format::Raft::&lt;format::Raw&gt;::key_value(&amp;key, &amp;value),
</a>                         format::Raw::key_value(&amp;key, &amp;value)
                     )?,
                 }
<b>diff --git a/<a id="h3" href="../file/src/sql/engine/mod.rs.html">src/sql/engine/mod.rs</a> b/<a href="../file/src/sql/engine/mod.rs.html">src/sql/engine/mod.rs</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -5,5 +5,5 @@ mod session;
</a> 
 pub use engine::{Catalog, Engine, Transaction};
 pub use local::{Key, Local};
<a href="#h3-0-3" id="h3-0-3" class="d">-pub use raft::{Raft, Status};
</a><a href="#h3-0-4" id="h3-0-4" class="i">+pub use raft::{Raft, Status, Write};
</a> pub use session::{Session, StatementResult};
<b>diff --git a/<a id="h4" href="../file/src/sql/engine/raft.rs.html">src/sql/engine/raft.rs</a> b/<a href="../file/src/sql/engine/raft.rs.html">src/sql/engine/raft.rs</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -33,6 +33,10 @@ pub struct Raft {
</a> }
 
 impl Raft {
<a href="#h4-0-3" id="h4-0-3" class="i">+    /// The unversioned key used to store the applied index. Just use a string
</a><a href="#h4-0-4" id="h4-0-4" class="i">+    /// for simplicity.
</a><a href="#h4-0-5" id="h4-0-5" class="i">+    pub const APPLIED_INDEX_KEY: &amp;&#39;static [u8] = b&quot;applied_index&quot;;
</a><a href="#h4-0-6" id="h4-0-6" class="i">+
</a>     /// Creates a new Raft-based SQL engine, given a Raft request channel to the
     /// local Raft node.
     pub fn new(tx: Sender&lt;(raft::Request, Sender&lt;Result&lt;raft::Response&gt;&gt;)&gt;) -&gt; Self {
<a href="#h4-1" id="h4-1" class="h">@@ -236,7 +240,7 @@ impl&lt;E: storage::Engine&gt; State&lt;E&gt; {
</a>     pub fn new(engine: E) -&gt; Result&lt;Self&gt; {
         let local = super::Local::new(engine);
         let applied_index = local
<a href="#h4-1-3" id="h4-1-3" class="d">-            .get_unversioned(b&quot;applied_index&quot;)?
</a><a href="#h4-1-4" id="h4-1-4" class="i">+            .get_unversioned(Raft::APPLIED_INDEX_KEY)?
</a>             .map(|b| bincode::deserialize(&amp;b))
             .transpose()?
             .unwrap_or(0);
<a href="#h4-2" id="h4-2" class="h">@@ -298,7 +302,7 @@ impl&lt;E: storage::Engine&gt; raft::State for State&lt;E&gt; {
</a>         // lose a tail of the state machine writes (e.g. if the machine
         // crashes). Raft will replay the log from the last known applied index.
         self.applied_index = entry.index;
<a href="#h4-2-3" id="h4-2-3" class="d">-        self.local.set_unversioned(b&quot;applied_index&quot;, bincode::serialize(&amp;entry.index))?;
</a><a href="#h4-2-4" id="h4-2-4" class="i">+        self.local.set_unversioned(Raft::APPLIED_INDEX_KEY, bincode::serialize(&amp;entry.index))?;
</a>         result
     }
 
<a href="#h4-3" id="h4-3" class="h">@@ -341,8 +345,8 @@ impl&lt;E: storage::Engine&gt; raft::State for State&lt;E&gt; {
</a> 
 /// A Raft engine read. Values correspond to engine method parameters. Uses
 /// Cows to allow borrowed encoding and owned decoding.
<a href="#h4-3-3" id="h4-3-3" class="d">-#[derive(Serialize, Deserialize)]
</a><a href="#h4-3-4" id="h4-3-4" class="d">-enum Read&lt;&#39;a&gt; {
</a><a href="#h4-3-5" id="h4-3-5" class="i">+#[derive(Debug, Serialize, Deserialize)]
</a><a href="#h4-3-6" id="h4-3-6" class="i">+pub enum Read&lt;&#39;a&gt; {
</a>     BeginReadOnly {
         as_of: Option&lt;mvcc::Version&gt;,
     },
<a href="#h4-4" id="h4-4" class="h">@@ -378,8 +382,8 @@ impl&lt;&#39;a&gt; encoding::Value for Read&lt;&#39;a&gt; {}
</a> 
 /// A Raft engine write. Values correspond to engine method parameters. Uses
 /// Cows to allow borrowed encoding (for borrowed params) and owned decoding.
<a href="#h4-4-3" id="h4-4-3" class="d">-#[derive(Serialize, Deserialize)]
</a><a href="#h4-4-4" id="h4-4-4" class="d">-enum Write&lt;&#39;a&gt; {
</a><a href="#h4-4-5" id="h4-4-5" class="i">+#[derive(Debug, Serialize, Deserialize)]
</a><a href="#h4-4-6" id="h4-4-6" class="i">+pub enum Write&lt;&#39;a&gt; {
</a>     Begin,
     Commit(Cow&lt;&#39;a, mvcc::TransactionState&gt;),
     Rollback(Cow&lt;&#39;a, mvcc::TransactionState&gt;),
<a href="#h4-5" id="h4-5" class="h">@@ -389,6 +393,7 @@ enum Write&lt;&#39;a&gt; {
</a>     Update { txn: Cow&lt;&#39;a, mvcc::TransactionState&gt;, table: Cow&lt;&#39;a, str&gt;, rows: BTreeMap&lt;Value, Row&gt; },
 
     CreateTable { txn: Cow&lt;&#39;a, mvcc::TransactionState&gt;, schema: Table },
<a href="#h4-5-3" id="h4-5-3" class="i">+    // TODO: rename to DropTable.
</a>     DeleteTable { txn: Cow&lt;&#39;a, mvcc::TransactionState&gt;, table: Cow&lt;&#39;a, str&gt;, if_exists: bool },
 }
 
<b>diff --git a/<a id="h5" href="../file/src/sql/testscripts/schema/create_table.html">src/sql/testscripts/schema/create_table</a> b/<a href="../file/src/sql/testscripts/schema/create_table.html">src/sql/testscripts/schema/create_table</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -8,15 +8,15 @@ CreateTable: test
</a> CreateTable { name: &quot;test&quot; }
 storage set mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
 storage set mvcc:TxnActive(1) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;&quot;]
<a href="#h5-0-3" id="h5-0-3" class="d">-storage set mvcc:TxnWrite(1, sql:Table(&quot;test&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h5-0-4" id="h5-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;test&quot;), 1) â†’ CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a><a href="#h5-0-5" id="h5-0-5" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(&quot;test&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h5-0-6" id="h5-0-6" class="i">+storage set mvcc:TxnWrite(1, sql:Table(test)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h5-0-7" id="h5-0-7" class="i">+storage set mvcc:Version(sql:Table(test), 1) â†’ CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a><a href="#h5-0-8" id="h5-0-8" class="i">+storage delete mvcc:TxnWrite(1, sql:Table(test)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xfftest\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
 
 dump
 ---
 mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
<a href="#h5-0-14" id="h5-0-14" class="d">-mvcc:Version(sql:Table(&quot;test&quot;), 1) â†’ CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a><a href="#h5-0-15" id="h5-0-15" class="i">+mvcc:Version(sql:Table(test), 1) â†’ CREATE TABLE test ( id INTEGER PRIMARY KEY ) [&quot;\x04\x00\xfftest\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x10\x04test\x00\x01\x02id\x01\x00\x00\x01\x00\x00&quot;]
</a> 
 # Errors if table already exists.
 !&gt; CREATE TABLE test (id INTEGER PRIMARY KEY)
<b>diff --git a/<a id="h6" href="../file/src/sql/testscripts/schema/create_table_index.html">src/sql/testscripts/schema/create_table_index</a> b/<a href="../file/src/sql/testscripts/schema/create_table_index.html">src/sql/testscripts/schema/create_table_index</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -4,9 +4,9 @@
</a> ---
 storage set mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
 storage set mvcc:TxnActive(1) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;&quot;]
<a href="#h6-0-3" id="h6-0-3" class="d">-storage set mvcc:TxnWrite(1, sql:Table(&quot;indexed&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h6-0-4" id="h6-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;indexed&quot;), 1) â†’ CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00&quot;]
</a><a href="#h6-0-5" id="h6-0-5" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(&quot;indexed&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h6-0-6" id="h6-0-6" class="i">+storage set mvcc:TxnWrite(1, sql:Table(indexed)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h6-0-7" id="h6-0-7" class="i">+storage set mvcc:Version(sql:Table(indexed), 1) â†’ CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00&quot;]
</a><a href="#h6-0-8" id="h6-0-8" class="i">+storage delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
 
 schema
<b>diff --git a/<a id="h7" href="../file/src/sql/testscripts/schema/create_table_reference.html">src/sql/testscripts/schema/create_table_reference</a> b/<a href="../file/src/sql/testscripts/schema/create_table_reference.html">src/sql/testscripts/schema/create_table_reference</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -17,9 +17,9 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 6 [&quot;\x00&quot; â†’ &quot;\x06&quot;]
 storage set mvcc:TxnActive(5) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;&quot;]
<a href="#h7-0-3" id="h7-0-3" class="d">-storage set mvcc:TxnWrite(5, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h7-0-4" id="h7-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;name&quot;), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h7-0-5" id="h7-0-5" class="d">-storage delete mvcc:TxnWrite(5, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h7-0-6" id="h7-0-6" class="i">+storage set mvcc:TxnWrite(5, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h7-0-7" id="h7-0-7" class="i">+storage set mvcc:Version(sql:Table(name), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h7-0-8" id="h7-0-8" class="i">+storage delete mvcc:TxnWrite(5, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
 
 schema name
<a href="#h7-1" id="h7-1" class="h">@@ -33,13 +33,13 @@ CREATE TABLE name (
</a> dump
 ---
 mvcc:NextVersion â†’ 6 [&quot;\x00&quot; â†’ &quot;\x06&quot;]
<a href="#h7-1-3" id="h7-1-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h7-1-4" id="h7-1-4" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h7-1-5" id="h7-1-5" class="d">-mvcc:Version(sql:Table(&quot;sref&quot;), 3) â†’ CREATE TABLE sref ( id STRING PRIMARY KEY, value INTEGER NOT NULL ) [&quot;\x04\x00\xffsref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x1c\x04sref\x00\x02\x02id\x03\x00\x00\x01\x00\x00\x05value\x01\x00\x00\x00\x00\x00&quot;]
</a><a href="#h7-1-6" id="h7-1-6" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h7-1-7" id="h7-1-7" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h7-1-8" id="h7-1-8" class="d">-mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;a&quot;)), 4) â†’ String(&quot;a&quot;),Integer(1) [&quot;\x04\x02sref\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x06\x02\x04\x01a\x02\x02&quot;]
</a><a href="#h7-1-9" id="h7-1-9" class="d">-mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;b&quot;)), 4) â†’ String(&quot;b&quot;),Integer(2) [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x06\x02\x04\x01b\x02\x04&quot;]
</a><a href="#h7-1-10" id="h7-1-10" class="i">+mvcc:Version(sql:Table(name), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING DEFAULT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x016\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x01\x01\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h7-1-11" id="h7-1-11" class="i">+mvcc:Version(sql:Table(ref), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h7-1-12" id="h7-1-12" class="i">+mvcc:Version(sql:Table(sref), 3) â†’ CREATE TABLE sref ( id STRING PRIMARY KEY, value INTEGER NOT NULL ) [&quot;\x04\x00\xffsref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x1c\x04sref\x00\x02\x02id\x03\x00\x00\x01\x00\x00\x05value\x01\x00\x00\x00\x00\x00&quot;]
</a><a href="#h7-1-13" id="h7-1-13" class="i">+mvcc:Version(sql:Row(ref, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h7-1-14" id="h7-1-14" class="i">+mvcc:Version(sql:Row(ref, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h7-1-15" id="h7-1-15" class="i">+mvcc:Version(sql:Row(sref, &quot;a&quot;), 4) â†’ &quot;a&quot;,1 [&quot;\x04\x02sref\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x06\x02\x04\x01a\x02\x02&quot;]
</a><a href="#h7-1-16" id="h7-1-16" class="i">+mvcc:Version(sql:Row(sref, &quot;b&quot;), 4) â†’ &quot;b&quot;,2 [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x06\x02\x04\x01b\x02\x04&quot;]
</a> 
 # Missing reference table errors.
 !&gt; CREATE TABLE test (id INT PRIMARY KEY, &quot;ref&quot; INT REFERENCES missing)
<b>diff --git a/<a id="h8" href="../file/src/sql/testscripts/schema/create_table_transaction.html">src/sql/testscripts/schema/create_table_transaction</a> b/<a href="../file/src/sql/testscripts/schema/create_table_transaction.html">src/sql/testscripts/schema/create_table_transaction</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -3,8 +3,8 @@
</a> &gt; BEGIN
 [ops]&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
 ---
<a href="#h8-0-3" id="h8-0-3" class="d">-storage set mvcc:TxnWrite(1, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h8-0-4" id="h8-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h8-0-5" id="h8-0-5" class="i">+storage set mvcc:TxnWrite(1, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h8-0-6" id="h8-0-6" class="i">+storage set mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a> 
 schema name
 ---
<a href="#h8-1" id="h8-1" class="h">@@ -17,14 +17,14 @@ dump
</a> ---
 mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
 mvcc:TxnActive(1) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;&quot;]
<a href="#h8-1-3" id="h8-1-3" class="d">-mvcc:TxnWrite(1, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h8-1-4" id="h8-1-4" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h8-1-5" id="h8-1-5" class="i">+mvcc:TxnWrite(1, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h8-1-6" id="h8-1-6" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a> 
 # Rolling it back undoes it.
 [ops]&gt; ROLLBACK
 ---
<a href="#h8-1-11" id="h8-1-11" class="d">-storage delete mvcc:Version(sql:Table(&quot;name&quot;), 1) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h8-1-12" id="h8-1-12" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-1-13" id="h8-1-13" class="i">+storage delete mvcc:Version(sql:Table(name), 1) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
</a><a href="#h8-1-14" id="h8-1-14" class="i">+storage delete mvcc:TxnWrite(1, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
 
 dump
<a href="#h8-2" id="h8-2" class="h">@@ -36,10 +36,10 @@ mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
</a> &gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
 [ops]&gt; COMMIT
 ---
<a href="#h8-2-3" id="h8-2-3" class="d">-storage delete mvcc:TxnWrite(2, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-2-4" id="h8-2-4" class="i">+storage delete mvcc:TxnWrite(2, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
 
 dump
 ---
 mvcc:NextVersion â†’ 3 [&quot;\x00&quot; â†’ &quot;\x03&quot;]
<a href="#h8-2-10" id="h8-2-10" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 2) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h8-2-11" id="h8-2-11" class="i">+mvcc:Version(sql:Table(name), 2) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><b>diff --git a/<a id="h9" href="../file/src/sql/testscripts/schema/create_table_unique.html">src/sql/testscripts/schema/create_table_unique</a> b/<a href="../file/src/sql/testscripts/schema/create_table_unique.html">src/sql/testscripts/schema/create_table_unique</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -4,9 +4,9 @@
</a> ---
 storage set mvcc:NextVersion â†’ 2 [&quot;\x00&quot; â†’ &quot;\x02&quot;]
 storage set mvcc:TxnActive(1) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;&quot;]
<a href="#h9-0-3" id="h9-0-3" class="d">-storage set mvcc:TxnWrite(1, sql:Table(&quot;indexed&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h9-0-4" id="h9-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;indexed&quot;), 1) â†’ CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL UNIQUE INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x01\x01\x00&quot;]
</a><a href="#h9-0-5" id="h9-0-5" class="d">-storage delete mvcc:TxnWrite(1, sql:Table(&quot;indexed&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h9-0-6" id="h9-0-6" class="i">+storage set mvcc:TxnWrite(1, sql:Table(indexed)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h9-0-7" id="h9-0-7" class="i">+storage set mvcc:Version(sql:Table(indexed), 1) â†’ CREATE TABLE indexed ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL UNIQUE INDEX ) [&quot;\x04\x00\xffindexed\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01 \x07indexed\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x01\x01\x00&quot;]
</a><a href="#h9-0-8" id="h9-0-8" class="i">+storage delete mvcc:TxnWrite(1, sql:Table(indexed)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x01\x00\xffindexed\x00\xff\x00\xff\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(1) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x01&quot;]
 
 # The column gets an implicit secondary index marker.
<b>diff --git a/<a id="h10" href="../file/src/sql/testscripts/schema/drop_table.html">src/sql/testscripts/schema/drop_table</a> b/<a href="../file/src/sql/testscripts/schema/drop_table.html">src/sql/testscripts/schema/drop_table</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -13,15 +13,15 @@ DropTable: name
</a> DropTable { name: &quot;name&quot;, existed: true }
 storage set mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 storage set mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h10-0-3" id="h10-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-4" id="h10-0-4" class="d">-storage set mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-5" id="h10-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-6" id="h10-0-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-7" id="h10-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-8" id="h10-0-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-9" id="h10-0-9" class="d">-storage delete mvcc:TxnWrite(3, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h10-0-10" id="h10-0-10" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h10-0-11" id="h10-0-11" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h10-0-12" id="h10-0-12" class="i">+storage set mvcc:TxnWrite(3, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-13" id="h10-0-13" class="i">+storage set mvcc:Version(sql:Table(name), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-14" id="h10-0-14" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-15" id="h10-0-15" class="i">+storage set mvcc:Version(sql:Row(name, 1), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-16" id="h10-0-16" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h10-0-17" id="h10-0-17" class="i">+storage set mvcc:Version(sql:Row(name, 2), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-0-18" id="h10-0-18" class="i">+storage delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h10-0-19" id="h10-0-19" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h10-0-20" id="h10-0-20" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 schema
<a href="#h10-1" id="h10-1" class="h">@@ -31,12 +31,12 @@ ok
</a> dump
 ---
 mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
<a href="#h10-1-3" id="h10-1-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h10-1-4" id="h10-1-4" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-1-5" id="h10-1-5" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h10-1-6" id="h10-1-6" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-1-7" id="h10-1-7" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h10-1-8" id="h10-1-8" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-1-9" id="h10-1-9" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h10-1-10" id="h10-1-10" class="i">+mvcc:Version(sql:Table(name), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-1-11" id="h10-1-11" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h10-1-12" id="h10-1-12" class="i">+mvcc:Version(sql:Row(name, 1), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h10-1-13" id="h10-1-13" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h10-1-14" id="h10-1-14" class="i">+mvcc:Version(sql:Row(name, 2), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a> 
 # Dropping a missing table errors, but not if IF EXISTS is given.
 !&gt; DROP TABLE name
<b>diff --git a/<a id="h11" href="../file/src/sql/testscripts/schema/drop_table_index.html">src/sql/testscripts/schema/drop_table_index</a> b/<a href="../file/src/sql/testscripts/schema/drop_table_index.html">src/sql/testscripts/schema/drop_table_index</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -21,22 +21,22 @@ ok
</a> dump
 ---
 mvcc:NextVersion â†’ 8 [&quot;\x00&quot; â†’ &quot;\x08&quot;]
<a href="#h11-0-3" id="h11-0-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; STRING DEFAULT NULL, &quot;unique&quot; INTEGER NOT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01&lt;\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x03\x01\x01\x00\x00\x00\x00\x06unique\x01\x00\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h11-0-4" id="h11-0-4" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h11-0-5" id="h11-0-5" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-0-6" id="h11-0-6" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-7" id="h11-0-7" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-8" id="h11-0-8" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 7) â†’ Integer(2),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x08&quot;]
</a><a href="#h11-0-9" id="h11-0-9" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-10" id="h11-0-10" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-11" id="h11-0-11" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3)), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-0-12" id="h11-0-12" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4)), 7) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h11-0-13" id="h11-0-13" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 4) â†’ Integer(1),String(&quot;foo&quot;),Integer(1),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x04\x03foo\x02\x02\x02\x02&quot;]
</a><a href="#h11-0-14" id="h11-0-14" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) â†’ Integer(2),String(&quot;bar&quot;),Integer(2),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x04\x03bar\x02\x04\x02\x04&quot;]
</a><a href="#h11-0-15" id="h11-0-15" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 6) â†’ Integer(3),String(&quot;foo&quot;),Integer(3),Null [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0b\x04\x02\x06\x04\x03foo\x02\x06\x00&quot;]
</a><a href="#h11-0-16" id="h11-0-16" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 7) â†’ Integer(4),Null,Integer(4),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x08\x04\x02\x08\x00\x02\x08\x02\x04&quot;]
</a><a href="#h11-0-17" id="h11-0-17" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h11-0-18" id="h11-0-18" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h11-0-19" id="h11-0-19" class="i">+mvcc:Version(sql:Table(name), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; STRING DEFAULT NULL, &quot;unique&quot; INTEGER NOT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01&lt;\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x03\x01\x01\x00\x00\x00\x00\x06unique\x01\x00\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h11-0-20" id="h11-0-20" class="i">+mvcc:Version(sql:Table(ref), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h11-0-21" id="h11-0-21" class="i">+mvcc:Version(sql:Index(name.ref_id, NULL), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-0-22" id="h11-0-22" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-23" id="h11-0-23" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-24" id="h11-0-24" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 7) â†’ 2,4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x08&quot;]
</a><a href="#h11-0-25" id="h11-0-25" class="i">+mvcc:Version(sql:Index(name.unique, 1), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-26" id="h11-0-26" class="i">+mvcc:Version(sql:Index(name.unique, 2), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-27" id="h11-0-27" class="i">+mvcc:Version(sql:Index(name.unique, 3), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-0-28" id="h11-0-28" class="i">+mvcc:Version(sql:Index(name.unique, 4), 7) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h11-0-29" id="h11-0-29" class="i">+mvcc:Version(sql:Row(name, 1), 4) â†’ 1,&quot;foo&quot;,1,1 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x04\x03foo\x02\x02\x02\x02&quot;]
</a><a href="#h11-0-30" id="h11-0-30" class="i">+mvcc:Version(sql:Row(name, 2), 5) â†’ 2,&quot;bar&quot;,2,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x04\x03bar\x02\x04\x02\x04&quot;]
</a><a href="#h11-0-31" id="h11-0-31" class="i">+mvcc:Version(sql:Row(name, 3), 6) â†’ 3,&quot;foo&quot;,3,NULL [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0b\x04\x02\x06\x04\x03foo\x02\x06\x00&quot;]
</a><a href="#h11-0-32" id="h11-0-32" class="i">+mvcc:Version(sql:Row(name, 4), 7) â†’ 4,NULL,4,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x08\x04\x02\x08\x00\x02\x08\x02\x04&quot;]
</a><a href="#h11-0-33" id="h11-0-33" class="i">+mvcc:Version(sql:Row(ref, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h11-0-34" id="h11-0-34" class="i">+mvcc:Version(sql:Row(ref, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a> 
 # Dropping the table deletes all index entries.
 [ops]&gt; DROP TABLE name
<a href="#h11-1" id="h11-1" class="h">@@ -44,75 +44,75 @@ mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x0
</a> ---
 storage set mvcc:NextVersion â†’ 9 [&quot;\x00&quot; â†’ &quot;\t&quot;]
 storage set mvcc:TxnActive(8) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;&quot;]
<a href="#h11-1-3" id="h11-1-3" class="d">-storage set mvcc:TxnWrite(8, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-4" id="h11-1-4" class="d">-storage set mvcc:Version(sql:Table(&quot;name&quot;), 8) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-5" id="h11-1-5" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-6" id="h11-1-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-7" id="h11-1-7" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-8" id="h11-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-9" id="h11-1-9" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-10" id="h11-1-10" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-11" id="h11-1-11" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-12" id="h11-1-12" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-13" id="h11-1-13" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-14" id="h11-1-14" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-15" id="h11-1-15" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-16" id="h11-1-16" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-17" id="h11-1-17" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-18" id="h11-1-18" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-19" id="h11-1-19" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-20" id="h11-1-20" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-21" id="h11-1-21" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-22" id="h11-1-22" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-23" id="h11-1-23" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-24" id="h11-1-24" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-25" id="h11-1-25" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-26" id="h11-1-26" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-27" id="h11-1-27" class="d">-storage delete mvcc:TxnWrite(8, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-1-28" id="h11-1-28" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-1-29" id="h11-1-29" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-30" id="h11-1-30" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-31" id="h11-1-31" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-32" id="h11-1-32" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-33" id="h11-1-33" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h11-1-34" id="h11-1-34" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h11-1-35" id="h11-1-35" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-36" id="h11-1-36" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-37" id="h11-1-37" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h11-1-38" id="h11-1-38" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;name&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h11-1-39" id="h11-1-39" class="i">+storage set mvcc:TxnWrite(8, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-40" id="h11-1-40" class="i">+storage set mvcc:Version(sql:Table(name), 8) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-41" id="h11-1-41" class="i">+storage set mvcc:TxnWrite(8, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-42" id="h11-1-42" class="i">+storage set mvcc:Version(sql:Row(name, 1), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-43" id="h11-1-43" class="i">+storage set mvcc:TxnWrite(8, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-44" id="h11-1-44" class="i">+storage set mvcc:Version(sql:Row(name, 2), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-45" id="h11-1-45" class="i">+storage set mvcc:TxnWrite(8, sql:Row(name, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-46" id="h11-1-46" class="i">+storage set mvcc:Version(sql:Row(name, 3), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-47" id="h11-1-47" class="i">+storage set mvcc:TxnWrite(8, sql:Row(name, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-48" id="h11-1-48" class="i">+storage set mvcc:Version(sql:Row(name, 4), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-49" id="h11-1-49" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-50" id="h11-1-50" class="i">+storage set mvcc:Version(sql:Index(name.unique, 1), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-51" id="h11-1-51" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-52" id="h11-1-52" class="i">+storage set mvcc:Version(sql:Index(name.unique, 2), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-53" id="h11-1-53" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.unique, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-54" id="h11-1-54" class="i">+storage set mvcc:Version(sql:Index(name.unique, 3), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-55" id="h11-1-55" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.unique, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-56" id="h11-1-56" class="i">+storage set mvcc:Version(sql:Index(name.unique, 4), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-57" id="h11-1-57" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-58" id="h11-1-58" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, NULL), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-59" id="h11-1-59" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-60" id="h11-1-60" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, 1), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-61" id="h11-1-61" class="i">+storage set mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h11-1-62" id="h11-1-62" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, 2), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-63" id="h11-1-63" class="i">+storage delete mvcc:TxnWrite(8, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-1-64" id="h11-1-64" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-1-65" id="h11-1-65" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-66" id="h11-1-66" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-67" id="h11-1-67" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-68" id="h11-1-68" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-69" id="h11-1-69" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h11-1-70" id="h11-1-70" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(name.unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h11-1-71" id="h11-1-71" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-1-72" id="h11-1-72" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-1-73" id="h11-1-73" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h11-1-74" id="h11-1-74" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
 
 dump
 ---
 mvcc:NextVersion â†’ 10 [&quot;\x00&quot; â†’ &quot;\n&quot;]
<a href="#h11-1-80" id="h11-1-80" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; STRING DEFAULT NULL, &quot;unique&quot; INTEGER NOT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01&lt;\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x03\x01\x01\x00\x00\x00\x00\x06unique\x01\x00\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h11-1-81" id="h11-1-81" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 8) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-82" id="h11-1-82" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h11-1-83" id="h11-1-83" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 9) â†’ None [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-84" id="h11-1-84" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-1-85" id="h11-1-85" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-86" id="h11-1-86" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-1-87" id="h11-1-87" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-88" id="h11-1-88" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-1-89" id="h11-1-89" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 7) â†’ Integer(2),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x08&quot;]
</a><a href="#h11-1-90" id="h11-1-90" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-91" id="h11-1-91" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-1-92" id="h11-1-92" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-93" id="h11-1-93" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-1-94" id="h11-1-94" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-95" id="h11-1-95" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3)), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-1-96" id="h11-1-96" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(3)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-97" id="h11-1-97" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4)), 7) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h11-1-98" id="h11-1-98" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Integer(4)), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-99" id="h11-1-99" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 4) â†’ Integer(1),String(&quot;foo&quot;),Integer(1),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x04\x03foo\x02\x02\x02\x02&quot;]
</a><a href="#h11-1-100" id="h11-1-100" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-101" id="h11-1-101" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) â†’ Integer(2),String(&quot;bar&quot;),Integer(2),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x04\x03bar\x02\x04\x02\x04&quot;]
</a><a href="#h11-1-102" id="h11-1-102" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-103" id="h11-1-103" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 6) â†’ Integer(3),String(&quot;foo&quot;),Integer(3),Null [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0b\x04\x02\x06\x04\x03foo\x02\x06\x00&quot;]
</a><a href="#h11-1-104" id="h11-1-104" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-105" id="h11-1-105" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 7) â†’ Integer(4),Null,Integer(4),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x08\x04\x02\x08\x00\x02\x08\x02\x04&quot;]
</a><a href="#h11-1-106" id="h11-1-106" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-107" id="h11-1-107" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h11-1-108" id="h11-1-108" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 9) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-109" id="h11-1-109" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h11-1-110" id="h11-1-110" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 9) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-111" id="h11-1-111" class="i">+mvcc:Version(sql:Table(name), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; STRING DEFAULT NULL, &quot;unique&quot; INTEGER NOT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01&lt;\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x03\x01\x01\x00\x00\x00\x00\x06unique\x01\x00\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h11-1-112" id="h11-1-112" class="i">+mvcc:Version(sql:Table(name), 8) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-113" id="h11-1-113" class="i">+mvcc:Version(sql:Table(ref), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING NOT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1b\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x00\x00\x00\x00\x00&quot;]
</a><a href="#h11-1-114" id="h11-1-114" class="i">+mvcc:Version(sql:Table(ref), 9) â†’ None [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-115" id="h11-1-115" class="i">+mvcc:Version(sql:Index(name.ref_id, NULL), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-1-116" id="h11-1-116" class="i">+mvcc:Version(sql:Index(name.ref_id, NULL), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-117" id="h11-1-117" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-1-118" id="h11-1-118" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-119" id="h11-1-119" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-1-120" id="h11-1-120" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 7) â†’ 2,4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x08&quot;]
</a><a href="#h11-1-121" id="h11-1-121" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-122" id="h11-1-122" class="i">+mvcc:Version(sql:Index(name.unique, 1), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-1-123" id="h11-1-123" class="i">+mvcc:Version(sql:Index(name.unique, 1), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-124" id="h11-1-124" class="i">+mvcc:Version(sql:Index(name.unique, 2), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-1-125" id="h11-1-125" class="i">+mvcc:Version(sql:Index(name.unique, 2), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-126" id="h11-1-126" class="i">+mvcc:Version(sql:Index(name.unique, 3), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-1-127" id="h11-1-127" class="i">+mvcc:Version(sql:Index(name.unique, 3), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-128" id="h11-1-128" class="i">+mvcc:Version(sql:Index(name.unique, 4), 7) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h11-1-129" id="h11-1-129" class="i">+mvcc:Version(sql:Index(name.unique, 4), 8) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-130" id="h11-1-130" class="i">+mvcc:Version(sql:Row(name, 1), 4) â†’ 1,&quot;foo&quot;,1,1 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x04\x03foo\x02\x02\x02\x02&quot;]
</a><a href="#h11-1-131" id="h11-1-131" class="i">+mvcc:Version(sql:Row(name, 1), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-132" id="h11-1-132" class="i">+mvcc:Version(sql:Row(name, 2), 5) â†’ 2,&quot;bar&quot;,2,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x04\x03bar\x02\x04\x02\x04&quot;]
</a><a href="#h11-1-133" id="h11-1-133" class="i">+mvcc:Version(sql:Row(name, 2), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-134" id="h11-1-134" class="i">+mvcc:Version(sql:Row(name, 3), 6) â†’ 3,&quot;foo&quot;,3,NULL [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0b\x04\x02\x06\x04\x03foo\x02\x06\x00&quot;]
</a><a href="#h11-1-135" id="h11-1-135" class="i">+mvcc:Version(sql:Row(name, 3), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-136" id="h11-1-136" class="i">+mvcc:Version(sql:Row(name, 4), 7) â†’ 4,NULL,4,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x08\x04\x02\x08\x00\x02\x08\x02\x04&quot;]
</a><a href="#h11-1-137" id="h11-1-137" class="i">+mvcc:Version(sql:Row(name, 4), 8) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-138" id="h11-1-138" class="i">+mvcc:Version(sql:Row(ref, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h11-1-139" id="h11-1-139" class="i">+mvcc:Version(sql:Row(ref, 1), 9) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h11-1-140" id="h11-1-140" class="i">+mvcc:Version(sql:Row(ref, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h11-1-141" id="h11-1-141" class="i">+mvcc:Version(sql:Row(ref, 2), 9) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><b>diff --git a/<a id="h12" href="../file/src/sql/testscripts/schema/drop_table_transaction.html">src/sql/testscripts/schema/drop_table_transaction</a> b/<a href="../file/src/sql/testscripts/schema/drop_table_transaction.html">src/sql/testscripts/schema/drop_table_transaction</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -8,20 +8,20 @@ ok
</a> dump
 ---
 mvcc:NextVersion â†’ 3 [&quot;\x00&quot; â†’ &quot;\x03&quot;]
<a href="#h12-0-3" id="h12-0-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-0-4" id="h12-0-4" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-0-5" id="h12-0-5" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-0-6" id="h12-0-6" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-0-7" id="h12-0-7" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-0-8" id="h12-0-8" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a> 
 # Drop the table in a transaction.
 &gt; BEGIN
 [ops]&gt; DROP TABLE name
 ---
<a href="#h12-0-14" id="h12-0-14" class="d">-storage set mvcc:TxnWrite(3, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-15" id="h12-0-15" class="d">-storage set mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-0-16" id="h12-0-16" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-17" id="h12-0-17" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-0-18" id="h12-0-18" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-19" id="h12-0-19" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-0-20" id="h12-0-20" class="i">+storage set mvcc:TxnWrite(3, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-21" id="h12-0-21" class="i">+storage set mvcc:Version(sql:Table(name), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-0-22" id="h12-0-22" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-23" id="h12-0-23" class="i">+storage set mvcc:Version(sql:Row(name, 1), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-0-24" id="h12-0-24" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-0-25" id="h12-0-25" class="i">+storage set mvcc:Version(sql:Row(name, 2), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a> 
 schema
 ---
<a href="#h12-1" id="h12-1" class="h">@@ -31,50 +31,50 @@ dump
</a> ---
 mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h12-1-3" id="h12-1-3" class="d">-mvcc:TxnWrite(3, sql:Table(&quot;name&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-4" id="h12-1-4" class="d">-mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-5" id="h12-1-5" class="d">-mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-6" id="h12-1-6" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-7" id="h12-1-7" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-8" id="h12-1-8" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-9" id="h12-1-9" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-10" id="h12-1-10" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-1-11" id="h12-1-11" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-12" id="h12-1-12" class="i">+mvcc:TxnWrite(3, sql:Table(name)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-13" id="h12-1-13" class="i">+mvcc:TxnWrite(3, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-14" id="h12-1-14" class="i">+mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h12-1-15" id="h12-1-15" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-16" id="h12-1-16" class="i">+mvcc:Version(sql:Table(name), 3) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-17" id="h12-1-17" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-18" id="h12-1-18" class="i">+mvcc:Version(sql:Row(name, 1), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-19" id="h12-1-19" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-1-20" id="h12-1-20" class="i">+mvcc:Version(sql:Row(name, 2), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a> 
 # Rolling it back undoes it.
 [ops]&gt; ROLLBACK
 ---
<a href="#h12-1-25" id="h12-1-25" class="d">-storage delete mvcc:Version(sql:Table(&quot;name&quot;), 3) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-26" id="h12-1-26" class="d">-storage delete mvcc:TxnWrite(3, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-1-27" id="h12-1-27" class="d">-storage delete mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-28" id="h12-1-28" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h12-1-29" id="h12-1-29" class="d">-storage delete mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-30" id="h12-1-30" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h12-1-31" id="h12-1-31" class="i">+storage delete mvcc:Version(sql:Table(name), 3) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-32" id="h12-1-32" class="i">+storage delete mvcc:TxnWrite(3, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-1-33" id="h12-1-33" class="i">+storage delete mvcc:Version(sql:Row(name, 1), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-34" id="h12-1-34" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h12-1-35" id="h12-1-35" class="i">+storage delete mvcc:Version(sql:Row(name, 2), 3) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h12-1-36" id="h12-1-36" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 dump
 ---
 mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
<a href="#h12-1-42" id="h12-1-42" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-43" id="h12-1-43" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-44" id="h12-1-44" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-1-45" id="h12-1-45" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-46" id="h12-1-46" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-47" id="h12-1-47" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a> 
 # Committing the drop also works.
 &gt; BEGIN
 &gt; DROP TABLE name
 [ops]&gt; COMMIT
 ---
<a href="#h12-1-54" id="h12-1-54" class="d">-storage delete mvcc:TxnWrite(4, sql:Table(&quot;name&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-1-55" id="h12-1-55" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h12-1-56" id="h12-1-56" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h12-1-57" id="h12-1-57" class="i">+storage delete mvcc:TxnWrite(4, sql:Table(name)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x00\xffname\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-1-58" id="h12-1-58" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h12-1-59" id="h12-1-59" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
 
 dump
 ---
 mvcc:NextVersion â†’ 5 [&quot;\x00&quot; â†’ &quot;\x05&quot;]
<a href="#h12-1-65" id="h12-1-65" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-66" id="h12-1-66" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 4) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-67" id="h12-1-67" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-68" id="h12-1-68" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 4) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-69" id="h12-1-69" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-1-70" id="h12-1-70" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 4) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-71" id="h12-1-71" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h12-1-72" id="h12-1-72" class="i">+mvcc:Version(sql:Table(name), 4) â†’ None [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-73" id="h12-1-73" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h12-1-74" id="h12-1-74" class="i">+mvcc:Version(sql:Row(name, 1), 4) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h12-1-75" id="h12-1-75" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h12-1-76" id="h12-1-76" class="i">+mvcc:Version(sql:Row(name, 2), 4) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><b>diff --git a/<a id="h13" href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a> b/<a href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -13,12 +13,12 @@ ok
</a> ---
 Delete: name
 â””â”€ Scan: name
<a href="#h13-0-3" id="h13-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-4" id="h13-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-0-5" id="h13-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-6" id="h13-0-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-0-7" id="h13-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-8" id="h13-0-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-0-9" id="h13-0-9" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-10" id="h13-0-10" class="i">+storage set mvcc:Version(sql:Row(name, 1), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-0-11" id="h13-0-11" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-12" id="h13-0-12" class="i">+storage set mvcc:Version(sql:Row(name, 2), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-0-13" id="h13-0-13" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-0-14" id="h13-0-14" class="i">+storage set mvcc:Version(sql:Row(name, 3), 3) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a> 
 &gt; SELECT * FROM name
 &gt; ROLLBACK
<a href="#h13-1" id="h13-1" class="h">@@ -41,15 +41,15 @@ Error: invalid input: unexpected token ,
</a> ---
 storage set mvcc:NextVersion â†’ 6 [&quot;\x00&quot; â†’ &quot;\x06&quot;]
 storage set mvcc:TxnActive(5) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;&quot;]
<a href="#h13-1-3" id="h13-1-3" class="d">-storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-4" id="h13-1-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-5" id="h13-1-5" class="d">-storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-6" id="h13-1-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-7" id="h13-1-7" class="d">-storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-8" id="h13-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-9" id="h13-1-9" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h13-1-10" id="h13-1-10" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h13-1-11" id="h13-1-11" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h13-1-12" id="h13-1-12" class="i">+storage set mvcc:TxnWrite(5, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-13" id="h13-1-13" class="i">+storage set mvcc:Version(sql:Row(name, 1), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-14" id="h13-1-14" class="i">+storage set mvcc:TxnWrite(5, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-15" id="h13-1-15" class="i">+storage set mvcc:Version(sql:Row(name, 2), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-16" id="h13-1-16" class="i">+storage set mvcc:TxnWrite(5, sql:Row(name, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h13-1-17" id="h13-1-17" class="i">+storage set mvcc:Version(sql:Row(name, 3), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-1-18" id="h13-1-18" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h13-1-19" id="h13-1-19" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h13-1-20" id="h13-1-20" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
 
 &gt; SELECT * FROM name
<a href="#h13-2" id="h13-2" class="h">@@ -59,13 +59,13 @@ ok
</a> dump
 ---
 mvcc:NextVersion â†’ 6 [&quot;\x00&quot; â†’ &quot;\x06&quot;]
<a href="#h13-2-3" id="h13-2-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h13-2-4" id="h13-2-4" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h13-2-5" id="h13-2-5" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-2-6" id="h13-2-6" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h13-2-7" id="h13-2-7" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-2-8" id="h13-2-8" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 2) â†’ Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h13-2-9" id="h13-2-9" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-2-10" id="h13-2-10" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h13-2-11" id="h13-2-11" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h13-2-12" id="h13-2-12" class="i">+mvcc:Version(sql:Row(name, 1), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-2-13" id="h13-2-13" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h13-2-14" id="h13-2-14" class="i">+mvcc:Version(sql:Row(name, 2), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a><a href="#h13-2-15" id="h13-2-15" class="i">+mvcc:Version(sql:Row(name, 3), 2) â†’ 3,&quot;c&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h13-2-16" id="h13-2-16" class="i">+mvcc:Version(sql:Row(name, 3), 5) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x00&quot;]
</a> 
 # Bare DELETE errors.
 !&gt; DELETE
<b>diff --git a/<a id="h14" href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a> b/<a href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -22,18 +22,18 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 10 [&quot;\x00&quot; â†’ &quot;\n&quot;]
 storage set mvcc:TxnActive(9) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;&quot;]
<a href="#h14-0-3" id="h14-0-3" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-4" id="h14-0-4" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-5" id="h14-0-5" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-6" id="h14-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-7" id="h14-0-7" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-8" id="h14-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-0-9" id="h14-0-9" class="d">-storage set mvcc:TxnWrite(9, sql:Row(&quot;name&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-10" id="h14-0-10" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-11" id="h14-0-11" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h14-0-12" id="h14-0-12" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h14-0-13" id="h14-0-13" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h14-0-14" id="h14-0-14" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(&quot;name&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h14-0-15" id="h14-0-15" class="i">+storage set mvcc:TxnWrite(9, sql:Index(name.index, 8)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-16" id="h14-0-16" class="i">+storage set mvcc:Version(sql:Index(name.index, 8), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-17" id="h14-0-17" class="i">+storage set mvcc:TxnWrite(9, sql:Index(name.unique, &quot;baz&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-18" id="h14-0-18" class="i">+storage set mvcc:Version(sql:Index(name.unique, &quot;baz&quot;), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-19" id="h14-0-19" class="i">+storage set mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-20" id="h14-0-20" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, 2), 9) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-0-21" id="h14-0-21" class="i">+storage set mvcc:TxnWrite(9, sql:Row(name, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h14-0-22" id="h14-0-22" class="i">+storage set mvcc:Version(sql:Row(name, 4), 9) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-0-23" id="h14-0-23" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(name.index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h14-0-24" id="h14-0-24" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h14-0-25" id="h14-0-25" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(name.unique, &quot;baz&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h14-0-26" id="h14-0-26" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
 
 # Dump the final state.
<a href="#h14-1" id="h14-1" class="h">@@ -47,31 +47,31 @@ storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> dump
 ---
 mvcc:NextVersion â†’ 10 [&quot;\x00&quot; â†’ &quot;\n&quot;]
<a href="#h14-1-3" id="h14-1-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX, &quot;unique&quot; STRING DEFAULT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01=\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00\x06unique\x03\x01\x01\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h14-1-4" id="h14-1-4" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h14-1-5" id="h14-1-5" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(2)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-6" id="h14-1-6" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(4)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h14-1-7" id="h14-1-7" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(6)), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-8" id="h14-1-8" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 7) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h14-1-9" id="h14-1-9" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-10" id="h14-1-10" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(10)), 8) â†’ Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\n&quot;]
</a><a href="#h14-1-11" id="h14-1-11" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-12" id="h14-1-12" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 5) â†’ Integer(1),Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h14-1-13" id="h14-1-13" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 8) â†’ Integer(1),Integer(2),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x03\x02\x02\x02\x04\x02\n&quot;]
</a><a href="#h14-1-14" id="h14-1-14" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-15" id="h14-1-15" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 7) â†’ Integer(3),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h14-1-16" id="h14-1-16" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-17" id="h14-1-17" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Null), 6) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-18" id="h14-1-18" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Null), 8) â†’ Integer(3),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\n&quot;]
</a><a href="#h14-1-19" id="h14-1-19" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;bar&quot;)), 5) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h14-1-20" id="h14-1-20" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 7) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h14-1-21" id="h14-1-21" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-22" id="h14-1-22" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;foo&quot;)), 4) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-23" id="h14-1-23" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 4) â†’ Integer(1),Integer(2),String(&quot;foo&quot;),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x02\x04\x04\x03foo\x02\x02&quot;]
</a><a href="#h14-1-24" id="h14-1-24" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) â†’ Integer(2),Integer(4),String(&quot;bar&quot;),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x02\x08\x04\x03bar\x02\x02&quot;]
</a><a href="#h14-1-25" id="h14-1-25" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 6) â†’ Integer(3),Integer(6),Null,Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x08\x04\x02\x06\x02\x0c\x00\x02\x04&quot;]
</a><a href="#h14-1-26" id="h14-1-26" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 7) â†’ Integer(4),Integer(8),String(&quot;baz&quot;),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0c\x04\x02\x08\x02\x10\x04\x03baz\x02\x04&quot;]
</a><a href="#h14-1-27" id="h14-1-27" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-28" id="h14-1-28" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(5)), 8) â†’ Integer(5),Integer(10),Null,Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x08\x04\x02\n\x02\x14\x00\x02\x02&quot;]
</a><a href="#h14-1-29" id="h14-1-29" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h14-1-30" id="h14-1-30" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h14-1-31" id="h14-1-31" class="i">+mvcc:Version(sql:Table(name), 3) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX, &quot;unique&quot; STRING DEFAULT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01=\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00\x06unique\x03\x01\x01\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h14-1-32" id="h14-1-32" class="i">+mvcc:Version(sql:Table(ref), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h14-1-33" id="h14-1-33" class="i">+mvcc:Version(sql:Index(name.index, 2), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-34" id="h14-1-34" class="i">+mvcc:Version(sql:Index(name.index, 4), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h14-1-35" id="h14-1-35" class="i">+mvcc:Version(sql:Index(name.index, 6), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-36" id="h14-1-36" class="i">+mvcc:Version(sql:Index(name.index, 8), 7) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h14-1-37" id="h14-1-37" class="i">+mvcc:Version(sql:Index(name.index, 8), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-38" id="h14-1-38" class="i">+mvcc:Version(sql:Index(name.index, 10), 8) â†’ 5 [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\n&quot;]
</a><a href="#h14-1-39" id="h14-1-39" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-40" id="h14-1-40" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 5) â†’ 1,2 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h14-1-41" id="h14-1-41" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 8) â†’ 1,2,5 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x03\x02\x02\x02\x04\x02\n&quot;]
</a><a href="#h14-1-42" id="h14-1-42" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-43" id="h14-1-43" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 7) â†’ 3,4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h14-1-44" id="h14-1-44" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 9) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-45" id="h14-1-45" class="i">+mvcc:Version(sql:Index(name.unique, NULL), 6) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h14-1-46" id="h14-1-46" class="i">+mvcc:Version(sql:Index(name.unique, NULL), 8) â†’ 3,5 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\n&quot;]
</a><a href="#h14-1-47" id="h14-1-47" class="i">+mvcc:Version(sql:Index(name.unique, &quot;bar&quot;), 5) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h14-1-48" id="h14-1-48" class="i">+mvcc:Version(sql:Index(name.unique, &quot;baz&quot;), 7) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h14-1-49" id="h14-1-49" class="i">+mvcc:Version(sql:Index(name.unique, &quot;baz&quot;), 9) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-50" id="h14-1-50" class="i">+mvcc:Version(sql:Index(name.unique, &quot;foo&quot;), 4) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h14-1-51" id="h14-1-51" class="i">+mvcc:Version(sql:Row(name, 1), 4) â†’ 1,2,&quot;foo&quot;,1 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x0c\x04\x02\x02\x02\x04\x04\x03foo\x02\x02&quot;]
</a><a href="#h14-1-52" id="h14-1-52" class="i">+mvcc:Version(sql:Row(name, 2), 5) â†’ 2,4,&quot;bar&quot;,1 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x0c\x04\x02\x04\x02\x08\x04\x03bar\x02\x02&quot;]
</a><a href="#h14-1-53" id="h14-1-53" class="i">+mvcc:Version(sql:Row(name, 3), 6) â†’ 3,6,NULL,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x08\x04\x02\x06\x02\x0c\x00\x02\x04&quot;]
</a><a href="#h14-1-54" id="h14-1-54" class="i">+mvcc:Version(sql:Row(name, 4), 7) â†’ 4,8,&quot;baz&quot;,2 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0c\x04\x02\x08\x02\x10\x04\x03baz\x02\x04&quot;]
</a><a href="#h14-1-55" id="h14-1-55" class="i">+mvcc:Version(sql:Row(name, 4), 9) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x00&quot;]
</a><a href="#h14-1-56" id="h14-1-56" class="i">+mvcc:Version(sql:Row(name, 5), 8) â†’ 5,10,NULL,1 [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x08\x04\x02\n\x02\x14\x00\x02\x02&quot;]
</a><a href="#h14-1-57" id="h14-1-57" class="i">+mvcc:Version(sql:Row(ref, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h14-1-58" id="h14-1-58" class="i">+mvcc:Version(sql:Row(ref, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><b>diff --git a/<a id="h15" href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a> b/<a href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -38,9 +38,9 @@ Error: invalid input: row referenced by name.ref_id for name.id=1
</a> ---
 storage set mvcc:NextVersion â†’ 14 [&quot;\x00&quot; â†’ &quot;\x0e&quot;]
 storage set mvcc:TxnActive(13) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;&quot;]
<a href="#h15-0-3" id="h15-0-3" class="d">-storage set mvcc:TxnWrite(13, sql:Row(&quot;ref&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-0-4" id="h15-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 13) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-0-5" id="h15-0-5" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(&quot;ref&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h15-0-6" id="h15-0-6" class="i">+storage set mvcc:TxnWrite(13, sql:Row(ref, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-0-7" id="h15-0-7" class="i">+storage set mvcc:Version(sql:Row(ref, 3), 13) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-0-8" id="h15-0-8" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(ref, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
 
 &gt; SELECT * FROM ref
<a href="#h15-1" id="h15-1" class="h">@@ -53,23 +53,23 @@ storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 15 [&quot;\x00&quot; â†’ &quot;\x0f&quot;]
 storage set mvcc:TxnActive(14) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;&quot;]
<a href="#h15-1-3" id="h15-1-3" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-4" id="h15-1-4" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-5" id="h15-1-5" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-6" id="h15-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h15-1-7" id="h15-1-7" class="d">-storage set mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-8" id="h15-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-9" id="h15-1-9" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-10" id="h15-1-10" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 14) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h15-1-11" id="h15-1-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-12" id="h15-1-12" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-13" id="h15-1-13" class="d">-storage set mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-14" id="h15-1-14" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-15" id="h15-1-15" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h15-1-16" id="h15-1-16" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h15-1-17" id="h15-1-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h15-1-18" id="h15-1-18" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h15-1-19" id="h15-1-19" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h15-1-20" id="h15-1-20" class="i">+storage set mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-21" id="h15-1-21" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, NULL), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-22" id="h15-1-22" class="i">+storage set mvcc:TxnWrite(14, sql:Index(name.sref_id, &quot;b&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-23" id="h15-1-23" class="i">+storage set mvcc:Version(sql:Index(name.sref_id, &quot;b&quot;), 14) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h15-1-24" id="h15-1-24" class="i">+storage set mvcc:TxnWrite(14, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-25" id="h15-1-25" class="i">+storage set mvcc:Version(sql:Row(name, 2), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-26" id="h15-1-26" class="i">+storage set mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-27" id="h15-1-27" class="i">+storage set mvcc:Version(sql:Index(name.ref_id, 2), 14) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h15-1-28" id="h15-1-28" class="i">+storage set mvcc:TxnWrite(14, sql:Index(name.sref_id, &quot;b&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-29" id="h15-1-29" class="i">+storage set mvcc:Version(sql:Index(name.sref_id, &quot;b&quot;), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-30" id="h15-1-30" class="i">+storage set mvcc:TxnWrite(14, sql:Row(name, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h15-1-31" id="h15-1-31" class="i">+storage set mvcc:Version(sql:Row(name, 3), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-1-32" id="h15-1-32" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(name.ref_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h15-1-33" id="h15-1-33" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(name.ref_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h15-1-34" id="h15-1-34" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(name.sref_id, &quot;b&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h15-1-35" id="h15-1-35" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h15-1-36" id="h15-1-36" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
 
 # DELETE of a no-longer-referenced row succeeds.
<a href="#h15-2" id="h15-2" class="h">@@ -118,46 +118,46 @@ ok
</a> dump
 ---
 mvcc:NextVersion â†’ 25 [&quot;\x00&quot; â†’ &quot;\x19&quot;]
<a href="#h15-2-3" id="h15-2-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING NOT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x015\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x00\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h15-2-4" id="h15-2-4" class="d">-mvcc:Version(sql:Table(&quot;ref&quot;), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h15-2-5" id="h15-2-5" class="d">-mvcc:Version(sql:Table(&quot;self&quot;), 16) â†’ CREATE TABLE self ( id INTEGER PRIMARY KEY, self_id INTEGER DEFAULT NULL INDEX REFERENCES self ) [&quot;\x04\x00\xffself\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01$\x04self\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x07self_id\x01\x01\x01\x00\x00\x01\x01\x04self&quot;]
</a><a href="#h15-2-6" id="h15-2-6" class="d">-mvcc:Version(sql:Table(&quot;sref&quot;), 2) â†’ CREATE TABLE sref ( id STRING PRIMARY KEY ) [&quot;\x04\x00\xffsref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x10\x04sref\x00\x01\x02id\x03\x00\x00\x01\x00\x00&quot;]
</a><a href="#h15-2-7" id="h15-2-7" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 7) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-8" id="h15-2-8" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-9" id="h15-2-9" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 6) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-10" id="h15-2-10" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 10) â†’ Integer(1),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\n&quot;]
</a><a href="#h15-2-11" id="h15-2-11" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 8) â†’ Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h15-2-12" id="h15-2-12" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) â†’ Integer(3),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h15-2-13" id="h15-2-13" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 14) â†’ Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h15-2-14" id="h15-2-14" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 6) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-15" id="h15-2-15" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 9) â†’ Integer(1),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x08&quot;]
</a><a href="#h15-2-16" id="h15-2-16" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 10) â†’ Integer(1),Integer(4),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x02\x02\x08\x02\n&quot;]
</a><a href="#h15-2-17" id="h15-2-17" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 7) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-18" id="h15-2-18" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 8) â†’ Integer(2),Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-19" id="h15-2-19" class="d">-mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-20" id="h15-2-20" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 17) â†’ Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-21" id="h15-2-21" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 24) â†’ None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-22" id="h15-2-22" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 18) â†’ Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-23" id="h15-2-23" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 19) â†’ Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-24" id="h15-2-24" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 20) â†’ Integer(2),Integer(3),Integer(4) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; â†’ &quot;\x01\x07\x03\x02\x04\x02\x06\x02\x08&quot;]
</a><a href="#h15-2-25" id="h15-2-25" class="d">-mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 23) â†’ Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-26" id="h15-2-26" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 6) â†’ Integer(1),Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x08\x03\x02\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-27" id="h15-2-27" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 7) â†’ Integer(2),Null,String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x07\x03\x02\x04\x00\x04\x01b&quot;]
</a><a href="#h15-2-28" id="h15-2-28" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-29" id="h15-2-29" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 8) â†’ Integer(3),Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x08\x03\x02\x06\x02\x04\x04\x01b&quot;]
</a><a href="#h15-2-30" id="h15-2-30" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-31" id="h15-2-31" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) â†’ Integer(4),Integer(2),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x08\x03\x02\x08\x02\x04\x04\x01a&quot;]
</a><a href="#h15-2-32" id="h15-2-32" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(5)), 10) â†’ Integer(5),Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x03\x02\n\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-33" id="h15-2-33" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 3) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-34" id="h15-2-34" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 3) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h15-2-35" id="h15-2-35" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 3) â†’ Integer(3),String(&quot;c&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h15-2-36" id="h15-2-36" class="d">-mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 13) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-37" id="h15-2-37" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 17) â†’ Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h15-2-38" id="h15-2-38" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 24) â†’ None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-39" id="h15-2-39" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 18) â†’ Integer(2),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x04&quot;]
</a><a href="#h15-2-40" id="h15-2-40" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 19) â†’ Integer(3),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h15-2-41" id="h15-2-41" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(4)), 20) â†’ Integer(4),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\x04&quot;]
</a><a href="#h15-2-42" id="h15-2-42" class="d">-mvcc:Version(sql:Row(&quot;self&quot;, Integer(4)), 23) â†’ None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-43" id="h15-2-43" class="d">-mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;a&quot;)), 4) â†’ String(&quot;a&quot;) [&quot;\x04\x02sref\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x04\x01\x04\x01a&quot;]
</a><a href="#h15-2-44" id="h15-2-44" class="d">-mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;b&quot;)), 4) â†’ String(&quot;b&quot;) [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x04\x01\x04\x01b&quot;]
</a><a href="#h15-2-45" id="h15-2-45" class="d">-mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;b&quot;)), 15) â†’ None [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-46" id="h15-2-46" class="i">+mvcc:Version(sql:Table(name), 5) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING NOT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x015\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x00\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h15-2-47" id="h15-2-47" class="i">+mvcc:Version(sql:Table(ref), 1) â†’ CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h15-2-48" id="h15-2-48" class="i">+mvcc:Version(sql:Table(self), 16) â†’ CREATE TABLE self ( id INTEGER PRIMARY KEY, self_id INTEGER DEFAULT NULL INDEX REFERENCES self ) [&quot;\x04\x00\xffself\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01$\x04self\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x07self_id\x01\x01\x01\x00\x00\x01\x01\x04self&quot;]
</a><a href="#h15-2-49" id="h15-2-49" class="i">+mvcc:Version(sql:Table(sref), 2) â†’ CREATE TABLE sref ( id STRING PRIMARY KEY ) [&quot;\x04\x00\xffsref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x10\x04sref\x00\x01\x02id\x03\x00\x00\x01\x00\x00&quot;]
</a><a href="#h15-2-50" id="h15-2-50" class="i">+mvcc:Version(sql:Index(name.ref_id, NULL), 7) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-51" id="h15-2-51" class="i">+mvcc:Version(sql:Index(name.ref_id, NULL), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-52" id="h15-2-52" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 6) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-53" id="h15-2-53" class="i">+mvcc:Version(sql:Index(name.ref_id, 1), 10) â†’ 1,5 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\n&quot;]
</a><a href="#h15-2-54" id="h15-2-54" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 8) â†’ 3 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h15-2-55" id="h15-2-55" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 9) â†’ 3,4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h15-2-56" id="h15-2-56" class="i">+mvcc:Version(sql:Index(name.ref_id, 2), 14) â†’ 4 [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h15-2-57" id="h15-2-57" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;a&quot;), 6) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-58" id="h15-2-58" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;a&quot;), 9) â†’ 1,4 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x08&quot;]
</a><a href="#h15-2-59" id="h15-2-59" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;a&quot;), 10) â†’ 1,4,5 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x02\x02\x08\x02\n&quot;]
</a><a href="#h15-2-60" id="h15-2-60" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;b&quot;), 7) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-61" id="h15-2-61" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;b&quot;), 8) â†’ 2,3 [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-62" id="h15-2-62" class="i">+mvcc:Version(sql:Index(name.sref_id, &quot;b&quot;), 14) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-63" id="h15-2-63" class="i">+mvcc:Version(sql:Index(self.self_id, 1), 17) â†’ 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h15-2-64" id="h15-2-64" class="i">+mvcc:Version(sql:Index(self.self_id, 1), 24) â†’ None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-65" id="h15-2-65" class="i">+mvcc:Version(sql:Index(self.self_id, 2), 18) â†’ 2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h15-2-66" id="h15-2-66" class="i">+mvcc:Version(sql:Index(self.self_id, 2), 19) â†’ 2,3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-67" id="h15-2-67" class="i">+mvcc:Version(sql:Index(self.self_id, 2), 20) â†’ 2,3,4 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; â†’ &quot;\x01\x07\x03\x02\x04\x02\x06\x02\x08&quot;]
</a><a href="#h15-2-68" id="h15-2-68" class="i">+mvcc:Version(sql:Index(self.self_id, 2), 23) â†’ 2,3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h15-2-69" id="h15-2-69" class="i">+mvcc:Version(sql:Row(name, 1), 6) â†’ 1,1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x08\x03\x02\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-70" id="h15-2-70" class="i">+mvcc:Version(sql:Row(name, 2), 7) â†’ 2,NULL,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x07\x03\x02\x04\x00\x04\x01b&quot;]
</a><a href="#h15-2-71" id="h15-2-71" class="i">+mvcc:Version(sql:Row(name, 2), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-72" id="h15-2-72" class="i">+mvcc:Version(sql:Row(name, 3), 8) â†’ 3,2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x08\x03\x02\x06\x02\x04\x04\x01b&quot;]
</a><a href="#h15-2-73" id="h15-2-73" class="i">+mvcc:Version(sql:Row(name, 3), 14) â†’ None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-74" id="h15-2-74" class="i">+mvcc:Version(sql:Row(name, 4), 9) â†’ 4,2,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x08\x03\x02\x08\x02\x04\x04\x01a&quot;]
</a><a href="#h15-2-75" id="h15-2-75" class="i">+mvcc:Version(sql:Row(name, 5), 10) â†’ 5,1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x03\x02\n\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-76" id="h15-2-76" class="i">+mvcc:Version(sql:Row(ref, 1), 3) â†’ 1,&quot;a&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h15-2-77" id="h15-2-77" class="i">+mvcc:Version(sql:Row(ref, 2), 3) â†’ 2,&quot;b&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h15-2-78" id="h15-2-78" class="i">+mvcc:Version(sql:Row(ref, 3), 3) â†’ 3,&quot;c&quot; [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h15-2-79" id="h15-2-79" class="i">+mvcc:Version(sql:Row(ref, 3), 13) â†’ None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-80" id="h15-2-80" class="i">+mvcc:Version(sql:Row(self, 1), 17) â†’ 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h15-2-81" id="h15-2-81" class="i">+mvcc:Version(sql:Row(self, 1), 24) â†’ None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-82" id="h15-2-82" class="i">+mvcc:Version(sql:Row(self, 2), 18) â†’ 2,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x04&quot;]
</a><a href="#h15-2-83" id="h15-2-83" class="i">+mvcc:Version(sql:Row(self, 3), 19) â†’ 3,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h15-2-84" id="h15-2-84" class="i">+mvcc:Version(sql:Row(self, 4), 20) â†’ 4,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\x04&quot;]
</a><a href="#h15-2-85" id="h15-2-85" class="i">+mvcc:Version(sql:Row(self, 4), 23) â†’ None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x00&quot;]
</a><a href="#h15-2-86" id="h15-2-86" class="i">+mvcc:Version(sql:Row(sref, &quot;a&quot;), 4) â†’ &quot;a&quot; [&quot;\x04\x02sref\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x04\x01\x04\x01a&quot;]
</a><a href="#h15-2-87" id="h15-2-87" class="i">+mvcc:Version(sql:Row(sref, &quot;b&quot;), 4) â†’ &quot;b&quot; [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x04\x01\x04\x01b&quot;]
</a><a href="#h15-2-88" id="h15-2-88" class="i">+mvcc:Version(sql:Row(sref, &quot;b&quot;), 15) â†’ None [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x00&quot;]
</a><b>diff --git a/<a id="h16" href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a> b/<a href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -12,9 +12,9 @@ Insert: name
</a> Insert { count: 1 }
 storage set mvcc:NextVersion â†’ 3 [&quot;\x00&quot; â†’ &quot;\x03&quot;]
 storage set mvcc:TxnActive(2) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;&quot;]
<a href="#h16-0-3" id="h16-0-3" class="d">-storage set mvcc:TxnWrite(2, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-0-4" id="h16-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h16-0-5" id="h16-0-5" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h16-0-6" id="h16-0-6" class="i">+storage set mvcc:TxnWrite(2, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-0-7" id="h16-0-7" class="i">+storage set mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h16-0-8" id="h16-0-8" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
 
 # It can also write multiple rows.
<a href="#h16-1" id="h16-1" class="h">@@ -25,15 +25,15 @@ Insert: name
</a> Insert { count: 3 }
 storage set mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 storage set mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h16-1-3" id="h16-1-3" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-4" id="h16-1-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h16-1-5" id="h16-1-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-6" id="h16-1-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) â†’ Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h16-1-7" id="h16-1-7" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-8" id="h16-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 3) â†’ Integer(4),String(&quot;d&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h16-1-9" id="h16-1-9" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h16-1-10" id="h16-1-10" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h16-1-11" id="h16-1-11" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h16-1-12" id="h16-1-12" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-13" id="h16-1-13" class="i">+storage set mvcc:Version(sql:Row(name, 2), 3) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h16-1-14" id="h16-1-14" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-15" id="h16-1-15" class="i">+storage set mvcc:Version(sql:Row(name, 3), 3) â†’ 3,&quot;c&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h16-1-16" id="h16-1-16" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h16-1-17" id="h16-1-17" class="i">+storage set mvcc:Version(sql:Row(name, 4), 3) â†’ 4,&quot;d&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h16-1-18" id="h16-1-18" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h16-1-19" id="h16-1-19" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h16-1-20" id="h16-1-20" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 &gt; SELECT * FROM name
<a href="#h16-2" id="h16-2" class="h">@@ -46,11 +46,11 @@ storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> dump
 ---
 mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
<a href="#h16-2-3" id="h16-2-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h16-2-4" id="h16-2-4" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h16-2-5" id="h16-2-5" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h16-2-6" id="h16-2-6" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) â†’ Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h16-2-7" id="h16-2-7" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 3) â†’ Integer(4),String(&quot;d&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h16-2-8" id="h16-2-8" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h16-2-9" id="h16-2-9" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h16-2-10" id="h16-2-10" class="i">+mvcc:Version(sql:Row(name, 2), 3) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h16-2-11" id="h16-2-11" class="i">+mvcc:Version(sql:Row(name, 3), 3) â†’ 3,&quot;c&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h16-2-12" id="h16-2-12" class="i">+mvcc:Version(sql:Row(name, 4), 3) â†’ 4,&quot;d&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a> 
 # INSERTs can use expressions, but only constant ones.
 &gt; INSERT INTO name VALUES (2^2+1, &#39;abc&#39;)
<b>diff --git a/<a id="h17" href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a> b/<a href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -15,21 +15,21 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 3 [&quot;\x00&quot; â†’ &quot;\x03&quot;]
 storage set mvcc:TxnActive(2) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;&quot;]
<a href="#h17-0-3" id="h17-0-3" class="d">-storage set mvcc:TxnWrite(2, sql:Row(&quot;index&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-4" id="h17-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 2) â†’ Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-0-5" id="h17-0-5" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-6" id="h17-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 2) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-7" id="h17-0-7" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-8" id="h17-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 2) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-9" id="h17-0-9" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-10" id="h17-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 2) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-11" id="h17-0-11" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-12" id="h17-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 2) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-13" id="h17-0-13" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-14" id="h17-0-14" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-15" id="h17-0-15" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-16" id="h17-0-16" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-17" id="h17-0-17" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-18" id="h17-0-18" class="i">+storage set mvcc:TxnWrite(2, sql:Row(index, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-19" id="h17-0-19" class="i">+storage set mvcc:Version(sql:Row(index, 1), 2) â†’ 1,TRUE,7,3.14,&quot;foo&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-0-20" id="h17-0-20" class="i">+storage set mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-21" id="h17-0-21" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 2) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-22" id="h17-0-22" class="i">+storage set mvcc:TxnWrite(2, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-23" id="h17-0-23" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 2) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-24" id="h17-0-24" class="i">+storage set mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-25" id="h17-0-25" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 2) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-26" id="h17-0-26" class="i">+storage set mvcc:TxnWrite(2, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-0-27" id="h17-0-27" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 2) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-28" id="h17-0-28" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-29" id="h17-0-29" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-30" id="h17-0-30" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-31" id="h17-0-31" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(index.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-32" id="h17-0-32" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
 
 # Another insert with the same values adds to the index entries.
<a href="#h17-1" id="h17-1" class="h">@@ -37,21 +37,21 @@ storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 storage set mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h17-1-3" id="h17-1-3" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-4" id="h17-1-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 3) â†’ Integer(2),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-1-5" id="h17-1-5" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-6" id="h17-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 3) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-7" id="h17-1-7" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-8" id="h17-1-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 3) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-9" id="h17-1-9" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-10" id="h17-1-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 3) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-11" id="h17-1-11" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-12" id="h17-1-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 3) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-13" id="h17-1-13" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-1-14" id="h17-1-14" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-1-15" id="h17-1-15" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-1-16" id="h17-1-16" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-1-17" id="h17-1-17" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h17-1-18" id="h17-1-18" class="i">+storage set mvcc:TxnWrite(3, sql:Row(index, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-19" id="h17-1-19" class="i">+storage set mvcc:Version(sql:Row(index, 2), 3) â†’ 2,TRUE,7,3.14,&quot;foo&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-1-20" id="h17-1-20" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-21" id="h17-1-21" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 3) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-22" id="h17-1-22" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-23" id="h17-1-23" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 3) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-24" id="h17-1-24" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-25" id="h17-1-25" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 3) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-26" id="h17-1-26" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-1-27" id="h17-1-27" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 3) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-1-28" id="h17-1-28" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-1-29" id="h17-1-29" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-1-30" id="h17-1-30" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-1-31" id="h17-1-31" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-1-32" id="h17-1-32" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 # An insert with different values writes new index entries.
<a href="#h17-2" id="h17-2" class="h">@@ -59,21 +59,21 @@ storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 5 [&quot;\x00&quot; â†’ &quot;\x05&quot;]
 storage set mvcc:TxnActive(4) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;&quot;]
<a href="#h17-2-3" id="h17-2-3" class="d">-storage set mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-4" id="h17-2-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(3)), 4) â†’ Integer(3),Boolean(false),Integer(0),Float(2.718),String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x12\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x00&quot;]
</a><a href="#h17-2-5" id="h17-2-5" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-6" id="h17-2-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 4) â†’ Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-7" id="h17-2-7" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-8" id="h17-2-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0)), 4) â†’ Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-9" id="h17-2-9" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-10" id="h17-2-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 4) â†’ Integer(3) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-11" id="h17-2-11" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-12" id="h17-2-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 4) â†’ Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-13" id="h17-2-13" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-14" id="h17-2-14" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h17-2-15" id="h17-2-15" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-16" id="h17-2-16" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-17" id="h17-2-17" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h17-2-18" id="h17-2-18" class="i">+storage set mvcc:TxnWrite(4, sql:Row(index, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-19" id="h17-2-19" class="i">+storage set mvcc:Version(sql:Row(index, 3), 4) â†’ 3,FALSE,0,2.718,&quot;&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x12\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x00&quot;]
</a><a href="#h17-2-20" id="h17-2-20" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-21" id="h17-2-21" class="i">+storage set mvcc:Version(sql:Index(index.bool, FALSE), 4) â†’ 3 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-22" id="h17-2-22" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.int, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-23" id="h17-2-23" class="i">+storage set mvcc:Version(sql:Index(index.int, 0), 4) â†’ 3 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-24" id="h17-2-24" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-25" id="h17-2-25" class="i">+storage set mvcc:Version(sql:Index(index.float, 2.718), 4) â†’ 3 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-26" id="h17-2-26" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.string, &quot;&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-2-27" id="h17-2-27" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;&quot;), 4) â†’ 3 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h17-2-28" id="h17-2-28" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-29" id="h17-2-29" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h17-2-30" id="h17-2-30" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-31" id="h17-2-31" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.string, &quot;&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-2-32" id="h17-2-32" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(index, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
 
 # Inserts with NULLS adds NULL entries. These are used for IS NULL queries.
<a href="#h17-3" id="h17-3" class="h">@@ -81,32 +81,32 @@ storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 6 [&quot;\x00&quot; â†’ &quot;\x06&quot;]
 storage set mvcc:TxnActive(5) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;&quot;]
<a href="#h17-3-3" id="h17-3-3" class="d">-storage set mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-4" id="h17-3-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(4)), 5) â†’ Integer(4),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h17-3-5" id="h17-3-5" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-6" id="h17-3-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 5) â†’ Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-7" id="h17-3-7" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-8" id="h17-3-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 5) â†’ Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-9" id="h17-3-9" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-10" id="h17-3-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 5) â†’ Integer(4) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-11" id="h17-3-11" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-12" id="h17-3-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 5) â†’ Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-13" id="h17-3-13" class="d">-storage set mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(5))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-14" id="h17-3-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(5)), 5) â†’ Integer(5),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h17-3-15" id="h17-3-15" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-16" id="h17-3-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 5) â†’ Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-17" id="h17-3-17" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-18" id="h17-3-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 5) â†’ Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-19" id="h17-3-19" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-20" id="h17-3-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 5) â†’ Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-21" id="h17-3-21" class="d">-storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-22" id="h17-3-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 5) â†’ Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-23" id="h17-3-23" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-24" id="h17-3-24" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-25" id="h17-3-25" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-26" id="h17-3-26" class="d">-storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-27" id="h17-3-27" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h17-3-28" id="h17-3-28" class="d">-storage delete mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(5))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h17-3-29" id="h17-3-29" class="i">+storage set mvcc:TxnWrite(5, sql:Row(index, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-30" id="h17-3-30" class="i">+storage set mvcc:Version(sql:Row(index, 4), 5) â†’ 4,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h17-3-31" id="h17-3-31" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-32" id="h17-3-32" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 5) â†’ 4 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-33" id="h17-3-33" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-34" id="h17-3-34" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 5) â†’ 4 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-35" id="h17-3-35" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-36" id="h17-3-36" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 5) â†’ 4 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-37" id="h17-3-37" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-38" id="h17-3-38" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 5) â†’ 4 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h17-3-39" id="h17-3-39" class="i">+storage set mvcc:TxnWrite(5, sql:Row(index, 5)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-40" id="h17-3-40" class="i">+storage set mvcc:Version(sql:Row(index, 5), 5) â†’ 5,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h17-3-41" id="h17-3-41" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-42" id="h17-3-42" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 5) â†’ 4,5 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-43" id="h17-3-43" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-44" id="h17-3-44" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 5) â†’ 4,5 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-45" id="h17-3-45" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-46" id="h17-3-46" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 5) â†’ 4,5 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-47" id="h17-3-47" class="i">+storage set mvcc:TxnWrite(5, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-3-48" id="h17-3-48" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 5) â†’ 4,5 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h17-3-49" id="h17-3-49" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-50" id="h17-3-50" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-51" id="h17-3-51" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-52" id="h17-3-52" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-3-53" id="h17-3-53" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(index, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h17-3-54" id="h17-3-54" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(index, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
 
 # Float NaNs are considered equal and indexed.
<a href="#h17-4" id="h17-4" class="h">@@ -114,32 +114,32 @@ storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 7 [&quot;\x00&quot; â†’ &quot;\x07&quot;]
 storage set mvcc:TxnActive(6) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;&quot;]
<a href="#h17-4-3" id="h17-4-3" class="d">-storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(6))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-4" id="h17-4-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(6)), 6) â†’ Integer(6),Null,Null,Float(NaN),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h17-4-5" id="h17-4-5" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-6" id="h17-4-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-7" id="h17-4-7" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-8" id="h17-4-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-9" id="h17-4-9" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-10" id="h17-4-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN)), 6) â†’ Integer(6) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h17-4-11" id="h17-4-11" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-12" id="h17-4-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-13" id="h17-4-13" class="d">-storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-14" id="h17-4-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(7)), 6) â†’ Integer(7),Null,Null,Float(NaN),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h17-4-15" id="h17-4-15" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-16" id="h17-4-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-17" id="h17-4-17" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-18" id="h17-4-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-19" id="h17-4-19" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-20" id="h17-4-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN)), 6) â†’ Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-21" id="h17-4-21" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-22" id="h17-4-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-23" id="h17-4-23" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-24" id="h17-4-24" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-25" id="h17-4-25" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-26" id="h17-4-26" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-27" id="h17-4-27" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(6))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h17-4-28" id="h17-4-28" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-4-29" id="h17-4-29" class="i">+storage set mvcc:TxnWrite(6, sql:Row(index, 6)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-30" id="h17-4-30" class="i">+storage set mvcc:Version(sql:Row(index, 6), 6) â†’ 6,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h17-4-31" id="h17-4-31" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-32" id="h17-4-32" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 6) â†’ 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-33" id="h17-4-33" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-34" id="h17-4-34" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 6) â†’ 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-35" id="h17-4-35" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-36" id="h17-4-36" class="i">+storage set mvcc:Version(sql:Index(index.float, NaN), 6) â†’ 6 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h17-4-37" id="h17-4-37" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-38" id="h17-4-38" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 6) â†’ 4,5,6 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h17-4-39" id="h17-4-39" class="i">+storage set mvcc:TxnWrite(6, sql:Row(index, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-40" id="h17-4-40" class="i">+storage set mvcc:Version(sql:Row(index, 7), 6) â†’ 7,NULL,NULL,NaN,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h17-4-41" id="h17-4-41" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-42" id="h17-4-42" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 6) â†’ 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-43" id="h17-4-43" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-44" id="h17-4-44" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 6) â†’ 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-45" id="h17-4-45" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-46" id="h17-4-46" class="i">+storage set mvcc:Version(sql:Index(index.float, NaN), 6) â†’ 6,7 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-47" id="h17-4-47" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-4-48" id="h17-4-48" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 6) â†’ 4,5,6,7 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h17-4-49" id="h17-4-49" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-50" id="h17-4-50" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-51" id="h17-4-51" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-52" id="h17-4-52" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-4-53" id="h17-4-53" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(index, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h17-4-54" id="h17-4-54" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(index, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
 
 # Float 0.0 and -0.0 are normalized as 0.0 and indexed as such.
<a href="#h17-5" id="h17-5" class="h">@@ -147,32 +147,32 @@ storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 8 [&quot;\x00&quot; â†’ &quot;\x08&quot;]
 storage set mvcc:TxnActive(7) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;&quot;]
<a href="#h17-5-3" id="h17-5-3" class="d">-storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(8))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-4" id="h17-5-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(8)), 7) â†’ Integer(8),Null,Null,Float(0.0),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h17-5-5" id="h17-5-5" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-6" id="h17-5-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-7" id="h17-5-7" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-8" id="h17-5-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-9" id="h17-5-9" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-10" id="h17-5-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0)), 7) â†’ Integer(8) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h17-5-11" id="h17-5-11" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-12" id="h17-5-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-13" id="h17-5-13" class="d">-storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(9))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-14" id="h17-5-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(9)), 7) â†’ Integer(9),Null,Null,Float(0.0),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h17-5-15" id="h17-5-15" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-16" id="h17-5-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-17" id="h17-5-17" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-18" id="h17-5-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-19" id="h17-5-19" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-20" id="h17-5-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0)), 7) â†’ Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-21" id="h17-5-21" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-22" id="h17-5-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 7) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-23" id="h17-5-23" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-24" id="h17-5-24" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-25" id="h17-5-25" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-26" id="h17-5-26" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-27" id="h17-5-27" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h17-5-28" id="h17-5-28" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(9))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a><a href="#h17-5-29" id="h17-5-29" class="i">+storage set mvcc:TxnWrite(7, sql:Row(index, 8)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-30" id="h17-5-30" class="i">+storage set mvcc:Version(sql:Row(index, 8), 7) â†’ 8,NULL,NULL,0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h17-5-31" id="h17-5-31" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-32" id="h17-5-32" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 7) â†’ 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-33" id="h17-5-33" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-34" id="h17-5-34" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 7) â†’ 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-35" id="h17-5-35" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-36" id="h17-5-36" class="i">+storage set mvcc:Version(sql:Index(index.float, 0), 7) â†’ 8 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h17-5-37" id="h17-5-37" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-38" id="h17-5-38" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 7) â†’ 4,5,6,7,8 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h17-5-39" id="h17-5-39" class="i">+storage set mvcc:TxnWrite(7, sql:Row(index, 9)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-40" id="h17-5-40" class="i">+storage set mvcc:Version(sql:Row(index, 9), 7) â†’ 9,NULL,NULL,0,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h17-5-41" id="h17-5-41" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-42" id="h17-5-42" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 7) â†’ 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-43" id="h17-5-43" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-44" id="h17-5-44" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 7) â†’ 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-45" id="h17-5-45" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-46" id="h17-5-46" class="i">+storage set mvcc:Version(sql:Index(index.float, 0), 7) â†’ 8,9 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-47" id="h17-5-47" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-5-48" id="h17-5-48" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 7) â†’ 4,5,6,7,8,9 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h17-5-49" id="h17-5-49" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-50" id="h17-5-50" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.float, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-51" id="h17-5-51" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-52" id="h17-5-52" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-5-53" id="h17-5-53" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(index, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h17-5-54" id="h17-5-54" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(index, 9)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
 
 # Float INFINITY is also indexed.
<a href="#h17-6" id="h17-6" class="h">@@ -180,66 +180,66 @@ storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 9 [&quot;\x00&quot; â†’ &quot;\t&quot;]
 storage set mvcc:TxnActive(8) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;&quot;]
<a href="#h17-6-3" id="h17-6-3" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(10))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-4" id="h17-6-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(10)), 8) â†’ Integer(10),Null,Null,Float(-inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h17-6-5" id="h17-6-5" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-6" id="h17-6-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-7" id="h17-6-7" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-8" id="h17-6-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-9" id="h17-6-9" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-10" id="h17-6-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf)), 8) â†’ Integer(10) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h17-6-11" id="h17-6-11" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-12" id="h17-6-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-13" id="h17-6-13" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(11))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-14" id="h17-6-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(11)), 8) â†’ Integer(11),Null,Null,Float(inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x05\x02\x16\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h17-6-15" id="h17-6-15" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-16" id="h17-6-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-17" id="h17-6-17" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-18" id="h17-6-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-19" id="h17-6-19" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-20" id="h17-6-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf)), 8) â†’ Integer(11) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h17-6-21" id="h17-6-21" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-22" id="h17-6-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-23" id="h17-6-23" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-24" id="h17-6-24" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h17-6-25" id="h17-6-25" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-26" id="h17-6-26" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-27" id="h17-6-27" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-28" id="h17-6-28" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(10))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h17-6-29" id="h17-6-29" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(11))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h17-6-30" id="h17-6-30" class="i">+storage set mvcc:TxnWrite(8, sql:Row(index, 10)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-31" id="h17-6-31" class="i">+storage set mvcc:Version(sql:Row(index, 10), 8) â†’ 10,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h17-6-32" id="h17-6-32" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-33" id="h17-6-33" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 8) â†’ 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-34" id="h17-6-34" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-35" id="h17-6-35" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 8) â†’ 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-36" id="h17-6-36" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, -inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-37" id="h17-6-37" class="i">+storage set mvcc:Version(sql:Index(index.float, -inf), 8) â†’ 10 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h17-6-38" id="h17-6-38" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-39" id="h17-6-39" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 8) â†’ 4,5,6,7,8,9,10 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h17-6-40" id="h17-6-40" class="i">+storage set mvcc:TxnWrite(8, sql:Row(index, 11)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-41" id="h17-6-41" class="i">+storage set mvcc:Version(sql:Row(index, 11), 8) â†’ 11,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x0f\x05\x02\x16\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h17-6-42" id="h17-6-42" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-43" id="h17-6-43" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 8) â†’ 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-44" id="h17-6-44" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-45" id="h17-6-45" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 8) â†’ 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-46" id="h17-6-46" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-47" id="h17-6-47" class="i">+storage set mvcc:Version(sql:Index(index.float, inf), 8) â†’ 11 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h17-6-48" id="h17-6-48" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-49" id="h17-6-49" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 8) â†’ 4,5,6,7,8,9,10,11 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h17-6-50" id="h17-6-50" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-51" id="h17-6-51" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h17-6-52" id="h17-6-52" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-53" id="h17-6-53" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-54" id="h17-6-54" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-55" id="h17-6-55" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(index, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h17-6-56" id="h17-6-56" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(index, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
 
 [ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (12, -INFINITY), (13, INFINITY)
 ---
 storage set mvcc:NextVersion â†’ 10 [&quot;\x00&quot; â†’ &quot;\n&quot;]
 storage set mvcc:TxnActive(9) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;&quot;]
<a href="#h17-6-63" id="h17-6-63" class="d">-storage set mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(12))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-64" id="h17-6-64" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(12)), 9) â†’ Integer(12),Null,Null,Float(-inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x0f\x05\x02\x18\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h17-6-65" id="h17-6-65" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-66" id="h17-6-66" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-67" id="h17-6-67" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-68" id="h17-6-68" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-69" id="h17-6-69" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-70" id="h17-6-70" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf)), 9) â†’ Integer(10),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x14\x02\x18&quot;]
</a><a href="#h17-6-71" id="h17-6-71" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-72" id="h17-6-72" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-73" id="h17-6-73" class="d">-storage set mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(13))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-74" id="h17-6-74" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(13)), 9) â†’ Integer(13),Null,Null,Float(inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x0f\x05\x02\x1a\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h17-6-75" id="h17-6-75" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-76" id="h17-6-76" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-77" id="h17-6-77" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-78" id="h17-6-78" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-79" id="h17-6-79" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-80" id="h17-6-80" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf)), 9) â†’ Integer(11),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x16\x02\x1a&quot;]
</a><a href="#h17-6-81" id="h17-6-81" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-82" id="h17-6-82" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 9) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-83" id="h17-6-83" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-84" id="h17-6-84" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h17-6-85" id="h17-6-85" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-86" id="h17-6-86" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-87" id="h17-6-87" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-88" id="h17-6-88" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(12))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h17-6-89" id="h17-6-89" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(13))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h17-6-90" id="h17-6-90" class="i">+storage set mvcc:TxnWrite(9, sql:Row(index, 12)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-91" id="h17-6-91" class="i">+storage set mvcc:Version(sql:Row(index, 12), 9) â†’ 12,NULL,NULL,-inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x0f\x05\x02\x18\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h17-6-92" id="h17-6-92" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-93" id="h17-6-93" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-94" id="h17-6-94" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-95" id="h17-6-95" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-96" id="h17-6-96" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.float, -inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-97" id="h17-6-97" class="i">+storage set mvcc:Version(sql:Index(index.float, -inf), 9) â†’ 10,12 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x14\x02\x18&quot;]
</a><a href="#h17-6-98" id="h17-6-98" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-99" id="h17-6-99" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h17-6-100" id="h17-6-100" class="i">+storage set mvcc:TxnWrite(9, sql:Row(index, 13)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-101" id="h17-6-101" class="i">+storage set mvcc:Version(sql:Row(index, 13), 9) â†’ 13,NULL,NULL,inf,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x0f\x05\x02\x1a\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h17-6-102" id="h17-6-102" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-103" id="h17-6-103" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-104" id="h17-6-104" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-105" id="h17-6-105" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-106" id="h17-6-106" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.float, inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-107" id="h17-6-107" class="i">+storage set mvcc:Version(sql:Index(index.float, inf), 9) â†’ 11,13 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x16\x02\x1a&quot;]
</a><a href="#h17-6-108" id="h17-6-108" class="i">+storage set mvcc:TxnWrite(9, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-6-109" id="h17-6-109" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 9) â†’ 4,5,6,7,8,9,10,11,12,13 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h17-6-110" id="h17-6-110" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-111" id="h17-6-111" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(index.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h17-6-112" id="h17-6-112" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(index.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-113" id="h17-6-113" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-114" id="h17-6-114" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-6-115" id="h17-6-115" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(index, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h17-6-116" id="h17-6-116" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(index, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
 
 # Empty strings are considered equal.
<a href="#h17-7" id="h17-7" class="h">@@ -247,32 +247,32 @@ storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 11 [&quot;\x00&quot; â†’ &quot;\x0b&quot;]
 storage set mvcc:TxnActive(10) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;&quot;]
<a href="#h17-7-3" id="h17-7-3" class="d">-storage set mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-4" id="h17-7-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(14)), 10) â†’ Integer(14),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x05\x02\x1c\x00\x00\x00\x04\x00&quot;]
</a><a href="#h17-7-5" id="h17-7-5" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-6" id="h17-7-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h17-7-7" id="h17-7-7" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-8" id="h17-7-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h17-7-9" id="h17-7-9" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-10" id="h17-7-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x1c&quot;]
</a><a href="#h17-7-11" id="h17-7-11" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-12" id="h17-7-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 10) â†’ Integer(3),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x1c&quot;]
</a><a href="#h17-7-13" id="h17-7-13" class="d">-storage set mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(15))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-14" id="h17-7-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(15)), 10) â†’ Integer(15),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x05\x02\x1e\x00\x00\x00\x04\x00&quot;]
</a><a href="#h17-7-15" id="h17-7-15" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-16" id="h17-7-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-17" id="h17-7-17" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-18" id="h17-7-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-19" id="h17-7-19" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-20" id="h17-7-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-21" id="h17-7-21" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-22" id="h17-7-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 10) â†’ Integer(3),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x06\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-23" id="h17-7-23" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-24" id="h17-7-24" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-25" id="h17-7-25" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-26" id="h17-7-26" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-27" id="h17-7-27" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot;]
</a><a href="#h17-7-28" id="h17-7-28" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(15))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot;]
</a><a href="#h17-7-29" id="h17-7-29" class="i">+storage set mvcc:TxnWrite(10, sql:Row(index, 14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-30" id="h17-7-30" class="i">+storage set mvcc:Version(sql:Row(index, 14), 10) â†’ 14,NULL,NULL,NULL,&quot;&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x05\x02\x1c\x00\x00\x00\x04\x00&quot;]
</a><a href="#h17-7-31" id="h17-7-31" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-32" id="h17-7-32" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 10) â†’ 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h17-7-33" id="h17-7-33" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-34" id="h17-7-34" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 10) â†’ 4,5,6,7,8,9,10,11,12,13,14 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h17-7-35" id="h17-7-35" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-36" id="h17-7-36" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 10) â†’ 4,5,14 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x1c&quot;]
</a><a href="#h17-7-37" id="h17-7-37" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.string, &quot;&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-38" id="h17-7-38" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;&quot;), 10) â†’ 3,14 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x1c&quot;]
</a><a href="#h17-7-39" id="h17-7-39" class="i">+storage set mvcc:TxnWrite(10, sql:Row(index, 15)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-40" id="h17-7-40" class="i">+storage set mvcc:Version(sql:Row(index, 15), 10) â†’ 15,NULL,NULL,NULL,&quot;&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x08\x05\x02\x1e\x00\x00\x00\x04\x00&quot;]
</a><a href="#h17-7-41" id="h17-7-41" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-42" id="h17-7-42" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 10) â†’ 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-43" id="h17-7-43" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-44" id="h17-7-44" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 10) â†’ 4,5,6,7,8,9,10,11,12,13,14,15 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-45" id="h17-7-45" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-46" id="h17-7-46" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 10) â†’ 4,5,14,15 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-47" id="h17-7-47" class="i">+storage set mvcc:TxnWrite(10, sql:Index(index.string, &quot;&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-7-48" id="h17-7-48" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;&quot;), 10) â†’ 3,14,15 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x06\x02\x1c\x02\x1e&quot;]
</a><a href="#h17-7-49" id="h17-7-49" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-50" id="h17-7-50" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-51" id="h17-7-51" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-52" id="h17-7-52" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(index.string, &quot;&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-7-53" id="h17-7-53" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(index, 14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot;]
</a><a href="#h17-7-54" id="h17-7-54" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(index, 15)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
 
 # Case differences are not considered equal
<a href="#h17-8" id="h17-8" class="h">@@ -280,31 +280,31 @@ storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 12 [&quot;\x00&quot; â†’ &quot;\x0c&quot;]
 storage set mvcc:TxnActive(11) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;&quot;]
<a href="#h17-8-3" id="h17-8-3" class="d">-storage set mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(16))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-4" id="h17-8-4" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(16)), 11) â†’ Integer(16),Null,Null,Null,String(&quot;case&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0c\x05\x02 \x00\x00\x00\x04\x04case&quot;]
</a><a href="#h17-8-5" id="h17-8-5" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-6" id="h17-8-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-7" id="h17-8-7" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-8" id="h17-8-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-9" id="h17-8-9" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-10" id="h17-8-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-11" id="h17-8-11" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-12" id="h17-8-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;)), 11) â†’ Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02 &quot;]
</a><a href="#h17-8-13" id="h17-8-13" class="d">-storage set mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(17))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-14" id="h17-8-14" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(17)), 11) â†’ Integer(17),Null,Null,Null,String(&quot;CaSe&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0c\x05\x02\&quot;\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h17-8-15" id="h17-8-15" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-16" id="h17-8-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-17" id="h17-8-17" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-18" id="h17-8-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-19" id="h17-8-19" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-20" id="h17-8-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-21" id="h17-8-21" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-22" id="h17-8-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 11) â†’ Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\&quot;&quot;]
</a><a href="#h17-8-23" id="h17-8-23" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-24" id="h17-8-24" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-25" id="h17-8-25" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-26" id="h17-8-26" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-27" id="h17-8-27" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-28" id="h17-8-28" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(16))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot;]
</a><a href="#h17-8-29" id="h17-8-29" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(17))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot;]
</a><a href="#h17-8-30" id="h17-8-30" class="i">+storage set mvcc:TxnWrite(11, sql:Row(index, 16)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-31" id="h17-8-31" class="i">+storage set mvcc:Version(sql:Row(index, 16), 11) â†’ 16,NULL,NULL,NULL,&quot;case&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0c\x05\x02 \x00\x00\x00\x04\x04case&quot;]
</a><a href="#h17-8-32" id="h17-8-32" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-33" id="h17-8-33" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 11) â†’ 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-34" id="h17-8-34" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-35" id="h17-8-35" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 11) â†’ 4,5,6,7,8,9,10,11,12,13,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-36" id="h17-8-36" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-37" id="h17-8-37" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 11) â†’ 4,5,14,15,16 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h17-8-38" id="h17-8-38" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.string, &quot;case&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-39" id="h17-8-39" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;case&quot;), 11) â†’ 16 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02 &quot;]
</a><a href="#h17-8-40" id="h17-8-40" class="i">+storage set mvcc:TxnWrite(11, sql:Row(index, 17)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-41" id="h17-8-41" class="i">+storage set mvcc:Version(sql:Row(index, 17), 11) â†’ 17,NULL,NULL,NULL,&quot;CaSe&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0c\x05\x02\&quot;\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h17-8-42" id="h17-8-42" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-43" id="h17-8-43" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 11) â†’ 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-44" id="h17-8-44" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-45" id="h17-8-45" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 11) â†’ 4,5,6,7,8,9,10,11,12,13,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-46" id="h17-8-46" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-47" id="h17-8-47" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 11) â†’ 4,5,14,15,16,17 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h17-8-48" id="h17-8-48" class="i">+storage set mvcc:TxnWrite(11, sql:Index(index.string, &quot;CaSe&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h17-8-49" id="h17-8-49" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;CaSe&quot;), 11) â†’ 17 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\&quot;&quot;]
</a><a href="#h17-8-50" id="h17-8-50" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-51" id="h17-8-51" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-52" id="h17-8-52" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-53" id="h17-8-53" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(index.string, &quot;CaSe&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-54" id="h17-8-54" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(index.string, &quot;case&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-8-55" id="h17-8-55" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(index, 16)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot;]
</a><a href="#h17-8-56" id="h17-8-56" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(index, 17)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
<b>diff --git a/<a id="h18" href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a> b/<a href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -28,21 +28,21 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 11 [&quot;\x00&quot; â†’ &quot;\x0b&quot;]
 storage set mvcc:TxnActive(10) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;&quot;]
<a href="#h18-0-3" id="h18-0-3" class="d">-storage set mvcc:TxnWrite(10, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-4" id="h18-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 10) â†’ Integer(1),Boolean(true),Integer(1),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h18-0-5" id="h18-0-5" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-6" id="h18-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true)), 10) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-7" id="h18-0-7" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-8" id="h18-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1)), 10) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-9" id="h18-0-9" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-10" id="h18-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14)), 10) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-11" id="h18-0-11" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-12" id="h18-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 10) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-13" id="h18-0-13" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h18-0-14" id="h18-0-14" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h18-0-15" id="h18-0-15" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-0-16" id="h18-0-16" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-0-17" id="h18-0-17" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-0-18" id="h18-0-18" class="i">+storage set mvcc:TxnWrite(10, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-19" id="h18-0-19" class="i">+storage set mvcc:Version(sql:Row(name, 1), 10) â†’ 1,TRUE,1,3.14,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h18-0-20" id="h18-0-20" class="i">+storage set mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-21" id="h18-0-21" class="i">+storage set mvcc:Version(sql:Index(name.bool, TRUE), 10) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-22" id="h18-0-22" class="i">+storage set mvcc:TxnWrite(10, sql:Index(name.int, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-23" id="h18-0-23" class="i">+storage set mvcc:Version(sql:Index(name.int, 1), 10) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-24" id="h18-0-24" class="i">+storage set mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-25" id="h18-0-25" class="i">+storage set mvcc:Version(sql:Index(name.float, 3.14), 10) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-26" id="h18-0-26" class="i">+storage set mvcc:TxnWrite(10, sql:Index(name.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-0-27" id="h18-0-27" class="i">+storage set mvcc:Version(sql:Index(name.string, &quot;foo&quot;), 10) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-0-28" id="h18-0-28" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h18-0-29" id="h18-0-29" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h18-0-30" id="h18-0-30" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-0-31" id="h18-0-31" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(name.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-0-32" id="h18-0-32" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
 
 # INSERTs error on missing references.
<a href="#h18-1" id="h18-1" class="h">@@ -61,21 +61,21 @@ Error: invalid input: reference bar not in table string
</a> ---
 storage set mvcc:NextVersion â†’ 16 [&quot;\x00&quot; â†’ &quot;\x10&quot;]
 storage set mvcc:TxnActive(15) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;&quot;]
<a href="#h18-1-3" id="h18-1-3" class="d">-storage set mvcc:TxnWrite(15, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-4" id="h18-1-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 15) â†’ Integer(2),Null,Null,Float(0.0),Null [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h18-1-5" id="h18-1-5" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-6" id="h18-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Null), 15) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-7" id="h18-1-7" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-8" id="h18-1-8" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Null), 15) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-9" id="h18-1-9" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-10" id="h18-1-10" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(0.0)), 15) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-11" id="h18-1-11" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-12" id="h18-1-12" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, Null), 15) â†’ Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-13" id="h18-1-13" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-14" id="h18-1-14" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-15" id="h18-1-15" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-16" id="h18-1-16" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-17" id="h18-1-17" class="d">-storage delete mvcc:TxnWrite(15, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h18-1-18" id="h18-1-18" class="i">+storage set mvcc:TxnWrite(15, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-19" id="h18-1-19" class="i">+storage set mvcc:Version(sql:Row(name, 2), 15) â†’ 2,NULL,NULL,0,NULL [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h18-1-20" id="h18-1-20" class="i">+storage set mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-21" id="h18-1-21" class="i">+storage set mvcc:Version(sql:Index(name.bool, NULL), 15) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-22" id="h18-1-22" class="i">+storage set mvcc:TxnWrite(15, sql:Index(name.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-23" id="h18-1-23" class="i">+storage set mvcc:Version(sql:Index(name.int, NULL), 15) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-24" id="h18-1-24" class="i">+storage set mvcc:TxnWrite(15, sql:Index(name.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-25" id="h18-1-25" class="i">+storage set mvcc:Version(sql:Index(name.float, 0), 15) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-26" id="h18-1-26" class="i">+storage set mvcc:TxnWrite(15, sql:Index(name.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-1-27" id="h18-1-27" class="i">+storage set mvcc:Version(sql:Index(name.string, NULL), 15) â†’ 2 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h18-1-28" id="h18-1-28" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-29" id="h18-1-29" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(name.float, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-30" id="h18-1-30" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-31" id="h18-1-31" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-1-32" id="h18-1-32" class="i">+storage delete mvcc:TxnWrite(15, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
 
 # NaN is not valid as a missing reference marker.
<a href="#h18-2" id="h18-2" class="h">@@ -120,36 +120,36 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 23 [&quot;\x00&quot; â†’ &quot;\x17&quot;]
 storage set mvcc:TxnActive(22) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;&quot;]
<a href="#h18-2-3" id="h18-2-3" class="d">-storage set mvcc:TxnWrite(22, sql:Row(&quot;self&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-4" id="h18-2-4" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 22) â†’ Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h18-2-5" id="h18-2-5" class="d">-storage set mvcc:TxnWrite(22, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-6" id="h18-2-6" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 22) â†’ Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-2-7" id="h18-2-7" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-2-8" id="h18-2-8" class="d">-storage delete mvcc:TxnWrite(22, sql:Row(&quot;self&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-2-9" id="h18-2-9" class="i">+storage set mvcc:TxnWrite(22, sql:Row(self, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-10" id="h18-2-10" class="i">+storage set mvcc:Version(sql:Row(self, 1), 22) â†’ 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h18-2-11" id="h18-2-11" class="i">+storage set mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-12" id="h18-2-12" class="i">+storage set mvcc:Version(sql:Index(self.self_id, 1), 22) â†’ 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h18-2-13" id="h18-2-13" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-2-14" id="h18-2-14" class="i">+storage delete mvcc:TxnWrite(22, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
 
 [ops]&gt; INSERT INTO self VALUES (2, 1)
 ---
 storage set mvcc:NextVersion â†’ 24 [&quot;\x00&quot; â†’ &quot;\x18&quot;]
 storage set mvcc:TxnActive(23) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;&quot;]
<a href="#h18-2-21" id="h18-2-21" class="d">-storage set mvcc:TxnWrite(23, sql:Row(&quot;self&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-22" id="h18-2-22" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 23) â†’ Integer(2),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h18-2-23" id="h18-2-23" class="d">-storage set mvcc:TxnWrite(23, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-24" id="h18-2-24" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 23) â†’ Integer(1),Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h18-2-25" id="h18-2-25" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-2-26" id="h18-2-26" class="d">-storage delete mvcc:TxnWrite(23, sql:Row(&quot;self&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h18-2-27" id="h18-2-27" class="i">+storage set mvcc:TxnWrite(23, sql:Row(self, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-28" id="h18-2-28" class="i">+storage set mvcc:Version(sql:Row(self, 2), 23) â†’ 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h18-2-29" id="h18-2-29" class="i">+storage set mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-30" id="h18-2-30" class="i">+storage set mvcc:Version(sql:Index(self.self_id, 1), 23) â†’ 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h18-2-31" id="h18-2-31" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h18-2-32" id="h18-2-32" class="i">+storage delete mvcc:TxnWrite(23, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
 
 [ops]&gt; INSERT INTO self VALUES (3, NULL)
 ---
 storage set mvcc:NextVersion â†’ 25 [&quot;\x00&quot; â†’ &quot;\x19&quot;]
 storage set mvcc:TxnActive(24) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;&quot;]
<a href="#h18-2-39" id="h18-2-39" class="d">-storage set mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-40" id="h18-2-40" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 24) â†’ Integer(3),Null [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x04\x02\x02\x06\x00&quot;]
</a><a href="#h18-2-41" id="h18-2-41" class="d">-storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-42" id="h18-2-42" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 24) â†’ Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h18-2-43" id="h18-2-43" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-2-44" id="h18-2-44" class="d">-storage delete mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h18-2-45" id="h18-2-45" class="i">+storage set mvcc:TxnWrite(24, sql:Row(self, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-46" id="h18-2-46" class="i">+storage set mvcc:Version(sql:Row(self, 3), 24) â†’ 3,NULL [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x04\x02\x02\x06\x00&quot;]
</a><a href="#h18-2-47" id="h18-2-47" class="i">+storage set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h18-2-48" id="h18-2-48" class="i">+storage set mvcc:Version(sql:Index(self.self_id, NULL), 24) â†’ 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h18-2-49" id="h18-2-49" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h18-2-50" id="h18-2-50" class="i">+storage delete mvcc:TxnWrite(24, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
 
 !&gt; INSERT INTO self VALUES (4, 9)
<b>diff --git a/<a id="h19" href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a> b/<a href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -15,21 +15,21 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 3 [&quot;\x00&quot; â†’ &quot;\x03&quot;]
 storage set mvcc:TxnActive(2) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;&quot;]
<a href="#h19-0-3" id="h19-0-3" class="d">-storage set mvcc:TxnWrite(2, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-4" id="h19-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 2) â†’ Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h19-0-5" id="h19-0-5" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-6" id="h19-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 2) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-7" id="h19-0-7" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-8" id="h19-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7)), 2) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-9" id="h19-0-9" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-10" id="h19-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14)), 2) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-11" id="h19-0-11" class="d">-storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-12" id="h19-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 2) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-13" id="h19-0-13" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h19-0-14" id="h19-0-14" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h19-0-15" id="h19-0-15" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h19-0-16" id="h19-0-16" class="d">-storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-0-17" id="h19-0-17" class="d">-storage delete mvcc:TxnWrite(2, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h19-0-18" id="h19-0-18" class="i">+storage set mvcc:TxnWrite(2, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-19" id="h19-0-19" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 2) â†’ 1,TRUE,7,3.14,&quot;foo&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h19-0-20" id="h19-0-20" class="i">+storage set mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-21" id="h19-0-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, TRUE), 2) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-22" id="h19-0-22" class="i">+storage set mvcc:TxnWrite(2, sql:Index(unique.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-23" id="h19-0-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, 7), 2) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-24" id="h19-0-24" class="i">+storage set mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-25" id="h19-0-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, 3.14), 2) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-26" id="h19-0-26" class="i">+storage set mvcc:TxnWrite(2, sql:Index(unique.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-0-27" id="h19-0-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;foo&quot;), 2) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h19-0-28" id="h19-0-28" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h19-0-29" id="h19-0-29" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h19-0-30" id="h19-0-30" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(unique.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h19-0-31" id="h19-0-31" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(unique.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-0-32" id="h19-0-32" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
 
 # Another insert with the same values errors for all indexes.
<a href="#h19-1" id="h19-1" class="h">@@ -48,21 +48,21 @@ Error: invalid input: value foo already in unique column string
</a> ---
 storage set mvcc:NextVersion â†’ 8 [&quot;\x00&quot; â†’ &quot;\x08&quot;]
 storage set mvcc:TxnActive(7) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;&quot;]
<a href="#h19-1-3" id="h19-1-3" class="d">-storage set mvcc:TxnWrite(7, sql:Row(&quot;unique&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-4" id="h19-1-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(3)), 7) â†’ Integer(3),Boolean(false),Integer(0),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h19-1-5" id="h19-1-5" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-6" id="h19-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false)), 7) â†’ Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-7" id="h19-1-7" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-8" id="h19-1-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0)), 7) â†’ Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-9" id="h19-1-9" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-10" id="h19-1-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 7) â†’ Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-11" id="h19-1-11" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-12" id="h19-1-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 7) â†’ Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-13" id="h19-1-13" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-14" id="h19-1-14" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h19-1-15" id="h19-1-15" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-16" id="h19-1-16" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-17" id="h19-1-17" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(&quot;unique&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h19-1-18" id="h19-1-18" class="i">+storage set mvcc:TxnWrite(7, sql:Row(unique, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-19" id="h19-1-19" class="i">+storage set mvcc:Version(sql:Row(unique, 3), 7) â†’ 3,FALSE,0,2.718,&quot;bar&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h19-1-20" id="h19-1-20" class="i">+storage set mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-21" id="h19-1-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, FALSE), 7) â†’ 3 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-22" id="h19-1-22" class="i">+storage set mvcc:TxnWrite(7, sql:Index(unique.int, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-23" id="h19-1-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, 0), 7) â†’ 3 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-24" id="h19-1-24" class="i">+storage set mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-25" id="h19-1-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, 2.718), 7) â†’ 3 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-26" id="h19-1-26" class="i">+storage set mvcc:TxnWrite(7, sql:Index(unique.string, &quot;bar&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-1-27" id="h19-1-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;bar&quot;), 7) â†’ 3 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h19-1-28" id="h19-1-28" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-29" id="h19-1-29" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h19-1-30" id="h19-1-30" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(unique.int, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-31" id="h19-1-31" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(unique.string, &quot;bar&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-1-32" id="h19-1-32" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(unique, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
 
 # Inserts with NULLS adds NULL entries. Duplicates are allowed
<a href="#h19-2" id="h19-2" class="h">@@ -70,42 +70,42 @@ storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 9 [&quot;\x00&quot; â†’ &quot;\t&quot;]
 storage set mvcc:TxnActive(8) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;&quot;]
<a href="#h19-2-3" id="h19-2-3" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;unique&quot;, Integer(4))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-4" id="h19-2-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(4)), 8) â†’ Integer(4),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h19-2-5" id="h19-2-5" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-6" id="h19-2-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 8) â†’ Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-7" id="h19-2-7" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-8" id="h19-2-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 8) â†’ Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-9" id="h19-2-9" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-10" id="h19-2-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 8) â†’ Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-11" id="h19-2-11" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-12" id="h19-2-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 8) â†’ Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-13" id="h19-2-13" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-14" id="h19-2-14" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-15" id="h19-2-15" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-16" id="h19-2-16" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-17" id="h19-2-17" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;unique&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h19-2-18" id="h19-2-18" class="i">+storage set mvcc:TxnWrite(8, sql:Row(unique, 4)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-19" id="h19-2-19" class="i">+storage set mvcc:Version(sql:Row(unique, 4), 8) â†’ 4,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h19-2-20" id="h19-2-20" class="i">+storage set mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-21" id="h19-2-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 8) â†’ 4 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-22" id="h19-2-22" class="i">+storage set mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-23" id="h19-2-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 8) â†’ 4 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-24" id="h19-2-24" class="i">+storage set mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-25" id="h19-2-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 8) â†’ 4 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-26" id="h19-2-26" class="i">+storage set mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-27" id="h19-2-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 8) â†’ 4 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h19-2-28" id="h19-2-28" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-29" id="h19-2-29" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-30" id="h19-2-30" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-31" id="h19-2-31" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-32" id="h19-2-32" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(unique, 4)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
 
 [ops]&gt; INSERT INTO &quot;unique&quot; VALUES (5)
 ---
 storage set mvcc:NextVersion â†’ 10 [&quot;\x00&quot; â†’ &quot;\n&quot;]
 storage set mvcc:TxnActive(9) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;&quot;]
<a href="#h19-2-39" id="h19-2-39" class="d">-storage set mvcc:TxnWrite(9, sql:Row(&quot;unique&quot;, Integer(5))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-40" id="h19-2-40" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(5)), 9) â†’ Integer(5),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h19-2-41" id="h19-2-41" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-42" id="h19-2-42" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 9) â†’ Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-43" id="h19-2-43" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-44" id="h19-2-44" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 9) â†’ Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-45" id="h19-2-45" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-46" id="h19-2-46" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 9) â†’ Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-47" id="h19-2-47" class="d">-storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-48" id="h19-2-48" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 9) â†’ Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-49" id="h19-2-49" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-50" id="h19-2-50" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-51" id="h19-2-51" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-52" id="h19-2-52" class="d">-storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-53" id="h19-2-53" class="d">-storage delete mvcc:TxnWrite(9, sql:Row(&quot;unique&quot;, Integer(5))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h19-2-54" id="h19-2-54" class="i">+storage set mvcc:TxnWrite(9, sql:Row(unique, 5)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-55" id="h19-2-55" class="i">+storage set mvcc:Version(sql:Row(unique, 5), 9) â†’ 5,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h19-2-56" id="h19-2-56" class="i">+storage set mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-57" id="h19-2-57" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 9) â†’ 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-58" id="h19-2-58" class="i">+storage set mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-59" id="h19-2-59" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 9) â†’ 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-60" id="h19-2-60" class="i">+storage set mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-61" id="h19-2-61" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 9) â†’ 4,5 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-62" id="h19-2-62" class="i">+storage set mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-2-63" id="h19-2-63" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 9) â†’ 4,5 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; â†’ &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h19-2-64" id="h19-2-64" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-65" id="h19-2-65" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-66" id="h19-2-66" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-67" id="h19-2-67" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-2-68" id="h19-2-68" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(unique, 5)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
 
 # Float NaNs are considered different and allowed.
<a href="#h19-3" id="h19-3" class="h">@@ -113,42 +113,42 @@ storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 11 [&quot;\x00&quot; â†’ &quot;\x0b&quot;]
 storage set mvcc:TxnActive(10) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;&quot;]
<a href="#h19-3-3" id="h19-3-3" class="d">-storage set mvcc:TxnWrite(10, sql:Row(&quot;unique&quot;, Integer(6))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-4" id="h19-3-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(6)), 10) â†’ Integer(6),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h19-3-5" id="h19-3-5" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-6" id="h19-3-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-7" id="h19-3-7" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-8" id="h19-3-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-9" id="h19-3-9" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-10" id="h19-3-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 10) â†’ Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h19-3-11" id="h19-3-11" class="d">-storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-12" id="h19-3-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 10) â†’ Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-13" id="h19-3-13" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-14" id="h19-3-14" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-15" id="h19-3-15" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-16" id="h19-3-16" class="d">-storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-17" id="h19-3-17" class="d">-storage delete mvcc:TxnWrite(10, sql:Row(&quot;unique&quot;, Integer(6))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h19-3-18" id="h19-3-18" class="i">+storage set mvcc:TxnWrite(10, sql:Row(unique, 6)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-19" id="h19-3-19" class="i">+storage set mvcc:Version(sql:Row(unique, 6), 10) â†’ 6,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h19-3-20" id="h19-3-20" class="i">+storage set mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-21" id="h19-3-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 10) â†’ 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-22" id="h19-3-22" class="i">+storage set mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-23" id="h19-3-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 10) â†’ 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-24" id="h19-3-24" class="i">+storage set mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-25" id="h19-3-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 10) â†’ 6 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h19-3-26" id="h19-3-26" class="i">+storage set mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-27" id="h19-3-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 10) â†’ 4,5,6 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h19-3-28" id="h19-3-28" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-29" id="h19-3-29" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-30" id="h19-3-30" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-31" id="h19-3-31" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-32" id="h19-3-32" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(unique, 6)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
 
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (7, NAN)
 ---
 storage set mvcc:NextVersion â†’ 12 [&quot;\x00&quot; â†’ &quot;\x0c&quot;]
 storage set mvcc:TxnActive(11) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;&quot;]
<a href="#h19-3-39" id="h19-3-39" class="d">-storage set mvcc:TxnWrite(11, sql:Row(&quot;unique&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-40" id="h19-3-40" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(7)), 11) â†’ Integer(7),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h19-3-41" id="h19-3-41" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-42" id="h19-3-42" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-43" id="h19-3-43" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-44" id="h19-3-44" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-45" id="h19-3-45" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-46" id="h19-3-46" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 11) â†’ Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-47" id="h19-3-47" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-48" id="h19-3-48" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 11) â†’ Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-49" id="h19-3-49" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-50" id="h19-3-50" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-51" id="h19-3-51" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-52" id="h19-3-52" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-53" id="h19-3-53" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(&quot;unique&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h19-3-54" id="h19-3-54" class="i">+storage set mvcc:TxnWrite(11, sql:Row(unique, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-55" id="h19-3-55" class="i">+storage set mvcc:Version(sql:Row(unique, 7), 11) â†’ 7,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h19-3-56" id="h19-3-56" class="i">+storage set mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-57" id="h19-3-57" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 11) â†’ 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-58" id="h19-3-58" class="i">+storage set mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-59" id="h19-3-59" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 11) â†’ 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-60" id="h19-3-60" class="i">+storage set mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-61" id="h19-3-61" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 11) â†’ 6,7 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-62" id="h19-3-62" class="i">+storage set mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-3-63" id="h19-3-63" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 11) â†’ 4,5,6,7 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h19-3-64" id="h19-3-64" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-65" id="h19-3-65" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-66" id="h19-3-66" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-67" id="h19-3-67" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-3-68" id="h19-3-68" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(unique, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
 
 # Float 0.0 and -0.0 are considered equal.
<a href="#h19-4" id="h19-4" class="h">@@ -156,21 +156,21 @@ storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 13 [&quot;\x00&quot; â†’ &quot;\r&quot;]
 storage set mvcc:TxnActive(12) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;&quot;]
<a href="#h19-4-3" id="h19-4-3" class="d">-storage set mvcc:TxnWrite(12, sql:Row(&quot;unique&quot;, Integer(8))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-4" id="h19-4-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(8)), 12) â†’ Integer(8),Null,Null,Float(0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h19-4-5" id="h19-4-5" class="d">-storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-6" id="h19-4-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 12) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-7" id="h19-4-7" class="d">-storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-8" id="h19-4-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 12) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-9" id="h19-4-9" class="d">-storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-10" id="h19-4-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 12) â†’ Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h19-4-11" id="h19-4-11" class="d">-storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-12" id="h19-4-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 12) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-13" id="h19-4-13" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-14" id="h19-4-14" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-15" id="h19-4-15" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-16" id="h19-4-16" class="d">-storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-17" id="h19-4-17" class="d">-storage delete mvcc:TxnWrite(12, sql:Row(&quot;unique&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h19-4-18" id="h19-4-18" class="i">+storage set mvcc:TxnWrite(12, sql:Row(unique, 8)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-19" id="h19-4-19" class="i">+storage set mvcc:Version(sql:Row(unique, 8), 12) â†’ 8,NULL,NULL,0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h19-4-20" id="h19-4-20" class="i">+storage set mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-21" id="h19-4-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 12) â†’ 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-22" id="h19-4-22" class="i">+storage set mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-23" id="h19-4-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 12) â†’ 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-24" id="h19-4-24" class="i">+storage set mvcc:TxnWrite(12, sql:Index(unique.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-25" id="h19-4-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, 0), 12) â†’ 8 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h19-4-26" id="h19-4-26" class="i">+storage set mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-4-27" id="h19-4-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 12) â†’ 4,5,6,7,8 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h19-4-28" id="h19-4-28" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-29" id="h19-4-29" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(unique.float, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-30" id="h19-4-30" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-31" id="h19-4-31" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-4-32" id="h19-4-32" class="i">+storage delete mvcc:TxnWrite(12, sql:Row(unique, 8)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(12) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot;]
 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (9, 0.0)
<a href="#h19-5" id="h19-5" class="h">@@ -182,21 +182,21 @@ Error: invalid input: value 0 already in unique column float
</a> ---
 storage set mvcc:NextVersion â†’ 15 [&quot;\x00&quot; â†’ &quot;\x0f&quot;]
 storage set mvcc:TxnActive(14) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;&quot;]
<a href="#h19-5-3" id="h19-5-3" class="d">-storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(10))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-4" id="h19-5-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(10)), 14) â†’ Integer(10),Null,Null,Float(inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h19-5-5" id="h19-5-5" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-6" id="h19-5-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 14) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-7" id="h19-5-7" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-8" id="h19-5-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 14) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-9" id="h19-5-9" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-10" id="h19-5-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf)), 14) â†’ Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h19-5-11" id="h19-5-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-12" id="h19-5-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 14) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-13" id="h19-5-13" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-14" id="h19-5-14" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-15" id="h19-5-15" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-16" id="h19-5-16" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-17" id="h19-5-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(10))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h19-5-18" id="h19-5-18" class="i">+storage set mvcc:TxnWrite(14, sql:Row(unique, 10)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-19" id="h19-5-19" class="i">+storage set mvcc:Version(sql:Row(unique, 10), 14) â†’ 10,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h19-5-20" id="h19-5-20" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-21" id="h19-5-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 14) â†’ 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-22" id="h19-5-22" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-23" id="h19-5-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 14) â†’ 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-24" id="h19-5-24" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.float, inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-25" id="h19-5-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, inf), 14) â†’ 10 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h19-5-26" id="h19-5-26" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-5-27" id="h19-5-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 14) â†’ 4,5,6,7,8,10 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14&quot;]
</a><a href="#h19-5-28" id="h19-5-28" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-29" id="h19-5-29" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-30" id="h19-5-30" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-31" id="h19-5-31" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-5-32" id="h19-5-32" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(unique, 10)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (11, INFINITY)
<a href="#h19-6" id="h19-6" class="h">@@ -208,21 +208,21 @@ Error: invalid input: value inf already in unique column float
</a> ---
 storage set mvcc:NextVersion â†’ 17 [&quot;\x00&quot; â†’ &quot;\x11&quot;]
 storage set mvcc:TxnActive(16) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;&quot;]
<a href="#h19-6-3" id="h19-6-3" class="d">-storage set mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(11))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-4" id="h19-6-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(11)), 16) â†’ Integer(11),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x08\x05\x02\x16\x00\x00\x00\x04\x00&quot;]
</a><a href="#h19-6-5" id="h19-6-5" class="d">-storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-6" id="h19-6-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 16) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h19-6-7" id="h19-6-7" class="d">-storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-8" id="h19-6-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 16) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h19-6-9" id="h19-6-9" class="d">-storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-10" id="h19-6-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 16) â†’ Integer(4),Integer(5),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x16&quot;]
</a><a href="#h19-6-11" id="h19-6-11" class="d">-storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-12" id="h19-6-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;)), 16) â†’ Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h19-6-13" id="h19-6-13" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-14" id="h19-6-14" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-15" id="h19-6-15" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-16" id="h19-6-16" class="d">-storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-17" id="h19-6-17" class="d">-storage delete mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(11))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h19-6-18" id="h19-6-18" class="i">+storage set mvcc:TxnWrite(16, sql:Row(unique, 11)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-19" id="h19-6-19" class="i">+storage set mvcc:Version(sql:Row(unique, 11), 16) â†’ 11,NULL,NULL,NULL,&quot;&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x08\x05\x02\x16\x00\x00\x00\x04\x00&quot;]
</a><a href="#h19-6-20" id="h19-6-20" class="i">+storage set mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-21" id="h19-6-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 16) â†’ 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h19-6-22" id="h19-6-22" class="i">+storage set mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-23" id="h19-6-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 16) â†’ 4,5,6,7,8,10,11 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16&quot;]
</a><a href="#h19-6-24" id="h19-6-24" class="i">+storage set mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-25" id="h19-6-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 16) â†’ 4,5,11 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x07\x03\x02\x08\x02\n\x02\x16&quot;]
</a><a href="#h19-6-26" id="h19-6-26" class="i">+storage set mvcc:TxnWrite(16, sql:Index(unique.string, &quot;&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-6-27" id="h19-6-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;&quot;), 16) â†’ 11 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; â†’ &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h19-6-28" id="h19-6-28" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-29" id="h19-6-29" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-30" id="h19-6-30" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-31" id="h19-6-31" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(unique.string, &quot;&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-6-32" id="h19-6-32" class="i">+storage delete mvcc:TxnWrite(16, sql:Row(unique, 11)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
 
 !&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (12, &#39;&#39;)
<a href="#h19-7" id="h19-7" class="h">@@ -234,40 +234,40 @@ Error: invalid input: value  already in unique column string
</a> ---
 storage set mvcc:NextVersion â†’ 19 [&quot;\x00&quot; â†’ &quot;\x13&quot;]
 storage set mvcc:TxnActive(18) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;&quot;]
<a href="#h19-7-3" id="h19-7-3" class="d">-storage set mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(12))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-4" id="h19-7-4" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(12)), 18) â†’ Integer(12),Null,Null,Null,String(&quot;case&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x0c\x05\x02\x18\x00\x00\x00\x04\x04case&quot;]
</a><a href="#h19-7-5" id="h19-7-5" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-6" id="h19-7-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 18) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-7" id="h19-7-7" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-8" id="h19-7-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 18) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-9" id="h19-7-9" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-10" id="h19-7-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 18) â†’ Integer(4),Integer(5),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-11" id="h19-7-11" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-12" id="h19-7-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;)), 18) â†’ Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x18&quot;]
</a><a href="#h19-7-13" id="h19-7-13" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-14" id="h19-7-14" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-15" id="h19-7-15" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-16" id="h19-7-16" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-17" id="h19-7-17" class="d">-storage delete mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(12))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h19-7-18" id="h19-7-18" class="i">+storage set mvcc:TxnWrite(18, sql:Row(unique, 12)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-19" id="h19-7-19" class="i">+storage set mvcc:Version(sql:Row(unique, 12), 18) â†’ 12,NULL,NULL,NULL,&quot;case&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x0c\x05\x02\x18\x00\x00\x00\x04\x04case&quot;]
</a><a href="#h19-7-20" id="h19-7-20" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-21" id="h19-7-21" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 18) â†’ 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-22" id="h19-7-22" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-23" id="h19-7-23" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 18) â†’ 4,5,6,7,8,10,11,12 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-24" id="h19-7-24" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-25" id="h19-7-25" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 18) â†’ 4,5,11,12 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\t\x04\x02\x08\x02\n\x02\x16\x02\x18&quot;]
</a><a href="#h19-7-26" id="h19-7-26" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.string, &quot;case&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-27" id="h19-7-27" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;case&quot;), 18) â†’ 12 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x18&quot;]
</a><a href="#h19-7-28" id="h19-7-28" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-29" id="h19-7-29" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-30" id="h19-7-30" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-31" id="h19-7-31" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.string, &quot;case&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-32" id="h19-7-32" class="i">+storage delete mvcc:TxnWrite(18, sql:Row(unique, 12)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
 
 [ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (13, &#39;CaSe&#39;)
 ---
 storage set mvcc:NextVersion â†’ 20 [&quot;\x00&quot; â†’ &quot;\x14&quot;]
 storage set mvcc:TxnActive(19) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;&quot;]
<a href="#h19-7-39" id="h19-7-39" class="d">-storage set mvcc:TxnWrite(19, sql:Row(&quot;unique&quot;, Integer(13))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-40" id="h19-7-40" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(13)), 19) â†’ Integer(13),Null,Null,Null,String(&quot;CaSe&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x0c\x05\x02\x1a\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h19-7-41" id="h19-7-41" class="d">-storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-42" id="h19-7-42" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 19) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-43" id="h19-7-43" class="d">-storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-44" id="h19-7-44" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 19) â†’ Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-45" id="h19-7-45" class="d">-storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-46" id="h19-7-46" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 19) â†’ Integer(4),Integer(5),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-47" id="h19-7-47" class="d">-storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-48" id="h19-7-48" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 19) â†’ Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x03\x01\x02\x1a&quot;]
</a><a href="#h19-7-49" id="h19-7-49" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-50" id="h19-7-50" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-51" id="h19-7-51" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-52" id="h19-7-52" class="d">-storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-53" id="h19-7-53" class="d">-storage delete mvcc:TxnWrite(19, sql:Row(&quot;unique&quot;, Integer(13))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h19-7-54" id="h19-7-54" class="i">+storage set mvcc:TxnWrite(19, sql:Row(unique, 13)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-55" id="h19-7-55" class="i">+storage set mvcc:Version(sql:Row(unique, 13), 19) â†’ 13,NULL,NULL,NULL,&quot;CaSe&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x0c\x05\x02\x1a\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h19-7-56" id="h19-7-56" class="i">+storage set mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-57" id="h19-7-57" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 19) â†’ 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-58" id="h19-7-58" class="i">+storage set mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-59" id="h19-7-59" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 19) â†’ 4,5,6,7,8,10,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-60" id="h19-7-60" class="i">+storage set mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-61" id="h19-7-61" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 19) â†’ 4,5,11,12,13 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h19-7-62" id="h19-7-62" class="i">+storage set mvcc:TxnWrite(19, sql:Index(unique.string, &quot;CaSe&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h19-7-63" id="h19-7-63" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;CaSe&quot;), 19) â†’ 13 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; â†’ &quot;\x01\x03\x01\x02\x1a&quot;]
</a><a href="#h19-7-64" id="h19-7-64" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-65" id="h19-7-65" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-66" id="h19-7-66" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-67" id="h19-7-67" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(unique.string, &quot;CaSe&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h19-7-68" id="h19-7-68" class="i">+storage delete mvcc:TxnWrite(19, sql:Row(unique, 13)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(19) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot;]
<b>diff --git a/<a id="h20" href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a> b/<a href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -13,12 +13,12 @@ Update: name (value=foo)
</a> Update { count: 2 }
 storage set mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 storage set mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h20-0-3" id="h20-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h20-0-4" id="h20-0-4" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ Integer(1),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h20-0-5" id="h20-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h20-0-6" id="h20-0-6" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ Integer(2),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h20-0-7" id="h20-0-7" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-8" id="h20-0-8" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h20-0-9" id="h20-0-9" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h20-0-10" id="h20-0-10" class="i">+storage set mvcc:Version(sql:Row(name, 1), 3) â†’ 1,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h20-0-11" id="h20-0-11" class="i">+storage set mvcc:TxnWrite(3, sql:Row(name, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h20-0-12" id="h20-0-12" class="i">+storage set mvcc:Version(sql:Row(name, 2), 3) â†’ 2,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h20-0-13" id="h20-0-13" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-14" id="h20-0-14" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(name, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 &gt; SELECT * FROM name
<a href="#h20-1" id="h20-1" class="h">@@ -29,11 +29,11 @@ storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> dump
 ---
 mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
<a href="#h20-1-3" id="h20-1-3" class="d">-mvcc:Version(sql:Table(&quot;name&quot;), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h20-1-4" id="h20-1-4" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) â†’ Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h20-1-5" id="h20-1-5" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) â†’ Integer(1),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h20-1-6" id="h20-1-6" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) â†’ Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h20-1-7" id="h20-1-7" class="d">-mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) â†’ Integer(2),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h20-1-8" id="h20-1-8" class="i">+mvcc:Version(sql:Table(name), 1) â†’ CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; â†’ &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h20-1-9" id="h20-1-9" class="i">+mvcc:Version(sql:Row(name, 1), 2) â†’ 1,&quot;a&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h20-1-10" id="h20-1-10" class="i">+mvcc:Version(sql:Row(name, 1), 3) â†’ 1,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h20-1-11" id="h20-1-11" class="i">+mvcc:Version(sql:Row(name, 2), 2) â†’ 2,&quot;b&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; â†’ &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h20-1-12" id="h20-1-12" class="i">+mvcc:Version(sql:Row(name, 2), 3) â†’ 2,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a> 
 # Bare UPDATE errors.
 !&gt; UPDATE
<b>diff --git a/<a id="h21" href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a> b/<a href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -16,33 +16,33 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 4 [&quot;\x00&quot; â†’ &quot;\x04&quot;]
 storage set mvcc:TxnActive(3) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;&quot;]
<a href="#h21-0-3" id="h21-0-3" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-4" id="h21-0-4" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-5" id="h21-0-5" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-6" id="h21-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 3) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-7" id="h21-0-7" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-8" id="h21-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-9" id="h21-0-9" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-10" id="h21-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1)), 3) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-11" id="h21-0-11" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-12" id="h21-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-13" id="h21-0-13" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-14" id="h21-0-14" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 3) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-15" id="h21-0-15" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-16" id="h21-0-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-17" id="h21-0-17" class="d">-storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-18" id="h21-0-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 3) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-19" id="h21-0-19" class="d">-storage set mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-20" id="h21-0-20" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 3) â†’ Integer(1),Boolean(false),Integer(1),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x00\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h21-0-21" id="h21-0-21" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-22" id="h21-0-22" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-0-23" id="h21-0-23" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-0-24" id="h21-0-24" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-0-25" id="h21-0-25" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-26" id="h21-0-26" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-0-27" id="h21-0-27" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-28" id="h21-0-28" class="d">-storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-29" id="h21-0-29" class="d">-storage delete mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-30" id="h21-0-30" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-31" id="h21-0-31" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-32" id="h21-0-32" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-33" id="h21-0-33" class="i">+storage set mvcc:Version(sql:Index(index.bool, FALSE), 3) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-34" id="h21-0-34" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-35" id="h21-0-35" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-36" id="h21-0-36" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.int, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-37" id="h21-0-37" class="i">+storage set mvcc:Version(sql:Index(index.int, 1), 3) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-38" id="h21-0-38" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-39" id="h21-0-39" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-40" id="h21-0-40" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-41" id="h21-0-41" class="i">+storage set mvcc:Version(sql:Index(index.float, 2.718), 3) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-42" id="h21-0-42" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-43" id="h21-0-43" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 3) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-0-44" id="h21-0-44" class="i">+storage set mvcc:TxnWrite(3, sql:Index(index.string, &quot;bar&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-45" id="h21-0-45" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;bar&quot;), 3) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-46" id="h21-0-46" class="i">+storage set mvcc:TxnWrite(3, sql:Row(index, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-0-47" id="h21-0-47" class="i">+storage set mvcc:Version(sql:Row(index, 1), 3) â†’ 1,FALSE,1,2.718,&quot;bar&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x00\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h21-0-48" id="h21-0-48" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-49" id="h21-0-49" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-0-50" id="h21-0-50" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-0-51" id="h21-0-51" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-0-52" id="h21-0-52" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-53" id="h21-0-53" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-0-54" id="h21-0-54" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.string, &quot;bar&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-55" id="h21-0-55" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(index.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-56" id="h21-0-56" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
 
 # A single-field update only updates the relevant index.
<a href="#h21-1" id="h21-1" class="h">@@ -50,15 +50,15 @@ storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 5 [&quot;\x00&quot; â†’ &quot;\x05&quot;]
 storage set mvcc:TxnActive(4) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;&quot;]
<a href="#h21-1-3" id="h21-1-3" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-4" id="h21-1-4" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 4) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-1-5" id="h21-1-5" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-6" id="h21-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 4) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-1-7" id="h21-1-7" class="d">-storage set mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-8" id="h21-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 4) â†’ Integer(1),Boolean(true),Integer(1),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h21-1-9" id="h21-1-9" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-1-10" id="h21-1-10" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-1-11" id="h21-1-11" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-1-12" id="h21-1-12" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-13" id="h21-1-13" class="i">+storage set mvcc:Version(sql:Index(index.bool, FALSE), 4) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-1-14" id="h21-1-14" class="i">+storage set mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-15" id="h21-1-15" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 4) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-1-16" id="h21-1-16" class="i">+storage set mvcc:TxnWrite(4, sql:Row(index, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-1-17" id="h21-1-17" class="i">+storage set mvcc:Version(sql:Row(index, 1), 4) â†’ 1,TRUE,1,2.718,&quot;bar&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h21-1-18" id="h21-1-18" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-1-19" id="h21-1-19" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-1-20" id="h21-1-20" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
 
 # An update with different values writes new index entries.
<a href="#h21-2" id="h21-2" class="h">@@ -67,33 +67,33 @@ storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 7 [&quot;\x00&quot; â†’ &quot;\x07&quot;]
 storage set mvcc:TxnActive(6) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;&quot;]
<a href="#h21-2-3" id="h21-2-3" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-4" id="h21-2-4" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-5" id="h21-2-5" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-6" id="h21-2-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 6) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-7" id="h21-2-7" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-8" id="h21-2-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-9" id="h21-2-9" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-10" id="h21-2-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 6) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-11" id="h21-2-11" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-12" id="h21-2-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-13" id="h21-2-13" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-14" id="h21-2-14" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 6) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-15" id="h21-2-15" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-16" id="h21-2-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-17" id="h21-2-17" class="d">-storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-18" id="h21-2-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;)), 6) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-19" id="h21-2-19" class="d">-storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-20" id="h21-2-20" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 6) â†’ Integer(2),Boolean(false),Integer(7),Float(3.14),String(&quot;abc&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x00\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03abc&quot;]
</a><a href="#h21-2-21" id="h21-2-21" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-22" id="h21-2-22" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-23" id="h21-2-23" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-24" id="h21-2-24" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-2-25" id="h21-2-25" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-26" id="h21-2-26" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-2-27" id="h21-2-27" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-28" id="h21-2-28" class="d">-storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-29" id="h21-2-29" class="d">-storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-2-30" id="h21-2-30" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-31" id="h21-2-31" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-32" id="h21-2-32" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-33" id="h21-2-33" class="i">+storage set mvcc:Version(sql:Index(index.bool, FALSE), 6) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-34" id="h21-2-34" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-35" id="h21-2-35" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-36" id="h21-2-36" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-37" id="h21-2-37" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 6) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-38" id="h21-2-38" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-39" id="h21-2-39" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-40" id="h21-2-40" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-41" id="h21-2-41" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 6) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-42" id="h21-2-42" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-43" id="h21-2-43" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 6) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-2-44" id="h21-2-44" class="i">+storage set mvcc:TxnWrite(6, sql:Index(index.string, &quot;abc&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-45" id="h21-2-45" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;abc&quot;), 6) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-2-46" id="h21-2-46" class="i">+storage set mvcc:TxnWrite(6, sql:Row(index, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-2-47" id="h21-2-47" class="i">+storage set mvcc:Version(sql:Row(index, 2), 6) â†’ 2,FALSE,7,3.14,&quot;abc&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x00\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03abc&quot;]
</a><a href="#h21-2-48" id="h21-2-48" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-49" id="h21-2-49" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-50" id="h21-2-50" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-51" id="h21-2-51" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-2-52" id="h21-2-52" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-53" id="h21-2-53" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-2-54" id="h21-2-54" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-55" id="h21-2-55" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(index.string, &quot;abc&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-2-56" id="h21-2-56" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
 
 &gt; SELECT * FROM &quot;index&quot;
<a href="#h21-3" id="h21-3" class="h">@@ -106,41 +106,41 @@ storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 8 [&quot;\x00&quot; â†’ &quot;\x08&quot;]
 storage set mvcc:TxnActive(7) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;&quot;]
<a href="#h21-3-3" id="h21-3-3" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-4" id="h21-3-4" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1)), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-5" id="h21-3-5" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-6" id="h21-3-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 7) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-7" id="h21-3-7" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-8" id="h21-3-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-9" id="h21-3-9" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-10" id="h21-3-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 7) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-11" id="h21-3-11" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-12" id="h21-3-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-13" id="h21-3-13" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-14" id="h21-3-14" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 7) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-3-15" id="h21-3-15" class="d">-storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-16" id="h21-3-16" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 7) â†’ Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h21-3-17" id="h21-3-17" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-18" id="h21-3-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-19" id="h21-3-19" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-20" id="h21-3-20" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 7) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-21" id="h21-3-21" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-22" id="h21-3-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;)), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-23" id="h21-3-23" class="d">-storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-24" id="h21-3-24" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 7) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-25" id="h21-3-25" class="d">-storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-26" id="h21-3-26" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 7) â†’ Integer(2),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h21-3-27" id="h21-3-27" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-28" id="h21-3-28" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-3-29" id="h21-3-29" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-3-30" id="h21-3-30" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-3-31" id="h21-3-31" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-3-32" id="h21-3-32" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-3-33" id="h21-3-33" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-34" id="h21-3-34" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-35" id="h21-3-35" class="d">-storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-36" id="h21-3-36" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-3-37" id="h21-3-37" class="d">-storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-3-38" id="h21-3-38" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.int, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-39" id="h21-3-39" class="i">+storage set mvcc:Version(sql:Index(index.int, 1), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-40" id="h21-3-40" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-41" id="h21-3-41" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 7) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-42" id="h21-3-42" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-43" id="h21-3-43" class="i">+storage set mvcc:Version(sql:Index(index.float, 2.718), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-44" id="h21-3-44" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-45" id="h21-3-45" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 7) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-46" id="h21-3-46" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, &quot;bar&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-47" id="h21-3-47" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;bar&quot;), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-48" id="h21-3-48" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-49" id="h21-3-49" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 7) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-3-50" id="h21-3-50" class="i">+storage set mvcc:TxnWrite(7, sql:Row(index, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-51" id="h21-3-51" class="i">+storage set mvcc:Version(sql:Row(index, 1), 7) â†’ 1,TRUE,7,3.14,&quot;foo&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h21-3-52" id="h21-3-52" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-53" id="h21-3-53" class="i">+storage set mvcc:Version(sql:Index(index.bool, FALSE), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-54" id="h21-3-54" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-55" id="h21-3-55" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 7) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-56" id="h21-3-56" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, &quot;abc&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-57" id="h21-3-57" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;abc&quot;), 7) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-3-58" id="h21-3-58" class="i">+storage set mvcc:TxnWrite(7, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-59" id="h21-3-59" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 7) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-3-60" id="h21-3-60" class="i">+storage set mvcc:TxnWrite(7, sql:Row(index, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-3-61" id="h21-3-61" class="i">+storage set mvcc:Version(sql:Row(index, 2), 7) â†’ 2,TRUE,7,3.14,&quot;foo&quot; [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; â†’ &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h21-3-62" id="h21-3-62" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-63" id="h21-3-63" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-3-64" id="h21-3-64" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-3-65" id="h21-3-65" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-3-66" id="h21-3-66" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-3-67" id="h21-3-67" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-3-68" id="h21-3-68" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.string, &quot;abc&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-69" id="h21-3-69" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.string, &quot;bar&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-70" id="h21-3-70" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(index.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-3-71" id="h21-3-71" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-3-72" id="h21-3-72" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
 
 &gt; SELECT * FROM &quot;index&quot;
<a href="#h21-4" id="h21-4" class="h">@@ -153,52 +153,52 @@ storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 9 [&quot;\x00&quot; â†’ &quot;\t&quot;]
 storage set mvcc:TxnActive(8) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;&quot;]
<a href="#h21-4-3" id="h21-4-3" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-4" id="h21-4-4" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 8) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-5" id="h21-4-5" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-6" id="h21-4-6" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-7" id="h21-4-7" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-8" id="h21-4-8" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 8) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-9" id="h21-4-9" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-10" id="h21-4-10" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-11" id="h21-4-11" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-12" id="h21-4-12" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 8) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-13" id="h21-4-13" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-14" id="h21-4-14" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 8) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-15" id="h21-4-15" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-16" id="h21-4-16" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 8) â†’ Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-17" id="h21-4-17" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-18" id="h21-4-18" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) â†’ Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-19" id="h21-4-19" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-20" id="h21-4-20" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 8) â†’ Integer(1),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h21-4-21" id="h21-4-21" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-22" id="h21-4-22" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-23" id="h21-4-23" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-24" id="h21-4-24" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-25" id="h21-4-25" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-26" id="h21-4-26" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-27" id="h21-4-27" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-28" id="h21-4-28" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-29" id="h21-4-29" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-30" id="h21-4-30" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-31" id="h21-4-31" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-32" id="h21-4-32" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 8) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-33" id="h21-4-33" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-34" id="h21-4-34" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-35" id="h21-4-35" class="d">-storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-36" id="h21-4-36" class="d">-storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) â†’ Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-37" id="h21-4-37" class="d">-storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-38" id="h21-4-38" class="d">-storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 8) â†’ Integer(2),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h21-4-39" id="h21-4-39" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-40" id="h21-4-40" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-4-41" id="h21-4-41" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-42" id="h21-4-42" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-4-43" id="h21-4-43" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-44" id="h21-4-44" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-4-45" id="h21-4-45" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-46" id="h21-4-46" class="d">-storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-47" id="h21-4-47" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-4-48" id="h21-4-48" class="d">-storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-4-49" id="h21-4-49" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-50" id="h21-4-50" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 8) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-51" id="h21-4-51" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-52" id="h21-4-52" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 8) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-53" id="h21-4-53" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-54" id="h21-4-54" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 8) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-55" id="h21-4-55" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-56" id="h21-4-56" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 8) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-57" id="h21-4-57" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-58" id="h21-4-58" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 8) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-59" id="h21-4-59" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-60" id="h21-4-60" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 8) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-61" id="h21-4-61" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-62" id="h21-4-62" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 8) â†’ 2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-4-63" id="h21-4-63" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-64" id="h21-4-64" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 8) â†’ 1 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-4-65" id="h21-4-65" class="i">+storage set mvcc:TxnWrite(8, sql:Row(index, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-66" id="h21-4-66" class="i">+storage set mvcc:Version(sql:Row(index, 1), 8) â†’ 1,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h21-4-67" id="h21-4-67" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-68" id="h21-4-68" class="i">+storage set mvcc:Version(sql:Index(index.bool, TRUE), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-69" id="h21-4-69" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-70" id="h21-4-70" class="i">+storage set mvcc:Version(sql:Index(index.bool, NULL), 8) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-71" id="h21-4-71" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, 7)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-72" id="h21-4-72" class="i">+storage set mvcc:Version(sql:Index(index.int, 7), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-73" id="h21-4-73" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-74" id="h21-4-74" class="i">+storage set mvcc:Version(sql:Index(index.int, NULL), 8) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-75" id="h21-4-75" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-76" id="h21-4-76" class="i">+storage set mvcc:Version(sql:Index(index.float, 3.14), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-77" id="h21-4-77" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-78" id="h21-4-78" class="i">+storage set mvcc:Version(sql:Index(index.float, NULL), 8) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-79" id="h21-4-79" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-80" id="h21-4-80" class="i">+storage set mvcc:Version(sql:Index(index.string, &quot;foo&quot;), 8) â†’ None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x00&quot;]
</a><a href="#h21-4-81" id="h21-4-81" class="i">+storage set mvcc:TxnWrite(8, sql:Index(index.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-82" id="h21-4-82" class="i">+storage set mvcc:Version(sql:Index(index.string, NULL), 8) â†’ 1,2 [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-4-83" id="h21-4-83" class="i">+storage set mvcc:TxnWrite(8, sql:Row(index, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h21-4-84" id="h21-4-84" class="i">+storage set mvcc:Version(sql:Row(index, 2), 8) â†’ 2,NULL,NULL,NULL,NULL [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; â†’ &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h21-4-85" id="h21-4-85" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-86" id="h21-4-86" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-4-87" id="h21-4-87" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-88" id="h21-4-88" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-4-89" id="h21-4-89" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-90" id="h21-4-90" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.int, 7)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h21-4-91" id="h21-4-91" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-92" id="h21-4-92" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(index.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-4-93" id="h21-4-93" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(index, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-4-94" id="h21-4-94" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(index, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
 
 &gt; SELECT * FROM &quot;index&quot;
<b>diff --git a/<a id="h22" href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a> b/<a href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -29,33 +29,33 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 12 [&quot;\x00&quot; â†’ &quot;\x0c&quot;]
 storage set mvcc:TxnActive(11) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;&quot;]
<a href="#h22-0-3" id="h22-0-3" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-4" id="h22-0-4" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Null), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-5" id="h22-0-5" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-6" id="h22-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true)), 11) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-7" id="h22-0-7" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-8" id="h22-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Null), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-9" id="h22-0-9" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-10" id="h22-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1)), 11) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-11" id="h22-0-11" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-12" id="h22-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Null), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-13" id="h22-0-13" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-14" id="h22-0-14" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14)), 11) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-15" id="h22-0-15" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-16" id="h22-0-16" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, Null), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-17" id="h22-0-17" class="d">-storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-18" id="h22-0-18" class="d">-storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 11) â†’ Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-19" id="h22-0-19" class="d">-storage set mvcc:TxnWrite(11, sql:Row(&quot;name&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-20" id="h22-0-20" class="d">-storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 11) â†’ Integer(1),Boolean(true),Integer(1),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h22-0-21" id="h22-0-21" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-22" id="h22-0-22" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h22-0-23" id="h22-0-23" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-24" id="h22-0-24" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h22-0-25" id="h22-0-25" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-26" id="h22-0-26" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-0-27" id="h22-0-27" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-28" id="h22-0-28" class="d">-storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-29" id="h22-0-29" class="d">-storage delete mvcc:TxnWrite(11, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-0-30" id="h22-0-30" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-31" id="h22-0-31" class="i">+storage set mvcc:Version(sql:Index(name.bool, NULL), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-32" id="h22-0-32" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-33" id="h22-0-33" class="i">+storage set mvcc:Version(sql:Index(name.bool, TRUE), 11) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-34" id="h22-0-34" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-35" id="h22-0-35" class="i">+storage set mvcc:Version(sql:Index(name.int, NULL), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-36" id="h22-0-36" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.int, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-37" id="h22-0-37" class="i">+storage set mvcc:Version(sql:Index(name.int, 1), 11) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-38" id="h22-0-38" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-39" id="h22-0-39" class="i">+storage set mvcc:Version(sql:Index(name.float, NULL), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-40" id="h22-0-40" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-41" id="h22-0-41" class="i">+storage set mvcc:Version(sql:Index(name.float, 3.14), 11) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-42" id="h22-0-42" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-43" id="h22-0-43" class="i">+storage set mvcc:Version(sql:Index(name.string, NULL), 11) â†’ None [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-0-44" id="h22-0-44" class="i">+storage set mvcc:TxnWrite(11, sql:Index(name.string, &quot;foo&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-45" id="h22-0-45" class="i">+storage set mvcc:Version(sql:Index(name.string, &quot;foo&quot;), 11) â†’ 1 [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-0-46" id="h22-0-46" class="i">+storage set mvcc:TxnWrite(11, sql:Row(name, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-0-47" id="h22-0-47" class="i">+storage set mvcc:Version(sql:Row(name, 1), 11) â†’ 1,TRUE,1,3.14,&quot;foo&quot; [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; â†’ &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h22-0-48" id="h22-0-48" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-49" id="h22-0-49" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h22-0-50" id="h22-0-50" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-51" id="h22-0-51" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h22-0-52" id="h22-0-52" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-53" id="h22-0-53" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-0-54" id="h22-0-54" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-55" id="h22-0-55" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(name.string, &quot;foo&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-0-56" id="h22-0-56" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(name, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
 
 # UPDATEs error on missing references.
<a href="#h22-1" id="h22-1" class="h">@@ -113,45 +113,45 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 25 [&quot;\x00&quot; â†’ &quot;\x19&quot;]
 storage set mvcc:TxnActive(24) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;&quot;]
<a href="#h22-1-3" id="h22-1-3" class="d">-storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-4" id="h22-1-4" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 24) â†’ Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h22-1-5" id="h22-1-5" class="d">-storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-6" id="h22-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 24) â†’ Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-1-7" id="h22-1-7" class="d">-storage set mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-8" id="h22-1-8" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 24) â†’ Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h22-1-9" id="h22-1-9" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-10" id="h22-1-10" class="d">-storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-1-11" id="h22-1-11" class="d">-storage delete mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-1-12" id="h22-1-12" class="i">+storage set mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-13" id="h22-1-13" class="i">+storage set mvcc:Version(sql:Index(self.self_id, NULL), 24) â†’ 2,3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h22-1-14" id="h22-1-14" class="i">+storage set mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-15" id="h22-1-15" class="i">+storage set mvcc:Version(sql:Index(self.self_id, 1), 24) â†’ 1 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h22-1-16" id="h22-1-16" class="i">+storage set mvcc:TxnWrite(24, sql:Row(self, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-17" id="h22-1-17" class="i">+storage set mvcc:Version(sql:Row(self, 1), 24) â†’ 1,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h22-1-18" id="h22-1-18" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-19" id="h22-1-19" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-1-20" id="h22-1-20" class="i">+storage delete mvcc:TxnWrite(24, sql:Row(self, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
 
 [ops]&gt; UPDATE self SET self_id = 1 WHERE id = 2
 ---
 storage set mvcc:NextVersion â†’ 26 [&quot;\x00&quot; â†’ &quot;\x1a&quot;]
 storage set mvcc:TxnActive(25) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;&quot;]
<a href="#h22-1-27" id="h22-1-27" class="d">-storage set mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-28" id="h22-1-28" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 25) â†’ Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h22-1-29" id="h22-1-29" class="d">-storage set mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-30" id="h22-1-30" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 25) â†’ Integer(1),Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h22-1-31" id="h22-1-31" class="d">-storage set mvcc:TxnWrite(25, sql:Row(&quot;self&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-32" id="h22-1-32" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 25) â†’ Integer(2),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h22-1-33" id="h22-1-33" class="d">-storage delete mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-34" id="h22-1-34" class="d">-storage delete mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-1-35" id="h22-1-35" class="d">-storage delete mvcc:TxnWrite(25, sql:Row(&quot;self&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h22-1-36" id="h22-1-36" class="i">+storage set mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-37" id="h22-1-37" class="i">+storage set mvcc:Version(sql:Index(self.self_id, NULL), 25) â†’ 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h22-1-38" id="h22-1-38" class="i">+storage set mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-39" id="h22-1-39" class="i">+storage set mvcc:Version(sql:Index(self.self_id, 1), 25) â†’ 1,2 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h22-1-40" id="h22-1-40" class="i">+storage set mvcc:TxnWrite(25, sql:Row(self, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-41" id="h22-1-41" class="i">+storage set mvcc:Version(sql:Row(self, 2), 25) â†’ 2,1 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; â†’ &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h22-1-42" id="h22-1-42" class="i">+storage delete mvcc:TxnWrite(25, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-43" id="h22-1-43" class="i">+storage delete mvcc:TxnWrite(25, sql:Index(self.self_id, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h22-1-44" id="h22-1-44" class="i">+storage delete mvcc:TxnWrite(25, sql:Row(self, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(25) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot;]
 
 [ops]&gt; UPDATE self SET self_id = 2 WHERE id = 3
 ---
 storage set mvcc:NextVersion â†’ 27 [&quot;\x00&quot; â†’ &quot;\x1b&quot;]
 storage set mvcc:TxnActive(26) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;&quot;]
<a href="#h22-1-51" id="h22-1-51" class="d">-storage set mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-52" id="h22-1-52" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 26) â†’ None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-1-53" id="h22-1-53" class="d">-storage set mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-54" id="h22-1-54" class="d">-storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 26) â†’ Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h22-1-55" id="h22-1-55" class="d">-storage set mvcc:TxnWrite(26, sql:Row(&quot;self&quot;, Integer(3))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-56" id="h22-1-56" class="d">-storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 26) â†’ Integer(3),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h22-1-57" id="h22-1-57" class="d">-storage delete mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-58" id="h22-1-58" class="d">-storage delete mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h22-1-59" id="h22-1-59" class="d">-storage delete mvcc:TxnWrite(26, sql:Row(&quot;self&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h22-1-60" id="h22-1-60" class="i">+storage set mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-61" id="h22-1-61" class="i">+storage set mvcc:Version(sql:Index(self.self_id, NULL), 26) â†’ None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x00&quot;]
</a><a href="#h22-1-62" id="h22-1-62" class="i">+storage set mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-63" id="h22-1-63" class="i">+storage set mvcc:Version(sql:Index(self.self_id, 2), 26) â†’ 3 [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h22-1-64" id="h22-1-64" class="i">+storage set mvcc:TxnWrite(26, sql:Row(self, 3)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h22-1-65" id="h22-1-65" class="i">+storage set mvcc:Version(sql:Row(self, 3), 26) â†’ 3,2 [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; â†’ &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h22-1-66" id="h22-1-66" class="i">+storage delete mvcc:TxnWrite(26, sql:Index(self.self_id, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h22-1-67" id="h22-1-67" class="i">+storage delete mvcc:TxnWrite(26, sql:Index(self.self_id, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h22-1-68" id="h22-1-68" class="i">+storage delete mvcc:TxnWrite(26, sql:Row(self, 3)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(26) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot;]
 
 # Breaking the reference isn&#39;t.
<b>diff --git a/<a id="h23" href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a> b/<a href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -19,33 +19,33 @@ ok
</a> ---
 storage set mvcc:NextVersion â†’ 5 [&quot;\x00&quot; â†’ &quot;\x05&quot;]
 storage set mvcc:TxnActive(4) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;&quot;]
<a href="#h23-0-3" id="h23-0-3" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-4" id="h23-0-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-5" id="h23-0-5" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-6" id="h23-0-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 4) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-7" id="h23-0-7" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-8" id="h23-0-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-9" id="h23-0-9" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-10" id="h23-0-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2)), 4) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-11" id="h23-0-11" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-12" id="h23-0-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-13" id="h23-0-13" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-14" id="h23-0-14" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 4) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-15" id="h23-0-15" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-16" id="h23-0-16" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-17" id="h23-0-17" class="d">-storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-18" id="h23-0-18" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;)), 4) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-19" id="h23-0-19" class="d">-storage set mvcc:TxnWrite(4, sql:Row(&quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-20" id="h23-0-20" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 4) â†’ Integer(2),Boolean(true),Integer(2),Float(2.718),String(&quot;b&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x13\x05\x02\x04\x01\x01\x02\x04\x03X9\xb4\xc8v\xbe\x05@\x04\x01b&quot;]
</a><a href="#h23-0-21" id="h23-0-21" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-22" id="h23-0-22" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h23-0-23" id="h23-0-23" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-24" id="h23-0-24" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h23-0-25" id="h23-0-25" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-26" id="h23-0-26" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-0-27" id="h23-0-27" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-28" id="h23-0-28" class="d">-storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-29" id="h23-0-29" class="d">-storage delete mvcc:TxnWrite(4, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-0-30" id="h23-0-30" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-31" id="h23-0-31" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-32" id="h23-0-32" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-33" id="h23-0-33" class="i">+storage set mvcc:Version(sql:Index(unique.bool, TRUE), 4) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-34" id="h23-0-34" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-35" id="h23-0-35" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-36" id="h23-0-36" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.int, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-37" id="h23-0-37" class="i">+storage set mvcc:Version(sql:Index(unique.int, 2), 4) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-38" id="h23-0-38" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-39" id="h23-0-39" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-40" id="h23-0-40" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-41" id="h23-0-41" class="i">+storage set mvcc:Version(sql:Index(unique.float, 2.718), 4) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-42" id="h23-0-42" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-43" id="h23-0-43" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 4) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-0-44" id="h23-0-44" class="i">+storage set mvcc:TxnWrite(4, sql:Index(unique.string, &quot;b&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-45" id="h23-0-45" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;b&quot;), 4) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-0-46" id="h23-0-46" class="i">+storage set mvcc:TxnWrite(4, sql:Row(unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-0-47" id="h23-0-47" class="i">+storage set mvcc:Version(sql:Row(unique, 2), 4) â†’ 2,TRUE,2,2.718,&quot;b&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; â†’ &quot;\x01\x13\x05\x02\x04\x01\x01\x02\x04\x03X9\xb4\xc8v\xbe\x05@\x04\x01b&quot;]
</a><a href="#h23-0-48" id="h23-0-48" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-49" id="h23-0-49" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h23-0-50" id="h23-0-50" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-51" id="h23-0-51" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h23-0-52" id="h23-0-52" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-53" id="h23-0-53" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-0-54" id="h23-0-54" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-55" id="h23-0-55" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(unique.string, &quot;b&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-0-56" id="h23-0-56" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
 
 # An update that violates the unique constraint fails.
<a href="#h23-1" id="h23-1" class="h">@@ -75,56 +75,56 @@ Error: invalid input: value abc already in unique column string
</a> ---
 storage set mvcc:NextVersion â†’ 14 [&quot;\x00&quot; â†’ &quot;\x0e&quot;]
 storage set mvcc:TxnActive(13) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;&quot;]
<a href="#h23-1-3" id="h23-1-3" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-4" id="h23-1-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-5" id="h23-1-5" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-6" id="h23-1-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 13) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-7" id="h23-1-7" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-8" id="h23-1-8" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-9" id="h23-1-9" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-10" id="h23-1-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 13) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-11" id="h23-1-11" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-12" id="h23-1-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-13" id="h23-1-13" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-14" id="h23-1-14" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 13) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-15" id="h23-1-15" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-16" id="h23-1-16" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-17" id="h23-1-17" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-18" id="h23-1-18" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 13) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-19" id="h23-1-19" class="d">-storage set mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-20" id="h23-1-20" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 13) â†’ Integer(1),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h23-1-21" id="h23-1-21" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-22" id="h23-1-22" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-23" id="h23-1-23" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-24" id="h23-1-24" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 13) â†’ Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-25" id="h23-1-25" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-26" id="h23-1-26" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-27" id="h23-1-27" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-28" id="h23-1-28" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 13) â†’ Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-29" id="h23-1-29" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-30" id="h23-1-30" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-31" id="h23-1-31" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-32" id="h23-1-32" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 13) â†’ Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-33" id="h23-1-33" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-34" id="h23-1-34" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;)), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-35" id="h23-1-35" class="d">-storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-36" id="h23-1-36" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 13) â†’ Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-37" id="h23-1-37" class="d">-storage set mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-38" id="h23-1-38" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 13) â†’ Integer(2),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h23-1-39" id="h23-1-39" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-40" id="h23-1-40" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-41" id="h23-1-41" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h23-1-42" id="h23-1-42" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-43" id="h23-1-43" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h23-1-44" id="h23-1-44" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h23-1-45" id="h23-1-45" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-46" id="h23-1-46" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-1-47" id="h23-1-47" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-1-48" id="h23-1-48" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-49" id="h23-1-49" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-50" id="h23-1-50" class="d">-storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-51" id="h23-1-51" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-1-52" id="h23-1-52" class="d">-storage delete mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-1-53" id="h23-1-53" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-54" id="h23-1-54" class="i">+storage set mvcc:Version(sql:Index(unique.bool, FALSE), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-55" id="h23-1-55" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-56" id="h23-1-56" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 13) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-57" id="h23-1-57" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.int, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-58" id="h23-1-58" class="i">+storage set mvcc:Version(sql:Index(unique.int, 1), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-59" id="h23-1-59" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-60" id="h23-1-60" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 13) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-61" id="h23-1-61" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-62" id="h23-1-62" class="i">+storage set mvcc:Version(sql:Index(unique.float, 3.14), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-63" id="h23-1-63" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-64" id="h23-1-64" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 13) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-65" id="h23-1-65" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.string, &quot;a&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-66" id="h23-1-66" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;a&quot;), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-67" id="h23-1-67" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-68" id="h23-1-68" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 13) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-1-69" id="h23-1-69" class="i">+storage set mvcc:TxnWrite(13, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-70" id="h23-1-70" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 13) â†’ 1,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h23-1-71" id="h23-1-71" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-72" id="h23-1-72" class="i">+storage set mvcc:Version(sql:Index(unique.bool, TRUE), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-73" id="h23-1-73" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-74" id="h23-1-74" class="i">+storage set mvcc:Version(sql:Index(unique.bool, NULL), 13) â†’ 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-75" id="h23-1-75" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.int, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-76" id="h23-1-76" class="i">+storage set mvcc:Version(sql:Index(unique.int, 2), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-77" id="h23-1-77" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-78" id="h23-1-78" class="i">+storage set mvcc:Version(sql:Index(unique.int, NULL), 13) â†’ 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-79" id="h23-1-79" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-80" id="h23-1-80" class="i">+storage set mvcc:Version(sql:Index(unique.float, 2.718), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-81" id="h23-1-81" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-82" id="h23-1-82" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 13) â†’ 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-83" id="h23-1-83" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.string, &quot;b&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-84" id="h23-1-84" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;b&quot;), 13) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-1-85" id="h23-1-85" class="i">+storage set mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-86" id="h23-1-86" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 13) â†’ 1,2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-1-87" id="h23-1-87" class="i">+storage set mvcc:TxnWrite(13, sql:Row(unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-1-88" id="h23-1-88" class="i">+storage set mvcc:Version(sql:Row(unique, 2), 13) â†’ 2,NULL,NULL,NULL,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; â†’ &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h23-1-89" id="h23-1-89" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-90" id="h23-1-90" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, FALSE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-91" id="h23-1-91" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.bool, TRUE)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h23-1-92" id="h23-1-92" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-93" id="h23-1-93" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.float, 2.718)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h23-1-94" id="h23-1-94" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.float, 3.14)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h23-1-95" id="h23-1-95" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.int, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-96" id="h23-1-96" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.int, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-1-97" id="h23-1-97" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.int, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-1-98" id="h23-1-98" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-99" id="h23-1-99" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.string, &quot;a&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-100" id="h23-1-100" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(unique.string, &quot;b&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-1-101" id="h23-1-101" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-1-102" id="h23-1-102" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
 
 &gt; SELECT * FROM &quot;unique&quot;
<a href="#h23-2" id="h23-2" class="h">@@ -137,22 +137,22 @@ storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 15 [&quot;\x00&quot; â†’ &quot;\x0f&quot;]
 storage set mvcc:TxnActive(14) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;&quot;]
<a href="#h23-2-3" id="h23-2-3" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-4" id="h23-2-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 14) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-2-5" id="h23-2-5" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-6" id="h23-2-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 14) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-2-7" id="h23-2-7" class="d">-storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-8" id="h23-2-8" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 14) â†’ Integer(1),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h23-2-9" id="h23-2-9" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-10" id="h23-2-10" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 14) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-2-11" id="h23-2-11" class="d">-storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-12" id="h23-2-12" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 14) â†’ Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-2-13" id="h23-2-13" class="d">-storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-14" id="h23-2-14" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 14) â†’ Integer(2),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h23-2-15" id="h23-2-15" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-2-16" id="h23-2-16" class="d">-storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-2-17" id="h23-2-17" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-2-18" id="h23-2-18" class="d">-storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-2-19" id="h23-2-19" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-20" id="h23-2-20" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 14) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-2-21" id="h23-2-21" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-22" id="h23-2-22" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 14) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-2-23" id="h23-2-23" class="i">+storage set mvcc:TxnWrite(14, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-24" id="h23-2-24" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 14) â†’ 1,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h23-2-25" id="h23-2-25" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-26" id="h23-2-26" class="i">+storage set mvcc:Version(sql:Index(unique.float, NULL), 14) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-2-27" id="h23-2-27" class="i">+storage set mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-28" id="h23-2-28" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 14) â†’ 1,2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h23-2-29" id="h23-2-29" class="i">+storage set mvcc:TxnWrite(14, sql:Row(unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-2-30" id="h23-2-30" class="i">+storage set mvcc:Version(sql:Row(unique, 2), 14) â†’ 2,NULL,NULL,NaN,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h23-2-31" id="h23-2-31" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.float, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-2-32" id="h23-2-32" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-2-33" id="h23-2-33" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-2-34" id="h23-2-34" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
 
 &gt; SELECT * FROM &quot;unique&quot;
<a href="#h23-3" id="h23-3" class="h">@@ -166,15 +166,15 @@ storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a> ---
 storage set mvcc:NextVersion â†’ 16 [&quot;\x00&quot; â†’ &quot;\x10&quot;]
 storage set mvcc:TxnActive(15) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;&quot;]
<a href="#h23-3-3" id="h23-3-3" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-4" id="h23-3-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 15) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-3-5" id="h23-3-5" class="d">-storage set mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-6" id="h23-3-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 15) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-3-7" id="h23-3-7" class="d">-storage set mvcc:TxnWrite(15, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-8" id="h23-3-8" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 15) â†’ Integer(1),Null,Null,Float(0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h23-3-9" id="h23-3-9" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-3-10" id="h23-3-10" class="d">-storage delete mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-3-11" id="h23-3-11" class="d">-storage delete mvcc:TxnWrite(15, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-3-12" id="h23-3-12" class="i">+storage set mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-13" id="h23-3-13" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 15) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-3-14" id="h23-3-14" class="i">+storage set mvcc:TxnWrite(15, sql:Index(unique.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-15" id="h23-3-15" class="i">+storage set mvcc:Version(sql:Index(unique.float, 0), 15) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-3-16" id="h23-3-16" class="i">+storage set mvcc:TxnWrite(15, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-3-17" id="h23-3-17" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 15) â†’ 1,NULL,NULL,0,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h23-3-18" id="h23-3-18" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(unique.float, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-3-19" id="h23-3-19" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-3-20" id="h23-3-20" class="i">+storage delete mvcc:TxnWrite(15, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
 Error: invalid input: value 0 already in unique column float
 
<a href="#h23-4" id="h23-4" class="h">@@ -189,27 +189,27 @@ Error: invalid input: value 0 already in unique column float
</a> ---
 storage set mvcc:NextVersion â†’ 18 [&quot;\x00&quot; â†’ &quot;\x12&quot;]
 storage set mvcc:TxnActive(17) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;&quot;]
<a href="#h23-4-3" id="h23-4-3" class="d">-storage set mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-4" id="h23-4-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 17) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-4-5" id="h23-4-5" class="d">-storage set mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-6" id="h23-4-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf)), 17) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-4-7" id="h23-4-7" class="d">-storage set mvcc:TxnWrite(17, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-8" id="h23-4-8" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 17) â†’ Integer(1),Null,Null,Float(inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h23-4-9" id="h23-4-9" class="d">-storage delete mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-10" id="h23-4-10" class="d">-storage delete mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-11" id="h23-4-11" class="d">-storage delete mvcc:TxnWrite(17, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-4-12" id="h23-4-12" class="i">+storage set mvcc:TxnWrite(17, sql:Index(unique.float, 0)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-13" id="h23-4-13" class="i">+storage set mvcc:Version(sql:Index(unique.float, 0), 17) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-4-14" id="h23-4-14" class="i">+storage set mvcc:TxnWrite(17, sql:Index(unique.float, inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-15" id="h23-4-15" class="i">+storage set mvcc:Version(sql:Index(unique.float, inf), 17) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-4-16" id="h23-4-16" class="i">+storage set mvcc:TxnWrite(17, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-17" id="h23-4-17" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 17) â†’ 1,NULL,NULL,inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; â†’ &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h23-4-18" id="h23-4-18" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(unique.float, 0)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-19" id="h23-4-19" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(unique.float, inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-20" id="h23-4-20" class="i">+storage delete mvcc:TxnWrite(17, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(17) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot;]
 storage set mvcc:NextVersion â†’ 19 [&quot;\x00&quot; â†’ &quot;\x13&quot;]
 storage set mvcc:TxnActive(18) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;&quot;]
<a href="#h23-4-24" id="h23-4-24" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-25" id="h23-4-25" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 18) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-4-26" id="h23-4-26" class="d">-storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-27" id="h23-4-27" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf)), 18) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-4-28" id="h23-4-28" class="d">-storage set mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-29" id="h23-4-29" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 18) â†’ Integer(2),Null,Null,Float(-inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h23-4-30" id="h23-4-30" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h23-4-31" id="h23-4-31" class="d">-storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-32" id="h23-4-32" class="d">-storage delete mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-4-33" id="h23-4-33" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-34" id="h23-4-34" class="i">+storage set mvcc:Version(sql:Index(unique.float, NaN), 18) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-4-35" id="h23-4-35" class="i">+storage set mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-36" id="h23-4-36" class="i">+storage set mvcc:Version(sql:Index(unique.float, -inf), 18) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-4-37" id="h23-4-37" class="i">+storage set mvcc:TxnWrite(18, sql:Row(unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-4-38" id="h23-4-38" class="i">+storage set mvcc:Version(sql:Row(unique, 2), 18) â†’ 2,NULL,NULL,-inf,NULL [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; â†’ &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h23-4-39" id="h23-4-39" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.float, -inf)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h23-4-40" id="h23-4-40" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(unique.float, NaN)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-4-41" id="h23-4-41" class="i">+storage delete mvcc:TxnWrite(18, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
 
 &gt; SELECT * FROM &quot;unique&quot;
<a href="#h23-5" id="h23-5" class="h">@@ -233,27 +233,27 @@ Error: invalid input: value  already in unique column string
</a> ---
 storage set mvcc:NextVersion â†’ 23 [&quot;\x00&quot; â†’ &quot;\x17&quot;]
 storage set mvcc:TxnActive(22) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;&quot;]
<a href="#h23-5-3" id="h23-5-3" class="d">-storage set mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-4" id="h23-5-4" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;)), 22) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-5-5" id="h23-5-5" class="d">-storage set mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-6" id="h23-5-6" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;)), 22) â†’ Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-5-7" id="h23-5-7" class="d">-storage set mvcc:TxnWrite(22, sql:Row(&quot;unique&quot;, Integer(1))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-8" id="h23-5-8" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 22) â†’ Integer(1),Null,Null,Float(inf),String(&quot;case&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x14\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x04\x04case&quot;]
</a><a href="#h23-5-9" id="h23-5-9" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-10" id="h23-5-10" class="d">-storage delete mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-11" id="h23-5-11" class="d">-storage delete mvcc:TxnWrite(22, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h23-5-12" id="h23-5-12" class="i">+storage set mvcc:TxnWrite(22, sql:Index(unique.string, &quot;&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-13" id="h23-5-13" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;&quot;), 22) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-5-14" id="h23-5-14" class="i">+storage set mvcc:TxnWrite(22, sql:Index(unique.string, &quot;case&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-15" id="h23-5-15" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;case&quot;), 22) â†’ 1 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h23-5-16" id="h23-5-16" class="i">+storage set mvcc:TxnWrite(22, sql:Row(unique, 1)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-17" id="h23-5-17" class="i">+storage set mvcc:Version(sql:Row(unique, 1), 22) â†’ 1,NULL,NULL,inf,&quot;case&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; â†’ &quot;\x01\x14\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x04\x04case&quot;]
</a><a href="#h23-5-18" id="h23-5-18" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(unique.string, &quot;&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-19" id="h23-5-19" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(unique.string, &quot;case&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-20" id="h23-5-20" class="i">+storage delete mvcc:TxnWrite(22, sql:Row(unique, 1)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
 storage set mvcc:NextVersion â†’ 24 [&quot;\x00&quot; â†’ &quot;\x18&quot;]
 storage set mvcc:TxnActive(23) â†’ &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;&quot;]
<a href="#h23-5-24" id="h23-5-24" class="d">-storage set mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-25" id="h23-5-25" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 23) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-5-26" id="h23-5-26" class="d">-storage set mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-27" id="h23-5-27" class="d">-storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 23) â†’ Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-5-28" id="h23-5-28" class="d">-storage set mvcc:TxnWrite(23, sql:Row(&quot;unique&quot;, Integer(2))) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-29" id="h23-5-29" class="d">-storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 23) â†’ Integer(2),Null,Null,Float(-inf),String(&quot;CaSe&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x14\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x04\x04CaSe&quot;]
</a><a href="#h23-5-30" id="h23-5-30" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-31" id="h23-5-31" class="d">-storage delete mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-32" id="h23-5-32" class="d">-storage delete mvcc:TxnWrite(23, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h23-5-33" id="h23-5-33" class="i">+storage set mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-34" id="h23-5-34" class="i">+storage set mvcc:Version(sql:Index(unique.string, NULL), 23) â†’ None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x00&quot;]
</a><a href="#h23-5-35" id="h23-5-35" class="i">+storage set mvcc:TxnWrite(23, sql:Index(unique.string, &quot;CaSe&quot;)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-36" id="h23-5-36" class="i">+storage set mvcc:Version(sql:Index(unique.string, &quot;CaSe&quot;), 23) â†’ 2 [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h23-5-37" id="h23-5-37" class="i">+storage set mvcc:TxnWrite(23, sql:Row(unique, 2)) â†’ &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; â†’ &quot;&quot;]
</a><a href="#h23-5-38" id="h23-5-38" class="i">+storage set mvcc:Version(sql:Row(unique, 2), 23) â†’ 2,NULL,NULL,-inf,&quot;CaSe&quot; [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; â†’ &quot;\x01\x14\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x04\x04CaSe&quot;]
</a><a href="#h23-5-39" id="h23-5-39" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(unique.string, NULL)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-40" id="h23-5-40" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(unique.string, &quot;CaSe&quot;)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h23-5-41" id="h23-5-41" class="i">+storage delete mvcc:TxnWrite(23, sql:Row(unique, 2)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a> storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
 
 &gt; SELECT * FROM &quot;unique&quot;
</pre>
</div>
</body>
</html>
