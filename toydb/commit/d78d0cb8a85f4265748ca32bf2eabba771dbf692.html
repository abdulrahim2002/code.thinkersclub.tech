<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sql: use goldenscript for DML tests - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/d78d0cb8a85f4265748ca32bf2eabba771dbf692.html">d78d0cb8a85f4265748ca32bf2eabba771dbf692</a>
<b>parent</b> <a href="../commit/61e291226a2541da1667ea5588b6a4041c46655e.html">61e291226a2541da1667ea5588b6a4041c46655e</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Sun, 30 Jun 2024 14:16:44 +0200

sql: use goldenscript for DML tests

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/sql/mod.rs</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++++</span><span class="d">--</span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">src/sql/testscripts/writes/delete</a></td><td> | </td><td class="num">87</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">src/sql/testscripts/writes/delete_index</a></td><td> | </td><td class="num">77</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">src/sql/testscripts/writes/delete_reference</a></td><td> | </td><td class="num">163</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">src/sql/testscripts/writes/delete_where</a></td><td> | </td><td class="num">105</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h5">src/sql/testscripts/writes/insert</a></td><td> | </td><td class="num">98</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">src/sql/testscripts/writes/insert_datatypes</a></td><td> | </td><td class="num">128</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">src/sql/testscripts/writes/insert_default</a></td><td> | </td><td class="num">64</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">src/sql/testscripts/writes/insert_index</a></td><td> | </td><td class="num">311</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h9">src/sql/testscripts/writes/insert_null</a></td><td> | </td><td class="num">36</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h10">src/sql/testscripts/writes/insert_primary_key</a></td><td> | </td><td class="num">100</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h11">src/sql/testscripts/writes/insert_reference</a></td><td> | </td><td class="num">158</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h12">src/sql/testscripts/writes/insert_unique</a></td><td> | </td><td class="num">291</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">src/sql/testscripts/writes/update</a></td><td> | </td><td class="num">59</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h14">src/sql/testscripts/writes/update_datatypes</a></td><td> | </td><td class="num">81</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h15">src/sql/testscripts/writes/update_default</a></td><td> | </td><td class="num">19</td><td><span class="i">+++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h16">src/sql/testscripts/writes/update_expression</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h17">src/sql/testscripts/writes/update_index</a></td><td> | </td><td class="num">207</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h18">src/sql/testscripts/writes/update_null</a></td><td> | </td><td class="num">24</td><td><span class="i">++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h19">src/sql/testscripts/writes/update_primary_key</a></td><td> | </td><td class="num">99</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h20">src/sql/testscripts/writes/update_reference</a></td><td> | </td><td class="num">180</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h21">src/sql/testscripts/writes/update_unique</a></td><td> | </td><td class="num">274</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h22">src/sql/testscripts/writes/update_where</a></td><td> | </td><td class="num">108</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">tests/sql/mod.rs</a></td><td> | </td><td class="num">2</td><td><span class="i"></span><span class="d">--</span></td></tr>
<tr><td class="D">D</td><td><a href="#h24">tests/sql/mutation.rs</a></td><td> | </td><td class="num">151</td><td><span class="i"></span><span class="d">------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h25">tests/sql/mutation/delete_all</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h26">tests/sql/mutation/delete_bare</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h27">tests/sql/mutation/delete_bare_from</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h28">tests/sql/mutation/delete_bare_where</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h29">tests/sql/mutation/delete_case</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h30">tests/sql/mutation/delete_missing_column_where</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h31">tests/sql/mutation/delete_missing_table</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h32">tests/sql/mutation/delete_multiple_tables</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h33">tests/sql/mutation/delete_where</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h34">tests/sql/mutation/delete_where_and</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h35">tests/sql/mutation/delete_where_expr</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h36">tests/sql/mutation/delete_where_false</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h37">tests/sql/mutation/delete_where_float</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h38">tests/sql/mutation/delete_where_integer</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h39">tests/sql/mutation/delete_where_null</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h40">tests/sql/mutation/delete_where_string</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h41">tests/sql/mutation/delete_where_true</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h42">tests/sql/mutation/insert_bare</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h43">tests/sql/mutation/insert_bare_no_table</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h44">tests/sql/mutation/insert_bare_values</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h45">tests/sql/mutation/insert_case</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h46">tests/sql/mutation/insert_empty_both</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h47">tests/sql/mutation/insert_empty_columns</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h48">tests/sql/mutation/insert_empty_values</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h49">tests/sql/mutation/insert_expression</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h50">tests/sql/mutation/insert_extra</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h51">tests/sql/mutation/insert_extra_columns</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h52">tests/sql/mutation/insert_full</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h53">tests/sql/mutation/insert_full_multiple</a></td><td> | </td><td class="num">21</td><td><span class="i"></span><span class="d">---------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h54">tests/sql/mutation/insert_full_order</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h55">tests/sql/mutation/insert_full_trailing_comma</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h56">tests/sql/mutation/insert_missing_column</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h57">tests/sql/mutation/insert_missing_table</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h58">tests/sql/mutation/insert_multiple_tables</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h59">tests/sql/mutation/insert_no_columns</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h60">tests/sql/mutation/insert_no_columns_multiple</a></td><td> | </td><td class="num">21</td><td><span class="i"></span><span class="d">---------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h61">tests/sql/mutation/insert_partial</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h62">tests/sql/mutation/insert_partial_columns</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h63">tests/sql/mutation/insert_partial_vary</a></td><td> | </td><td class="num">21</td><td><span class="i"></span><span class="d">---------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h64">tests/sql/mutation/update_all</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h65">tests/sql/mutation/update_bare</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h66">tests/sql/mutation/update_bare_no_table</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h67">tests/sql/mutation/update_bare_set</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h68">tests/sql/mutation/update_bare_where</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h69">tests/sql/mutation/update_case</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h70">tests/sql/mutation/update_missing_column_set</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h71">tests/sql/mutation/update_missing_column_where</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h72">tests/sql/mutation/update_missing_table</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h73">tests/sql/mutation/update_multiple_tables</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h74">tests/sql/mutation/update_where</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h75">tests/sql/mutation/update_where_and</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h76">tests/sql/mutation/update_where_expr</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h77">tests/sql/mutation/update_where_false</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h78">tests/sql/mutation/update_where_float</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h79">tests/sql/mutation/update_where_full</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h80">tests/sql/mutation/update_where_integer</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h81">tests/sql/mutation/update_where_null</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h82">tests/sql/mutation/update_where_string</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h83">tests/sql/mutation/update_where_true</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h84">tests/sql/schema.rs</a></td><td> | </td><td class="num">334</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h85">tests/sql/schema/delete_index_all</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h86">tests/sql/schema/delete_index_only</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h87">tests/sql/schema/delete_index_single</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h88">tests/sql/schema/delete_ref_conflict</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h89">tests/sql/schema/delete_ref_noref</a></td><td> | </td><td class="num">23</td><td><span class="i"></span><span class="d">-----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h90">tests/sql/schema/delete_ref_self</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h91">tests/sql/schema/delete_ref_self_all</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h92">tests/sql/schema/delete_ref_self_conflict</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h93">tests/sql/schema/delete_ref_source</a></td><td> | </td><td class="num">22</td><td><span class="i"></span><span class="d">----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h94">tests/sql/schema/insert_boolean_false</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h95">tests/sql/schema/insert_boolean_float</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h96">tests/sql/schema/insert_boolean_float_zero</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h97">tests/sql/schema/insert_boolean_integer</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h98">tests/sql/schema/insert_boolean_integer_zero</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h99">tests/sql/schema/insert_boolean_null</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h100">tests/sql/schema/insert_boolean_string</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h101">tests/sql/schema/insert_boolean_string_empty</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h102">tests/sql/schema/insert_boolean_true</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h103">tests/sql/schema/insert_default</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h104">tests/sql/schema/insert_default_missing</a></td><td> | </td><td class="num">13</td><td><span class="i"></span><span class="d">-------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h105">tests/sql/schema/insert_default_override</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h106">tests/sql/schema/insert_default_override_null</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h107">tests/sql/schema/insert_default_unnamed</a></td><td> | </td><td class="num">14</td><td><span class="i"></span><span class="d">--------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h108">tests/sql/schema/insert_float</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h109">tests/sql/schema/insert_float_boolean</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h110">tests/sql/schema/insert_float_infinity</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h111">tests/sql/schema/insert_float_infinity_negative</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h112">tests/sql/schema/insert_float_integer</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h113">tests/sql/schema/insert_float_max</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h114">tests/sql/schema/insert_float_max_negative</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h115">tests/sql/schema/insert_float_min</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h116">tests/sql/schema/insert_float_min_negative</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h117">tests/sql/schema/insert_float_min_round</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h118">tests/sql/schema/insert_float_nan</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h119">tests/sql/schema/insert_float_null</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h120">tests/sql/schema/insert_float_string</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h121">tests/sql/schema/insert_float_string_empty</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h122">tests/sql/schema/insert_index_exists</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h123">tests/sql/schema/insert_index_new</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h124">tests/sql/schema/insert_index_null</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h125">tests/sql/schema/insert_integer</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h126">tests/sql/schema/insert_integer_boolean</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h127">tests/sql/schema/insert_integer_float</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h128">tests/sql/schema/insert_integer_float_infinity</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h129">tests/sql/schema/insert_integer_float_nan</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h130">tests/sql/schema/insert_integer_max</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h131">tests/sql/schema/insert_integer_min</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h132">tests/sql/schema/insert_integer_null</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h133">tests/sql/schema/insert_integer_string</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h134">tests/sql/schema/insert_integer_string_empty</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h135">tests/sql/schema/insert_nulls</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h136">tests/sql/schema/insert_nulls_default</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h137">tests/sql/schema/insert_nulls_required</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h138">tests/sql/schema/insert_pk_boolean</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h139">tests/sql/schema/insert_pk_boolean_conflict</a></td><td> | </td><td class="num">8</td><td><span class="i"></span><span class="d">--------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h140">tests/sql/schema/insert_pk_boolean_null</a></td><td> | </td><td class="num">8</td><td><span class="i"></span><span class="d">--------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h141">tests/sql/schema/insert_pk_float</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h142">tests/sql/schema/insert_pk_float_conflict</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h143">tests/sql/schema/insert_pk_float_infinity</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h144">tests/sql/schema/insert_pk_float_nan</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h145">tests/sql/schema/insert_pk_float_negative</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h146">tests/sql/schema/insert_pk_float_null</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h147">tests/sql/schema/insert_pk_float_zero</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h148">tests/sql/schema/insert_pk_integer</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h149">tests/sql/schema/insert_pk_integer_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h150">tests/sql/schema/insert_pk_integer_negative</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h151">tests/sql/schema/insert_pk_integer_null</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h152">tests/sql/schema/insert_pk_integer_zero</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h153">tests/sql/schema/insert_pk_string</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h154">tests/sql/schema/insert_pk_string_case</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h155">tests/sql/schema/insert_pk_string_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h156">tests/sql/schema/insert_pk_string_empty</a></td><td> | </td><td class="num">10</td><td><span class="i"></span><span class="d">----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h157">tests/sql/schema/insert_pk_string_null</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h158">tests/sql/schema/insert_ref_boolean</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h159">tests/sql/schema/insert_ref_boolean_missing</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h160">tests/sql/schema/insert_ref_boolean_null</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h161">tests/sql/schema/insert_ref_float</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h162">tests/sql/schema/insert_ref_float_missing</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h163">tests/sql/schema/insert_ref_float_null</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h164">tests/sql/schema/insert_ref_integer</a></td><td> | </td><td class="num">19</td><td><span class="i"></span><span class="d">-------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h165">tests/sql/schema/insert_ref_integer_missing</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h166">tests/sql/schema/insert_ref_integer_null</a></td><td> | </td><td class="num">19</td><td><span class="i"></span><span class="d">-------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h167">tests/sql/schema/insert_ref_self</a></td><td> | </td><td class="num">19</td><td><span class="i"></span><span class="d">-------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h168">tests/sql/schema/insert_ref_self_missing</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h169">tests/sql/schema/insert_ref_self_null</a></td><td> | </td><td class="num">19</td><td><span class="i"></span><span class="d">-------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h170">tests/sql/schema/insert_ref_self_self</a></td><td> | </td><td class="num">20</td><td><span class="i"></span><span class="d">--------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h171">tests/sql/schema/insert_ref_string</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h172">tests/sql/schema/insert_ref_string_case</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h173">tests/sql/schema/insert_ref_string_missing</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h174">tests/sql/schema/insert_ref_string_null</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h175">tests/sql/schema/insert_string</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h176">tests/sql/schema/insert_string_boolean</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h177">tests/sql/schema/insert_string_empty</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h178">tests/sql/schema/insert_string_float</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h179">tests/sql/schema/insert_string_integer</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h180">tests/sql/schema/insert_string_null</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h181">tests/sql/schema/insert_string_unicode</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h182">tests/sql/schema/insert_unique_boolean</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h183">tests/sql/schema/insert_unique_boolean_duplicate</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h184">tests/sql/schema/insert_unique_float</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h185">tests/sql/schema/insert_unique_float_duplicate</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h186">tests/sql/schema/insert_unique_integer</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h187">tests/sql/schema/insert_unique_integer_duplicate</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h188">tests/sql/schema/insert_unique_nulls</a></td><td> | </td><td class="num">30</td><td><span class="i"></span><span class="d">------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h189">tests/sql/schema/insert_unique_string</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h190">tests/sql/schema/insert_unique_string_case</a></td><td> | </td><td class="num">31</td><td><span class="i"></span><span class="d">-------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h191">tests/sql/schema/insert_unique_string_duplicate</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h192">tests/sql/schema/update_index_existing</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h193">tests/sql/schema/update_index_last</a></td><td> | </td><td class="num">15</td><td><span class="i"></span><span class="d">---------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h194">tests/sql/schema/update_index_new</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h195">tests/sql/schema/update_index_null</a></td><td> | </td><td class="num">17</td><td><span class="i"></span><span class="d">-----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h196">tests/sql/schema/update_index_pk</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h197">tests/sql/schema/update_index_same</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h198">tests/sql/schema/update_index_swap</a></td><td> | </td><td class="num">16</td><td><span class="i"></span><span class="d">----------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h199">tests/sql/schema/update_integer</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h200">tests/sql/schema/update_integer_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h201">tests/sql/schema/update_integer_float</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h202">tests/sql/schema/update_integer_null</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h203">tests/sql/schema/update_pk_boolean</a></td><td> | </td><td class="num">8</td><td><span class="i"></span><span class="d">--------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h204">tests/sql/schema/update_pk_boolean_null</a></td><td> | </td><td class="num">8</td><td><span class="i"></span><span class="d">--------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h205">tests/sql/schema/update_pk_float</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h206">tests/sql/schema/update_pk_float_conflict</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h207">tests/sql/schema/update_pk_float_conflict_all</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h208">tests/sql/schema/update_pk_float_null</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h209">tests/sql/schema/update_pk_integer</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h210">tests/sql/schema/update_pk_integer_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h211">tests/sql/schema/update_pk_integer_conflict_all</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h212">tests/sql/schema/update_pk_integer_null</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h213">tests/sql/schema/update_pk_string</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h214">tests/sql/schema/update_pk_string_case</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h215">tests/sql/schema/update_pk_string_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h216">tests/sql/schema/update_pk_string_conflict_all</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h217">tests/sql/schema/update_pk_string_null</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h218">tests/sql/schema/update_ref_pk</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h219">tests/sql/schema/update_ref_pk_noref</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h220">tests/sql/schema/update_ref_self_pk</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h221">tests/sql/schema/update_ref_self_pk_noref</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h222">tests/sql/schema/update_ref_self_self</a></td><td> | </td><td class="num">19</td><td><span class="i"></span><span class="d">-------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h223">tests/sql/schema/update_ref_self_value</a></td><td> | </td><td class="num">18</td><td><span class="i"></span><span class="d">------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h224">tests/sql/schema/update_ref_source</a></td><td> | </td><td class="num">23</td><td><span class="i"></span><span class="d">-----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h225">tests/sql/schema/update_ref_source_missing</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h226">tests/sql/schema/update_ref_source_null</a></td><td> | </td><td class="num">23</td><td><span class="i"></span><span class="d">-----------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h227">tests/sql/schema/update_ref_value</a></td><td> | </td><td class="num">24</td><td><span class="i"></span><span class="d">------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h228">tests/sql/schema/update_unique_boolean</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h229">tests/sql/schema/update_unique_boolean_duplicate</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h230">tests/sql/schema/update_unique_boolean_same</a></td><td> | </td><td class="num">29</td><td><span class="i"></span><span class="d">-----------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h231">tests/sql/schema/update_unique_nulls</a></td><td> | </td><td class="num">25</td><td><span class="i"></span><span class="d">-------------------------</span></td></tr>
</table></pre><pre>232 files changed, 2683 insertions(+), 3901 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/sql/mod.rs.html">src/sql/mod.rs</a> b/<a href="../file/src/sql/mod.rs.html">src/sql/mod.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -24,6 +24,7 @@ mod tests {
</a> 
     // Run goldenscript tests in src/sql/testscripts.
     test_each_path! { in &quot;src/sql/testscripts/schema&quot; as schema =&gt; test_goldenscript }
<a href="#h0-0-3" id="h0-0-3" class="i">+    test_each_path! { in &quot;src/sql/testscripts/writes&quot; as writes =&gt; test_goldenscript }
</a>     test_each_path! { in &quot;src/sql/testscripts/expressions&quot; as expressions =&gt; test_goldenscript_expr }
 
     fn test_goldenscript(path: &amp;std::path::Path) {
<a href="#h0-1" id="h0-1" class="h">@@ -124,8 +125,16 @@ mod tests {
</a>                 writeln!(output, &quot;{plan}&quot;)?;
             }
 
<a href="#h0-1-3" id="h0-1-3" class="d">-            // Output the result if requested.
</a><a href="#h0-1-4" id="h0-1-4" class="d">-            if tags.remove(&quot;result&quot;) {
</a><a href="#h0-1-5" id="h0-1-5" class="i">+            // Output the result if requested. SELECT results are always output,
</a><a href="#h0-1-6" id="h0-1-6" class="i">+            // but the columns only if result is given.
</a><a href="#h0-1-7" id="h0-1-7" class="i">+            if let StatementResult::Select { columns, rows } = result {
</a><a href="#h0-1-8" id="h0-1-8" class="i">+                if tags.remove(&quot;columns&quot;) {
</a><a href="#h0-1-9" id="h0-1-9" class="i">+                    writeln!(output, &quot;{}&quot;, columns.into_iter().map(|c| c.to_string()).join(&quot;,&quot;))?;
</a><a href="#h0-1-10" id="h0-1-10" class="i">+                }
</a><a href="#h0-1-11" id="h0-1-11" class="i">+                for row in rows {
</a><a href="#h0-1-12" id="h0-1-12" class="i">+                    writeln!(output, &quot;{}&quot;, row.into_iter().map(|v| v.to_string()).join(&quot;,&quot;))?;
</a><a href="#h0-1-13" id="h0-1-13" class="i">+                }
</a><a href="#h0-1-14" id="h0-1-14" class="i">+            } else if tags.remove(&quot;result&quot;) {
</a>                 writeln!(output, &quot;{result:?}&quot;)?;
             }
 
<b>diff --git a/<a id="h1" href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a> b/<a href="../file/src/sql/testscripts/writes/delete.html">src/sql/testscripts/writes/delete</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -0,0 +1,87 @@
</a><a href="#h1-0-0" id="h1-0-0" class="i">+# Tests basic DELETE.
</a><a href="#h1-0-1" id="h1-0-1" class="i">+
</a><a href="#h1-0-2" id="h1-0-2" class="i">+# Insert some data into a table. We&#39;ll use transactions to avoid
</a><a href="#h1-0-3" id="h1-0-3" class="i">+# 
</a><a href="#h1-0-4" id="h1-0-4" class="i">+&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
</a><a href="#h1-0-5" id="h1-0-5" class="i">+&gt; INSERT INTO name VALUES (1, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;)
</a><a href="#h1-0-6" id="h1-0-6" class="i">+---
</a><a href="#h1-0-7" id="h1-0-7" class="i">+ok
</a><a href="#h1-0-8" id="h1-0-8" class="i">+
</a><a href="#h1-0-9" id="h1-0-9" class="i">+# Deleting from a table works. Use a transaction to keep the fixture.
</a><a href="#h1-0-10" id="h1-0-10" class="i">+&gt; BEGIN
</a><a href="#h1-0-11" id="h1-0-11" class="i">+[plan,ops]&gt; DELETE FROM name
</a><a href="#h1-0-12" id="h1-0-12" class="i">+---
</a><a href="#h1-0-13" id="h1-0-13" class="i">+Delete: name
</a><a href="#h1-0-14" id="h1-0-14" class="i">+└─ Scan: name
</a><a href="#h1-0-15" id="h1-0-15" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-16" id="h1-0-16" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-17" id="h1-0-17" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-18" id="h1-0-18" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-19" id="h1-0-19" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-20" id="h1-0-20" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-21" id="h1-0-21" class="i">+
</a><a href="#h1-0-22" id="h1-0-22" class="i">+&gt; SELECT * FROM name
</a><a href="#h1-0-23" id="h1-0-23" class="i">+&gt; ROLLBACK
</a><a href="#h1-0-24" id="h1-0-24" class="i">+---
</a><a href="#h1-0-25" id="h1-0-25" class="i">+ok
</a><a href="#h1-0-26" id="h1-0-26" class="i">+
</a><a href="#h1-0-27" id="h1-0-27" class="i">+# Deleting without a table, or with a missing or multiple tables errors.
</a><a href="#h1-0-28" id="h1-0-28" class="i">+!&gt; DELETE
</a><a href="#h1-0-29" id="h1-0-29" class="i">+!&gt; DELETE FROM
</a><a href="#h1-0-30" id="h1-0-30" class="i">+!&gt; DELETE FROM missing
</a><a href="#h1-0-31" id="h1-0-31" class="i">+!&gt; DELETE FROM name, foo
</a><a href="#h1-0-32" id="h1-0-32" class="i">+---
</a><a href="#h1-0-33" id="h1-0-33" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h1-0-34" id="h1-0-34" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h1-0-35" id="h1-0-35" class="i">+Error: invalid input: table missing does not exist
</a><a href="#h1-0-36" id="h1-0-36" class="i">+Error: invalid input: unexpected token ,
</a><a href="#h1-0-37" id="h1-0-37" class="i">+
</a><a href="#h1-0-38" id="h1-0-38" class="i">+# Deleting in an implicit transaction works, and deletes.
</a><a href="#h1-0-39" id="h1-0-39" class="i">+[ops]&gt; DELETE FROM name
</a><a href="#h1-0-40" id="h1-0-40" class="i">+---
</a><a href="#h1-0-41" id="h1-0-41" class="i">+storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h1-0-42" id="h1-0-42" class="i">+storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h1-0-43" id="h1-0-43" class="i">+storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-44" id="h1-0-44" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-45" id="h1-0-45" class="i">+storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-46" id="h1-0-46" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-47" id="h1-0-47" class="i">+storage set mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h1-0-48" id="h1-0-48" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-49" id="h1-0-49" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h1-0-50" id="h1-0-50" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h1-0-51" id="h1-0-51" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h1-0-52" id="h1-0-52" class="i">+storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a><a href="#h1-0-53" id="h1-0-53" class="i">+
</a><a href="#h1-0-54" id="h1-0-54" class="i">+&gt; SELECT * FROM name
</a><a href="#h1-0-55" id="h1-0-55" class="i">+---
</a><a href="#h1-0-56" id="h1-0-56" class="i">+ok
</a><a href="#h1-0-57" id="h1-0-57" class="i">+
</a><a href="#h1-0-58" id="h1-0-58" class="i">+dump
</a><a href="#h1-0-59" id="h1-0-59" class="i">+---
</a><a href="#h1-0-60" id="h1-0-60" class="i">+mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h1-0-61" id="h1-0-61" class="i">+mvcc:Version(sql:Table(&quot;name&quot;), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h1-0-62" id="h1-0-62" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h1-0-63" id="h1-0-63" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-64" id="h1-0-64" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h1-0-65" id="h1-0-65" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-66" id="h1-0-66" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 2) → Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h1-0-67" id="h1-0-67" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 5) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x00&quot;]
</a><a href="#h1-0-68" id="h1-0-68" class="i">+
</a><a href="#h1-0-69" id="h1-0-69" class="i">+# Bare DELETE errors.
</a><a href="#h1-0-70" id="h1-0-70" class="i">+!&gt; DELETE
</a><a href="#h1-0-71" id="h1-0-71" class="i">+!&gt; DELETE FROM
</a><a href="#h1-0-72" id="h1-0-72" class="i">+---
</a><a href="#h1-0-73" id="h1-0-73" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h1-0-74" id="h1-0-74" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h1-0-75" id="h1-0-75" class="i">+
</a><a href="#h1-0-76" id="h1-0-76" class="i">+# Unknown table errors.
</a><a href="#h1-0-77" id="h1-0-77" class="i">+!&gt; DELETE FROM foo
</a><a href="#h1-0-78" id="h1-0-78" class="i">+---
</a><a href="#h1-0-79" id="h1-0-79" class="i">+Error: invalid input: table foo does not exist
</a><a href="#h1-0-80" id="h1-0-80" class="i">+
</a><a href="#h1-0-81" id="h1-0-81" class="i">+# LIMIT and ORDER BY clauses error.
</a><a href="#h1-0-82" id="h1-0-82" class="i">+!&gt; DELETE FROM name LIMIT 2
</a><a href="#h1-0-83" id="h1-0-83" class="i">+!&gt; DELETE FROM name ORDER BY id
</a><a href="#h1-0-84" id="h1-0-84" class="i">+---
</a><a href="#h1-0-85" id="h1-0-85" class="i">+Error: invalid input: unexpected token LIMIT
</a><a href="#h1-0-86" id="h1-0-86" class="i">+Error: invalid input: unexpected token ORDER
</a><b>diff --git a/<a id="h2" href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a> b/<a href="../file/src/sql/testscripts/writes/delete_index.html">src/sql/testscripts/writes/delete_index</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,77 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+# Tests index updates during DELETE.
</a><a href="#h2-0-1" id="h2-0-1" class="i">+
</a><a href="#h2-0-2" id="h2-0-2" class="i">+# Create a table with a few indexes.
</a><a href="#h2-0-3" id="h2-0-3" class="i">+&gt; CREATE TABLE ref (id INT PRIMARY KEY, value STRING)
</a><a href="#h2-0-4" id="h2-0-4" class="i">+&gt; INSERT INTO ref VALUES (1, &#39;a&#39;), (2, &#39;b&#39;)
</a><a href="#h2-0-5" id="h2-0-5" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h2-0-6" id="h2-0-6" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h2-0-7" id="h2-0-7" class="i">+    &quot;index&quot; INT INDEX, \
</a><a href="#h2-0-8" id="h2-0-8" class="i">+    &quot;unique&quot; STRING UNIQUE, \
</a><a href="#h2-0-9" id="h2-0-9" class="i">+    ref_id INT REFERENCES ref \
</a><a href="#h2-0-10" id="h2-0-10" class="i">+)
</a><a href="#h2-0-11" id="h2-0-11" class="i">+&gt; INSERT INTO name VALUES (1, 2, &#39;foo&#39;, 1)
</a><a href="#h2-0-12" id="h2-0-12" class="i">+&gt; INSERT INTO name VALUES (2, 4, &#39;bar&#39;, 1)
</a><a href="#h2-0-13" id="h2-0-13" class="i">+&gt; INSERT INTO name VALUES (3, 6, NULL, 2)
</a><a href="#h2-0-14" id="h2-0-14" class="i">+&gt; INSERT INTO name VALUES (4, 8, &#39;baz&#39;, 2)
</a><a href="#h2-0-15" id="h2-0-15" class="i">+&gt; INSERT INTO name VALUES (5, 10, NULL, 1)
</a><a href="#h2-0-16" id="h2-0-16" class="i">+---
</a><a href="#h2-0-17" id="h2-0-17" class="i">+ok
</a><a href="#h2-0-18" id="h2-0-18" class="i">+
</a><a href="#h2-0-19" id="h2-0-19" class="i">+# DELETE updates the secondary indexes.
</a><a href="#h2-0-20" id="h2-0-20" class="i">+[ops]&gt; DELETE FROM name WHERE id = 4
</a><a href="#h2-0-21" id="h2-0-21" class="i">+---
</a><a href="#h2-0-22" id="h2-0-22" class="i">+storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h2-0-23" id="h2-0-23" class="i">+storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h2-0-24" id="h2-0-24" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h2-0-25" id="h2-0-25" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-26" id="h2-0-26" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h2-0-27" id="h2-0-27" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-28" id="h2-0-28" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h2-0-29" id="h2-0-29" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h2-0-30" id="h2-0-30" class="i">+storage set mvcc:TxnWrite(9, sql:Row(&quot;name&quot;, Integer(4))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h2-0-31" id="h2-0-31" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-32" id="h2-0-32" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h2-0-33" id="h2-0-33" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h2-0-34" id="h2-0-34" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h2-0-35" id="h2-0-35" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(&quot;name&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h2-0-36" id="h2-0-36" class="i">+storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h2-0-37" id="h2-0-37" class="i">+
</a><a href="#h2-0-38" id="h2-0-38" class="i">+# Dump the final state.
</a><a href="#h2-0-39" id="h2-0-39" class="i">+&gt; SELECT * FROM name
</a><a href="#h2-0-40" id="h2-0-40" class="i">+---
</a><a href="#h2-0-41" id="h2-0-41" class="i">+1,2,foo,1
</a><a href="#h2-0-42" id="h2-0-42" class="i">+2,4,bar,1
</a><a href="#h2-0-43" id="h2-0-43" class="i">+3,6,NULL,2
</a><a href="#h2-0-44" id="h2-0-44" class="i">+5,10,NULL,1
</a><a href="#h2-0-45" id="h2-0-45" class="i">+
</a><a href="#h2-0-46" id="h2-0-46" class="i">+dump
</a><a href="#h2-0-47" id="h2-0-47" class="i">+---
</a><a href="#h2-0-48" id="h2-0-48" class="i">+mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h2-0-49" id="h2-0-49" class="i">+mvcc:Version(sql:Table(&quot;name&quot;), 3) → CREATE TABLE name ( id INTEGER PRIMARY KEY, &quot;index&quot; INTEGER DEFAULT NULL INDEX, &quot;unique&quot; STRING DEFAULT NULL UNIQUE INDEX, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01=\x04name\x00\x04\x02id\x01\x00\x00\x01\x00\x00\x05index\x01\x01\x01\x00\x00\x01\x00\x06unique\x03\x01\x01\x00\x01\x01\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref&quot;]
</a><a href="#h2-0-50" id="h2-0-50" class="i">+mvcc:Version(sql:Table(&quot;ref&quot;), 1) → CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h2-0-51" id="h2-0-51" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(2)), 4) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h2-0-52" id="h2-0-52" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(4)), 5) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h2-0-53" id="h2-0-53" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(6)), 6) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h2-0-54" id="h2-0-54" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 7) → Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h2-0-55" id="h2-0-55" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(8)), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-56" id="h2-0-56" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;index&quot;, Integer(10)), 8) → Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffindex\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\n&quot;]
</a><a href="#h2-0-57" id="h2-0-57" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 4) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h2-0-58" id="h2-0-58" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 5) → Integer(1),Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h2-0-59" id="h2-0-59" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 8) → Integer(1),Integer(2),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x03\x02\x02\x02\x04\x02\n&quot;]
</a><a href="#h2-0-60" id="h2-0-60" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 6) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h2-0-61" id="h2-0-61" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 7) → Integer(3),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h2-0-62" id="h2-0-62" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h2-0-63" id="h2-0-63" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Null), 6) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h2-0-64" id="h2-0-64" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, Null), 8) → Integer(3),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x06\x02\n&quot;]
</a><a href="#h2-0-65" id="h2-0-65" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;bar&quot;)), 5) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h2-0-66" id="h2-0-66" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 7) → Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h2-0-67" id="h2-0-67" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;baz&quot;)), 9) → None [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04baz\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-68" id="h2-0-68" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;unique&quot;, String(&quot;foo&quot;)), 4) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffunique\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h2-0-69" id="h2-0-69" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 4) → Integer(1),Integer(2),String(&quot;foo&quot;),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x0c\x04\x02\x02\x02\x04\x04\x03foo\x02\x02&quot;]
</a><a href="#h2-0-70" id="h2-0-70" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 5) → Integer(2),Integer(4),String(&quot;bar&quot;),Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x0c\x04\x02\x04\x02\x08\x04\x03bar\x02\x02&quot;]
</a><a href="#h2-0-71" id="h2-0-71" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 6) → Integer(3),Integer(6),Null,Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x08\x04\x02\x06\x02\x0c\x00\x02\x04&quot;]
</a><a href="#h2-0-72" id="h2-0-72" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 7) → Integer(4),Integer(8),String(&quot;baz&quot;),Integer(2) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0c\x04\x02\x08\x02\x10\x04\x03baz\x02\x04&quot;]
</a><a href="#h2-0-73" id="h2-0-73" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x00&quot;]
</a><a href="#h2-0-74" id="h2-0-74" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(5)), 8) → Integer(5),Integer(10),Null,Integer(1) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x08\x04\x02\n\x02\x14\x00\x02\x02&quot;]
</a><a href="#h2-0-75" id="h2-0-75" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 2) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h2-0-76" id="h2-0-76" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 2) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><b>diff --git a/<a id="h3" href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a> b/<a href="../file/src/sql/testscripts/writes/delete_reference.html">src/sql/testscripts/writes/delete_reference</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,163 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+# Tests DELETE with foreign key constraints.
</a><a href="#h3-0-1" id="h3-0-1" class="i">+
</a><a href="#h3-0-2" id="h3-0-2" class="i">+# Create a few reference tables with data.
</a><a href="#h3-0-3" id="h3-0-3" class="i">+&gt; CREATE TABLE ref (id INT PRIMARY KEY, value STRING)
</a><a href="#h3-0-4" id="h3-0-4" class="i">+&gt; CREATE TABLE sref (id STRING PRIMARY KEY)
</a><a href="#h3-0-5" id="h3-0-5" class="i">+&gt; INSERT INTO ref VALUES (1, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;)
</a><a href="#h3-0-6" id="h3-0-6" class="i">+&gt; INSERT INTO sref VALUES (&#39;a&#39;), (&#39;b&#39;)
</a><a href="#h3-0-7" id="h3-0-7" class="i">+
</a><a href="#h3-0-8" id="h3-0-8" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h3-0-9" id="h3-0-9" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h3-0-10" id="h3-0-10" class="i">+    ref_id INT REFERENCES ref, \
</a><a href="#h3-0-11" id="h3-0-11" class="i">+    sref_id STRING NOT NULL REFERENCES sref \
</a><a href="#h3-0-12" id="h3-0-12" class="i">+)
</a><a href="#h3-0-13" id="h3-0-13" class="i">+&gt; INSERT INTO name VALUES (1, 1, &#39;a&#39;)
</a><a href="#h3-0-14" id="h3-0-14" class="i">+&gt; INSERT INTO name VALUES (2, NULL, &#39;b&#39;)
</a><a href="#h3-0-15" id="h3-0-15" class="i">+&gt; INSERT INTO name VALUES (3, 2, &#39;b&#39;)
</a><a href="#h3-0-16" id="h3-0-16" class="i">+&gt; INSERT INTO name VALUES (4, 2, &#39;a&#39;)
</a><a href="#h3-0-17" id="h3-0-17" class="i">+&gt; INSERT INTO name VALUES (5, 1, &#39;a&#39;)
</a><a href="#h3-0-18" id="h3-0-18" class="i">+---
</a><a href="#h3-0-19" id="h3-0-19" class="i">+ok
</a><a href="#h3-0-20" id="h3-0-20" class="i">+
</a><a href="#h3-0-21" id="h3-0-21" class="i">+# DELETE with a reference errors. It does not remove rows that could be removed
</a><a href="#h3-0-22" id="h3-0-22" class="i">+# in isolation.
</a><a href="#h3-0-23" id="h3-0-23" class="i">+!&gt; DELETE FROM ref
</a><a href="#h3-0-24" id="h3-0-24" class="i">+!&gt; DELETE FROM ref WHERE id = 1
</a><a href="#h3-0-25" id="h3-0-25" class="i">+---
</a><a href="#h3-0-26" id="h3-0-26" class="i">+Error: invalid input: row referenced by name.ref_id for name.id=1
</a><a href="#h3-0-27" id="h3-0-27" class="i">+Error: invalid input: row referenced by name.ref_id for name.id=1
</a><a href="#h3-0-28" id="h3-0-28" class="i">+
</a><a href="#h3-0-29" id="h3-0-29" class="i">+&gt; SELECT * FROM ref
</a><a href="#h3-0-30" id="h3-0-30" class="i">+---
</a><a href="#h3-0-31" id="h3-0-31" class="i">+1,a
</a><a href="#h3-0-32" id="h3-0-32" class="i">+2,b
</a><a href="#h3-0-33" id="h3-0-33" class="i">+3,c
</a><a href="#h3-0-34" id="h3-0-34" class="i">+
</a><a href="#h3-0-35" id="h3-0-35" class="i">+# DELETE of an unreferenced row succeeds.
</a><a href="#h3-0-36" id="h3-0-36" class="i">+[ops]&gt; DELETE FROM ref WHERE id = 3
</a><a href="#h3-0-37" id="h3-0-37" class="i">+---
</a><a href="#h3-0-38" id="h3-0-38" class="i">+storage set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h3-0-39" id="h3-0-39" class="i">+storage set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h3-0-40" id="h3-0-40" class="i">+storage set mvcc:TxnWrite(13, sql:Row(&quot;ref&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-41" id="h3-0-41" class="i">+storage set mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 13) → None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-42" id="h3-0-42" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(&quot;ref&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h3-0-43" id="h3-0-43" class="i">+storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a><a href="#h3-0-44" id="h3-0-44" class="i">+
</a><a href="#h3-0-45" id="h3-0-45" class="i">+&gt; SELECT * FROM ref
</a><a href="#h3-0-46" id="h3-0-46" class="i">+---
</a><a href="#h3-0-47" id="h3-0-47" class="i">+1,a
</a><a href="#h3-0-48" id="h3-0-48" class="i">+2,b
</a><a href="#h3-0-49" id="h3-0-49" class="i">+
</a><a href="#h3-0-50" id="h3-0-50" class="i">+# DELETE in the source table succeeds. It also removes the index entries.
</a><a href="#h3-0-51" id="h3-0-51" class="i">+[ops]&gt; DELETE FROM name WHERE id = 2 OR id = 3
</a><a href="#h3-0-52" id="h3-0-52" class="i">+---
</a><a href="#h3-0-53" id="h3-0-53" class="i">+storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h3-0-54" id="h3-0-54" class="i">+storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h3-0-55" id="h3-0-55" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-56" id="h3-0-56" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-57" id="h3-0-57" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-58" id="h3-0-58" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h3-0-59" id="h3-0-59" class="i">+storage set mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-60" id="h3-0-60" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-61" id="h3-0-61" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-62" id="h3-0-62" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 14) → Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h3-0-63" id="h3-0-63" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-64" id="h3-0-64" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-65" id="h3-0-65" class="i">+storage set mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h3-0-66" id="h3-0-66" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-67" id="h3-0-67" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h3-0-68" id="h3-0-68" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h3-0-69" id="h3-0-69" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h3-0-70" id="h3-0-70" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h3-0-71" id="h3-0-71" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h3-0-72" id="h3-0-72" class="i">+storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h3-0-73" id="h3-0-73" class="i">+
</a><a href="#h3-0-74" id="h3-0-74" class="i">+# DELETE of a no-longer-referenced row succeeds.
</a><a href="#h3-0-75" id="h3-0-75" class="i">+&gt; DELETE FROM sref WHERE id = &#39;b&#39;
</a><a href="#h3-0-76" id="h3-0-76" class="i">+---
</a><a href="#h3-0-77" id="h3-0-77" class="i">+ok
</a><a href="#h3-0-78" id="h3-0-78" class="i">+
</a><a href="#h3-0-79" id="h3-0-79" class="i">+# Test self-references.
</a><a href="#h3-0-80" id="h3-0-80" class="i">+&gt; CREATE TABLE self (id INT PRIMARY KEY, self_id INT REFERENCES self)
</a><a href="#h3-0-81" id="h3-0-81" class="i">+&gt; INSERT INTO self VALUES (1, 1)
</a><a href="#h3-0-82" id="h3-0-82" class="i">+&gt; INSERT INTO self VALUES (2, 2)
</a><a href="#h3-0-83" id="h3-0-83" class="i">+&gt; INSERT INTO self VALUES (3, 2)
</a><a href="#h3-0-84" id="h3-0-84" class="i">+&gt; INSERT INTO self VALUES (4, 2)
</a><a href="#h3-0-85" id="h3-0-85" class="i">+---
</a><a href="#h3-0-86" id="h3-0-86" class="i">+ok
</a><a href="#h3-0-87" id="h3-0-87" class="i">+
</a><a href="#h3-0-88" id="h3-0-88" class="i">+# Deleting all self-ref rows always works.
</a><a href="#h3-0-89" id="h3-0-89" class="i">+&gt; BEGIN
</a><a href="#h3-0-90" id="h3-0-90" class="i">+&gt; DELETE FROM self
</a><a href="#h3-0-91" id="h3-0-91" class="i">+&gt; SELECT * FROM self
</a><a href="#h3-0-92" id="h3-0-92" class="i">+&gt; ROLLBACK
</a><a href="#h3-0-93" id="h3-0-93" class="i">+---
</a><a href="#h3-0-94" id="h3-0-94" class="i">+ok
</a><a href="#h3-0-95" id="h3-0-95" class="i">+
</a><a href="#h3-0-96" id="h3-0-96" class="i">+# Deleting a referenced row errors.
</a><a href="#h3-0-97" id="h3-0-97" class="i">+!&gt; DELETE FROM self WHERE id = 2
</a><a href="#h3-0-98" id="h3-0-98" class="i">+---
</a><a href="#h3-0-99" id="h3-0-99" class="i">+Error: invalid input: row referenced by self.self_id for self.id=3
</a><a href="#h3-0-100" id="h3-0-100" class="i">+
</a><a href="#h3-0-101" id="h3-0-101" class="i">+# Deleting an unreferenced row works.
</a><a href="#h3-0-102" id="h3-0-102" class="i">+&gt; DELETE FROM self WHERE id = 4
</a><a href="#h3-0-103" id="h3-0-103" class="i">+---
</a><a href="#h3-0-104" id="h3-0-104" class="i">+ok
</a><a href="#h3-0-105" id="h3-0-105" class="i">+
</a><a href="#h3-0-106" id="h3-0-106" class="i">+# Deleting a row only referencing itself works.
</a><a href="#h3-0-107" id="h3-0-107" class="i">+&gt; DELETE FROM self WHERE id = 1
</a><a href="#h3-0-108" id="h3-0-108" class="i">+---
</a><a href="#h3-0-109" id="h3-0-109" class="i">+ok
</a><a href="#h3-0-110" id="h3-0-110" class="i">+
</a><a href="#h3-0-111" id="h3-0-111" class="i">+&gt; SELECT * FROM self
</a><a href="#h3-0-112" id="h3-0-112" class="i">+---
</a><a href="#h3-0-113" id="h3-0-113" class="i">+2,2
</a><a href="#h3-0-114" id="h3-0-114" class="i">+3,2
</a><a href="#h3-0-115" id="h3-0-115" class="i">+
</a><a href="#h3-0-116" id="h3-0-116" class="i">+# Dump the raw dataset.
</a><a href="#h3-0-117" id="h3-0-117" class="i">+dump
</a><a href="#h3-0-118" id="h3-0-118" class="i">+---
</a><a href="#h3-0-119" id="h3-0-119" class="i">+mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h3-0-120" id="h3-0-120" class="i">+mvcc:Version(sql:Table(&quot;name&quot;), 5) → CREATE TABLE name ( id INTEGER PRIMARY KEY, ref_id INTEGER DEFAULT NULL INDEX REFERENCES ref, sref_id STRING NOT NULL INDEX REFERENCES sref ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x015\x04name\x00\x03\x02id\x01\x00\x00\x01\x00\x00\x06ref_id\x01\x01\x01\x00\x00\x01\x01\x03ref\x07sref_id\x03\x00\x00\x00\x01\x01\x04sref&quot;]
</a><a href="#h3-0-121" id="h3-0-121" class="i">+mvcc:Version(sql:Table(&quot;ref&quot;), 1) → CREATE TABLE ref ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1c\x03ref\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h3-0-122" id="h3-0-122" class="i">+mvcc:Version(sql:Table(&quot;self&quot;), 16) → CREATE TABLE self ( id INTEGER PRIMARY KEY, self_id INTEGER DEFAULT NULL INDEX REFERENCES self ) [&quot;\x04\x00\xffself\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01$\x04self\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x07self_id\x01\x01\x01\x00\x00\x01\x01\x04self&quot;]
</a><a href="#h3-0-123" id="h3-0-123" class="i">+mvcc:Version(sql:Table(&quot;sref&quot;), 2) → CREATE TABLE sref ( id STRING PRIMARY KEY ) [&quot;\x04\x00\xffsref\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x10\x04sref\x00\x01\x02id\x03\x00\x00\x01\x00\x00&quot;]
</a><a href="#h3-0-124" id="h3-0-124" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 7) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h3-0-125" id="h3-0-125" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Null), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-126" id="h3-0-126" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 6) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h3-0-127" id="h3-0-127" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(1)), 10) → Integer(1),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x05\x02\x02\x02\x02\n&quot;]
</a><a href="#h3-0-128" id="h3-0-128" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 8) → Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h3-0-129" id="h3-0-129" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 9) → Integer(3),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x06\x02\x08&quot;]
</a><a href="#h3-0-130" id="h3-0-130" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;ref_id&quot;, Integer(2)), 14) → Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffref_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h3-0-131" id="h3-0-131" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 6) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h3-0-132" id="h3-0-132" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 9) → Integer(1),Integer(4) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x02\x02\x08&quot;]
</a><a href="#h3-0-133" id="h3-0-133" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;a&quot;)), 10) → Integer(1),Integer(4),Integer(5) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x02\x02\x08\x02\n&quot;]
</a><a href="#h3-0-134" id="h3-0-134" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 7) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h3-0-135" id="h3-0-135" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 8) → Integer(2),Integer(3) [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h3-0-136" id="h3-0-136" class="i">+mvcc:Version(sql:Index(&quot;name&quot;, &quot;sref_id&quot;, String(&quot;b&quot;)), 14) → None [&quot;\x04\x01name\x00\xff\x00\xffsref_id\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-137" id="h3-0-137" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 17) → Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h3-0-138" id="h3-0-138" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 24) → None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-139" id="h3-0-139" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 18) → Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h3-0-140" id="h3-0-140" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 19) → Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h3-0-141" id="h3-0-141" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 20) → Integer(2),Integer(3),Integer(4) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; → &quot;\x01\x07\x03\x02\x04\x02\x06\x02\x08&quot;]
</a><a href="#h3-0-142" id="h3-0-142" class="i">+mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 23) → Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h3-0-143" id="h3-0-143" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 6) → Integer(1),Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x08\x03\x02\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h3-0-144" id="h3-0-144" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 7) → Integer(2),Null,String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x07\x03\x02\x04\x00\x04\x01b&quot;]
</a><a href="#h3-0-145" id="h3-0-145" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-146" id="h3-0-146" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 8) → Integer(3),Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x08\x03\x02\x06\x02\x04\x04\x01b&quot;]
</a><a href="#h3-0-147" id="h3-0-147" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 14) → None [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-148" id="h3-0-148" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 9) → Integer(4),Integer(2),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x08\x03\x02\x08\x02\x04\x04\x01a&quot;]
</a><a href="#h3-0-149" id="h3-0-149" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(5)), 10) → Integer(5),Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x03\x02\n\x02\x02\x04\x01a&quot;]
</a><a href="#h3-0-150" id="h3-0-150" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(1)), 3) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h3-0-151" id="h3-0-151" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(2)), 3) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h3-0-152" id="h3-0-152" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 3) → Integer(3),String(&quot;c&quot;) [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h3-0-153" id="h3-0-153" class="i">+mvcc:Version(sql:Row(&quot;ref&quot;, Integer(3)), 13) → None [&quot;\x04\x02ref\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-154" id="h3-0-154" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 17) → Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h3-0-155" id="h3-0-155" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 24) → None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-156" id="h3-0-156" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 18) → Integer(2),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x05\x02\x02\x04\x02\x04&quot;]
</a><a href="#h3-0-157" id="h3-0-157" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 19) → Integer(3),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h3-0-158" id="h3-0-158" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(4)), 20) → Integer(4),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x14&quot; → &quot;\x01\x05\x02\x02\x08\x02\x04&quot;]
</a><a href="#h3-0-159" id="h3-0-159" class="i">+mvcc:Version(sql:Row(&quot;self&quot;, Integer(4)), 23) → None [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x00&quot;]
</a><a href="#h3-0-160" id="h3-0-160" class="i">+mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;a&quot;)), 4) → String(&quot;a&quot;) [&quot;\x04\x02sref\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x04\x01\x04\x01a&quot;]
</a><a href="#h3-0-161" id="h3-0-161" class="i">+mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;b&quot;)), 4) → String(&quot;b&quot;) [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x04\x01\x04\x01b&quot;]
</a><a href="#h3-0-162" id="h3-0-162" class="i">+mvcc:Version(sql:Row(&quot;sref&quot;, String(&quot;b&quot;)), 15) → None [&quot;\x04\x02sref\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x00&quot;]
</a><b>diff --git a/<a id="h4" href="../file/src/sql/testscripts/writes/delete_where.html">src/sql/testscripts/writes/delete_where</a> b/<a href="../file/src/sql/testscripts/writes/delete_where.html">src/sql/testscripts/writes/delete_where</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,105 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+# Tests filtered DELETE statements.
</a><a href="#h4-0-1" id="h4-0-1" class="i">+
</a><a href="#h4-0-2" id="h4-0-2" class="i">+# Create a table with some data.
</a><a href="#h4-0-3" id="h4-0-3" class="i">+&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING, &quot;index&quot; INT INDEX)
</a><a href="#h4-0-4" id="h4-0-4" class="i">+&gt; INSERT INTO name VALUES (1, &#39;a&#39;, 1), (2, &#39;b&#39;, 2), (3, &#39;c&#39;, 3), (0, NULL, NULL)
</a><a href="#h4-0-5" id="h4-0-5" class="i">+---
</a><a href="#h4-0-6" id="h4-0-6" class="i">+ok
</a><a href="#h4-0-7" id="h4-0-7" class="i">+
</a><a href="#h4-0-8" id="h4-0-8" class="i">+# Boolean filters work, and are trivial.
</a><a href="#h4-0-9" id="h4-0-9" class="i">+&gt; BEGIN
</a><a href="#h4-0-10" id="h4-0-10" class="i">+[plan]&gt; DELETE FROM name WHERE true
</a><a href="#h4-0-11" id="h4-0-11" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-12" id="h4-0-12" class="i">+&gt; ROLLBACK
</a><a href="#h4-0-13" id="h4-0-13" class="i">+---
</a><a href="#h4-0-14" id="h4-0-14" class="i">+Delete: name
</a><a href="#h4-0-15" id="h4-0-15" class="i">+└─ Scan: name
</a><a href="#h4-0-16" id="h4-0-16" class="i">+
</a><a href="#h4-0-17" id="h4-0-17" class="i">+[plan]&gt; DELETE FROM name WHERE false
</a><a href="#h4-0-18" id="h4-0-18" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-19" id="h4-0-19" class="i">+---
</a><a href="#h4-0-20" id="h4-0-20" class="i">+Delete: name
</a><a href="#h4-0-21" id="h4-0-21" class="i">+└─ Nothing
</a><a href="#h4-0-22" id="h4-0-22" class="i">+0,NULL,NULL
</a><a href="#h4-0-23" id="h4-0-23" class="i">+1,a,1
</a><a href="#h4-0-24" id="h4-0-24" class="i">+2,b,2
</a><a href="#h4-0-25" id="h4-0-25" class="i">+3,c,3
</a><a href="#h4-0-26" id="h4-0-26" class="i">+
</a><a href="#h4-0-27" id="h4-0-27" class="i">+# Deleting by primary key lookup works.
</a><a href="#h4-0-28" id="h4-0-28" class="i">+&gt; BEGIN
</a><a href="#h4-0-29" id="h4-0-29" class="i">+[plan]&gt; DELETE FROM name WHERE id = 1 OR id = 3
</a><a href="#h4-0-30" id="h4-0-30" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-31" id="h4-0-31" class="i">+&gt; ROLLBACK
</a><a href="#h4-0-32" id="h4-0-32" class="i">+---
</a><a href="#h4-0-33" id="h4-0-33" class="i">+Delete: name
</a><a href="#h4-0-34" id="h4-0-34" class="i">+└─ KeyLookup: name (1, 3)
</a><a href="#h4-0-35" id="h4-0-35" class="i">+0,NULL,NULL
</a><a href="#h4-0-36" id="h4-0-36" class="i">+2,b,2
</a><a href="#h4-0-37" id="h4-0-37" class="i">+
</a><a href="#h4-0-38" id="h4-0-38" class="i">+# Deleting by secondary index lookup works.
</a><a href="#h4-0-39" id="h4-0-39" class="i">+&gt; BEGIN
</a><a href="#h4-0-40" id="h4-0-40" class="i">+[plan]&gt; DELETE FROM name WHERE &quot;index&quot; = 3
</a><a href="#h4-0-41" id="h4-0-41" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-42" id="h4-0-42" class="i">+&gt; ROLLBACK
</a><a href="#h4-0-43" id="h4-0-43" class="i">+---
</a><a href="#h4-0-44" id="h4-0-44" class="i">+Delete: name
</a><a href="#h4-0-45" id="h4-0-45" class="i">+└─ IndexLookup: name column index (3)
</a><a href="#h4-0-46" id="h4-0-46" class="i">+0,NULL,NULL
</a><a href="#h4-0-47" id="h4-0-47" class="i">+1,a,1
</a><a href="#h4-0-48" id="h4-0-48" class="i">+2,b,2
</a><a href="#h4-0-49" id="h4-0-49" class="i">+
</a><a href="#h4-0-50" id="h4-0-50" class="i">+# Including IS NULL predicates.
</a><a href="#h4-0-51" id="h4-0-51" class="i">+&gt; BEGIN
</a><a href="#h4-0-52" id="h4-0-52" class="i">+[plan]&gt; DELETE FROM name WHERE &quot;index&quot; IS NULL
</a><a href="#h4-0-53" id="h4-0-53" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-54" id="h4-0-54" class="i">+&gt; ROLLBACK
</a><a href="#h4-0-55" id="h4-0-55" class="i">+---
</a><a href="#h4-0-56" id="h4-0-56" class="i">+Delete: name
</a><a href="#h4-0-57" id="h4-0-57" class="i">+└─ IndexLookup: name column index (NULL)
</a><a href="#h4-0-58" id="h4-0-58" class="i">+1,a,1
</a><a href="#h4-0-59" id="h4-0-59" class="i">+2,b,2
</a><a href="#h4-0-60" id="h4-0-60" class="i">+3,c,3
</a><a href="#h4-0-61" id="h4-0-61" class="i">+
</a><a href="#h4-0-62" id="h4-0-62" class="i">+# Deleting by arbitrary predicate works.
</a><a href="#h4-0-63" id="h4-0-63" class="i">+&gt; BEGIN
</a><a href="#h4-0-64" id="h4-0-64" class="i">+[plan]&gt; DELETE FROM name WHERE id &gt;= 5 - 2 OR (value LIKE &#39;a&#39;) IS NULL
</a><a href="#h4-0-65" id="h4-0-65" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-66" id="h4-0-66" class="i">+&gt; ROLLBACK
</a><a href="#h4-0-67" id="h4-0-67" class="i">+---
</a><a href="#h4-0-68" id="h4-0-68" class="i">+Delete: name
</a><a href="#h4-0-69" id="h4-0-69" class="i">+└─ Scan: name (id &gt; 3 OR id = 3 OR value LIKE a IS NULL)
</a><a href="#h4-0-70" id="h4-0-70" class="i">+1,a,1
</a><a href="#h4-0-71" id="h4-0-71" class="i">+2,b,2
</a><a href="#h4-0-72" id="h4-0-72" class="i">+
</a><a href="#h4-0-73" id="h4-0-73" class="i">+# Other types error, except NULL which is equivalent to false.
</a><a href="#h4-0-74" id="h4-0-74" class="i">+!&gt; DELETE FROM name WHERE 0
</a><a href="#h4-0-75" id="h4-0-75" class="i">+!&gt; DELETE FROM name WHERE 1
</a><a href="#h4-0-76" id="h4-0-76" class="i">+!&gt; DELETE FROM name WHERE 3.14
</a><a href="#h4-0-77" id="h4-0-77" class="i">+!&gt; DELETE FROM name WHERE NaN
</a><a href="#h4-0-78" id="h4-0-78" class="i">+!&gt; DELETE FROM name WHERE &#39;&#39;
</a><a href="#h4-0-79" id="h4-0-79" class="i">+!&gt; DELETE FROM name WHERE &#39;true&#39;
</a><a href="#h4-0-80" id="h4-0-80" class="i">+---
</a><a href="#h4-0-81" id="h4-0-81" class="i">+Error: invalid input: filter returned 0, expected boolean
</a><a href="#h4-0-82" id="h4-0-82" class="i">+Error: invalid input: filter returned 1, expected boolean
</a><a href="#h4-0-83" id="h4-0-83" class="i">+Error: invalid input: filter returned 3.14, expected boolean
</a><a href="#h4-0-84" id="h4-0-84" class="i">+Error: invalid input: filter returned NaN, expected boolean
</a><a href="#h4-0-85" id="h4-0-85" class="i">+Error: invalid input: filter returned , expected boolean
</a><a href="#h4-0-86" id="h4-0-86" class="i">+Error: invalid input: filter returned true, expected boolean
</a><a href="#h4-0-87" id="h4-0-87" class="i">+
</a><a href="#h4-0-88" id="h4-0-88" class="i">+&gt; DELETE FROM name WHERE NULL
</a><a href="#h4-0-89" id="h4-0-89" class="i">+&gt; SELECT * FROM name
</a><a href="#h4-0-90" id="h4-0-90" class="i">+---
</a><a href="#h4-0-91" id="h4-0-91" class="i">+0,NULL,NULL
</a><a href="#h4-0-92" id="h4-0-92" class="i">+1,a,1
</a><a href="#h4-0-93" id="h4-0-93" class="i">+2,b,2
</a><a href="#h4-0-94" id="h4-0-94" class="i">+3,c,3
</a><a href="#h4-0-95" id="h4-0-95" class="i">+
</a><a href="#h4-0-96" id="h4-0-96" class="i">+# Bare WHERE errors.
</a><a href="#h4-0-97" id="h4-0-97" class="i">+!&gt; DELETE FROM name WHERE
</a><a href="#h4-0-98" id="h4-0-98" class="i">+---
</a><a href="#h4-0-99" id="h4-0-99" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h4-0-100" id="h4-0-100" class="i">+
</a><a href="#h4-0-101" id="h4-0-101" class="i">+# Missing column errors.
</a><a href="#h4-0-102" id="h4-0-102" class="i">+!&gt; DELETE FROM name WHERE missing = &#39;foo&#39;
</a><a href="#h4-0-103" id="h4-0-103" class="i">+---
</a><a href="#h4-0-104" id="h4-0-104" class="i">+Error: invalid input: unknown field missing
</a><b>diff --git a/<a id="h5" href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a> b/<a href="../file/src/sql/testscripts/writes/insert.html">src/sql/testscripts/writes/insert</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -0,0 +1,98 @@
</a><a href="#h5-0-0" id="h5-0-0" class="i">+# Tests basic INSERT functionality.
</a><a href="#h5-0-1" id="h5-0-1" class="i">+
</a><a href="#h5-0-2" id="h5-0-2" class="i">+&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
</a><a href="#h5-0-3" id="h5-0-3" class="i">+---
</a><a href="#h5-0-4" id="h5-0-4" class="i">+ok
</a><a href="#h5-0-5" id="h5-0-5" class="i">+
</a><a href="#h5-0-6" id="h5-0-6" class="i">+# INSERT writes a row to the table, and returns the number of rows.
</a><a href="#h5-0-7" id="h5-0-7" class="i">+[plan,result,ops]&gt; INSERT INTO name VALUES (1, &#39;a&#39;)
</a><a href="#h5-0-8" id="h5-0-8" class="i">+---
</a><a href="#h5-0-9" id="h5-0-9" class="i">+Insert: name
</a><a href="#h5-0-10" id="h5-0-10" class="i">+└─ Values: 1 rows
</a><a href="#h5-0-11" id="h5-0-11" class="i">+Insert { count: 1 }
</a><a href="#h5-0-12" id="h5-0-12" class="i">+storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h5-0-13" id="h5-0-13" class="i">+storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h5-0-14" id="h5-0-14" class="i">+storage set mvcc:TxnWrite(2, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h5-0-15" id="h5-0-15" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h5-0-16" id="h5-0-16" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h5-0-17" id="h5-0-17" class="i">+storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h5-0-18" id="h5-0-18" class="i">+
</a><a href="#h5-0-19" id="h5-0-19" class="i">+# It can also write multiple rows.
</a><a href="#h5-0-20" id="h5-0-20" class="i">+[plan,result,ops]&gt; INSERT INTO name VALUES (2, &#39;b&#39;), (3, &#39;c&#39;), (4, &#39;d&#39;)
</a><a href="#h5-0-21" id="h5-0-21" class="i">+---
</a><a href="#h5-0-22" id="h5-0-22" class="i">+Insert: name
</a><a href="#h5-0-23" id="h5-0-23" class="i">+└─ Values: 3 rows
</a><a href="#h5-0-24" id="h5-0-24" class="i">+Insert { count: 3 }
</a><a href="#h5-0-25" id="h5-0-25" class="i">+storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h5-0-26" id="h5-0-26" class="i">+storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h5-0-27" id="h5-0-27" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h5-0-28" id="h5-0-28" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h5-0-29" id="h5-0-29" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h5-0-30" id="h5-0-30" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) → Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h5-0-31" id="h5-0-31" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(4))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h5-0-32" id="h5-0-32" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 3) → Integer(4),String(&quot;d&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h5-0-33" id="h5-0-33" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h5-0-34" id="h5-0-34" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h5-0-35" id="h5-0-35" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h5-0-36" id="h5-0-36" class="i">+storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h5-0-37" id="h5-0-37" class="i">+
</a><a href="#h5-0-38" id="h5-0-38" class="i">+&gt; SELECT * FROM name
</a><a href="#h5-0-39" id="h5-0-39" class="i">+---
</a><a href="#h5-0-40" id="h5-0-40" class="i">+1,a
</a><a href="#h5-0-41" id="h5-0-41" class="i">+2,b
</a><a href="#h5-0-42" id="h5-0-42" class="i">+3,c
</a><a href="#h5-0-43" id="h5-0-43" class="i">+4,d
</a><a href="#h5-0-44" id="h5-0-44" class="i">+
</a><a href="#h5-0-45" id="h5-0-45" class="i">+dump
</a><a href="#h5-0-46" id="h5-0-46" class="i">+---
</a><a href="#h5-0-47" id="h5-0-47" class="i">+mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h5-0-48" id="h5-0-48" class="i">+mvcc:Version(sql:Table(&quot;name&quot;), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h5-0-49" id="h5-0-49" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h5-0-50" id="h5-0-50" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h5-0-51" id="h5-0-51" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(3)), 3) → Integer(3),String(&quot;c&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x06\x04\x01c&quot;]
</a><a href="#h5-0-52" id="h5-0-52" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(4)), 3) → Integer(4),String(&quot;d&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x06\x02\x02\x08\x04\x01d&quot;]
</a><a href="#h5-0-53" id="h5-0-53" class="i">+
</a><a href="#h5-0-54" id="h5-0-54" class="i">+# INSERTs can use expressions, but only constant ones.
</a><a href="#h5-0-55" id="h5-0-55" class="i">+&gt; INSERT INTO name VALUES (2^2+1, &#39;abc&#39;)
</a><a href="#h5-0-56" id="h5-0-56" class="i">+&gt; SELECT * FROM name
</a><a href="#h5-0-57" id="h5-0-57" class="i">+---
</a><a href="#h5-0-58" id="h5-0-58" class="i">+1,a
</a><a href="#h5-0-59" id="h5-0-59" class="i">+2,b
</a><a href="#h5-0-60" id="h5-0-60" class="i">+3,c
</a><a href="#h5-0-61" id="h5-0-61" class="i">+4,d
</a><a href="#h5-0-62" id="h5-0-62" class="i">+5,abc
</a><a href="#h5-0-63" id="h5-0-63" class="i">+
</a><a href="#h5-0-64" id="h5-0-64" class="i">+!&gt; INSERT INTO name VALUES (id + 2, &#39;abc&#39;)
</a><a href="#h5-0-65" id="h5-0-65" class="i">+---
</a><a href="#h5-0-66" id="h5-0-66" class="i">+Error: invalid input: expression must be constant, found field id
</a><a href="#h5-0-67" id="h5-0-67" class="i">+
</a><a href="#h5-0-68" id="h5-0-68" class="i">+# INSERTs with too many columns errors. Fewer are tested by insert_default.
</a><a href="#h5-0-69" id="h5-0-69" class="i">+!&gt; INSERT INTO name VALUES (6, &#39;e&#39;, NULL)
</a><a href="#h5-0-70" id="h5-0-70" class="i">+---
</a><a href="#h5-0-71" id="h5-0-71" class="i">+Error: invalid input: too many values for table name
</a><a href="#h5-0-72" id="h5-0-72" class="i">+
</a><a href="#h5-0-73" id="h5-0-73" class="i">+# Bare insert errors, as does no values.
</a><a href="#h5-0-74" id="h5-0-74" class="i">+!&gt; INSERT
</a><a href="#h5-0-75" id="h5-0-75" class="i">+!&gt; INSERT INTO
</a><a href="#h5-0-76" id="h5-0-76" class="i">+!&gt; INSERT INTO name
</a><a href="#h5-0-77" id="h5-0-77" class="i">+---
</a><a href="#h5-0-78" id="h5-0-78" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h5-0-79" id="h5-0-79" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h5-0-80" id="h5-0-80" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h5-0-81" id="h5-0-81" class="i">+
</a><a href="#h5-0-82" id="h5-0-82" class="i">+# Unknown table or column errors.
</a><a href="#h5-0-83" id="h5-0-83" class="i">+!&gt; INSERT INTO foo VALUES (1)
</a><a href="#h5-0-84" id="h5-0-84" class="i">+!&gt; INSERT INTO name (id, foo) VALUES (1, &#39;bar&#39;)
</a><a href="#h5-0-85" id="h5-0-85" class="i">+---
</a><a href="#h5-0-86" id="h5-0-86" class="i">+Error: invalid input: table foo does not exist
</a><a href="#h5-0-87" id="h5-0-87" class="i">+Error: invalid input: unknown column foo in table name
</a><a href="#h5-0-88" id="h5-0-88" class="i">+
</a><a href="#h5-0-89" id="h5-0-89" class="i">+# Multiple tables errors.
</a><a href="#h5-0-90" id="h5-0-90" class="i">+!&gt; INSERT INTO name, other VALUES (1)
</a><a href="#h5-0-91" id="h5-0-91" class="i">+---
</a><a href="#h5-0-92" id="h5-0-92" class="i">+Error: invalid input: expected token VALUES, found ,
</a><a href="#h5-0-93" id="h5-0-93" class="i">+
</a><a href="#h5-0-94" id="h5-0-94" class="i">+# Specifying the same column multiple times errors.
</a><a href="#h5-0-95" id="h5-0-95" class="i">+!&gt; INSERT INTO name (id, value, value) VALUES (6, &#39;e&#39;, &#39;f&#39;)
</a><a href="#h5-0-96" id="h5-0-96" class="i">+---
</a><a href="#h5-0-97" id="h5-0-97" class="i">+Error: invalid input: column value given multiple times
</a><b>diff --git a/<a id="h6" href="../file/src/sql/testscripts/writes/insert_datatypes.html">src/sql/testscripts/writes/insert_datatypes</a> b/<a href="../file/src/sql/testscripts/writes/insert_datatypes.html">src/sql/testscripts/writes/insert_datatypes</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,128 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+# Tests INSERT of all datatypes.
</a><a href="#h6-0-1" id="h6-0-1" class="i">+
</a><a href="#h6-0-2" id="h6-0-2" class="i">+# Create columns with all datatypes.
</a><a href="#h6-0-3" id="h6-0-3" class="i">+&gt; CREATE TABLE datatypes ( \
</a><a href="#h6-0-4" id="h6-0-4" class="i">+    id INTEGER PRIMARY KEY, \
</a><a href="#h6-0-5" id="h6-0-5" class="i">+    &quot;bool&quot; BOOL, \
</a><a href="#h6-0-6" id="h6-0-6" class="i">+    &quot;int&quot; INT, \
</a><a href="#h6-0-7" id="h6-0-7" class="i">+    &quot;float&quot; FLOAT, \
</a><a href="#h6-0-8" id="h6-0-8" class="i">+    &quot;string&quot; STRING \
</a><a href="#h6-0-9" id="h6-0-9" class="i">+)
</a><a href="#h6-0-10" id="h6-0-10" class="i">+---
</a><a href="#h6-0-11" id="h6-0-11" class="i">+ok
</a><a href="#h6-0-12" id="h6-0-12" class="i">+
</a><a href="#h6-0-13" id="h6-0-13" class="i">+# Booleans.
</a><a href="#h6-0-14" id="h6-0-14" class="i">+&gt; BEGIN
</a><a href="#h6-0-15" id="h6-0-15" class="i">+&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (1, true)
</a><a href="#h6-0-16" id="h6-0-16" class="i">+&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (2, false)
</a><a href="#h6-0-17" id="h6-0-17" class="i">+&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (3, NULL)
</a><a href="#h6-0-18" id="h6-0-18" class="i">+---
</a><a href="#h6-0-19" id="h6-0-19" class="i">+ok
</a><a href="#h6-0-20" id="h6-0-20" class="i">+
</a><a href="#h6-0-21" id="h6-0-21" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h6-0-22" id="h6-0-22" class="i">+&gt; ROLLBACK
</a><a href="#h6-0-23" id="h6-0-23" class="i">+---
</a><a href="#h6-0-24" id="h6-0-24" class="i">+1,TRUE,NULL,NULL,NULL
</a><a href="#h6-0-25" id="h6-0-25" class="i">+2,FALSE,NULL,NULL,NULL
</a><a href="#h6-0-26" id="h6-0-26" class="i">+3,NULL,NULL,NULL,NULL
</a><a href="#h6-0-27" id="h6-0-27" class="i">+
</a><a href="#h6-0-28" id="h6-0-28" class="i">+!&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (0, 1)
</a><a href="#h6-0-29" id="h6-0-29" class="i">+!&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (0, 3.14)
</a><a href="#h6-0-30" id="h6-0-30" class="i">+!&gt; INSERT INTO datatypes (id, &quot;bool&quot;) VALUES (0, &#39;false&#39;)
</a><a href="#h6-0-31" id="h6-0-31" class="i">+---
</a><a href="#h6-0-32" id="h6-0-32" class="i">+Error: invalid input: invalid datatype INTEGER for BOOLEAN column bool
</a><a href="#h6-0-33" id="h6-0-33" class="i">+Error: invalid input: invalid datatype FLOAT for BOOLEAN column bool
</a><a href="#h6-0-34" id="h6-0-34" class="i">+Error: invalid input: invalid datatype STRING for BOOLEAN column bool
</a><a href="#h6-0-35" id="h6-0-35" class="i">+
</a><a href="#h6-0-36" id="h6-0-36" class="i">+# Integers.
</a><a href="#h6-0-37" id="h6-0-37" class="i">+&gt; BEGIN
</a><a href="#h6-0-38" id="h6-0-38" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (1, 1)
</a><a href="#h6-0-39" id="h6-0-39" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (2, 0)
</a><a href="#h6-0-40" id="h6-0-40" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (3, -1)
</a><a href="#h6-0-41" id="h6-0-41" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (4, 9223372036854775807)
</a><a href="#h6-0-42" id="h6-0-42" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (5, -9223372036854775807)
</a><a href="#h6-0-43" id="h6-0-43" class="i">+&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (6, NULL)
</a><a href="#h6-0-44" id="h6-0-44" class="i">+---
</a><a href="#h6-0-45" id="h6-0-45" class="i">+ok
</a><a href="#h6-0-46" id="h6-0-46" class="i">+
</a><a href="#h6-0-47" id="h6-0-47" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h6-0-48" id="h6-0-48" class="i">+&gt; ROLLBACK
</a><a href="#h6-0-49" id="h6-0-49" class="i">+---
</a><a href="#h6-0-50" id="h6-0-50" class="i">+1,NULL,1,NULL,NULL
</a><a href="#h6-0-51" id="h6-0-51" class="i">+2,NULL,0,NULL,NULL
</a><a href="#h6-0-52" id="h6-0-52" class="i">+3,NULL,-1,NULL,NULL
</a><a href="#h6-0-53" id="h6-0-53" class="i">+4,NULL,9223372036854775807,NULL,NULL
</a><a href="#h6-0-54" id="h6-0-54" class="i">+5,NULL,-9223372036854775807,NULL,NULL
</a><a href="#h6-0-55" id="h6-0-55" class="i">+6,NULL,NULL,NULL,NULL
</a><a href="#h6-0-56" id="h6-0-56" class="i">+
</a><a href="#h6-0-57" id="h6-0-57" class="i">+!&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (0, false)
</a><a href="#h6-0-58" id="h6-0-58" class="i">+!&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (0, 3.0)
</a><a href="#h6-0-59" id="h6-0-59" class="i">+!&gt; INSERT INTO datatypes (id, &quot;int&quot;) VALUES (0, &#39;0&#39;)
</a><a href="#h6-0-60" id="h6-0-60" class="i">+---
</a><a href="#h6-0-61" id="h6-0-61" class="i">+Error: invalid input: invalid datatype BOOLEAN for INTEGER column int
</a><a href="#h6-0-62" id="h6-0-62" class="i">+Error: invalid input: invalid datatype FLOAT for INTEGER column int
</a><a href="#h6-0-63" id="h6-0-63" class="i">+Error: invalid input: invalid datatype STRING for INTEGER column int
</a><a href="#h6-0-64" id="h6-0-64" class="i">+
</a><a href="#h6-0-65" id="h6-0-65" class="i">+# Floats.
</a><a href="#h6-0-66" id="h6-0-66" class="i">+&gt; BEGIN
</a><a href="#h6-0-67" id="h6-0-67" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (1, 3.14)
</a><a href="#h6-0-68" id="h6-0-68" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (2, -3.14)
</a><a href="#h6-0-69" id="h6-0-69" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (3, 0.0)
</a><a href="#h6-0-70" id="h6-0-70" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (4, -0.0)
</a><a href="#h6-0-71" id="h6-0-71" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (5, 1.23456789012345e308)
</a><a href="#h6-0-72" id="h6-0-72" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (6, -1.23456789012345e308)
</a><a href="#h6-0-73" id="h6-0-73" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (7, INFINITY)
</a><a href="#h6-0-74" id="h6-0-74" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (8, -INFINITY)
</a><a href="#h6-0-75" id="h6-0-75" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (9, NAN)
</a><a href="#h6-0-76" id="h6-0-76" class="i">+&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (10, NULL)
</a><a href="#h6-0-77" id="h6-0-77" class="i">+---
</a><a href="#h6-0-78" id="h6-0-78" class="i">+ok
</a><a href="#h6-0-79" id="h6-0-79" class="i">+
</a><a href="#h6-0-80" id="h6-0-80" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h6-0-81" id="h6-0-81" class="i">+&gt; ROLLBACK
</a><a href="#h6-0-82" id="h6-0-82" class="i">+---
</a><a href="#h6-0-83" id="h6-0-83" class="i">+1,NULL,NULL,3.14,NULL
</a><a href="#h6-0-84" id="h6-0-84" class="i">+2,NULL,NULL,-3.14,NULL
</a><a href="#h6-0-85" id="h6-0-85" class="i">+3,NULL,NULL,0,NULL
</a><a href="#h6-0-86" id="h6-0-86" class="i">+4,NULL,NULL,-0,NULL
</a><a href="#h6-0-87" id="h6-0-87" class="i">+5,NULL,NULL,123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,NULL
</a><a href="#h6-0-88" id="h6-0-88" class="i">+6,NULL,NULL,-123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,NULL
</a><a href="#h6-0-89" id="h6-0-89" class="i">+7,NULL,NULL,inf,NULL
</a><a href="#h6-0-90" id="h6-0-90" class="i">+8,NULL,NULL,-inf,NULL
</a><a href="#h6-0-91" id="h6-0-91" class="i">+9,NULL,NULL,NaN,NULL
</a><a href="#h6-0-92" id="h6-0-92" class="i">+10,NULL,NULL,NULL,NULL
</a><a href="#h6-0-93" id="h6-0-93" class="i">+
</a><a href="#h6-0-94" id="h6-0-94" class="i">+!&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (0, false)
</a><a href="#h6-0-95" id="h6-0-95" class="i">+!&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (0, 3)
</a><a href="#h6-0-96" id="h6-0-96" class="i">+!&gt; INSERT INTO datatypes (id, &quot;float&quot;) VALUES (0, &#39;0&#39;)
</a><a href="#h6-0-97" id="h6-0-97" class="i">+---
</a><a href="#h6-0-98" id="h6-0-98" class="i">+Error: invalid input: invalid datatype BOOLEAN for FLOAT column float
</a><a href="#h6-0-99" id="h6-0-99" class="i">+Error: invalid input: invalid datatype INTEGER for FLOAT column float
</a><a href="#h6-0-100" id="h6-0-100" class="i">+Error: invalid input: invalid datatype STRING for FLOAT column float
</a><a href="#h6-0-101" id="h6-0-101" class="i">+
</a><a href="#h6-0-102" id="h6-0-102" class="i">+# Strings.
</a><a href="#h6-0-103" id="h6-0-103" class="i">+&gt; BEGIN
</a><a href="#h6-0-104" id="h6-0-104" class="i">+&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (1, &#39;&#39;)
</a><a href="#h6-0-105" id="h6-0-105" class="i">+&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (2, &#39;  &#39;)
</a><a href="#h6-0-106" id="h6-0-106" class="i">+&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (3, &#39;abc&#39;)
</a><a href="#h6-0-107" id="h6-0-107" class="i">+&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (4, &#39;Hi! 👋&#39;)
</a><a href="#h6-0-108" id="h6-0-108" class="i">+&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (5, NULL)
</a><a href="#h6-0-109" id="h6-0-109" class="i">+---
</a><a href="#h6-0-110" id="h6-0-110" class="i">+ok
</a><a href="#h6-0-111" id="h6-0-111" class="i">+
</a><a href="#h6-0-112" id="h6-0-112" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h6-0-113" id="h6-0-113" class="i">+&gt; ROLLBACK
</a><a href="#h6-0-114" id="h6-0-114" class="i">+---
</a><a href="#h6-0-115" id="h6-0-115" class="i">+1,NULL,NULL,NULL,
</a><a href="#h6-0-116" id="h6-0-116" class="i">+2,NULL,NULL,NULL,  
</a><a href="#h6-0-117" id="h6-0-117" class="i">+3,NULL,NULL,NULL,abc
</a><a href="#h6-0-118" id="h6-0-118" class="i">+4,NULL,NULL,NULL,Hi! 👋
</a><a href="#h6-0-119" id="h6-0-119" class="i">+5,NULL,NULL,NULL,NULL
</a><a href="#h6-0-120" id="h6-0-120" class="i">+
</a><a href="#h6-0-121" id="h6-0-121" class="i">+!&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (0, false)
</a><a href="#h6-0-122" id="h6-0-122" class="i">+!&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (0, 3)
</a><a href="#h6-0-123" id="h6-0-123" class="i">+!&gt; INSERT INTO datatypes (id, &quot;string&quot;) VALUES (0, 3.14)
</a><a href="#h6-0-124" id="h6-0-124" class="i">+---
</a><a href="#h6-0-125" id="h6-0-125" class="i">+Error: invalid input: invalid datatype BOOLEAN for STRING column string
</a><a href="#h6-0-126" id="h6-0-126" class="i">+Error: invalid input: invalid datatype INTEGER for STRING column string
</a><a href="#h6-0-127" id="h6-0-127" class="i">+Error: invalid input: invalid datatype FLOAT for STRING column string
</a><b>diff --git a/<a id="h7" href="../file/src/sql/testscripts/writes/insert_default.html">src/sql/testscripts/writes/insert_default</a> b/<a href="../file/src/sql/testscripts/writes/insert_default.html">src/sql/testscripts/writes/insert_default</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,64 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+# Tests INSERT handling of DEFAULT values.
</a><a href="#h7-0-1" id="h7-0-1" class="i">+
</a><a href="#h7-0-2" id="h7-0-2" class="i">+&gt; CREATE TABLE defaults ( \
</a><a href="#h7-0-3" id="h7-0-3" class="i">+    id INTEGER PRIMARY KEY, \
</a><a href="#h7-0-4" id="h7-0-4" class="i">+    required BOOLEAN NOT NULL, \
</a><a href="#h7-0-5" id="h7-0-5" class="i">+    &quot;null&quot; BOOLEAN, \
</a><a href="#h7-0-6" id="h7-0-6" class="i">+    &quot;boolean&quot; BOOLEAN DEFAULT TRUE, \
</a><a href="#h7-0-7" id="h7-0-7" class="i">+    &quot;float&quot; FLOAT DEFAULT 3.14, \
</a><a href="#h7-0-8" id="h7-0-8" class="i">+    &quot;integer&quot; INTEGER DEFAULT 7, \
</a><a href="#h7-0-9" id="h7-0-9" class="i">+    &quot;string&quot; STRING DEFAULT &#39;foo&#39; \
</a><a href="#h7-0-10" id="h7-0-10" class="i">+)
</a><a href="#h7-0-11" id="h7-0-11" class="i">+---
</a><a href="#h7-0-12" id="h7-0-12" class="i">+ok
</a><a href="#h7-0-13" id="h7-0-13" class="i">+
</a><a href="#h7-0-14" id="h7-0-14" class="i">+# INSERT without specifying default columns fills in defaults.
</a><a href="#h7-0-15" id="h7-0-15" class="i">+&gt; INSERT INTO defaults (id, required) VALUES (1, true)
</a><a href="#h7-0-16" id="h7-0-16" class="i">+&gt; INSERT INTO defaults VALUES (2, false)
</a><a href="#h7-0-17" id="h7-0-17" class="i">+---
</a><a href="#h7-0-18" id="h7-0-18" class="i">+ok
</a><a href="#h7-0-19" id="h7-0-19" class="i">+
</a><a href="#h7-0-20" id="h7-0-20" class="i">+&gt; SELECT * FROM defaults
</a><a href="#h7-0-21" id="h7-0-21" class="i">+---
</a><a href="#h7-0-22" id="h7-0-22" class="i">+1,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-23" id="h7-0-23" class="i">+2,FALSE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-24" id="h7-0-24" class="i">+
</a><a href="#h7-0-25" id="h7-0-25" class="i">+# INSERT only specifying some default columns fills in rest.
</a><a href="#h7-0-26" id="h7-0-26" class="i">+&gt; INSERT INTO defaults (&quot;integer&quot;, id, &quot;null&quot;, required) VALUES (9, 3, NULL, false)
</a><a href="#h7-0-27" id="h7-0-27" class="i">+---
</a><a href="#h7-0-28" id="h7-0-28" class="i">+ok
</a><a href="#h7-0-29" id="h7-0-29" class="i">+
</a><a href="#h7-0-30" id="h7-0-30" class="i">+&gt; SELECT * FROM defaults
</a><a href="#h7-0-31" id="h7-0-31" class="i">+---
</a><a href="#h7-0-32" id="h7-0-32" class="i">+1,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-33" id="h7-0-33" class="i">+2,FALSE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-34" id="h7-0-34" class="i">+3,FALSE,NULL,TRUE,3.14,9,foo
</a><a href="#h7-0-35" id="h7-0-35" class="i">+
</a><a href="#h7-0-36" id="h7-0-36" class="i">+# Using a variable number of values works.
</a><a href="#h7-0-37" id="h7-0-37" class="i">+&gt; INSERT INTO defaults VALUES (4, false, NULL, false), (5, true), (6, true, false, true, 3.14, 9, &#39;bar&#39;)
</a><a href="#h7-0-38" id="h7-0-38" class="i">+---
</a><a href="#h7-0-39" id="h7-0-39" class="i">+ok
</a><a href="#h7-0-40" id="h7-0-40" class="i">+
</a><a href="#h7-0-41" id="h7-0-41" class="i">+&gt; SELECT * FROM defaults
</a><a href="#h7-0-42" id="h7-0-42" class="i">+---
</a><a href="#h7-0-43" id="h7-0-43" class="i">+1,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-44" id="h7-0-44" class="i">+2,FALSE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-45" id="h7-0-45" class="i">+3,FALSE,NULL,TRUE,3.14,9,foo
</a><a href="#h7-0-46" id="h7-0-46" class="i">+4,FALSE,NULL,FALSE,3.14,7,foo
</a><a href="#h7-0-47" id="h7-0-47" class="i">+5,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-48" id="h7-0-48" class="i">+6,TRUE,FALSE,TRUE,3.14,9,bar
</a><a href="#h7-0-49" id="h7-0-49" class="i">+
</a><a href="#h7-0-50" id="h7-0-50" class="i">+# INSERT with all NULLs does not yield default values.
</a><a href="#h7-0-51" id="h7-0-51" class="i">+&gt; INSERT INTO defaults VALUES (7, false, NULL, NULL, NULL, NULL, NULL)
</a><a href="#h7-0-52" id="h7-0-52" class="i">+---
</a><a href="#h7-0-53" id="h7-0-53" class="i">+ok
</a><a href="#h7-0-54" id="h7-0-54" class="i">+
</a><a href="#h7-0-55" id="h7-0-55" class="i">+&gt; SELECT * FROM defaults
</a><a href="#h7-0-56" id="h7-0-56" class="i">+---
</a><a href="#h7-0-57" id="h7-0-57" class="i">+1,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-58" id="h7-0-58" class="i">+2,FALSE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-59" id="h7-0-59" class="i">+3,FALSE,NULL,TRUE,3.14,9,foo
</a><a href="#h7-0-60" id="h7-0-60" class="i">+4,FALSE,NULL,FALSE,3.14,7,foo
</a><a href="#h7-0-61" id="h7-0-61" class="i">+5,TRUE,NULL,TRUE,3.14,7,foo
</a><a href="#h7-0-62" id="h7-0-62" class="i">+6,TRUE,FALSE,TRUE,3.14,9,bar
</a><a href="#h7-0-63" id="h7-0-63" class="i">+7,FALSE,NULL,NULL,NULL,NULL,NULL
</a><b>diff --git a/<a id="h8" href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a> b/<a href="../file/src/sql/testscripts/writes/insert_index.html">src/sql/testscripts/writes/insert_index</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,311 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+# Tests INSERT index writes.
</a><a href="#h8-0-1" id="h8-0-1" class="i">+
</a><a href="#h8-0-2" id="h8-0-2" class="i">+&gt; CREATE TABLE &quot;index&quot; ( \
</a><a href="#h8-0-3" id="h8-0-3" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h8-0-4" id="h8-0-4" class="i">+    &quot;bool&quot; BOOL INDEX, \
</a><a href="#h8-0-5" id="h8-0-5" class="i">+    &quot;int&quot; INT INDEX, \
</a><a href="#h8-0-6" id="h8-0-6" class="i">+    &quot;float&quot; FLOAT INDEX, \
</a><a href="#h8-0-7" id="h8-0-7" class="i">+    &quot;string&quot; STRING INDEX \
</a><a href="#h8-0-8" id="h8-0-8" class="i">+)
</a><a href="#h8-0-9" id="h8-0-9" class="i">+---
</a><a href="#h8-0-10" id="h8-0-10" class="i">+ok
</a><a href="#h8-0-11" id="h8-0-11" class="i">+
</a><a href="#h8-0-12" id="h8-0-12" class="i">+# An INSERT writes to all indexes.
</a><a href="#h8-0-13" id="h8-0-13" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; VALUES (1, TRUE, 7, 3.14, &#39;foo&#39;)
</a><a href="#h8-0-14" id="h8-0-14" class="i">+---
</a><a href="#h8-0-15" id="h8-0-15" class="i">+storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h8-0-16" id="h8-0-16" class="i">+storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h8-0-17" id="h8-0-17" class="i">+storage set mvcc:TxnWrite(2, sql:Row(&quot;index&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-18" id="h8-0-18" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 2) → Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h8-0-19" id="h8-0-19" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-20" id="h8-0-20" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 2) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h8-0-21" id="h8-0-21" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-22" id="h8-0-22" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 2) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h8-0-23" id="h8-0-23" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-24" id="h8-0-24" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 2) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h8-0-25" id="h8-0-25" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-26" id="h8-0-26" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 2) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h8-0-27" id="h8-0-27" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h8-0-28" id="h8-0-28" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h8-0-29" id="h8-0-29" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h8-0-30" id="h8-0-30" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-31" id="h8-0-31" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h8-0-32" id="h8-0-32" class="i">+storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h8-0-33" id="h8-0-33" class="i">+
</a><a href="#h8-0-34" id="h8-0-34" class="i">+# Another insert with the same values adds to the index entries.
</a><a href="#h8-0-35" id="h8-0-35" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; VALUES (2, TRUE, 7, 3.14, &#39;foo&#39;)
</a><a href="#h8-0-36" id="h8-0-36" class="i">+---
</a><a href="#h8-0-37" id="h8-0-37" class="i">+storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h8-0-38" id="h8-0-38" class="i">+storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h8-0-39" id="h8-0-39" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-40" id="h8-0-40" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 3) → Integer(2),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h8-0-41" id="h8-0-41" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-42" id="h8-0-42" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 3) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h8-0-43" id="h8-0-43" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-44" id="h8-0-44" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 3) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h8-0-45" id="h8-0-45" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-46" id="h8-0-46" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 3) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h8-0-47" id="h8-0-47" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-48" id="h8-0-48" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 3) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h8-0-49" id="h8-0-49" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h8-0-50" id="h8-0-50" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h8-0-51" id="h8-0-51" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h8-0-52" id="h8-0-52" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-53" id="h8-0-53" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h8-0-54" id="h8-0-54" class="i">+storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h8-0-55" id="h8-0-55" class="i">+
</a><a href="#h8-0-56" id="h8-0-56" class="i">+# An insert with different values writes new index entries.
</a><a href="#h8-0-57" id="h8-0-57" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; VALUES (3, FALSE, 0, 2.718, &#39;&#39;)
</a><a href="#h8-0-58" id="h8-0-58" class="i">+---
</a><a href="#h8-0-59" id="h8-0-59" class="i">+storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h8-0-60" id="h8-0-60" class="i">+storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h8-0-61" id="h8-0-61" class="i">+storage set mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-62" id="h8-0-62" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(3)), 4) → Integer(3),Boolean(false),Integer(0),Float(2.718),String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x12\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x00&quot;]
</a><a href="#h8-0-63" id="h8-0-63" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-64" id="h8-0-64" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 4) → Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h8-0-65" id="h8-0-65" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-66" id="h8-0-66" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0)), 4) → Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h8-0-67" id="h8-0-67" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-68" id="h8-0-68" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 4) → Integer(3) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h8-0-69" id="h8-0-69" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-70" id="h8-0-70" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 4) → Integer(3) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h8-0-71" id="h8-0-71" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-72" id="h8-0-72" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h8-0-73" id="h8-0-73" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-74" id="h8-0-74" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-75" id="h8-0-75" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h8-0-76" id="h8-0-76" class="i">+storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h8-0-77" id="h8-0-77" class="i">+
</a><a href="#h8-0-78" id="h8-0-78" class="i">+# Inserts with NULLS adds NULL entries. These are used for IS NULL queries.
</a><a href="#h8-0-79" id="h8-0-79" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; VALUES (4), (5)
</a><a href="#h8-0-80" id="h8-0-80" class="i">+---
</a><a href="#h8-0-81" id="h8-0-81" class="i">+storage set mvcc:NextVersion → 6 [&quot;\x00&quot; → &quot;\x06&quot;]
</a><a href="#h8-0-82" id="h8-0-82" class="i">+storage set mvcc:TxnActive(5) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;&quot;]
</a><a href="#h8-0-83" id="h8-0-83" class="i">+storage set mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(4))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-84" id="h8-0-84" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(4)), 5) → Integer(4),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h8-0-85" id="h8-0-85" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-86" id="h8-0-86" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 5) → Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h8-0-87" id="h8-0-87" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-88" id="h8-0-88" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 5) → Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h8-0-89" id="h8-0-89" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-90" id="h8-0-90" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 5) → Integer(4) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h8-0-91" id="h8-0-91" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-92" id="h8-0-92" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 5) → Integer(4) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h8-0-93" id="h8-0-93" class="i">+storage set mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(5))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-94" id="h8-0-94" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(5)), 5) → Integer(5),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h8-0-95" id="h8-0-95" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-96" id="h8-0-96" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 5) → Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h8-0-97" id="h8-0-97" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-98" id="h8-0-98" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 5) → Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h8-0-99" id="h8-0-99" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-100" id="h8-0-100" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 5) → Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h8-0-101" id="h8-0-101" class="i">+storage set mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-102" id="h8-0-102" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 5) → Integer(4),Integer(5) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x05&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h8-0-103" id="h8-0-103" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-104" id="h8-0-104" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-105" id="h8-0-105" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-106" id="h8-0-106" class="i">+storage delete mvcc:TxnWrite(5, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-107" id="h8-0-107" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h8-0-108" id="h8-0-108" class="i">+storage delete mvcc:TxnWrite(5, sql:Row(&quot;index&quot;, Integer(5))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x05\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h8-0-109" id="h8-0-109" class="i">+storage delete mvcc:TxnActive(5) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x05&quot;]
</a><a href="#h8-0-110" id="h8-0-110" class="i">+
</a><a href="#h8-0-111" id="h8-0-111" class="i">+# Float NaNs are considered equal and indexed.
</a><a href="#h8-0-112" id="h8-0-112" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (6, NAN), (7, NAN)
</a><a href="#h8-0-113" id="h8-0-113" class="i">+---
</a><a href="#h8-0-114" id="h8-0-114" class="i">+storage set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h8-0-115" id="h8-0-115" class="i">+storage set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h8-0-116" id="h8-0-116" class="i">+storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(6))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-117" id="h8-0-117" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(6)), 6) → Integer(6),Null,Null,Float(NaN),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h8-0-118" id="h8-0-118" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-119" id="h8-0-119" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h8-0-120" id="h8-0-120" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-121" id="h8-0-121" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h8-0-122" id="h8-0-122" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-123" id="h8-0-123" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN)), 6) → Integer(6) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h8-0-124" id="h8-0-124" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-125" id="h8-0-125" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h8-0-126" id="h8-0-126" class="i">+storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-127" id="h8-0-127" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(7)), 6) → Integer(7),Null,Null,Float(NaN),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h8-0-128" id="h8-0-128" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-129" id="h8-0-129" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h8-0-130" id="h8-0-130" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-131" id="h8-0-131" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h8-0-132" id="h8-0-132" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-133" id="h8-0-133" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN)), 6) → Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h8-0-134" id="h8-0-134" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-135" id="h8-0-135" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h8-0-136" id="h8-0-136" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-137" id="h8-0-137" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-138" id="h8-0-138" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-139" id="h8-0-139" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-140" id="h8-0-140" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(6))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h8-0-141" id="h8-0-141" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h8-0-142" id="h8-0-142" class="i">+storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a><a href="#h8-0-143" id="h8-0-143" class="i">+
</a><a href="#h8-0-144" id="h8-0-144" class="i">+# Float 0.0 and -0.0 are considered different.
</a><a href="#h8-0-145" id="h8-0-145" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (8, -0.0), (9, 0.0)
</a><a href="#h8-0-146" id="h8-0-146" class="i">+---
</a><a href="#h8-0-147" id="h8-0-147" class="i">+storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h8-0-148" id="h8-0-148" class="i">+storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h8-0-149" id="h8-0-149" class="i">+storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(8))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-150" id="h8-0-150" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(8)), 7) → Integer(8),Null,Null,Float(-0.0),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x80\x00&quot;]
</a><a href="#h8-0-151" id="h8-0-151" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-152" id="h8-0-152" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h8-0-153" id="h8-0-153" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-154" id="h8-0-154" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h8-0-155" id="h8-0-155" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-156" id="h8-0-156" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-0.0)), 7) → Integer(8) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h8-0-157" id="h8-0-157" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-158" id="h8-0-158" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h8-0-159" id="h8-0-159" class="i">+storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(9))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-160" id="h8-0-160" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(9)), 7) → Integer(9),Null,Null,Float(0.0),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h8-0-161" id="h8-0-161" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-162" id="h8-0-162" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h8-0-163" id="h8-0-163" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-164" id="h8-0-164" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h8-0-165" id="h8-0-165" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-166" id="h8-0-166" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0)), 7) → Integer(9) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x12&quot;]
</a><a href="#h8-0-167" id="h8-0-167" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-168" id="h8-0-168" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 7) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h8-0-169" id="h8-0-169" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-170" id="h8-0-170" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h8-0-171" id="h8-0-171" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-172" id="h8-0-172" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-173" id="h8-0-173" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-174" id="h8-0-174" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h8-0-175" id="h8-0-175" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(9))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a><a href="#h8-0-176" id="h8-0-176" class="i">+storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h8-0-177" id="h8-0-177" class="i">+
</a><a href="#h8-0-178" id="h8-0-178" class="i">+# Float INFINITY is also indexed.
</a><a href="#h8-0-179" id="h8-0-179" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (10, -INFINITY), (11, INFINITY)
</a><a href="#h8-0-180" id="h8-0-180" class="i">+---
</a><a href="#h8-0-181" id="h8-0-181" class="i">+storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h8-0-182" id="h8-0-182" class="i">+storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h8-0-183" id="h8-0-183" class="i">+storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(10))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-184" id="h8-0-184" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(10)), 8) → Integer(10),Null,Null,Float(-inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h8-0-185" id="h8-0-185" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-186" id="h8-0-186" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h8-0-187" id="h8-0-187" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-188" id="h8-0-188" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h8-0-189" id="h8-0-189" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-190" id="h8-0-190" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf)), 8) → Integer(10) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h8-0-191" id="h8-0-191" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-192" id="h8-0-192" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h8-0-193" id="h8-0-193" class="i">+storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(11))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-194" id="h8-0-194" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(11)), 8) → Integer(11),Null,Null,Float(inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x0f\x05\x02\x16\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h8-0-195" id="h8-0-195" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-196" id="h8-0-196" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h8-0-197" id="h8-0-197" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-198" id="h8-0-198" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h8-0-199" id="h8-0-199" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-200" id="h8-0-200" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf)), 8) → Integer(11) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h8-0-201" id="h8-0-201" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-202" id="h8-0-202" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h8-0-203" id="h8-0-203" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-204" id="h8-0-204" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h8-0-205" id="h8-0-205" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-206" id="h8-0-206" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-207" id="h8-0-207" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-208" id="h8-0-208" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(10))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h8-0-209" id="h8-0-209" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(11))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h8-0-210" id="h8-0-210" class="i">+storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h8-0-211" id="h8-0-211" class="i">+
</a><a href="#h8-0-212" id="h8-0-212" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;float&quot;) VALUES (12, -INFINITY), (13, INFINITY)
</a><a href="#h8-0-213" id="h8-0-213" class="i">+---
</a><a href="#h8-0-214" id="h8-0-214" class="i">+storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h8-0-215" id="h8-0-215" class="i">+storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h8-0-216" id="h8-0-216" class="i">+storage set mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(12))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-217" id="h8-0-217" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(12)), 9) → Integer(12),Null,Null,Float(-inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x18\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h8-0-218" id="h8-0-218" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-219" id="h8-0-219" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h8-0-220" id="h8-0-220" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-221" id="h8-0-221" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h8-0-222" id="h8-0-222" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-223" id="h8-0-223" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf)), 9) → Integer(10),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x14\x02\x18&quot;]
</a><a href="#h8-0-224" id="h8-0-224" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-225" id="h8-0-225" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h8-0-226" id="h8-0-226" class="i">+storage set mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(13))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-227" id="h8-0-227" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(13)), 9) → Integer(13),Null,Null,Float(inf),Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x0f\x05\x02\x1a\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h8-0-228" id="h8-0-228" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-229" id="h8-0-229" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h8-0-230" id="h8-0-230" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-231" id="h8-0-231" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h8-0-232" id="h8-0-232" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-233" id="h8-0-233" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf)), 9) → Integer(11),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x16\x02\x1a&quot;]
</a><a href="#h8-0-234" id="h8-0-234" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-235" id="h8-0-235" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 9) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h8-0-236" id="h8-0-236" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-237" id="h8-0-237" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h8-0-238" id="h8-0-238" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-239" id="h8-0-239" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-240" id="h8-0-240" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-241" id="h8-0-241" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(12))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h8-0-242" id="h8-0-242" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(&quot;index&quot;, Integer(13))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h8-0-243" id="h8-0-243" class="i">+storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h8-0-244" id="h8-0-244" class="i">+
</a><a href="#h8-0-245" id="h8-0-245" class="i">+# Empty strings are considered equal.
</a><a href="#h8-0-246" id="h8-0-246" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;string&quot;) VALUES (14, &#39;&#39;), (15, &#39;&#39;)
</a><a href="#h8-0-247" id="h8-0-247" class="i">+---
</a><a href="#h8-0-248" id="h8-0-248" class="i">+storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h8-0-249" id="h8-0-249" class="i">+storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h8-0-250" id="h8-0-250" class="i">+storage set mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-251" id="h8-0-251" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(14)), 10) → Integer(14),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1c\x00\x00\x00\x04\x00&quot;]
</a><a href="#h8-0-252" id="h8-0-252" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-253" id="h8-0-253" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 10) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h8-0-254" id="h8-0-254" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-255" id="h8-0-255" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 10) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x17\x0b\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c&quot;]
</a><a href="#h8-0-256" id="h8-0-256" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-257" id="h8-0-257" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 10) → Integer(4),Integer(5),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x1c&quot;]
</a><a href="#h8-0-258" id="h8-0-258" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-259" id="h8-0-259" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 10) → Integer(3),Integer(14) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x05\x02\x02\x06\x02\x1c&quot;]
</a><a href="#h8-0-260" id="h8-0-260" class="i">+storage set mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(15))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-261" id="h8-0-261" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(15)), 10) → Integer(15),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x08\x05\x02\x1e\x00\x00\x00\x04\x00&quot;]
</a><a href="#h8-0-262" id="h8-0-262" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-263" id="h8-0-263" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 10) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h8-0-264" id="h8-0-264" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-265" id="h8-0-265" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 10) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x19\x0c\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e&quot;]
</a><a href="#h8-0-266" id="h8-0-266" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-267" id="h8-0-267" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 10) → Integer(4),Integer(5),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x1c\x02\x1e&quot;]
</a><a href="#h8-0-268" id="h8-0-268" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-269" id="h8-0-269" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;)), 10) → Integer(3),Integer(14),Integer(15) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x06\x02\x1c\x02\x1e&quot;]
</a><a href="#h8-0-270" id="h8-0-270" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-271" id="h8-0-271" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-272" id="h8-0-272" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-273" id="h8-0-273" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-274" id="h8-0-274" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0e\x00\x00&quot;]
</a><a href="#h8-0-275" id="h8-0-275" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(&quot;index&quot;, Integer(15))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0f\x00\x00&quot;]
</a><a href="#h8-0-276" id="h8-0-276" class="i">+storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h8-0-277" id="h8-0-277" class="i">+
</a><a href="#h8-0-278" id="h8-0-278" class="i">+# Case differences are not considered equal
</a><a href="#h8-0-279" id="h8-0-279" class="i">+[ops]&gt; INSERT INTO &quot;index&quot; (id, &quot;string&quot;) VALUES (16, &#39;case&#39;), (17, &#39;CaSe&#39;)
</a><a href="#h8-0-280" id="h8-0-280" class="i">+---
</a><a href="#h8-0-281" id="h8-0-281" class="i">+storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h8-0-282" id="h8-0-282" class="i">+storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h8-0-283" id="h8-0-283" class="i">+storage set mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(16))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-284" id="h8-0-284" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(16)), 11) → Integer(16),Null,Null,Null,String(&quot;case&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02 \x00\x00\x00\x04\x04case&quot;]
</a><a href="#h8-0-285" id="h8-0-285" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-286" id="h8-0-286" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h8-0-287" id="h8-0-287" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-288" id="h8-0-288" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1b\r\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h8-0-289" id="h8-0-289" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-290" id="h8-0-290" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 11) → Integer(4),Integer(5),Integer(14),Integer(15),Integer(16) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x1c\x02\x1e\x02 &quot;]
</a><a href="#h8-0-291" id="h8-0-291" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-292" id="h8-0-292" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;)), 11) → Integer(16) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02 &quot;]
</a><a href="#h8-0-293" id="h8-0-293" class="i">+storage set mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(17))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-294" id="h8-0-294" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(17)), 11) → Integer(17),Null,Null,Null,String(&quot;CaSe&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0c\x05\x02\&quot;\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h8-0-295" id="h8-0-295" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-296" id="h8-0-296" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h8-0-297" id="h8-0-297" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-298" id="h8-0-298" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x1d\x0e\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h8-0-299" id="h8-0-299" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-300" id="h8-0-300" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 11) → Integer(4),Integer(5),Integer(14),Integer(15),Integer(16),Integer(17) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x1c\x02\x1e\x02 \x02\&quot;&quot;]
</a><a href="#h8-0-301" id="h8-0-301" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h8-0-302" id="h8-0-302" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 11) → Integer(17) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\&quot;&quot;]
</a><a href="#h8-0-303" id="h8-0-303" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-304" id="h8-0-304" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-305" id="h8-0-305" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-306" id="h8-0-306" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-307" id="h8-0-307" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h8-0-308" id="h8-0-308" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(16))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x10\x00\x00&quot;]
</a><a href="#h8-0-309" id="h8-0-309" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(&quot;index&quot;, Integer(17))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x11\x00\x00&quot;]
</a><a href="#h8-0-310" id="h8-0-310" class="i">+storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><b>diff --git a/<a id="h9" href="../file/src/sql/testscripts/writes/insert_null.html">src/sql/testscripts/writes/insert_null</a> b/<a href="../file/src/sql/testscripts/writes/insert_null.html">src/sql/testscripts/writes/insert_null</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -0,0 +1,36 @@
</a><a href="#h9-0-0" id="h9-0-0" class="i">+# Tests nullability handling of INSERT.
</a><a href="#h9-0-1" id="h9-0-1" class="i">+
</a><a href="#h9-0-2" id="h9-0-2" class="i">+# Create a table with NULL constraints.
</a><a href="#h9-0-3" id="h9-0-3" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h9-0-4" id="h9-0-4" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h9-0-5" id="h9-0-5" class="i">+    &quot;null&quot; STRING NULL, \
</a><a href="#h9-0-6" id="h9-0-6" class="i">+    not_null STRING NOT NULL \
</a><a href="#h9-0-7" id="h9-0-7" class="i">+)
</a><a href="#h9-0-8" id="h9-0-8" class="i">+---
</a><a href="#h9-0-9" id="h9-0-9" class="i">+ok
</a><a href="#h9-0-10" id="h9-0-10" class="i">+
</a><a href="#h9-0-11" id="h9-0-11" class="i">+# INSERT with NULL works.
</a><a href="#h9-0-12" id="h9-0-12" class="i">+&gt; INSERT INTO name VALUES (1, NULL, &#39;foo&#39;)
</a><a href="#h9-0-13" id="h9-0-13" class="i">+---
</a><a href="#h9-0-14" id="h9-0-14" class="i">+ok
</a><a href="#h9-0-15" id="h9-0-15" class="i">+
</a><a href="#h9-0-16" id="h9-0-16" class="i">+&gt; SELECT * FROM name
</a><a href="#h9-0-17" id="h9-0-17" class="i">+---
</a><a href="#h9-0-18" id="h9-0-18" class="i">+1,NULL,foo
</a><a href="#h9-0-19" id="h9-0-19" class="i">+
</a><a href="#h9-0-20" id="h9-0-20" class="i">+# INSERT with NULL into non-NULL columns errors.
</a><a href="#h9-0-21" id="h9-0-21" class="i">+!&gt; INSERT INTO name VALUES (NULL, &#39;foo&#39;, &#39;bar&#39;)
</a><a href="#h9-0-22" id="h9-0-22" class="i">+!&gt; INSERT INTO name VALUES (2, &#39;foo&#39;, NULL)
</a><a href="#h9-0-23" id="h9-0-23" class="i">+---
</a><a href="#h9-0-24" id="h9-0-24" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h9-0-25" id="h9-0-25" class="i">+Error: invalid input: NULL value not allowed for column not_null
</a><a href="#h9-0-26" id="h9-0-26" class="i">+
</a><a href="#h9-0-27" id="h9-0-27" class="i">+# Omitting a NULLable column works.
</a><a href="#h9-0-28" id="h9-0-28" class="i">+&gt; INSERT INTO name (id, not_null) VALUES (2, &#39;foo&#39;)
</a><a href="#h9-0-29" id="h9-0-29" class="i">+---
</a><a href="#h9-0-30" id="h9-0-30" class="i">+ok
</a><a href="#h9-0-31" id="h9-0-31" class="i">+
</a><a href="#h9-0-32" id="h9-0-32" class="i">+&gt; SELECT * FROM name
</a><a href="#h9-0-33" id="h9-0-33" class="i">+---
</a><a href="#h9-0-34" id="h9-0-34" class="i">+1,NULL,foo
</a><a href="#h9-0-35" id="h9-0-35" class="i">+2,NULL,foo
</a><b>diff --git a/<a id="h10" href="../file/src/sql/testscripts/writes/insert_primary_key.html">src/sql/testscripts/writes/insert_primary_key</a> b/<a href="../file/src/sql/testscripts/writes/insert_primary_key.html">src/sql/testscripts/writes/insert_primary_key</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -0,0 +1,100 @@
</a><a href="#h10-0-0" id="h10-0-0" class="i">+# Tests INSERT primary key handling.
</a><a href="#h10-0-1" id="h10-0-1" class="i">+
</a><a href="#h10-0-2" id="h10-0-2" class="i">+# Boolean.
</a><a href="#h10-0-3" id="h10-0-3" class="i">+&gt; CREATE TABLE &quot;bool&quot; (id BOOLEAN PRIMARY KEY)
</a><a href="#h10-0-4" id="h10-0-4" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (true)
</a><a href="#h10-0-5" id="h10-0-5" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (false)
</a><a href="#h10-0-6" id="h10-0-6" class="i">+---
</a><a href="#h10-0-7" id="h10-0-7" class="i">+ok
</a><a href="#h10-0-8" id="h10-0-8" class="i">+
</a><a href="#h10-0-9" id="h10-0-9" class="i">+!&gt; INSERT INTO &quot;bool&quot; VALUES (true)
</a><a href="#h10-0-10" id="h10-0-10" class="i">+!&gt; INSERT INTO &quot;bool&quot; VALUES (false)
</a><a href="#h10-0-11" id="h10-0-11" class="i">+!&gt; INSERT INTO &quot;bool&quot; VALUES (NULL)
</a><a href="#h10-0-12" id="h10-0-12" class="i">+---
</a><a href="#h10-0-13" id="h10-0-13" class="i">+Error: invalid input: primary key TRUE already exists
</a><a href="#h10-0-14" id="h10-0-14" class="i">+Error: invalid input: primary key FALSE already exists
</a><a href="#h10-0-15" id="h10-0-15" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h10-0-16" id="h10-0-16" class="i">+
</a><a href="#h10-0-17" id="h10-0-17" class="i">+# Integer.
</a><a href="#h10-0-18" id="h10-0-18" class="i">+&gt; CREATE TABLE &quot;int&quot; (id INT PRIMARY KEY)
</a><a href="#h10-0-19" id="h10-0-19" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (1)
</a><a href="#h10-0-20" id="h10-0-20" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (0)
</a><a href="#h10-0-21" id="h10-0-21" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (-1)
</a><a href="#h10-0-22" id="h10-0-22" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (9223372036854775807)
</a><a href="#h10-0-23" id="h10-0-23" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (-9223372036854775807)
</a><a href="#h10-0-24" id="h10-0-24" class="i">+---
</a><a href="#h10-0-25" id="h10-0-25" class="i">+ok
</a><a href="#h10-0-26" id="h10-0-26" class="i">+
</a><a href="#h10-0-27" id="h10-0-27" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (1)
</a><a href="#h10-0-28" id="h10-0-28" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (0)
</a><a href="#h10-0-29" id="h10-0-29" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (-1)
</a><a href="#h10-0-30" id="h10-0-30" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (9223372036854775807)
</a><a href="#h10-0-31" id="h10-0-31" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (-9223372036854775807)
</a><a href="#h10-0-32" id="h10-0-32" class="i">+!&gt; INSERT INTO &quot;int&quot; VALUES (NULL)
</a><a href="#h10-0-33" id="h10-0-33" class="i">+---
</a><a href="#h10-0-34" id="h10-0-34" class="i">+Error: invalid input: primary key 1 already exists
</a><a href="#h10-0-35" id="h10-0-35" class="i">+Error: invalid input: primary key 0 already exists
</a><a href="#h10-0-36" id="h10-0-36" class="i">+Error: invalid input: primary key -1 already exists
</a><a href="#h10-0-37" id="h10-0-37" class="i">+Error: invalid input: primary key 9223372036854775807 already exists
</a><a href="#h10-0-38" id="h10-0-38" class="i">+Error: invalid input: primary key -9223372036854775807 already exists
</a><a href="#h10-0-39" id="h10-0-39" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h10-0-40" id="h10-0-40" class="i">+
</a><a href="#h10-0-41" id="h10-0-41" class="i">+# Float.
</a><a href="#h10-0-42" id="h10-0-42" class="i">+&gt; CREATE TABLE &quot;float&quot; (id FLOAT PRIMARY KEY)
</a><a href="#h10-0-43" id="h10-0-43" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (3.14)
</a><a href="#h10-0-44" id="h10-0-44" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (-3.14)
</a><a href="#h10-0-45" id="h10-0-45" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (0.0)
</a><a href="#h10-0-46" id="h10-0-46" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (-0.0)
</a><a href="#h10-0-47" id="h10-0-47" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (1.23456789012345e308)
</a><a href="#h10-0-48" id="h10-0-48" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (-1.23456789012345e308)
</a><a href="#h10-0-49" id="h10-0-49" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (INFINITY)
</a><a href="#h10-0-50" id="h10-0-50" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (-INFINITY)
</a><a href="#h10-0-51" id="h10-0-51" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (NAN)
</a><a href="#h10-0-52" id="h10-0-52" class="i">+---
</a><a href="#h10-0-53" id="h10-0-53" class="i">+ok
</a><a href="#h10-0-54" id="h10-0-54" class="i">+
</a><a href="#h10-0-55" id="h10-0-55" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (3.14)
</a><a href="#h10-0-56" id="h10-0-56" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (-3.14)
</a><a href="#h10-0-57" id="h10-0-57" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (0.0)
</a><a href="#h10-0-58" id="h10-0-58" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (-0.0)
</a><a href="#h10-0-59" id="h10-0-59" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (1.23456789012345e308)
</a><a href="#h10-0-60" id="h10-0-60" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (-1.23456789012345e308)
</a><a href="#h10-0-61" id="h10-0-61" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (INFINITY)
</a><a href="#h10-0-62" id="h10-0-62" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (-INFINITY)
</a><a href="#h10-0-63" id="h10-0-63" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (NAN)
</a><a href="#h10-0-64" id="h10-0-64" class="i">+!&gt; INSERT INTO &quot;float&quot; VALUES (NULL)
</a><a href="#h10-0-65" id="h10-0-65" class="i">+---
</a><a href="#h10-0-66" id="h10-0-66" class="i">+Error: invalid input: primary key 3.14 already exists
</a><a href="#h10-0-67" id="h10-0-67" class="i">+Error: invalid input: primary key -3.14 already exists
</a><a href="#h10-0-68" id="h10-0-68" class="i">+Error: invalid input: primary key 0 already exists
</a><a href="#h10-0-69" id="h10-0-69" class="i">+Error: invalid input: primary key -0 already exists
</a><a href="#h10-0-70" id="h10-0-70" class="i">+Error: invalid input: primary key 123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 already exists
</a><a href="#h10-0-71" id="h10-0-71" class="i">+Error: invalid input: primary key -123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 already exists
</a><a href="#h10-0-72" id="h10-0-72" class="i">+Error: invalid input: primary key inf already exists
</a><a href="#h10-0-73" id="h10-0-73" class="i">+Error: invalid input: primary key -inf already exists
</a><a href="#h10-0-74" id="h10-0-74" class="i">+Error: invalid input: primary key NaN already exists
</a><a href="#h10-0-75" id="h10-0-75" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h10-0-76" id="h10-0-76" class="i">+
</a><a href="#h10-0-77" id="h10-0-77" class="i">+# String.
</a><a href="#h10-0-78" id="h10-0-78" class="i">+&gt; CREATE TABLE &quot;string&quot; (id STRING PRIMARY KEY)
</a><a href="#h10-0-79" id="h10-0-79" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h10-0-80" id="h10-0-80" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;  &#39;)
</a><a href="#h10-0-81" id="h10-0-81" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;abc&#39;)
</a><a href="#h10-0-82" id="h10-0-82" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;ABC&#39;)
</a><a href="#h10-0-83" id="h10-0-83" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;Hi! 👋&#39;)
</a><a href="#h10-0-84" id="h10-0-84" class="i">+---
</a><a href="#h10-0-85" id="h10-0-85" class="i">+ok
</a><a href="#h10-0-86" id="h10-0-86" class="i">+
</a><a href="#h10-0-87" id="h10-0-87" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h10-0-88" id="h10-0-88" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (&#39;  &#39;)
</a><a href="#h10-0-89" id="h10-0-89" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (&#39;abc&#39;)
</a><a href="#h10-0-90" id="h10-0-90" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (&#39;ABC&#39;)
</a><a href="#h10-0-91" id="h10-0-91" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (&#39;Hi! 👋&#39;)
</a><a href="#h10-0-92" id="h10-0-92" class="i">+!&gt; INSERT INTO &quot;string&quot; VALUES (NULL)
</a><a href="#h10-0-93" id="h10-0-93" class="i">+---
</a><a href="#h10-0-94" id="h10-0-94" class="i">+Error: invalid input: primary key  already exists
</a><a href="#h10-0-95" id="h10-0-95" class="i">+Error: invalid input: primary key    already exists
</a><a href="#h10-0-96" id="h10-0-96" class="i">+Error: invalid input: primary key abc already exists
</a><a href="#h10-0-97" id="h10-0-97" class="i">+Error: invalid input: primary key ABC already exists
</a><a href="#h10-0-98" id="h10-0-98" class="i">+Error: invalid input: primary key Hi! 👋 already exists
</a><a href="#h10-0-99" id="h10-0-99" class="i">+Error: invalid input: NULL value not allowed for column id
</a><b>diff --git a/<a id="h11" href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a> b/<a href="../file/src/sql/testscripts/writes/insert_reference.html">src/sql/testscripts/writes/insert_reference</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -0,0 +1,158 @@
</a><a href="#h11-0-0" id="h11-0-0" class="i">+# Tests INSERT foreign key references.
</a><a href="#h11-0-1" id="h11-0-1" class="i">+
</a><a href="#h11-0-2" id="h11-0-2" class="i">+# Create reference tables for all datatypes.
</a><a href="#h11-0-3" id="h11-0-3" class="i">+&gt; CREATE TABLE &quot;bool&quot; (id BOOL PRIMARY KEY)
</a><a href="#h11-0-4" id="h11-0-4" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (true)
</a><a href="#h11-0-5" id="h11-0-5" class="i">+
</a><a href="#h11-0-6" id="h11-0-6" class="i">+&gt; CREATE TABLE &quot;int&quot; (id INT PRIMARY KEY)
</a><a href="#h11-0-7" id="h11-0-7" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (-1), (0), (1)
</a><a href="#h11-0-8" id="h11-0-8" class="i">+
</a><a href="#h11-0-9" id="h11-0-9" class="i">+&gt; CREATE TABLE &quot;float&quot; (id FLOAT PRIMARY KEY)
</a><a href="#h11-0-10" id="h11-0-10" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (3.14), (0.0), (NAN), (INFINITY)
</a><a href="#h11-0-11" id="h11-0-11" class="i">+
</a><a href="#h11-0-12" id="h11-0-12" class="i">+&gt; CREATE TABLE &quot;string&quot; (id STRING PRIMARY KEY)
</a><a href="#h11-0-13" id="h11-0-13" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;), (&#39;foo&#39;)
</a><a href="#h11-0-14" id="h11-0-14" class="i">+
</a><a href="#h11-0-15" id="h11-0-15" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h11-0-16" id="h11-0-16" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h11-0-17" id="h11-0-17" class="i">+    &quot;bool&quot; BOOL REFERENCES &quot;bool&quot;, \
</a><a href="#h11-0-18" id="h11-0-18" class="i">+    &quot;int&quot; INT REFERENCES &quot;int&quot;, \
</a><a href="#h11-0-19" id="h11-0-19" class="i">+    &quot;float&quot; FLOAT REFERENCES &quot;float&quot;, \
</a><a href="#h11-0-20" id="h11-0-20" class="i">+    &quot;string&quot; STRING REFERENCES &quot;string&quot; \
</a><a href="#h11-0-21" id="h11-0-21" class="i">+)
</a><a href="#h11-0-22" id="h11-0-22" class="i">+---
</a><a href="#h11-0-23" id="h11-0-23" class="i">+ok
</a><a href="#h11-0-24" id="h11-0-24" class="i">+
</a><a href="#h11-0-25" id="h11-0-25" class="i">+# INSERTs with existing references work, and update the index entries.
</a><a href="#h11-0-26" id="h11-0-26" class="i">+[ops]&gt; INSERT INTO name VALUES (1, true, 1, 3.14, &#39;foo&#39;)
</a><a href="#h11-0-27" id="h11-0-27" class="i">+---
</a><a href="#h11-0-28" id="h11-0-28" class="i">+storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h11-0-29" id="h11-0-29" class="i">+storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h11-0-30" id="h11-0-30" class="i">+storage set mvcc:TxnWrite(10, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-31" id="h11-0-31" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 10) → Integer(1),Boolean(true),Integer(1),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h11-0-32" id="h11-0-32" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-33" id="h11-0-33" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true)), 10) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-34" id="h11-0-34" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-35" id="h11-0-35" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1)), 10) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-36" id="h11-0-36" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-37" id="h11-0-37" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14)), 10) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-38" id="h11-0-38" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-39" id="h11-0-39" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 10) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-40" id="h11-0-40" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h11-0-41" id="h11-0-41" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h11-0-42" id="h11-0-42" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-0-43" id="h11-0-43" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-44" id="h11-0-44" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-0-45" id="h11-0-45" class="i">+storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h11-0-46" id="h11-0-46" class="i">+
</a><a href="#h11-0-47" id="h11-0-47" class="i">+# INSERTs error on missing references.
</a><a href="#h11-0-48" id="h11-0-48" class="i">+!&gt; INSERT INTO name (id, &quot;bool&quot;) VALUES (2, FALSE)
</a><a href="#h11-0-49" id="h11-0-49" class="i">+!&gt; INSERT INTO name (id, &quot;int&quot;) VALUES (2, 7)
</a><a href="#h11-0-50" id="h11-0-50" class="i">+!&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (2, 2.718)
</a><a href="#h11-0-51" id="h11-0-51" class="i">+!&gt; INSERT INTO name (id, &quot;string&quot;) VALUES (2, &#39;bar&#39;)
</a><a href="#h11-0-52" id="h11-0-52" class="i">+---
</a><a href="#h11-0-53" id="h11-0-53" class="i">+Error: invalid input: reference FALSE not in table bool
</a><a href="#h11-0-54" id="h11-0-54" class="i">+Error: invalid input: reference 7 not in table int
</a><a href="#h11-0-55" id="h11-0-55" class="i">+Error: invalid input: reference 2.718 not in table float
</a><a href="#h11-0-56" id="h11-0-56" class="i">+Error: invalid input: reference bar not in table string
</a><a href="#h11-0-57" id="h11-0-57" class="i">+
</a><a href="#h11-0-58" id="h11-0-58" class="i">+# -0.0 is not 0.0.
</a><a href="#h11-0-59" id="h11-0-59" class="i">+!&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (2, -0.0)
</a><a href="#h11-0-60" id="h11-0-60" class="i">+---
</a><a href="#h11-0-61" id="h11-0-61" class="i">+Error: invalid input: reference -0 not in table float
</a><a href="#h11-0-62" id="h11-0-62" class="i">+
</a><a href="#h11-0-63" id="h11-0-63" class="i">+# NAN is considered equal.
</a><a href="#h11-0-64" id="h11-0-64" class="i">+# TODO: possibly shouldn&#39;t.
</a><a href="#h11-0-65" id="h11-0-65" class="i">+[ops]&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (2, NAN)
</a><a href="#h11-0-66" id="h11-0-66" class="i">+---
</a><a href="#h11-0-67" id="h11-0-67" class="i">+storage set mvcc:NextVersion → 17 [&quot;\x00&quot; → &quot;\x11&quot;]
</a><a href="#h11-0-68" id="h11-0-68" class="i">+storage set mvcc:TxnActive(16) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;&quot;]
</a><a href="#h11-0-69" id="h11-0-69" class="i">+storage set mvcc:TxnWrite(16, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-70" id="h11-0-70" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 16) → Integer(2),Null,Null,Float(NaN),Null [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h11-0-71" id="h11-0-71" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-72" id="h11-0-72" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Null), 16) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-73" id="h11-0-73" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-74" id="h11-0-74" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Null), 16) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-75" id="h11-0-75" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-76" id="h11-0-76" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN)), 16) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-77" id="h11-0-77" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-78" id="h11-0-78" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, Null), 16) → Integer(2) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h11-0-79" id="h11-0-79" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-80" id="h11-0-80" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-81" id="h11-0-81" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-82" id="h11-0-82" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-83" id="h11-0-83" class="i">+storage delete mvcc:TxnWrite(16, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-0-84" id="h11-0-84" class="i">+storage delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
</a><a href="#h11-0-85" id="h11-0-85" class="i">+
</a><a href="#h11-0-86" id="h11-0-86" class="i">+# INFINITY is also valid.
</a><a href="#h11-0-87" id="h11-0-87" class="i">+&gt; INSERT INTO name (id, &quot;float&quot;) VALUES (3, INFINITY)
</a><a href="#h11-0-88" id="h11-0-88" class="i">+---
</a><a href="#h11-0-89" id="h11-0-89" class="i">+ok
</a><a href="#h11-0-90" id="h11-0-90" class="i">+
</a><a href="#h11-0-91" id="h11-0-91" class="i">+# References are case sensitive.
</a><a href="#h11-0-92" id="h11-0-92" class="i">+!&gt; INSERT INTO name (id, &quot;string&quot;) VALUES (4, &#39;FOO&#39;)
</a><a href="#h11-0-93" id="h11-0-93" class="i">+---
</a><a href="#h11-0-94" id="h11-0-94" class="i">+Error: invalid input: reference FOO not in table string
</a><a href="#h11-0-95" id="h11-0-95" class="i">+
</a><a href="#h11-0-96" id="h11-0-96" class="i">+# Empty strings are valid references.
</a><a href="#h11-0-97" id="h11-0-97" class="i">+&gt; INSERT INTO name (id, &quot;string&quot;) VALUES (5, &#39;&#39;)
</a><a href="#h11-0-98" id="h11-0-98" class="i">+---
</a><a href="#h11-0-99" id="h11-0-99" class="i">+ok
</a><a href="#h11-0-100" id="h11-0-100" class="i">+
</a><a href="#h11-0-101" id="h11-0-101" class="i">+# NULLs are valid.
</a><a href="#h11-0-102" id="h11-0-102" class="i">+&gt; INSERT INTO name (id) VALUES (6)
</a><a href="#h11-0-103" id="h11-0-103" class="i">+---
</a><a href="#h11-0-104" id="h11-0-104" class="i">+ok
</a><a href="#h11-0-105" id="h11-0-105" class="i">+
</a><a href="#h11-0-106" id="h11-0-106" class="i">+&gt; SELECT * FROM name
</a><a href="#h11-0-107" id="h11-0-107" class="i">+---
</a><a href="#h11-0-108" id="h11-0-108" class="i">+1,TRUE,1,3.14,foo
</a><a href="#h11-0-109" id="h11-0-109" class="i">+2,NULL,NULL,NaN,NULL
</a><a href="#h11-0-110" id="h11-0-110" class="i">+3,NULL,NULL,inf,NULL
</a><a href="#h11-0-111" id="h11-0-111" class="i">+5,NULL,NULL,NULL,
</a><a href="#h11-0-112" id="h11-0-112" class="i">+6,NULL,NULL,NULL,NULL
</a><a href="#h11-0-113" id="h11-0-113" class="i">+
</a><a href="#h11-0-114" id="h11-0-114" class="i">+# Self references are fine.
</a><a href="#h11-0-115" id="h11-0-115" class="i">+&gt; CREATE TABLE self (id INT PRIMARY KEY, self_id INT REFERENCES self)
</a><a href="#h11-0-116" id="h11-0-116" class="i">+---
</a><a href="#h11-0-117" id="h11-0-117" class="i">+ok
</a><a href="#h11-0-118" id="h11-0-118" class="i">+
</a><a href="#h11-0-119" id="h11-0-119" class="i">+[ops]&gt; INSERT INTO self VALUES (1, 1)
</a><a href="#h11-0-120" id="h11-0-120" class="i">+---
</a><a href="#h11-0-121" id="h11-0-121" class="i">+storage set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h11-0-122" id="h11-0-122" class="i">+storage set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h11-0-123" id="h11-0-123" class="i">+storage set mvcc:TxnWrite(22, sql:Row(&quot;self&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-124" id="h11-0-124" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 22) → Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h11-0-125" id="h11-0-125" class="i">+storage set mvcc:TxnWrite(22, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-126" id="h11-0-126" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 22) → Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h11-0-127" id="h11-0-127" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-0-128" id="h11-0-128" class="i">+storage delete mvcc:TxnWrite(22, sql:Row(&quot;self&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-0-129" id="h11-0-129" class="i">+storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a><a href="#h11-0-130" id="h11-0-130" class="i">+
</a><a href="#h11-0-131" id="h11-0-131" class="i">+[ops]&gt; INSERT INTO self VALUES (2, 1)
</a><a href="#h11-0-132" id="h11-0-132" class="i">+---
</a><a href="#h11-0-133" id="h11-0-133" class="i">+storage set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h11-0-134" id="h11-0-134" class="i">+storage set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h11-0-135" id="h11-0-135" class="i">+storage set mvcc:TxnWrite(23, sql:Row(&quot;self&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-136" id="h11-0-136" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 23) → Integer(2),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h11-0-137" id="h11-0-137" class="i">+storage set mvcc:TxnWrite(23, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-138" id="h11-0-138" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 23) → Integer(1),Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h11-0-139" id="h11-0-139" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h11-0-140" id="h11-0-140" class="i">+storage delete mvcc:TxnWrite(23, sql:Row(&quot;self&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h11-0-141" id="h11-0-141" class="i">+storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a><a href="#h11-0-142" id="h11-0-142" class="i">+
</a><a href="#h11-0-143" id="h11-0-143" class="i">+[ops]&gt; INSERT INTO self VALUES (3, NULL)
</a><a href="#h11-0-144" id="h11-0-144" class="i">+---
</a><a href="#h11-0-145" id="h11-0-145" class="i">+storage set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h11-0-146" id="h11-0-146" class="i">+storage set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h11-0-147" id="h11-0-147" class="i">+storage set mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-148" id="h11-0-148" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 24) → Integer(3),Null [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x04\x02\x02\x06\x00&quot;]
</a><a href="#h11-0-149" id="h11-0-149" class="i">+storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h11-0-150" id="h11-0-150" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 24) → Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h11-0-151" id="h11-0-151" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h11-0-152" id="h11-0-152" class="i">+storage delete mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h11-0-153" id="h11-0-153" class="i">+storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a><a href="#h11-0-154" id="h11-0-154" class="i">+
</a><a href="#h11-0-155" id="h11-0-155" class="i">+!&gt; INSERT INTO self VALUES (4, 9)
</a><a href="#h11-0-156" id="h11-0-156" class="i">+---
</a><a href="#h11-0-157" id="h11-0-157" class="i">+Error: invalid input: reference 9 not in table self
</a><b>diff --git a/<a id="h12" href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a> b/<a href="../file/src/sql/testscripts/writes/insert_unique.html">src/sql/testscripts/writes/insert_unique</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -0,0 +1,291 @@
</a><a href="#h12-0-0" id="h12-0-0" class="i">+# Tests INSERT index writes.
</a><a href="#h12-0-1" id="h12-0-1" class="i">+
</a><a href="#h12-0-2" id="h12-0-2" class="i">+&gt; CREATE TABLE &quot;unique&quot; ( \
</a><a href="#h12-0-3" id="h12-0-3" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h12-0-4" id="h12-0-4" class="i">+    &quot;bool&quot; BOOL UNIQUE, \
</a><a href="#h12-0-5" id="h12-0-5" class="i">+    &quot;int&quot; INT UNIQUE, \
</a><a href="#h12-0-6" id="h12-0-6" class="i">+    &quot;float&quot; FLOAT UNIQUE, \
</a><a href="#h12-0-7" id="h12-0-7" class="i">+    &quot;string&quot; STRING UNIQUE \
</a><a href="#h12-0-8" id="h12-0-8" class="i">+)
</a><a href="#h12-0-9" id="h12-0-9" class="i">+---
</a><a href="#h12-0-10" id="h12-0-10" class="i">+ok
</a><a href="#h12-0-11" id="h12-0-11" class="i">+
</a><a href="#h12-0-12" id="h12-0-12" class="i">+# An INSERT writes to all indexes.
</a><a href="#h12-0-13" id="h12-0-13" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; VALUES (1, TRUE, 7, 3.14, &#39;foo&#39;)
</a><a href="#h12-0-14" id="h12-0-14" class="i">+---
</a><a href="#h12-0-15" id="h12-0-15" class="i">+storage set mvcc:NextVersion → 3 [&quot;\x00&quot; → &quot;\x03&quot;]
</a><a href="#h12-0-16" id="h12-0-16" class="i">+storage set mvcc:TxnActive(2) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;&quot;]
</a><a href="#h12-0-17" id="h12-0-17" class="i">+storage set mvcc:TxnWrite(2, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-18" id="h12-0-18" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 2) → Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h12-0-19" id="h12-0-19" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-20" id="h12-0-20" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 2) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h12-0-21" id="h12-0-21" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-22" id="h12-0-22" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7)), 2) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h12-0-23" id="h12-0-23" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-24" id="h12-0-24" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14)), 2) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h12-0-25" id="h12-0-25" class="i">+storage set mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-26" id="h12-0-26" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 2) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h12-0-27" id="h12-0-27" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h12-0-28" id="h12-0-28" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h12-0-29" id="h12-0-29" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h12-0-30" id="h12-0-30" class="i">+storage delete mvcc:TxnWrite(2, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-31" id="h12-0-31" class="i">+storage delete mvcc:TxnWrite(2, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x02\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h12-0-32" id="h12-0-32" class="i">+storage delete mvcc:TxnActive(2) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x02&quot;]
</a><a href="#h12-0-33" id="h12-0-33" class="i">+
</a><a href="#h12-0-34" id="h12-0-34" class="i">+# Another insert with the same values errors for all indexes.
</a><a href="#h12-0-35" id="h12-0-35" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;bool&quot;) VALUES (2, TRUE)
</a><a href="#h12-0-36" id="h12-0-36" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;int&quot;) VALUES (2, 7)
</a><a href="#h12-0-37" id="h12-0-37" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (2, 3.14)
</a><a href="#h12-0-38" id="h12-0-38" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;foo&#39;)
</a><a href="#h12-0-39" id="h12-0-39" class="i">+---
</a><a href="#h12-0-40" id="h12-0-40" class="i">+Error: invalid input: value TRUE already in unique column bool
</a><a href="#h12-0-41" id="h12-0-41" class="i">+Error: invalid input: value 7 already in unique column int
</a><a href="#h12-0-42" id="h12-0-42" class="i">+Error: invalid input: value 3.14 already in unique column float
</a><a href="#h12-0-43" id="h12-0-43" class="i">+Error: invalid input: value foo already in unique column string
</a><a href="#h12-0-44" id="h12-0-44" class="i">+
</a><a href="#h12-0-45" id="h12-0-45" class="i">+# An insert with different values writes new index entries.
</a><a href="#h12-0-46" id="h12-0-46" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; VALUES (3, FALSE, 0, 2.718, &#39;bar&#39;)
</a><a href="#h12-0-47" id="h12-0-47" class="i">+---
</a><a href="#h12-0-48" id="h12-0-48" class="i">+storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h12-0-49" id="h12-0-49" class="i">+storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h12-0-50" id="h12-0-50" class="i">+storage set mvcc:TxnWrite(7, sql:Row(&quot;unique&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-51" id="h12-0-51" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(3)), 7) → Integer(3),Boolean(false),Integer(0),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x06\x01\x00\x02\x00\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h12-0-52" id="h12-0-52" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-53" id="h12-0-53" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false)), 7) → Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h12-0-54" id="h12-0-54" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-55" id="h12-0-55" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0)), 7) → Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h12-0-56" id="h12-0-56" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-57" id="h12-0-57" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 7) → Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h12-0-58" id="h12-0-58" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-59" id="h12-0-59" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 7) → Integer(3) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h12-0-60" id="h12-0-60" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-61" id="h12-0-61" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h12-0-62" id="h12-0-62" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-63" id="h12-0-63" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-64" id="h12-0-64" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(&quot;unique&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h12-0-65" id="h12-0-65" class="i">+storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h12-0-66" id="h12-0-66" class="i">+
</a><a href="#h12-0-67" id="h12-0-67" class="i">+# Inserts with NULLS adds NULL entries. Duplicates are allowed
</a><a href="#h12-0-68" id="h12-0-68" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; VALUES (4)
</a><a href="#h12-0-69" id="h12-0-69" class="i">+---
</a><a href="#h12-0-70" id="h12-0-70" class="i">+storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h12-0-71" id="h12-0-71" class="i">+storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h12-0-72" id="h12-0-72" class="i">+storage set mvcc:TxnWrite(8, sql:Row(&quot;unique&quot;, Integer(4))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-73" id="h12-0-73" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(4)), 8) → Integer(4),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x08\x00\x00\x00\x00&quot;]
</a><a href="#h12-0-74" id="h12-0-74" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-75" id="h12-0-75" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 8) → Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h12-0-76" id="h12-0-76" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-77" id="h12-0-77" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 8) → Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h12-0-78" id="h12-0-78" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-79" id="h12-0-79" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 8) → Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h12-0-80" id="h12-0-80" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-81" id="h12-0-81" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 8) → Integer(4) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x08&quot;]
</a><a href="#h12-0-82" id="h12-0-82" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-83" id="h12-0-83" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-84" id="h12-0-84" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-85" id="h12-0-85" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-86" id="h12-0-86" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(&quot;unique&quot;, Integer(4))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x04\x00\x00&quot;]
</a><a href="#h12-0-87" id="h12-0-87" class="i">+storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h12-0-88" id="h12-0-88" class="i">+
</a><a href="#h12-0-89" id="h12-0-89" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; VALUES (5)
</a><a href="#h12-0-90" id="h12-0-90" class="i">+---
</a><a href="#h12-0-91" id="h12-0-91" class="i">+storage set mvcc:NextVersion → 10 [&quot;\x00&quot; → &quot;\n&quot;]
</a><a href="#h12-0-92" id="h12-0-92" class="i">+storage set mvcc:TxnActive(9) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;&quot;]
</a><a href="#h12-0-93" id="h12-0-93" class="i">+storage set mvcc:TxnWrite(9, sql:Row(&quot;unique&quot;, Integer(5))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-94" id="h12-0-94" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(5)), 9) → Integer(5),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x07\x05\x02\n\x00\x00\x00\x00&quot;]
</a><a href="#h12-0-95" id="h12-0-95" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-96" id="h12-0-96" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 9) → Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h12-0-97" id="h12-0-97" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-98" id="h12-0-98" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 9) → Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h12-0-99" id="h12-0-99" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-100" id="h12-0-100" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 9) → Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h12-0-101" id="h12-0-101" class="i">+storage set mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-102" id="h12-0-102" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 9) → Integer(4),Integer(5) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\t&quot; → &quot;\x01\x05\x02\x02\x08\x02\n&quot;]
</a><a href="#h12-0-103" id="h12-0-103" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-104" id="h12-0-104" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-105" id="h12-0-105" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-106" id="h12-0-106" class="i">+storage delete mvcc:TxnWrite(9, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-107" id="h12-0-107" class="i">+storage delete mvcc:TxnWrite(9, sql:Row(&quot;unique&quot;, Integer(5))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\t\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x05\x00\x00&quot;]
</a><a href="#h12-0-108" id="h12-0-108" class="i">+storage delete mvcc:TxnActive(9) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\t&quot;]
</a><a href="#h12-0-109" id="h12-0-109" class="i">+
</a><a href="#h12-0-110" id="h12-0-110" class="i">+# Float NaNs are considered different and allowed.
</a><a href="#h12-0-111" id="h12-0-111" class="i">+# TODO: should these be considered equal?
</a><a href="#h12-0-112" id="h12-0-112" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (6, NAN)
</a><a href="#h12-0-113" id="h12-0-113" class="i">+---
</a><a href="#h12-0-114" id="h12-0-114" class="i">+storage set mvcc:NextVersion → 11 [&quot;\x00&quot; → &quot;\x0b&quot;]
</a><a href="#h12-0-115" id="h12-0-115" class="i">+storage set mvcc:TxnActive(10) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;&quot;]
</a><a href="#h12-0-116" id="h12-0-116" class="i">+storage set mvcc:TxnWrite(10, sql:Row(&quot;unique&quot;, Integer(6))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-117" id="h12-0-117" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(6)), 10) → Integer(6),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x0f\x05\x02\x0c\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h12-0-118" id="h12-0-118" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-119" id="h12-0-119" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 10) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h12-0-120" id="h12-0-120" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-121" id="h12-0-121" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 10) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h12-0-122" id="h12-0-122" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-123" id="h12-0-123" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 10) → Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x03\x01\x02\x0c&quot;]
</a><a href="#h12-0-124" id="h12-0-124" class="i">+storage set mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-125" id="h12-0-125" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 10) → Integer(4),Integer(5),Integer(6) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\n&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x0c&quot;]
</a><a href="#h12-0-126" id="h12-0-126" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-127" id="h12-0-127" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-128" id="h12-0-128" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-129" id="h12-0-129" class="i">+storage delete mvcc:TxnWrite(10, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-130" id="h12-0-130" class="i">+storage delete mvcc:TxnWrite(10, sql:Row(&quot;unique&quot;, Integer(6))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\n\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x06\x00\x00&quot;]
</a><a href="#h12-0-131" id="h12-0-131" class="i">+storage delete mvcc:TxnActive(10) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\n&quot;]
</a><a href="#h12-0-132" id="h12-0-132" class="i">+
</a><a href="#h12-0-133" id="h12-0-133" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (7, NAN)
</a><a href="#h12-0-134" id="h12-0-134" class="i">+---
</a><a href="#h12-0-135" id="h12-0-135" class="i">+storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h12-0-136" id="h12-0-136" class="i">+storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h12-0-137" id="h12-0-137" class="i">+storage set mvcc:TxnWrite(11, sql:Row(&quot;unique&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-138" id="h12-0-138" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(7)), 11) → Integer(7),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x0f\x05\x02\x0e\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h12-0-139" id="h12-0-139" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-140" id="h12-0-140" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h12-0-141" id="h12-0-141" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-142" id="h12-0-142" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h12-0-143" id="h12-0-143" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-144" id="h12-0-144" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 11) → Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x05\x02\x02\x0c\x02\x0e&quot;]
</a><a href="#h12-0-145" id="h12-0-145" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-146" id="h12-0-146" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 11) → Integer(4),Integer(5),Integer(6),Integer(7) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x0c\x02\x0e&quot;]
</a><a href="#h12-0-147" id="h12-0-147" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-148" id="h12-0-148" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-149" id="h12-0-149" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-150" id="h12-0-150" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-151" id="h12-0-151" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(&quot;unique&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h12-0-152" id="h12-0-152" class="i">+storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><a href="#h12-0-153" id="h12-0-153" class="i">+
</a><a href="#h12-0-154" id="h12-0-154" class="i">+# Float 0.0 and -0.0 are considered different.
</a><a href="#h12-0-155" id="h12-0-155" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (8, -0.0)
</a><a href="#h12-0-156" id="h12-0-156" class="i">+---
</a><a href="#h12-0-157" id="h12-0-157" class="i">+storage set mvcc:NextVersion → 13 [&quot;\x00&quot; → &quot;\r&quot;]
</a><a href="#h12-0-158" id="h12-0-158" class="i">+storage set mvcc:TxnActive(12) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;&quot;]
</a><a href="#h12-0-159" id="h12-0-159" class="i">+storage set mvcc:TxnWrite(12, sql:Row(&quot;unique&quot;, Integer(8))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-160" id="h12-0-160" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(8)), 12) → Integer(8),Null,Null,Float(-0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0f\x05\x02\x10\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x80\x00&quot;]
</a><a href="#h12-0-161" id="h12-0-161" class="i">+storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-162" id="h12-0-162" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 12) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h12-0-163" id="h12-0-163" class="i">+storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-164" id="h12-0-164" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 12) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h12-0-165" id="h12-0-165" class="i">+storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-166" id="h12-0-166" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0)), 12) → Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x03\x01\x02\x10&quot;]
</a><a href="#h12-0-167" id="h12-0-167" class="i">+storage set mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-168" id="h12-0-168" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 12) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10&quot;]
</a><a href="#h12-0-169" id="h12-0-169" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-170" id="h12-0-170" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h12-0-171" id="h12-0-171" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-172" id="h12-0-172" class="i">+storage delete mvcc:TxnWrite(12, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-173" id="h12-0-173" class="i">+storage delete mvcc:TxnWrite(12, sql:Row(&quot;unique&quot;, Integer(8))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0c\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x08\x00\x00&quot;]
</a><a href="#h12-0-174" id="h12-0-174" class="i">+storage delete mvcc:TxnActive(12) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0c&quot;]
</a><a href="#h12-0-175" id="h12-0-175" class="i">+
</a><a href="#h12-0-176" id="h12-0-176" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (9, 0.0)
</a><a href="#h12-0-177" id="h12-0-177" class="i">+---
</a><a href="#h12-0-178" id="h12-0-178" class="i">+storage set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h12-0-179" id="h12-0-179" class="i">+storage set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h12-0-180" id="h12-0-180" class="i">+storage set mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(9))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-181" id="h12-0-181" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(9)), 13) → Integer(9),Null,Null,Float(0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x0f\x05\x02\x12\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h12-0-182" id="h12-0-182" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-183" id="h12-0-183" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 13) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h12-0-184" id="h12-0-184" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-185" id="h12-0-185" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 13) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h12-0-186" id="h12-0-186" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-187" id="h12-0-187" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 13) → Integer(9) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x12&quot;]
</a><a href="#h12-0-188" id="h12-0-188" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-189" id="h12-0-189" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 13) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\r\x06\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12&quot;]
</a><a href="#h12-0-190" id="h12-0-190" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-191" id="h12-0-191" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-192" id="h12-0-192" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-193" id="h12-0-193" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-194" id="h12-0-194" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(9))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\t\x00\x00&quot;]
</a><a href="#h12-0-195" id="h12-0-195" class="i">+storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a><a href="#h12-0-196" id="h12-0-196" class="i">+
</a><a href="#h12-0-197" id="h12-0-197" class="i">+# Float INFINITY is also unique.
</a><a href="#h12-0-198" id="h12-0-198" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (10, INFINITY)
</a><a href="#h12-0-199" id="h12-0-199" class="i">+---
</a><a href="#h12-0-200" id="h12-0-200" class="i">+storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h12-0-201" id="h12-0-201" class="i">+storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h12-0-202" id="h12-0-202" class="i">+storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(10))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-203" id="h12-0-203" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(10)), 14) → Integer(10),Null,Null,Float(inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x14\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h12-0-204" id="h12-0-204" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-205" id="h12-0-205" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 14) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h12-0-206" id="h12-0-206" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-207" id="h12-0-207" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 14) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h12-0-208" id="h12-0-208" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-209" id="h12-0-209" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf)), 14) → Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x14&quot;]
</a><a href="#h12-0-210" id="h12-0-210" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-211" id="h12-0-211" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 14) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x07\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14&quot;]
</a><a href="#h12-0-212" id="h12-0-212" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-213" id="h12-0-213" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-214" id="h12-0-214" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-215" id="h12-0-215" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-216" id="h12-0-216" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(10))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\n\x00\x00&quot;]
</a><a href="#h12-0-217" id="h12-0-217" class="i">+storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h12-0-218" id="h12-0-218" class="i">+
</a><a href="#h12-0-219" id="h12-0-219" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (11, INFINITY)
</a><a href="#h12-0-220" id="h12-0-220" class="i">+---
</a><a href="#h12-0-221" id="h12-0-221" class="i">+Error: invalid input: value inf already in unique column float
</a><a href="#h12-0-222" id="h12-0-222" class="i">+
</a><a href="#h12-0-223" id="h12-0-223" class="i">+# Empty strings are considered equal.
</a><a href="#h12-0-224" id="h12-0-224" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (11, &#39;&#39;)
</a><a href="#h12-0-225" id="h12-0-225" class="i">+---
</a><a href="#h12-0-226" id="h12-0-226" class="i">+storage set mvcc:NextVersion → 17 [&quot;\x00&quot; → &quot;\x11&quot;]
</a><a href="#h12-0-227" id="h12-0-227" class="i">+storage set mvcc:TxnActive(16) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;&quot;]
</a><a href="#h12-0-228" id="h12-0-228" class="i">+storage set mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(11))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-229" id="h12-0-229" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(11)), 16) → Integer(11),Null,Null,Null,String(&quot;&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x08\x05\x02\x16\x00\x00\x00\x04\x00&quot;]
</a><a href="#h12-0-230" id="h12-0-230" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-231" id="h12-0-231" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 16) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h12-0-232" id="h12-0-232" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-233" id="h12-0-233" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 16) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x11\x08\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16&quot;]
</a><a href="#h12-0-234" id="h12-0-234" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-235" id="h12-0-235" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 16) → Integer(4),Integer(5),Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x07\x03\x02\x08\x02\n\x02\x16&quot;]
</a><a href="#h12-0-236" id="h12-0-236" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-237" id="h12-0-237" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;)), 16) → Integer(11) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x16&quot;]
</a><a href="#h12-0-238" id="h12-0-238" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-239" id="h12-0-239" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-240" id="h12-0-240" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-241" id="h12-0-241" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-242" id="h12-0-242" class="i">+storage delete mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(11))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0b\x00\x00&quot;]
</a><a href="#h12-0-243" id="h12-0-243" class="i">+storage delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
</a><a href="#h12-0-244" id="h12-0-244" class="i">+
</a><a href="#h12-0-245" id="h12-0-245" class="i">+!&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (12, &#39;&#39;)
</a><a href="#h12-0-246" id="h12-0-246" class="i">+---
</a><a href="#h12-0-247" id="h12-0-247" class="i">+Error: invalid input: value  already in unique column string
</a><a href="#h12-0-248" id="h12-0-248" class="i">+
</a><a href="#h12-0-249" id="h12-0-249" class="i">+# Case differences are not considered equal.
</a><a href="#h12-0-250" id="h12-0-250" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (12, &#39;case&#39;)
</a><a href="#h12-0-251" id="h12-0-251" class="i">+---
</a><a href="#h12-0-252" id="h12-0-252" class="i">+storage set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h12-0-253" id="h12-0-253" class="i">+storage set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h12-0-254" id="h12-0-254" class="i">+storage set mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(12))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-255" id="h12-0-255" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(12)), 18) → Integer(12),Null,Null,Null,String(&quot;case&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0c\x05\x02\x18\x00\x00\x00\x04\x04case&quot;]
</a><a href="#h12-0-256" id="h12-0-256" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-257" id="h12-0-257" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 18) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h12-0-258" id="h12-0-258" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-259" id="h12-0-259" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 18) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x13\t\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18&quot;]
</a><a href="#h12-0-260" id="h12-0-260" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-261" id="h12-0-261" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 18) → Integer(4),Integer(5),Integer(11),Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\t\x04\x02\x08\x02\n\x02\x16\x02\x18&quot;]
</a><a href="#h12-0-262" id="h12-0-262" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-263" id="h12-0-263" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;)), 18) → Integer(12) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x18&quot;]
</a><a href="#h12-0-264" id="h12-0-264" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-265" id="h12-0-265" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-266" id="h12-0-266" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-267" id="h12-0-267" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-268" id="h12-0-268" class="i">+storage delete mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(12))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x0c\x00\x00&quot;]
</a><a href="#h12-0-269" id="h12-0-269" class="i">+storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a><a href="#h12-0-270" id="h12-0-270" class="i">+
</a><a href="#h12-0-271" id="h12-0-271" class="i">+[ops]&gt; INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (13, &#39;CaSe&#39;)
</a><a href="#h12-0-272" id="h12-0-272" class="i">+---
</a><a href="#h12-0-273" id="h12-0-273" class="i">+storage set mvcc:NextVersion → 20 [&quot;\x00&quot; → &quot;\x14&quot;]
</a><a href="#h12-0-274" id="h12-0-274" class="i">+storage set mvcc:TxnActive(19) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;&quot;]
</a><a href="#h12-0-275" id="h12-0-275" class="i">+storage set mvcc:TxnWrite(19, sql:Row(&quot;unique&quot;, Integer(13))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-276" id="h12-0-276" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(13)), 19) → Integer(13),Null,Null,Null,String(&quot;CaSe&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0c\x05\x02\x1a\x00\x00\x00\x04\x04CaSe&quot;]
</a><a href="#h12-0-277" id="h12-0-277" class="i">+storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-278" id="h12-0-278" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 19) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h12-0-279" id="h12-0-279" class="i">+storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-280" id="h12-0-280" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 19) → Integer(4),Integer(5),Integer(6),Integer(7),Integer(8),Integer(9),Integer(10),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x15\n\x02\x08\x02\n\x02\x0c\x02\x0e\x02\x10\x02\x12\x02\x14\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h12-0-281" id="h12-0-281" class="i">+storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-282" id="h12-0-282" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 19) → Integer(4),Integer(5),Integer(11),Integer(12),Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x0b\x05\x02\x08\x02\n\x02\x16\x02\x18\x02\x1a&quot;]
</a><a href="#h12-0-283" id="h12-0-283" class="i">+storage set mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h12-0-284" id="h12-0-284" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 19) → Integer(13) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x13&quot; → &quot;\x01\x03\x01\x02\x1a&quot;]
</a><a href="#h12-0-285" id="h12-0-285" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-286" id="h12-0-286" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-287" id="h12-0-287" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-288" id="h12-0-288" class="i">+storage delete mvcc:TxnWrite(19, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h12-0-289" id="h12-0-289" class="i">+storage delete mvcc:TxnWrite(19, sql:Row(&quot;unique&quot;, Integer(13))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x13\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\r\x00\x00&quot;]
</a><a href="#h12-0-290" id="h12-0-290" class="i">+storage delete mvcc:TxnActive(19) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x13&quot;]
</a><b>diff --git a/<a id="h13" href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a> b/<a href="../file/src/sql/testscripts/writes/update.html">src/sql/testscripts/writes/update</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -0,0 +1,59 @@
</a><a href="#h13-0-0" id="h13-0-0" class="i">+# Tests basic UPDATE functionality.
</a><a href="#h13-0-1" id="h13-0-1" class="i">+
</a><a href="#h13-0-2" id="h13-0-2" class="i">+&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING)
</a><a href="#h13-0-3" id="h13-0-3" class="i">+&gt; INSERT INTO name VALUES (1, &#39;a&#39;), (2, &#39;b&#39;)
</a><a href="#h13-0-4" id="h13-0-4" class="i">+---
</a><a href="#h13-0-5" id="h13-0-5" class="i">+ok
</a><a href="#h13-0-6" id="h13-0-6" class="i">+
</a><a href="#h13-0-7" id="h13-0-7" class="i">+# UPDATE updates rows, and returns the number of rows.
</a><a href="#h13-0-8" id="h13-0-8" class="i">+[plan,result,ops]&gt; UPDATE name SET value = &#39;foo&#39;
</a><a href="#h13-0-9" id="h13-0-9" class="i">+---
</a><a href="#h13-0-10" id="h13-0-10" class="i">+Update: name (value=foo)
</a><a href="#h13-0-11" id="h13-0-11" class="i">+└─ Scan: name
</a><a href="#h13-0-12" id="h13-0-12" class="i">+Update { count: 2 }
</a><a href="#h13-0-13" id="h13-0-13" class="i">+storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h13-0-14" id="h13-0-14" class="i">+storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h13-0-15" id="h13-0-15" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h13-0-16" id="h13-0-16" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) → Integer(1),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h13-0-17" id="h13-0-17" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h13-0-18" id="h13-0-18" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) → Integer(2),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h13-0-19" id="h13-0-19" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h13-0-20" id="h13-0-20" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;name&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h13-0-21" id="h13-0-21" class="i">+storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h13-0-22" id="h13-0-22" class="i">+
</a><a href="#h13-0-23" id="h13-0-23" class="i">+&gt; SELECT * FROM name
</a><a href="#h13-0-24" id="h13-0-24" class="i">+---
</a><a href="#h13-0-25" id="h13-0-25" class="i">+1,foo
</a><a href="#h13-0-26" id="h13-0-26" class="i">+2,foo
</a><a href="#h13-0-27" id="h13-0-27" class="i">+
</a><a href="#h13-0-28" id="h13-0-28" class="i">+dump
</a><a href="#h13-0-29" id="h13-0-29" class="i">+---
</a><a href="#h13-0-30" id="h13-0-30" class="i">+mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h13-0-31" id="h13-0-31" class="i">+mvcc:Version(sql:Table(&quot;name&quot;), 1) → CREATE TABLE name ( id INTEGER PRIMARY KEY, value STRING DEFAULT NULL ) [&quot;\x04\x00\xffname\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01&quot; → &quot;\x01\x1d\x04name\x00\x02\x02id\x01\x00\x00\x01\x00\x00\x05value\x03\x01\x01\x00\x00\x00\x00&quot;]
</a><a href="#h13-0-32" id="h13-0-32" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 2) → Integer(1),String(&quot;a&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x02\x04\x01a&quot;]
</a><a href="#h13-0-33" id="h13-0-33" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 3) → Integer(1),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x02\x04\x03foo&quot;]
</a><a href="#h13-0-34" id="h13-0-34" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 2) → Integer(2),String(&quot;b&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02&quot; → &quot;\x01\x06\x02\x02\x04\x04\x01b&quot;]
</a><a href="#h13-0-35" id="h13-0-35" class="i">+mvcc:Version(sql:Row(&quot;name&quot;, Integer(2)), 3) → Integer(2),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x08\x02\x02\x04\x04\x03foo&quot;]
</a><a href="#h13-0-36" id="h13-0-36" class="i">+
</a><a href="#h13-0-37" id="h13-0-37" class="i">+# Bare UPDATE errors.
</a><a href="#h13-0-38" id="h13-0-38" class="i">+!&gt; UPDATE
</a><a href="#h13-0-39" id="h13-0-39" class="i">+!&gt; UPDATE name
</a><a href="#h13-0-40" id="h13-0-40" class="i">+!&gt; UPDATE name SET
</a><a href="#h13-0-41" id="h13-0-41" class="i">+!&gt; UPDATE name SET value
</a><a href="#h13-0-42" id="h13-0-42" class="i">+---
</a><a href="#h13-0-43" id="h13-0-43" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h13-0-44" id="h13-0-44" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h13-0-45" id="h13-0-45" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h13-0-46" id="h13-0-46" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h13-0-47" id="h13-0-47" class="i">+
</a><a href="#h13-0-48" id="h13-0-48" class="i">+# Unknown table or column errors.
</a><a href="#h13-0-49" id="h13-0-49" class="i">+!&gt; UPDATE foo SET value = &#39;bar&#39;
</a><a href="#h13-0-50" id="h13-0-50" class="i">+!&gt; UPDATE name SET foo = &#39;bar&#39;
</a><a href="#h13-0-51" id="h13-0-51" class="i">+---
</a><a href="#h13-0-52" id="h13-0-52" class="i">+Error: invalid input: table foo does not exist
</a><a href="#h13-0-53" id="h13-0-53" class="i">+Error: invalid input: unknown field foo
</a><a href="#h13-0-54" id="h13-0-54" class="i">+
</a><a href="#h13-0-55" id="h13-0-55" class="i">+# Specifying the same column multiple times errors.
</a><a href="#h13-0-56" id="h13-0-56" class="i">+!&gt; UPDATE name SET value = &#39;e&#39;, value = &#39;f&#39;
</a><a href="#h13-0-57" id="h13-0-57" class="i">+---
</a><a href="#h13-0-58" id="h13-0-58" class="i">+Error: invalid input: column value set multiple times
</a><b>diff --git a/<a id="h14" href="../file/src/sql/testscripts/writes/update_datatypes.html">src/sql/testscripts/writes/update_datatypes</a> b/<a href="../file/src/sql/testscripts/writes/update_datatypes.html">src/sql/testscripts/writes/update_datatypes</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -0,0 +1,81 @@
</a><a href="#h14-0-0" id="h14-0-0" class="i">+# Tests UPDATE of all datatypes.
</a><a href="#h14-0-1" id="h14-0-1" class="i">+
</a><a href="#h14-0-2" id="h14-0-2" class="i">+# Create columns and a row with all datatypes.
</a><a href="#h14-0-3" id="h14-0-3" class="i">+&gt; CREATE TABLE datatypes ( \
</a><a href="#h14-0-4" id="h14-0-4" class="i">+    id INTEGER PRIMARY KEY, \
</a><a href="#h14-0-5" id="h14-0-5" class="i">+    &quot;bool&quot; BOOL, \
</a><a href="#h14-0-6" id="h14-0-6" class="i">+    &quot;int&quot; INT, \
</a><a href="#h14-0-7" id="h14-0-7" class="i">+    &quot;float&quot; FLOAT, \
</a><a href="#h14-0-8" id="h14-0-8" class="i">+    &quot;string&quot; STRING \
</a><a href="#h14-0-9" id="h14-0-9" class="i">+)
</a><a href="#h14-0-10" id="h14-0-10" class="i">+&gt; INSERT INTO datatypes VALUES (1)
</a><a href="#h14-0-11" id="h14-0-11" class="i">+---
</a><a href="#h14-0-12" id="h14-0-12" class="i">+ok
</a><a href="#h14-0-13" id="h14-0-13" class="i">+
</a><a href="#h14-0-14" id="h14-0-14" class="i">+# Booleans.
</a><a href="#h14-0-15" id="h14-0-15" class="i">+&gt; UPDATE datatypes SET &quot;bool&quot; = NULL
</a><a href="#h14-0-16" id="h14-0-16" class="i">+&gt; UPDATE datatypes SET &quot;bool&quot; = FALSE
</a><a href="#h14-0-17" id="h14-0-17" class="i">+&gt; UPDATE datatypes SET &quot;bool&quot; = TRUE
</a><a href="#h14-0-18" id="h14-0-18" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h14-0-19" id="h14-0-19" class="i">+---
</a><a href="#h14-0-20" id="h14-0-20" class="i">+1,TRUE,NULL,NULL,NULL
</a><a href="#h14-0-21" id="h14-0-21" class="i">+
</a><a href="#h14-0-22" id="h14-0-22" class="i">+!&gt; UPDATE datatypes SET &quot;bool&quot; = 1
</a><a href="#h14-0-23" id="h14-0-23" class="i">+!&gt; UPDATE datatypes SET &quot;bool&quot; = 3.14
</a><a href="#h14-0-24" id="h14-0-24" class="i">+!&gt; UPDATE datatypes SET &quot;bool&quot; = &#39;false&#39;
</a><a href="#h14-0-25" id="h14-0-25" class="i">+---
</a><a href="#h14-0-26" id="h14-0-26" class="i">+Error: invalid input: invalid datatype INTEGER for BOOLEAN column bool
</a><a href="#h14-0-27" id="h14-0-27" class="i">+Error: invalid input: invalid datatype FLOAT for BOOLEAN column bool
</a><a href="#h14-0-28" id="h14-0-28" class="i">+Error: invalid input: invalid datatype STRING for BOOLEAN column bool
</a><a href="#h14-0-29" id="h14-0-29" class="i">+
</a><a href="#h14-0-30" id="h14-0-30" class="i">+# Integers.
</a><a href="#h14-0-31" id="h14-0-31" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = NULL
</a><a href="#h14-0-32" id="h14-0-32" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = 1
</a><a href="#h14-0-33" id="h14-0-33" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = 0
</a><a href="#h14-0-34" id="h14-0-34" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = -1
</a><a href="#h14-0-35" id="h14-0-35" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = 9223372036854775807
</a><a href="#h14-0-36" id="h14-0-36" class="i">+&gt; UPDATE datatypes SET &quot;int&quot; = -9223372036854775807
</a><a href="#h14-0-37" id="h14-0-37" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h14-0-38" id="h14-0-38" class="i">+---
</a><a href="#h14-0-39" id="h14-0-39" class="i">+1,TRUE,-9223372036854775807,NULL,NULL
</a><a href="#h14-0-40" id="h14-0-40" class="i">+
</a><a href="#h14-0-41" id="h14-0-41" class="i">+!&gt; UPDATE datatypes SET &quot;int&quot; = false
</a><a href="#h14-0-42" id="h14-0-42" class="i">+!&gt; UPDATE datatypes SET &quot;int&quot; = 3.0
</a><a href="#h14-0-43" id="h14-0-43" class="i">+!&gt; UPDATE datatypes SET &quot;int&quot; = &#39;0&#39;
</a><a href="#h14-0-44" id="h14-0-44" class="i">+---
</a><a href="#h14-0-45" id="h14-0-45" class="i">+Error: invalid input: invalid datatype BOOLEAN for INTEGER column int
</a><a href="#h14-0-46" id="h14-0-46" class="i">+Error: invalid input: invalid datatype FLOAT for INTEGER column int
</a><a href="#h14-0-47" id="h14-0-47" class="i">+Error: invalid input: invalid datatype STRING for INTEGER column int
</a><a href="#h14-0-48" id="h14-0-48" class="i">+
</a><a href="#h14-0-49" id="h14-0-49" class="i">+# Floats.
</a><a href="#h14-0-50" id="h14-0-50" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = NULL
</a><a href="#h14-0-51" id="h14-0-51" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = 3.14
</a><a href="#h14-0-52" id="h14-0-52" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = -3.14
</a><a href="#h14-0-53" id="h14-0-53" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = 0.0
</a><a href="#h14-0-54" id="h14-0-54" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = -0.0
</a><a href="#h14-0-55" id="h14-0-55" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = 1.23456789012345e308
</a><a href="#h14-0-56" id="h14-0-56" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = -1.23456789012345e308
</a><a href="#h14-0-57" id="h14-0-57" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = INFINITY
</a><a href="#h14-0-58" id="h14-0-58" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = -INFINITY
</a><a href="#h14-0-59" id="h14-0-59" class="i">+&gt; UPDATE datatypes SET &quot;float&quot; = NAN
</a><a href="#h14-0-60" id="h14-0-60" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h14-0-61" id="h14-0-61" class="i">+---
</a><a href="#h14-0-62" id="h14-0-62" class="i">+1,TRUE,-9223372036854775807,NaN,NULL
</a><a href="#h14-0-63" id="h14-0-63" class="i">+
</a><a href="#h14-0-64" id="h14-0-64" class="i">+# Strings.
</a><a href="#h14-0-65" id="h14-0-65" class="i">+&gt; UPDATE datatypes SET &quot;string&quot; = NULL
</a><a href="#h14-0-66" id="h14-0-66" class="i">+&gt; UPDATE datatypes SET &quot;string&quot; = &#39;&#39;
</a><a href="#h14-0-67" id="h14-0-67" class="i">+&gt; UPDATE datatypes SET &quot;string&quot; = &#39;  &#39;
</a><a href="#h14-0-68" id="h14-0-68" class="i">+&gt; UPDATE datatypes SET &quot;string&quot; = &#39;abc&#39;
</a><a href="#h14-0-69" id="h14-0-69" class="i">+&gt; UPDATE datatypes SET &quot;string&quot; = &#39;Hi! 👋&#39;
</a><a href="#h14-0-70" id="h14-0-70" class="i">+&gt; SELECT * FROM datatypes
</a><a href="#h14-0-71" id="h14-0-71" class="i">+---
</a><a href="#h14-0-72" id="h14-0-72" class="i">+1,TRUE,-9223372036854775807,NaN,Hi! 👋
</a><a href="#h14-0-73" id="h14-0-73" class="i">+
</a><a href="#h14-0-74" id="h14-0-74" class="i">+!&gt; UPDATE datatypes SET &quot;string&quot; = false
</a><a href="#h14-0-75" id="h14-0-75" class="i">+!&gt; UPDATE datatypes SET &quot;string&quot; = 3
</a><a href="#h14-0-76" id="h14-0-76" class="i">+!&gt; UPDATE datatypes SET &quot;string&quot; = 3.14
</a><a href="#h14-0-77" id="h14-0-77" class="i">+---
</a><a href="#h14-0-78" id="h14-0-78" class="i">+Error: invalid input: invalid datatype BOOLEAN for STRING column string
</a><a href="#h14-0-79" id="h14-0-79" class="i">+Error: invalid input: invalid datatype INTEGER for STRING column string
</a><a href="#h14-0-80" id="h14-0-80" class="i">+Error: invalid input: invalid datatype FLOAT for STRING column string
</a><b>diff --git a/<a id="h15" href="../file/src/sql/testscripts/writes/update_default.html">src/sql/testscripts/writes/update_default</a> b/<a href="../file/src/sql/testscripts/writes/update_default.html">src/sql/testscripts/writes/update_default</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -0,0 +1,19 @@
</a><a href="#h15-0-0" id="h15-0-0" class="i">+# UPDATE does not currently support setting DEFAULT.
</a><a href="#h15-0-1" id="h15-0-1" class="i">+# TODO: consider adding this.
</a><a href="#h15-0-2" id="h15-0-2" class="i">+
</a><a href="#h15-0-3" id="h15-0-3" class="i">+&gt; CREATE TABLE defaults ( \
</a><a href="#h15-0-4" id="h15-0-4" class="i">+    id INTEGER PRIMARY KEY, \
</a><a href="#h15-0-5" id="h15-0-5" class="i">+    required BOOLEAN NOT NULL, \
</a><a href="#h15-0-6" id="h15-0-6" class="i">+    &quot;null&quot; BOOLEAN, \
</a><a href="#h15-0-7" id="h15-0-7" class="i">+    &quot;boolean&quot; BOOLEAN DEFAULT TRUE, \
</a><a href="#h15-0-8" id="h15-0-8" class="i">+    &quot;float&quot; FLOAT DEFAULT 3.14, \
</a><a href="#h15-0-9" id="h15-0-9" class="i">+    &quot;integer&quot; INTEGER DEFAULT 7, \
</a><a href="#h15-0-10" id="h15-0-10" class="i">+    &quot;string&quot; STRING DEFAULT &#39;foo&#39; \
</a><a href="#h15-0-11" id="h15-0-11" class="i">+)
</a><a href="#h15-0-12" id="h15-0-12" class="i">+&gt; INSERT INTO defaults VALUES (1, true, NULL, NULL, NULL, NULL, NULL)
</a><a href="#h15-0-13" id="h15-0-13" class="i">+---
</a><a href="#h15-0-14" id="h15-0-14" class="i">+ok
</a><a href="#h15-0-15" id="h15-0-15" class="i">+
</a><a href="#h15-0-16" id="h15-0-16" class="i">+!&gt; UPDATE defaults SET &quot;boolean&quot; = DEFAULT
</a><a href="#h15-0-17" id="h15-0-17" class="i">+---
</a><a href="#h15-0-18" id="h15-0-18" class="i">+Error: invalid input: expected expression atom, found DEFAULT
</a><b>diff --git a/<a id="h16" href="../file/src/sql/testscripts/writes/update_expression.html">src/sql/testscripts/writes/update_expression</a> b/<a href="../file/src/sql/testscripts/writes/update_expression.html">src/sql/testscripts/writes/update_expression</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -0,0 +1,2 @@
</a><a href="#h16-0-0" id="h16-0-0" class="i">+# TODO: test expression evaluation, in particular that it uses values from the
</a><a href="#h16-0-1" id="h16-0-1" class="i">+# old row not the new.
</a><a href="#h16-0-2" id="h16-0-2" class="i">+\ No newline at end of file
</a><b>diff --git a/<a id="h17" href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a> b/<a href="../file/src/sql/testscripts/writes/update_index.html">src/sql/testscripts/writes/update_index</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -0,0 +1,207 @@
</a><a href="#h17-0-0" id="h17-0-0" class="i">+# Tests UPDATE index writes.
</a><a href="#h17-0-1" id="h17-0-1" class="i">+
</a><a href="#h17-0-2" id="h17-0-2" class="i">+&gt; CREATE TABLE &quot;index&quot; ( \
</a><a href="#h17-0-3" id="h17-0-3" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h17-0-4" id="h17-0-4" class="i">+    &quot;bool&quot; BOOL INDEX, \
</a><a href="#h17-0-5" id="h17-0-5" class="i">+    &quot;int&quot; INT INDEX, \
</a><a href="#h17-0-6" id="h17-0-6" class="i">+    &quot;float&quot; FLOAT INDEX, \
</a><a href="#h17-0-7" id="h17-0-7" class="i">+    &quot;string&quot; STRING INDEX \
</a><a href="#h17-0-8" id="h17-0-8" class="i">+)
</a><a href="#h17-0-9" id="h17-0-9" class="i">+&gt; INSERT INTO &quot;index&quot; VALUES (1, TRUE, 7, 3.14, &#39;foo&#39;)
</a><a href="#h17-0-10" id="h17-0-10" class="i">+---
</a><a href="#h17-0-11" id="h17-0-11" class="i">+ok
</a><a href="#h17-0-12" id="h17-0-12" class="i">+
</a><a href="#h17-0-13" id="h17-0-13" class="i">+# An UPDATE writes to all indexes.
</a><a href="#h17-0-14" id="h17-0-14" class="i">+[ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = FALSE, &quot;int&quot; = 1, &quot;float&quot; = 2.718, &quot;string&quot; = &#39;bar&#39;
</a><a href="#h17-0-15" id="h17-0-15" class="i">+---
</a><a href="#h17-0-16" id="h17-0-16" class="i">+storage set mvcc:NextVersion → 4 [&quot;\x00&quot; → &quot;\x04&quot;]
</a><a href="#h17-0-17" id="h17-0-17" class="i">+storage set mvcc:TxnActive(3) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;&quot;]
</a><a href="#h17-0-18" id="h17-0-18" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-19" id="h17-0-19" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-20" id="h17-0-20" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-21" id="h17-0-21" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 3) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-22" id="h17-0-22" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-23" id="h17-0-23" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-24" id="h17-0-24" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-25" id="h17-0-25" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1)), 3) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-26" id="h17-0-26" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-27" id="h17-0-27" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 3) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-28" id="h17-0-28" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-29" id="h17-0-29" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 3) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-30" id="h17-0-30" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-31" id="h17-0-31" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 3) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-32" id="h17-0-32" class="i">+storage set mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-33" id="h17-0-33" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 3) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-34" id="h17-0-34" class="i">+storage set mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-35" id="h17-0-35" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 3) → Integer(1),Boolean(false),Integer(1),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03&quot; → &quot;\x01\x15\x05\x02\x02\x01\x00\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h17-0-36" id="h17-0-36" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-37" id="h17-0-37" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-38" id="h17-0-38" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h17-0-39" id="h17-0-39" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-40" id="h17-0-40" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-41" id="h17-0-41" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-42" id="h17-0-42" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-43" id="h17-0-43" class="i">+storage delete mvcc:TxnWrite(3, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-44" id="h17-0-44" class="i">+storage delete mvcc:TxnWrite(3, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x03\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-45" id="h17-0-45" class="i">+storage delete mvcc:TxnActive(3) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x03&quot;]
</a><a href="#h17-0-46" id="h17-0-46" class="i">+
</a><a href="#h17-0-47" id="h17-0-47" class="i">+# A single-field update only updates the relevant index.
</a><a href="#h17-0-48" id="h17-0-48" class="i">+[ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = TRUE
</a><a href="#h17-0-49" id="h17-0-49" class="i">+---
</a><a href="#h17-0-50" id="h17-0-50" class="i">+storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h17-0-51" id="h17-0-51" class="i">+storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h17-0-52" id="h17-0-52" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-53" id="h17-0-53" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 4) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-54" id="h17-0-54" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-55" id="h17-0-55" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 4) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-56" id="h17-0-56" class="i">+storage set mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-57" id="h17-0-57" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 4) → Integer(1),Boolean(true),Integer(1),Float(2.718),String(&quot;bar&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03X9\xb4\xc8v\xbe\x05@\x04\x03bar&quot;]
</a><a href="#h17-0-58" id="h17-0-58" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-59" id="h17-0-59" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-60" id="h17-0-60" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-61" id="h17-0-61" class="i">+storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h17-0-62" id="h17-0-62" class="i">+
</a><a href="#h17-0-63" id="h17-0-63" class="i">+# An update with different values writes new index entries.
</a><a href="#h17-0-64" id="h17-0-64" class="i">+&gt; INSERT INTO &quot;index&quot; VALUES (2, NULL, NULL, NULL, NULL)
</a><a href="#h17-0-65" id="h17-0-65" class="i">+[ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = FALSE, &quot;int&quot; = 7, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;abc&#39; WHERE id = 2
</a><a href="#h17-0-66" id="h17-0-66" class="i">+---
</a><a href="#h17-0-67" id="h17-0-67" class="i">+storage set mvcc:NextVersion → 7 [&quot;\x00&quot; → &quot;\x07&quot;]
</a><a href="#h17-0-68" id="h17-0-68" class="i">+storage set mvcc:TxnActive(6) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;&quot;]
</a><a href="#h17-0-69" id="h17-0-69" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-70" id="h17-0-70" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-71" id="h17-0-71" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-72" id="h17-0-72" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 6) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-73" id="h17-0-73" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-74" id="h17-0-74" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-75" id="h17-0-75" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-76" id="h17-0-76" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 6) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-77" id="h17-0-77" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-78" id="h17-0-78" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 6) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-79" id="h17-0-79" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-80" id="h17-0-80" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 6) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-81" id="h17-0-81" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-82" id="h17-0-82" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 6) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-83" id="h17-0-83" class="i">+storage set mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-84" id="h17-0-84" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;)), 6) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-85" id="h17-0-85" class="i">+storage set mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-86" id="h17-0-86" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 6) → Integer(2),Boolean(false),Integer(7),Float(3.14),String(&quot;abc&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x06&quot; → &quot;\x01\x15\x05\x02\x04\x01\x00\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03abc&quot;]
</a><a href="#h17-0-87" id="h17-0-87" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-88" id="h17-0-88" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-89" id="h17-0-89" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-90" id="h17-0-90" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-91" id="h17-0-91" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-92" id="h17-0-92" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-93" id="h17-0-93" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-94" id="h17-0-94" class="i">+storage delete mvcc:TxnWrite(6, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-95" id="h17-0-95" class="i">+storage delete mvcc:TxnWrite(6, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x06\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h17-0-96" id="h17-0-96" class="i">+storage delete mvcc:TxnActive(6) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x06&quot;]
</a><a href="#h17-0-97" id="h17-0-97" class="i">+
</a><a href="#h17-0-98" id="h17-0-98" class="i">+&gt; SELECT * FROM &quot;index&quot;
</a><a href="#h17-0-99" id="h17-0-99" class="i">+---
</a><a href="#h17-0-100" id="h17-0-100" class="i">+1,TRUE,1,2.718,bar
</a><a href="#h17-0-101" id="h17-0-101" class="i">+2,FALSE,7,3.14,abc
</a><a href="#h17-0-102" id="h17-0-102" class="i">+
</a><a href="#h17-0-103" id="h17-0-103" class="i">+# Updates with same values merges the index entries.
</a><a href="#h17-0-104" id="h17-0-104" class="i">+[ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = TRUE, &quot;int&quot; = 7, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;foo&#39;
</a><a href="#h17-0-105" id="h17-0-105" class="i">+---
</a><a href="#h17-0-106" id="h17-0-106" class="i">+storage set mvcc:NextVersion → 8 [&quot;\x00&quot; → &quot;\x08&quot;]
</a><a href="#h17-0-107" id="h17-0-107" class="i">+storage set mvcc:TxnActive(7) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;&quot;]
</a><a href="#h17-0-108" id="h17-0-108" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-109" id="h17-0-109" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1)), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-110" id="h17-0-110" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-111" id="h17-0-111" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 7) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-112" id="h17-0-112" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-113" id="h17-0-113" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718)), 7) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-114" id="h17-0-114" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-115" id="h17-0-115" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 7) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-116" id="h17-0-116" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-117" id="h17-0-117" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;)), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-118" id="h17-0-118" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-119" id="h17-0-119" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 7) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-120" id="h17-0-120" class="i">+storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-121" id="h17-0-121" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 7) → Integer(1),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-0-122" id="h17-0-122" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-123" id="h17-0-123" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false)), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-124" id="h17-0-124" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-125" id="h17-0-125" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 7) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-126" id="h17-0-126" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-127" id="h17-0-127" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;)), 7) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-128" id="h17-0-128" class="i">+storage set mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-129" id="h17-0-129" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 7) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-130" id="h17-0-130" class="i">+storage set mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-131" id="h17-0-131" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 7) → Integer(2),Boolean(true),Integer(7),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x07&quot; → &quot;\x01\x15\x05\x02\x04\x01\x01\x02\x0e\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h17-0-132" id="h17-0-132" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-133" id="h17-0-133" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-134" id="h17-0-134" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h17-0-135" id="h17-0-135" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-136" id="h17-0-136" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-137" id="h17-0-137" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-138" id="h17-0-138" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;abc&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04abc\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-139" id="h17-0-139" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;bar&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04bar\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-140" id="h17-0-140" class="i">+storage delete mvcc:TxnWrite(7, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-141" id="h17-0-141" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-142" id="h17-0-142" class="i">+storage delete mvcc:TxnWrite(7, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x07\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h17-0-143" id="h17-0-143" class="i">+storage delete mvcc:TxnActive(7) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x07&quot;]
</a><a href="#h17-0-144" id="h17-0-144" class="i">+
</a><a href="#h17-0-145" id="h17-0-145" class="i">+&gt; SELECT * FROM &quot;index&quot;
</a><a href="#h17-0-146" id="h17-0-146" class="i">+---
</a><a href="#h17-0-147" id="h17-0-147" class="i">+1,TRUE,7,3.14,foo
</a><a href="#h17-0-148" id="h17-0-148" class="i">+2,TRUE,7,3.14,foo
</a><a href="#h17-0-149" id="h17-0-149" class="i">+
</a><a href="#h17-0-150" id="h17-0-150" class="i">+# Updates with all NULLs work and get indexed.
</a><a href="#h17-0-151" id="h17-0-151" class="i">+[ops]&gt; UPDATE &quot;index&quot; SET &quot;bool&quot; = NULL, &quot;int&quot; = NULL, &quot;float&quot; = NULL, &quot;string&quot; = NULL
</a><a href="#h17-0-152" id="h17-0-152" class="i">+---
</a><a href="#h17-0-153" id="h17-0-153" class="i">+storage set mvcc:NextVersion → 9 [&quot;\x00&quot; → &quot;\t&quot;]
</a><a href="#h17-0-154" id="h17-0-154" class="i">+storage set mvcc:TxnActive(8) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;&quot;]
</a><a href="#h17-0-155" id="h17-0-155" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-156" id="h17-0-156" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 8) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-157" id="h17-0-157" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-158" id="h17-0-158" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-159" id="h17-0-159" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-160" id="h17-0-160" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 8) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-161" id="h17-0-161" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-162" id="h17-0-162" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-163" id="h17-0-163" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-164" id="h17-0-164" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 8) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-165" id="h17-0-165" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-166" id="h17-0-166" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 8) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-167" id="h17-0-167" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-168" id="h17-0-168" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 8) → Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h17-0-169" id="h17-0-169" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-170" id="h17-0-170" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) → Integer(1) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h17-0-171" id="h17-0-171" class="i">+storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-172" id="h17-0-172" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(1)), 8) → Integer(1),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h17-0-173" id="h17-0-173" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-174" id="h17-0-174" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true)), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-175" id="h17-0-175" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-176" id="h17-0-176" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;bool&quot;, Null), 8) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-177" id="h17-0-177" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-178" id="h17-0-178" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7)), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-179" id="h17-0-179" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-180" id="h17-0-180" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;int&quot;, Null), 8) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-181" id="h17-0-181" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-182" id="h17-0-182" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14)), 8) → None [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-183" id="h17-0-183" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-184" id="h17-0-184" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;float&quot;, Null), 8) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-185" id="h17-0-185" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-186" id="h17-0-186" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 8) → None [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x00&quot;]
</a><a href="#h17-0-187" id="h17-0-187" class="i">+storage set mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-188" id="h17-0-188" class="i">+storage set mvcc:Version(sql:Index(&quot;index&quot;, &quot;string&quot;, Null), 8) → Integer(1),Integer(2) [&quot;\x04\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h17-0-189" id="h17-0-189" class="i">+storage set mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h17-0-190" id="h17-0-190" class="i">+storage set mvcc:Version(sql:Row(&quot;index&quot;, Integer(2)), 8) → Integer(2),Null,Null,Null,Null [&quot;\x04\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h17-0-191" id="h17-0-191" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-192" id="h17-0-192" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h17-0-193" id="h17-0-193" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-194" id="h17-0-194" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h17-0-195" id="h17-0-195" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-196" id="h17-0-196" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;int&quot;, Integer(7))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x07\x00\x00&quot;]
</a><a href="#h17-0-197" id="h17-0-197" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-198" id="h17-0-198" class="i">+storage delete mvcc:TxnWrite(8, sql:Index(&quot;index&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x01index\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h17-0-199" id="h17-0-199" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h17-0-200" id="h17-0-200" class="i">+storage delete mvcc:TxnWrite(8, sql:Row(&quot;index&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x08\x02index\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h17-0-201" id="h17-0-201" class="i">+storage delete mvcc:TxnActive(8) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x08&quot;]
</a><a href="#h17-0-202" id="h17-0-202" class="i">+
</a><a href="#h17-0-203" id="h17-0-203" class="i">+&gt; SELECT * FROM &quot;index&quot;
</a><a href="#h17-0-204" id="h17-0-204" class="i">+---
</a><a href="#h17-0-205" id="h17-0-205" class="i">+1,NULL,NULL,NULL,NULL
</a><a href="#h17-0-206" id="h17-0-206" class="i">+2,NULL,NULL,NULL,NULL
</a><b>diff --git a/<a id="h18" href="../file/src/sql/testscripts/writes/update_null.html">src/sql/testscripts/writes/update_null</a> b/<a href="../file/src/sql/testscripts/writes/update_null.html">src/sql/testscripts/writes/update_null</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -0,0 +1,24 @@
</a><a href="#h18-0-0" id="h18-0-0" class="i">+# Tests nullability handling of UPSERT.
</a><a href="#h18-0-1" id="h18-0-1" class="i">+
</a><a href="#h18-0-2" id="h18-0-2" class="i">+# Create a table with NULL constraints and a row.
</a><a href="#h18-0-3" id="h18-0-3" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h18-0-4" id="h18-0-4" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h18-0-5" id="h18-0-5" class="i">+    &quot;null&quot; STRING NULL, \
</a><a href="#h18-0-6" id="h18-0-6" class="i">+    not_null STRING NOT NULL \
</a><a href="#h18-0-7" id="h18-0-7" class="i">+)
</a><a href="#h18-0-8" id="h18-0-8" class="i">+&gt; INSERT INTO name VALUES (1, &#39;foo&#39;, &#39;bar&#39;)
</a><a href="#h18-0-9" id="h18-0-9" class="i">+---
</a><a href="#h18-0-10" id="h18-0-10" class="i">+ok
</a><a href="#h18-0-11" id="h18-0-11" class="i">+
</a><a href="#h18-0-12" id="h18-0-12" class="i">+# UPDATE with NULL works.
</a><a href="#h18-0-13" id="h18-0-13" class="i">+&gt; UPDATE name SET &quot;null&quot; = NULL
</a><a href="#h18-0-14" id="h18-0-14" class="i">+&gt; SELECT * FROM name
</a><a href="#h18-0-15" id="h18-0-15" class="i">+---
</a><a href="#h18-0-16" id="h18-0-16" class="i">+1,NULL,bar
</a><a href="#h18-0-17" id="h18-0-17" class="i">+
</a><a href="#h18-0-18" id="h18-0-18" class="i">+# UPDATE with NULL in non-NULL column errors.
</a><a href="#h18-0-19" id="h18-0-19" class="i">+!&gt; UPDATE name SET id = NULL
</a><a href="#h18-0-20" id="h18-0-20" class="i">+!&gt; UPDATE name SET non_null = NULL
</a><a href="#h18-0-21" id="h18-0-21" class="i">+---
</a><a href="#h18-0-22" id="h18-0-22" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h18-0-23" id="h18-0-23" class="i">+Error: invalid input: unknown field non_null
</a><b>diff --git a/<a id="h19" href="../file/src/sql/testscripts/writes/update_primary_key.html">src/sql/testscripts/writes/update_primary_key</a> b/<a href="../file/src/sql/testscripts/writes/update_primary_key.html">src/sql/testscripts/writes/update_primary_key</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -0,0 +1,99 @@
</a><a href="#h19-0-0" id="h19-0-0" class="i">+# Tests UPDATE primary key handling.
</a><a href="#h19-0-1" id="h19-0-1" class="i">+# TODO: this should test both single-key and all key updates.
</a><a href="#h19-0-2" id="h19-0-2" class="i">+
</a><a href="#h19-0-3" id="h19-0-3" class="i">+# Boolean.
</a><a href="#h19-0-4" id="h19-0-4" class="i">+&gt; CREATE TABLE &quot;bool&quot; (id BOOLEAN PRIMARY KEY)
</a><a href="#h19-0-5" id="h19-0-5" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (TRUE)
</a><a href="#h19-0-6" id="h19-0-6" class="i">+&gt; UPDATE &quot;bool&quot; SET id = FALSE
</a><a href="#h19-0-7" id="h19-0-7" class="i">+&gt; SELECT * FROM &quot;bool&quot;
</a><a href="#h19-0-8" id="h19-0-8" class="i">+---
</a><a href="#h19-0-9" id="h19-0-9" class="i">+FALSE
</a><a href="#h19-0-10" id="h19-0-10" class="i">+
</a><a href="#h19-0-11" id="h19-0-11" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (TRUE)
</a><a href="#h19-0-12" id="h19-0-12" class="i">+!&gt; UPDATE &quot;bool&quot; SET id = FALSE
</a><a href="#h19-0-13" id="h19-0-13" class="i">+!&gt; UPDATE &quot;bool&quot; SET id = FALSE WHERE id = TRUE
</a><a href="#h19-0-14" id="h19-0-14" class="i">+---
</a><a href="#h19-0-15" id="h19-0-15" class="i">+Error: invalid input: primary key FALSE already exists
</a><a href="#h19-0-16" id="h19-0-16" class="i">+Error: invalid input: primary key FALSE already exists
</a><a href="#h19-0-17" id="h19-0-17" class="i">+
</a><a href="#h19-0-18" id="h19-0-18" class="i">+# Integer.
</a><a href="#h19-0-19" id="h19-0-19" class="i">+&gt; CREATE TABLE &quot;int&quot; (id INT PRIMARY KEY)
</a><a href="#h19-0-20" id="h19-0-20" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (0)
</a><a href="#h19-0-21" id="h19-0-21" class="i">+&gt; UPDATE &quot;int&quot; SET id = 1
</a><a href="#h19-0-22" id="h19-0-22" class="i">+&gt; UPDATE &quot;int&quot; SET id = -1
</a><a href="#h19-0-23" id="h19-0-23" class="i">+&gt; UPDATE &quot;int&quot; SET id = 9223372036854775807
</a><a href="#h19-0-24" id="h19-0-24" class="i">+&gt; UPDATE &quot;int&quot; SET id = -9223372036854775807
</a><a href="#h19-0-25" id="h19-0-25" class="i">+&gt; SELECT * FROM &quot;int&quot;
</a><a href="#h19-0-26" id="h19-0-26" class="i">+---
</a><a href="#h19-0-27" id="h19-0-27" class="i">+-9223372036854775807
</a><a href="#h19-0-28" id="h19-0-28" class="i">+
</a><a href="#h19-0-29" id="h19-0-29" class="i">+# TODO: these are supposed to error, but the id=0 row isn&#39;t updated for some
</a><a href="#h19-0-30" id="h19-0-30" class="i">+# reason. Fix it. There is a similar case with floats.
</a><a href="#h19-0-31" id="h19-0-31" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (0)
</a><a href="#h19-0-32" id="h19-0-32" class="i">+&gt; UPDATE &quot;int&quot; SET id = 1
</a><a href="#h19-0-33" id="h19-0-33" class="i">+&gt; UPDATE &quot;int&quot; SET id = 1 WHERE id = -9223372036854775807
</a><a href="#h19-0-34" id="h19-0-34" class="i">+&gt; SELECT * FROM &quot;int&quot;
</a><a href="#h19-0-35" id="h19-0-35" class="i">+---
</a><a href="#h19-0-36" id="h19-0-36" class="i">+0
</a><a href="#h19-0-37" id="h19-0-37" class="i">+1
</a><a href="#h19-0-38" id="h19-0-38" class="i">+
</a><a href="#h19-0-39" id="h19-0-39" class="i">+# Float.
</a><a href="#h19-0-40" id="h19-0-40" class="i">+# TODO: these updates don&#39;t work properly.
</a><a href="#h19-0-41" id="h19-0-41" class="i">+&gt; CREATE TABLE &quot;float&quot; (id FLOAT PRIMARY KEY)
</a><a href="#h19-0-42" id="h19-0-42" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (0.0)
</a><a href="#h19-0-43" id="h19-0-43" class="i">+&gt; UPDATE &quot;float&quot; SET id = 3.14
</a><a href="#h19-0-44" id="h19-0-44" class="i">+&gt; UPDATE &quot;float&quot; SET id = -3.14
</a><a href="#h19-0-45" id="h19-0-45" class="i">+&gt; UPDATE &quot;float&quot; SET id = 0.0
</a><a href="#h19-0-46" id="h19-0-46" class="i">+&gt; UPDATE &quot;float&quot; SET id = -0.0
</a><a href="#h19-0-47" id="h19-0-47" class="i">+&gt; UPDATE &quot;float&quot; SET id = 1.23456789012345e308
</a><a href="#h19-0-48" id="h19-0-48" class="i">+&gt; UPDATE &quot;float&quot; SET id = -1.23456789012345e308
</a><a href="#h19-0-49" id="h19-0-49" class="i">+&gt; UPDATE &quot;float&quot; SET id = INFINITY
</a><a href="#h19-0-50" id="h19-0-50" class="i">+&gt; UPDATE &quot;float&quot; SET id = -INFINITY
</a><a href="#h19-0-51" id="h19-0-51" class="i">+&gt; UPDATE &quot;float&quot; SET id = NAN
</a><a href="#h19-0-52" id="h19-0-52" class="i">+&gt; SELECT * FROM &quot;float&quot;
</a><a href="#h19-0-53" id="h19-0-53" class="i">+---
</a><a href="#h19-0-54" id="h19-0-54" class="i">+-0
</a><a href="#h19-0-55" id="h19-0-55" class="i">+123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
</a><a href="#h19-0-56" id="h19-0-56" class="i">+inf
</a><a href="#h19-0-57" id="h19-0-57" class="i">+NaN
</a><a href="#h19-0-58" id="h19-0-58" class="i">+
</a><a href="#h19-0-59" id="h19-0-59" class="i">+# TODO: similarly, these are supposed to error.
</a><a href="#h19-0-60" id="h19-0-60" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (1.0)
</a><a href="#h19-0-61" id="h19-0-61" class="i">+&gt; UPDATE &quot;float&quot; SET id = 3.14
</a><a href="#h19-0-62" id="h19-0-62" class="i">+&gt; UPDATE &quot;float&quot; SET id = -3.14
</a><a href="#h19-0-63" id="h19-0-63" class="i">+!&gt; UPDATE &quot;float&quot; SET id = 0.0
</a><a href="#h19-0-64" id="h19-0-64" class="i">+&gt; UPDATE &quot;float&quot; SET id = -0.0
</a><a href="#h19-0-65" id="h19-0-65" class="i">+!&gt; UPDATE &quot;float&quot; SET id = 1.23456789012345e308
</a><a href="#h19-0-66" id="h19-0-66" class="i">+&gt; UPDATE &quot;float&quot; SET id = -1.23456789012345e308
</a><a href="#h19-0-67" id="h19-0-67" class="i">+!&gt; UPDATE &quot;float&quot; SET id = INFINITY
</a><a href="#h19-0-68" id="h19-0-68" class="i">+&gt; UPDATE &quot;float&quot; SET id = -INFINITY
</a><a href="#h19-0-69" id="h19-0-69" class="i">+!&gt; UPDATE &quot;float&quot; SET id = NAN
</a><a href="#h19-0-70" id="h19-0-70" class="i">+!&gt; UPDATE &quot;float&quot; SET id = NULL
</a><a href="#h19-0-71" id="h19-0-71" class="i">+---
</a><a href="#h19-0-72" id="h19-0-72" class="i">+Error: invalid input: primary key 0 already exists
</a><a href="#h19-0-73" id="h19-0-73" class="i">+Error: invalid input: primary key 123456789012345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 already exists
</a><a href="#h19-0-74" id="h19-0-74" class="i">+Error: invalid input: primary key inf already exists
</a><a href="#h19-0-75" id="h19-0-75" class="i">+Error: invalid input: primary key NaN already exists
</a><a href="#h19-0-76" id="h19-0-76" class="i">+Error: invalid input: NULL value not allowed for column id
</a><a href="#h19-0-77" id="h19-0-77" class="i">+
</a><a href="#h19-0-78" id="h19-0-78" class="i">+# String. TODO: this doesn&#39;t work either.
</a><a href="#h19-0-79" id="h19-0-79" class="i">+&gt; CREATE TABLE &quot;string&quot; (id STRING PRIMARY KEY)
</a><a href="#h19-0-80" id="h19-0-80" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h19-0-81" id="h19-0-81" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;&#39;
</a><a href="#h19-0-82" id="h19-0-82" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;  &#39;
</a><a href="#h19-0-83" id="h19-0-83" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;abc&#39;
</a><a href="#h19-0-84" id="h19-0-84" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;ABC&#39;
</a><a href="#h19-0-85" id="h19-0-85" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;Hi! 👋&#39;
</a><a href="#h19-0-86" id="h19-0-86" class="i">+&gt; SELECT * FROM &quot;string&quot;
</a><a href="#h19-0-87" id="h19-0-87" class="i">+---
</a><a href="#h19-0-88" id="h19-0-88" class="i">+Hi! 👋
</a><a href="#h19-0-89" id="h19-0-89" class="i">+
</a><a href="#h19-0-90" id="h19-0-90" class="i">+# TODO: these are supposed to error.
</a><a href="#h19-0-91" id="h19-0-91" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h19-0-92" id="h19-0-92" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;  &#39;
</a><a href="#h19-0-93" id="h19-0-93" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;abc&#39;
</a><a href="#h19-0-94" id="h19-0-94" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;ABC&#39;
</a><a href="#h19-0-95" id="h19-0-95" class="i">+&gt; UPDATE &quot;string&quot; SET id = &#39;Hi! 👋&#39;
</a><a href="#h19-0-96" id="h19-0-96" class="i">+!&gt; UPDATE &quot;string&quot; SET id = NULL
</a><a href="#h19-0-97" id="h19-0-97" class="i">+---
</a><a href="#h19-0-98" id="h19-0-98" class="i">+Error: invalid input: NULL value not allowed for column id
</a><b>diff --git a/<a id="h20" href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a> b/<a href="../file/src/sql/testscripts/writes/update_reference.html">src/sql/testscripts/writes/update_reference</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -0,0 +1,180 @@
</a><a href="#h20-0-0" id="h20-0-0" class="i">+# Tests UPDATE foreign key references.
</a><a href="#h20-0-1" id="h20-0-1" class="i">+
</a><a href="#h20-0-2" id="h20-0-2" class="i">+# Create reference tables for all datatypes.
</a><a href="#h20-0-3" id="h20-0-3" class="i">+&gt; CREATE TABLE &quot;bool&quot; (id BOOL PRIMARY KEY)
</a><a href="#h20-0-4" id="h20-0-4" class="i">+&gt; INSERT INTO &quot;bool&quot; VALUES (true)
</a><a href="#h20-0-5" id="h20-0-5" class="i">+
</a><a href="#h20-0-6" id="h20-0-6" class="i">+&gt; CREATE TABLE &quot;int&quot; (id INT PRIMARY KEY)
</a><a href="#h20-0-7" id="h20-0-7" class="i">+&gt; INSERT INTO &quot;int&quot; VALUES (-1), (0), (1)
</a><a href="#h20-0-8" id="h20-0-8" class="i">+
</a><a href="#h20-0-9" id="h20-0-9" class="i">+&gt; CREATE TABLE &quot;float&quot; (id FLOAT PRIMARY KEY)
</a><a href="#h20-0-10" id="h20-0-10" class="i">+&gt; INSERT INTO &quot;float&quot; VALUES (3.14), (0.0), (NAN), (INFINITY)
</a><a href="#h20-0-11" id="h20-0-11" class="i">+
</a><a href="#h20-0-12" id="h20-0-12" class="i">+&gt; CREATE TABLE &quot;string&quot; (id STRING PRIMARY KEY)
</a><a href="#h20-0-13" id="h20-0-13" class="i">+&gt; INSERT INTO &quot;string&quot; VALUES (&#39;&#39;), (&#39;foo&#39;)
</a><a href="#h20-0-14" id="h20-0-14" class="i">+
</a><a href="#h20-0-15" id="h20-0-15" class="i">+&gt; CREATE TABLE name ( \
</a><a href="#h20-0-16" id="h20-0-16" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h20-0-17" id="h20-0-17" class="i">+    &quot;bool&quot; BOOL REFERENCES &quot;bool&quot;, \
</a><a href="#h20-0-18" id="h20-0-18" class="i">+    &quot;int&quot; INT REFERENCES &quot;int&quot;, \
</a><a href="#h20-0-19" id="h20-0-19" class="i">+    &quot;float&quot; FLOAT REFERENCES &quot;float&quot;, \
</a><a href="#h20-0-20" id="h20-0-20" class="i">+    &quot;string&quot; STRING REFERENCES &quot;string&quot; \
</a><a href="#h20-0-21" id="h20-0-21" class="i">+)
</a><a href="#h20-0-22" id="h20-0-22" class="i">+&gt; INSERT INTO name VALUES (1, NULL, NULL, NULL, NULL)
</a><a href="#h20-0-23" id="h20-0-23" class="i">+---
</a><a href="#h20-0-24" id="h20-0-24" class="i">+ok
</a><a href="#h20-0-25" id="h20-0-25" class="i">+
</a><a href="#h20-0-26" id="h20-0-26" class="i">+# UPDATEs with existing references work, and update the index entries.
</a><a href="#h20-0-27" id="h20-0-27" class="i">+[ops]&gt; UPDATE name SET &quot;bool&quot; = TRUE, &quot;int&quot; = 1, &quot;float&quot; = 3.14, &quot;string&quot; = &#39;foo&#39;
</a><a href="#h20-0-28" id="h20-0-28" class="i">+---
</a><a href="#h20-0-29" id="h20-0-29" class="i">+storage set mvcc:NextVersion → 12 [&quot;\x00&quot; → &quot;\x0c&quot;]
</a><a href="#h20-0-30" id="h20-0-30" class="i">+storage set mvcc:TxnActive(11) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;&quot;]
</a><a href="#h20-0-31" id="h20-0-31" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-32" id="h20-0-32" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Null), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-33" id="h20-0-33" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-34" id="h20-0-34" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true)), 11) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-35" id="h20-0-35" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-36" id="h20-0-36" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Null), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-37" id="h20-0-37" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-38" id="h20-0-38" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1)), 11) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-39" id="h20-0-39" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-40" id="h20-0-40" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Null), 11) → None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-41" id="h20-0-41" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-42" id="h20-0-42" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14)), 11) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-43" id="h20-0-43" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-44" id="h20-0-44" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, Null), 11) → None [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-45" id="h20-0-45" class="i">+storage set mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-46" id="h20-0-46" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;)), 11) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-47" id="h20-0-47" class="i">+storage set mvcc:TxnWrite(11, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-48" id="h20-0-48" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 11) → Integer(1),Boolean(true),Integer(1),Float(3.14),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0b&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x1f\x85\xebQ\xb8\x1e\t@\x04\x03foo&quot;]
</a><a href="#h20-0-49" id="h20-0-49" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-50" id="h20-0-50" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h20-0-51" id="h20-0-51" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-52" id="h20-0-52" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h20-0-53" id="h20-0-53" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-54" id="h20-0-54" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-55" id="h20-0-55" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-56" id="h20-0-56" class="i">+storage delete mvcc:TxnWrite(11, sql:Index(&quot;name&quot;, &quot;string&quot;, String(&quot;foo&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x01name\x00\xff\x00\xffstring\x00\xff\x00\xff\x04foo\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-57" id="h20-0-57" class="i">+storage delete mvcc:TxnWrite(11, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0b\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-58" id="h20-0-58" class="i">+storage delete mvcc:TxnActive(11) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0b&quot;]
</a><a href="#h20-0-59" id="h20-0-59" class="i">+
</a><a href="#h20-0-60" id="h20-0-60" class="i">+# UPDATEs error on missing references.
</a><a href="#h20-0-61" id="h20-0-61" class="i">+!&gt; UPDATE name SET &quot;bool&quot; = FALSE
</a><a href="#h20-0-62" id="h20-0-62" class="i">+!&gt; UPDATE name SET &quot;int&quot; = 7
</a><a href="#h20-0-63" id="h20-0-63" class="i">+!&gt; UPDATE name SET &quot;float&quot; = 2.718
</a><a href="#h20-0-64" id="h20-0-64" class="i">+!&gt; UPDATE name SET &quot;string&quot; = &#39;bar&#39;
</a><a href="#h20-0-65" id="h20-0-65" class="i">+---
</a><a href="#h20-0-66" id="h20-0-66" class="i">+Error: invalid input: reference FALSE not in table bool
</a><a href="#h20-0-67" id="h20-0-67" class="i">+Error: invalid input: reference 7 not in table int
</a><a href="#h20-0-68" id="h20-0-68" class="i">+Error: invalid input: reference 2.718 not in table float
</a><a href="#h20-0-69" id="h20-0-69" class="i">+Error: invalid input: reference bar not in table string
</a><a href="#h20-0-70" id="h20-0-70" class="i">+
</a><a href="#h20-0-71" id="h20-0-71" class="i">+# -0.0 is not 0.0.
</a><a href="#h20-0-72" id="h20-0-72" class="i">+!&gt; UPDATE name SET &quot;float&quot; = -0.0
</a><a href="#h20-0-73" id="h20-0-73" class="i">+---
</a><a href="#h20-0-74" id="h20-0-74" class="i">+Error: invalid input: reference -0 not in table float
</a><a href="#h20-0-75" id="h20-0-75" class="i">+
</a><a href="#h20-0-76" id="h20-0-76" class="i">+# NAN is considered equal.
</a><a href="#h20-0-77" id="h20-0-77" class="i">+# TODO: possibly shouldn&#39;t.
</a><a href="#h20-0-78" id="h20-0-78" class="i">+[ops]&gt; UPDATE name SET &quot;float&quot; = NAN
</a><a href="#h20-0-79" id="h20-0-79" class="i">+---
</a><a href="#h20-0-80" id="h20-0-80" class="i">+storage set mvcc:NextVersion → 18 [&quot;\x00&quot; → &quot;\x12&quot;]
</a><a href="#h20-0-81" id="h20-0-81" class="i">+storage set mvcc:TxnActive(17) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;&quot;]
</a><a href="#h20-0-82" id="h20-0-82" class="i">+storage set mvcc:TxnWrite(17, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-83" id="h20-0-83" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14)), 17) → None [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-84" id="h20-0-84" class="i">+storage set mvcc:TxnWrite(17, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-85" id="h20-0-85" class="i">+storage set mvcc:Version(sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN)), 17) → Integer(1) [&quot;\x04\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-86" id="h20-0-86" class="i">+storage set mvcc:TxnWrite(17, sql:Row(&quot;name&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-87" id="h20-0-87" class="i">+storage set mvcc:Version(sql:Row(&quot;name&quot;, Integer(1)), 17) → Integer(1),Boolean(true),Integer(1),Float(NaN),String(&quot;foo&quot;) [&quot;\x04\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x15\x05\x02\x02\x01\x01\x02\x02\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x04\x03foo&quot;]
</a><a href="#h20-0-88" id="h20-0-88" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h20-0-89" id="h20-0-89" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(&quot;name&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01name\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-90" id="h20-0-90" class="i">+storage delete mvcc:TxnWrite(17, sql:Row(&quot;name&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02name\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-91" id="h20-0-91" class="i">+storage delete mvcc:TxnActive(17) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot;]
</a><a href="#h20-0-92" id="h20-0-92" class="i">+
</a><a href="#h20-0-93" id="h20-0-93" class="i">+# INFINITY is also valid.
</a><a href="#h20-0-94" id="h20-0-94" class="i">+&gt; UPDATE name SET &quot;float&quot; = INFINITY
</a><a href="#h20-0-95" id="h20-0-95" class="i">+---
</a><a href="#h20-0-96" id="h20-0-96" class="i">+ok
</a><a href="#h20-0-97" id="h20-0-97" class="i">+
</a><a href="#h20-0-98" id="h20-0-98" class="i">+# References are case sensitive.
</a><a href="#h20-0-99" id="h20-0-99" class="i">+!&gt; UPDATE name SET &quot;string&quot; = &#39;FOO&#39;
</a><a href="#h20-0-100" id="h20-0-100" class="i">+---
</a><a href="#h20-0-101" id="h20-0-101" class="i">+Error: invalid input: reference FOO not in table string
</a><a href="#h20-0-102" id="h20-0-102" class="i">+
</a><a href="#h20-0-103" id="h20-0-103" class="i">+# Empty strings are valid references.
</a><a href="#h20-0-104" id="h20-0-104" class="i">+&gt; UPDATE name SET &quot;string&quot; = &#39;&#39;
</a><a href="#h20-0-105" id="h20-0-105" class="i">+---
</a><a href="#h20-0-106" id="h20-0-106" class="i">+ok
</a><a href="#h20-0-107" id="h20-0-107" class="i">+
</a><a href="#h20-0-108" id="h20-0-108" class="i">+# NULLs are valid.
</a><a href="#h20-0-109" id="h20-0-109" class="i">+&gt; UPDATE name SET &quot;bool&quot; = NULL, &quot;int&quot; = NULL, &quot;float&quot; = NULL, &quot;string&quot; = NULL
</a><a href="#h20-0-110" id="h20-0-110" class="i">+---
</a><a href="#h20-0-111" id="h20-0-111" class="i">+ok
</a><a href="#h20-0-112" id="h20-0-112" class="i">+
</a><a href="#h20-0-113" id="h20-0-113" class="i">+&gt; SELECT * FROM name
</a><a href="#h20-0-114" id="h20-0-114" class="i">+---
</a><a href="#h20-0-115" id="h20-0-115" class="i">+1,NULL,NULL,NULL,NULL
</a><a href="#h20-0-116" id="h20-0-116" class="i">+
</a><a href="#h20-0-117" id="h20-0-117" class="i">+# Self references are fine.
</a><a href="#h20-0-118" id="h20-0-118" class="i">+&gt; CREATE TABLE self (id INT PRIMARY KEY, self_id INT REFERENCES self)
</a><a href="#h20-0-119" id="h20-0-119" class="i">+&gt; INSERT INTO self VALUES (1, NULL), (2, NULL), (3, NULL)
</a><a href="#h20-0-120" id="h20-0-120" class="i">+---
</a><a href="#h20-0-121" id="h20-0-121" class="i">+ok
</a><a href="#h20-0-122" id="h20-0-122" class="i">+
</a><a href="#h20-0-123" id="h20-0-123" class="i">+[ops]&gt; UPDATE self SET self_id = 1 WHERE id = 1
</a><a href="#h20-0-124" id="h20-0-124" class="i">+---
</a><a href="#h20-0-125" id="h20-0-125" class="i">+storage set mvcc:NextVersion → 25 [&quot;\x00&quot; → &quot;\x19&quot;]
</a><a href="#h20-0-126" id="h20-0-126" class="i">+storage set mvcc:TxnActive(24) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;&quot;]
</a><a href="#h20-0-127" id="h20-0-127" class="i">+storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-128" id="h20-0-128" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 24) → Integer(2),Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x04\x02\x06&quot;]
</a><a href="#h20-0-129" id="h20-0-129" class="i">+storage set mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-130" id="h20-0-130" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 24) → Integer(1) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h20-0-131" id="h20-0-131" class="i">+storage set mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-132" id="h20-0-132" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(1)), 24) → Integer(1),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18&quot; → &quot;\x01\x05\x02\x02\x02\x02\x02&quot;]
</a><a href="#h20-0-133" id="h20-0-133" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-134" id="h20-0-134" class="i">+storage delete mvcc:TxnWrite(24, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-135" id="h20-0-135" class="i">+storage delete mvcc:TxnWrite(24, sql:Row(&quot;self&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x18\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-136" id="h20-0-136" class="i">+storage delete mvcc:TxnActive(24) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x18&quot;]
</a><a href="#h20-0-137" id="h20-0-137" class="i">+
</a><a href="#h20-0-138" id="h20-0-138" class="i">+[ops]&gt; UPDATE self SET self_id = 1 WHERE id = 2
</a><a href="#h20-0-139" id="h20-0-139" class="i">+---
</a><a href="#h20-0-140" id="h20-0-140" class="i">+storage set mvcc:NextVersion → 26 [&quot;\x00&quot; → &quot;\x1a&quot;]
</a><a href="#h20-0-141" id="h20-0-141" class="i">+storage set mvcc:TxnActive(25) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;&quot;]
</a><a href="#h20-0-142" id="h20-0-142" class="i">+storage set mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-143" id="h20-0-143" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 25) → Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h20-0-144" id="h20-0-144" class="i">+storage set mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-145" id="h20-0-145" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1)), 25) → Integer(1),Integer(2) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h20-0-146" id="h20-0-146" class="i">+storage set mvcc:TxnWrite(25, sql:Row(&quot;self&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-147" id="h20-0-147" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(2)), 25) → Integer(2),Integer(1) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x19&quot; → &quot;\x01\x05\x02\x02\x04\x02\x02&quot;]
</a><a href="#h20-0-148" id="h20-0-148" class="i">+storage delete mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-149" id="h20-0-149" class="i">+storage delete mvcc:TxnWrite(25, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h20-0-150" id="h20-0-150" class="i">+storage delete mvcc:TxnWrite(25, sql:Row(&quot;self&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x19\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h20-0-151" id="h20-0-151" class="i">+storage delete mvcc:TxnActive(25) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x19&quot;]
</a><a href="#h20-0-152" id="h20-0-152" class="i">+
</a><a href="#h20-0-153" id="h20-0-153" class="i">+[ops]&gt; UPDATE self SET self_id = 2 WHERE id = 3
</a><a href="#h20-0-154" id="h20-0-154" class="i">+---
</a><a href="#h20-0-155" id="h20-0-155" class="i">+storage set mvcc:NextVersion → 27 [&quot;\x00&quot; → &quot;\x1b&quot;]
</a><a href="#h20-0-156" id="h20-0-156" class="i">+storage set mvcc:TxnActive(26) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;&quot;]
</a><a href="#h20-0-157" id="h20-0-157" class="i">+storage set mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-158" id="h20-0-158" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null), 26) → None [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x00&quot;]
</a><a href="#h20-0-159" id="h20-0-159" class="i">+storage set mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-160" id="h20-0-160" class="i">+storage set mvcc:Version(sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2)), 26) → Integer(3) [&quot;\x04\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x03\x01\x02\x06&quot;]
</a><a href="#h20-0-161" id="h20-0-161" class="i">+storage set mvcc:TxnWrite(26, sql:Row(&quot;self&quot;, Integer(3))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot; → &quot;&quot;]
</a><a href="#h20-0-162" id="h20-0-162" class="i">+storage set mvcc:Version(sql:Row(&quot;self&quot;, Integer(3)), 26) → Integer(3),Integer(2) [&quot;\x04\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1a&quot; → &quot;\x01\x05\x02\x02\x06\x02\x04&quot;]
</a><a href="#h20-0-163" id="h20-0-163" class="i">+storage delete mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h20-0-164" id="h20-0-164" class="i">+storage delete mvcc:TxnWrite(26, sql:Index(&quot;self&quot;, &quot;self_id&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x01self\x00\xff\x00\xffself_id\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h20-0-165" id="h20-0-165" class="i">+storage delete mvcc:TxnWrite(26, sql:Row(&quot;self&quot;, Integer(3))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x1a\x02self\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x03\x00\x00&quot;]
</a><a href="#h20-0-166" id="h20-0-166" class="i">+storage delete mvcc:TxnActive(26) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x1a&quot;]
</a><a href="#h20-0-167" id="h20-0-167" class="i">+
</a><a href="#h20-0-168" id="h20-0-168" class="i">+# Breaking the reference isn&#39;t.
</a><a href="#h20-0-169" id="h20-0-169" class="i">+!&gt; UPDATE self SET id = 4 WHERE id = 1
</a><a href="#h20-0-170" id="h20-0-170" class="i">+!&gt; UPDATE self SET id = 4 WHERE id = 2
</a><a href="#h20-0-171" id="h20-0-171" class="i">+---
</a><a href="#h20-0-172" id="h20-0-172" class="i">+Error: invalid input: row referenced by self.self_id for self.id=2
</a><a href="#h20-0-173" id="h20-0-173" class="i">+Error: invalid input: row referenced by self.self_id for self.id=3
</a><a href="#h20-0-174" id="h20-0-174" class="i">+
</a><a href="#h20-0-175" id="h20-0-175" class="i">+# Not even when only this row points to itself.
</a><a href="#h20-0-176" id="h20-0-176" class="i">+&gt; UPDATE self SET self_id = NULL WHERE id &gt; 1
</a><a href="#h20-0-177" id="h20-0-177" class="i">+!&gt; UPDATE self SET id = 4 WHERE id = 1
</a><a href="#h20-0-178" id="h20-0-178" class="i">+---
</a><a href="#h20-0-179" id="h20-0-179" class="i">+Error: invalid input: reference 1 not in table self
</a><b>diff --git a/<a id="h21" href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a> b/<a href="../file/src/sql/testscripts/writes/update_unique.html">src/sql/testscripts/writes/update_unique</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -0,0 +1,274 @@
</a><a href="#h21-0-0" id="h21-0-0" class="i">+# Tests UPDATE unique index writes.
</a><a href="#h21-0-1" id="h21-0-1" class="i">+
</a><a href="#h21-0-2" id="h21-0-2" class="i">+&gt; CREATE TABLE &quot;unique&quot; ( \
</a><a href="#h21-0-3" id="h21-0-3" class="i">+    id INT PRIMARY KEY, \
</a><a href="#h21-0-4" id="h21-0-4" class="i">+    &quot;bool&quot; BOOL UNIQUE, \
</a><a href="#h21-0-5" id="h21-0-5" class="i">+    &quot;int&quot; INT UNIQUE, \
</a><a href="#h21-0-6" id="h21-0-6" class="i">+    &quot;float&quot; FLOAT UNIQUE, \
</a><a href="#h21-0-7" id="h21-0-7" class="i">+    &quot;string&quot; STRING UNIQUE \
</a><a href="#h21-0-8" id="h21-0-8" class="i">+)
</a><a href="#h21-0-9" id="h21-0-9" class="i">+&gt; INSERT INTO &quot;unique&quot; VALUES (1, false, 1, 3.14, &#39;a&#39;)
</a><a href="#h21-0-10" id="h21-0-10" class="i">+&gt; INSERT INTO &quot;unique&quot; VALUES (2, NULL, NULL, NULL, NULL)
</a><a href="#h21-0-11" id="h21-0-11" class="i">+---
</a><a href="#h21-0-12" id="h21-0-12" class="i">+ok
</a><a href="#h21-0-13" id="h21-0-13" class="i">+
</a><a href="#h21-0-14" id="h21-0-14" class="i">+# An UPDATE updates all indexes.
</a><a href="#h21-0-15" id="h21-0-15" class="i">+[ops]&gt; UPDATE &quot;unique&quot; \
</a><a href="#h21-0-16" id="h21-0-16" class="i">+    SET &quot;bool&quot; = true, &quot;int&quot; = 2, &quot;float&quot; = 2.718, &quot;string&quot; = &#39;b&#39; \
</a><a href="#h21-0-17" id="h21-0-17" class="i">+    WHERE id = 2
</a><a href="#h21-0-18" id="h21-0-18" class="i">+---
</a><a href="#h21-0-19" id="h21-0-19" class="i">+storage set mvcc:NextVersion → 5 [&quot;\x00&quot; → &quot;\x05&quot;]
</a><a href="#h21-0-20" id="h21-0-20" class="i">+storage set mvcc:TxnActive(4) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;&quot;]
</a><a href="#h21-0-21" id="h21-0-21" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-22" id="h21-0-22" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-23" id="h21-0-23" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-24" id="h21-0-24" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 4) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-25" id="h21-0-25" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-26" id="h21-0-26" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-27" id="h21-0-27" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-28" id="h21-0-28" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2)), 4) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-29" id="h21-0-29" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-30" id="h21-0-30" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-31" id="h21-0-31" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-32" id="h21-0-32" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 4) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-33" id="h21-0-33" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-34" id="h21-0-34" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 4) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-35" id="h21-0-35" class="i">+storage set mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-36" id="h21-0-36" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;)), 4) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-37" id="h21-0-37" class="i">+storage set mvcc:TxnWrite(4, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-38" id="h21-0-38" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 4) → Integer(2),Boolean(true),Integer(2),Float(2.718),String(&quot;b&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04&quot; → &quot;\x01\x13\x05\x02\x04\x01\x01\x02\x04\x03X9\xb4\xc8v\xbe\x05@\x04\x01b&quot;]
</a><a href="#h21-0-39" id="h21-0-39" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-40" id="h21-0-40" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-0-41" id="h21-0-41" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-42" id="h21-0-42" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-0-43" id="h21-0-43" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-44" id="h21-0-44" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-45" id="h21-0-45" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-46" id="h21-0-46" class="i">+storage delete mvcc:TxnWrite(4, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-47" id="h21-0-47" class="i">+storage delete mvcc:TxnWrite(4, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-48" id="h21-0-48" class="i">+storage delete mvcc:TxnActive(4) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x04&quot;]
</a><a href="#h21-0-49" id="h21-0-49" class="i">+
</a><a href="#h21-0-50" id="h21-0-50" class="i">+# An update that violates the unique constraint fails.
</a><a href="#h21-0-51" id="h21-0-51" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;bool&quot; = FALSE WHERE id = 2
</a><a href="#h21-0-52" id="h21-0-52" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;int&quot; = 1 WHERE id = 2
</a><a href="#h21-0-53" id="h21-0-53" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = 3.14 WHERE id = 2
</a><a href="#h21-0-54" id="h21-0-54" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;a&#39; WHERE id = 2
</a><a href="#h21-0-55" id="h21-0-55" class="i">+---
</a><a href="#h21-0-56" id="h21-0-56" class="i">+Error: invalid input: value FALSE already in unique column bool
</a><a href="#h21-0-57" id="h21-0-57" class="i">+Error: invalid input: value 1 already in unique column int
</a><a href="#h21-0-58" id="h21-0-58" class="i">+Error: invalid input: value 3.14 already in unique column float
</a><a href="#h21-0-59" id="h21-0-59" class="i">+Error: invalid input: value a already in unique column string
</a><a href="#h21-0-60" id="h21-0-60" class="i">+
</a><a href="#h21-0-61" id="h21-0-61" class="i">+# It also fails when updating all rows.
</a><a href="#h21-0-62" id="h21-0-62" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;bool&quot; = FALSE
</a><a href="#h21-0-63" id="h21-0-63" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;int&quot; = 7
</a><a href="#h21-0-64" id="h21-0-64" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = 0.0
</a><a href="#h21-0-65" id="h21-0-65" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;abc&#39;
</a><a href="#h21-0-66" id="h21-0-66" class="i">+---
</a><a href="#h21-0-67" id="h21-0-67" class="i">+Error: invalid input: value FALSE already in unique column bool
</a><a href="#h21-0-68" id="h21-0-68" class="i">+Error: invalid input: value 7 already in unique column int
</a><a href="#h21-0-69" id="h21-0-69" class="i">+Error: invalid input: value 0 already in unique column float
</a><a href="#h21-0-70" id="h21-0-70" class="i">+Error: invalid input: value abc already in unique column string
</a><a href="#h21-0-71" id="h21-0-71" class="i">+
</a><a href="#h21-0-72" id="h21-0-72" class="i">+# Updates with NULLS sets NULL entries. Duplicates are allowed.
</a><a href="#h21-0-73" id="h21-0-73" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;bool&quot; = NULL, &quot;int&quot; = NULL, &quot;float&quot; = NULL, &quot;string&quot; = NULL
</a><a href="#h21-0-74" id="h21-0-74" class="i">+---
</a><a href="#h21-0-75" id="h21-0-75" class="i">+storage set mvcc:NextVersion → 14 [&quot;\x00&quot; → &quot;\x0e&quot;]
</a><a href="#h21-0-76" id="h21-0-76" class="i">+storage set mvcc:TxnActive(13) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;&quot;]
</a><a href="#h21-0-77" id="h21-0-77" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-78" id="h21-0-78" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-79" id="h21-0-79" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-80" id="h21-0-80" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 13) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-81" id="h21-0-81" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-82" id="h21-0-82" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-83" id="h21-0-83" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-84" id="h21-0-84" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 13) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-85" id="h21-0-85" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-86" id="h21-0-86" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-87" id="h21-0-87" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-88" id="h21-0-88" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 13) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-89" id="h21-0-89" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-90" id="h21-0-90" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-91" id="h21-0-91" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-92" id="h21-0-92" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 13) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-93" id="h21-0-93" class="i">+storage set mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-94" id="h21-0-94" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 13) → Integer(1),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x02\x00\x00\x00\x00&quot;]
</a><a href="#h21-0-95" id="h21-0-95" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-96" id="h21-0-96" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-97" id="h21-0-97" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-98" id="h21-0-98" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null), 13) → Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-0-99" id="h21-0-99" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-100" id="h21-0-100" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-101" id="h21-0-101" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-102" id="h21-0-102" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;int&quot;, Null), 13) → Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-0-103" id="h21-0-103" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-104" id="h21-0-104" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-105" id="h21-0-105" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-106" id="h21-0-106" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 13) → Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-0-107" id="h21-0-107" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-108" id="h21-0-108" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;)), 13) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-109" id="h21-0-109" class="i">+storage set mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-110" id="h21-0-110" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 13) → Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-0-111" id="h21-0-111" class="i">+storage set mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-112" id="h21-0-112" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 13) → Integer(2),Null,Null,Null,Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\r&quot; → &quot;\x01\x07\x05\x02\x04\x00\x00\x00\x00&quot;]
</a><a href="#h21-0-113" id="h21-0-113" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-114" id="h21-0-114" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(false))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-115" id="h21-0-115" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;bool&quot;, Boolean(true))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffbool\x00\xff\x00\xff\x01\x01\x00\x00&quot;]
</a><a href="#h21-0-116" id="h21-0-116" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-117" id="h21-0-117" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(2.718))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\x05\xbev\xc8\xb49X\x00\x00&quot;]
</a><a href="#h21-0-118" id="h21-0-118" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(3.14))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xc0\t\x1e\xb8Q\xeb\x85\x1f\x00\x00&quot;]
</a><a href="#h21-0-119" id="h21-0-119" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-120" id="h21-0-120" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-121" id="h21-0-121" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;int&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffint\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-122" id="h21-0-122" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-123" id="h21-0-123" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;a&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04a\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-124" id="h21-0-124" class="i">+storage delete mvcc:TxnWrite(13, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;b&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04b\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-125" id="h21-0-125" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-126" id="h21-0-126" class="i">+storage delete mvcc:TxnWrite(13, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\r\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-127" id="h21-0-127" class="i">+storage delete mvcc:TxnActive(13) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\r&quot;]
</a><a href="#h21-0-128" id="h21-0-128" class="i">+
</a><a href="#h21-0-129" id="h21-0-129" class="i">+&gt; SELECT * FROM &quot;unique&quot;
</a><a href="#h21-0-130" id="h21-0-130" class="i">+---
</a><a href="#h21-0-131" id="h21-0-131" class="i">+1,NULL,NULL,NULL,NULL
</a><a href="#h21-0-132" id="h21-0-132" class="i">+2,NULL,NULL,NULL,NULL
</a><a href="#h21-0-133" id="h21-0-133" class="i">+
</a><a href="#h21-0-134" id="h21-0-134" class="i">+# Float NaNs are considered different and allowed.
</a><a href="#h21-0-135" id="h21-0-135" class="i">+# TODO: should these be considered equal?
</a><a href="#h21-0-136" id="h21-0-136" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = NAN
</a><a href="#h21-0-137" id="h21-0-137" class="i">+---
</a><a href="#h21-0-138" id="h21-0-138" class="i">+storage set mvcc:NextVersion → 15 [&quot;\x00&quot; → &quot;\x0f&quot;]
</a><a href="#h21-0-139" id="h21-0-139" class="i">+storage set mvcc:TxnActive(14) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;&quot;]
</a><a href="#h21-0-140" id="h21-0-140" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-141" id="h21-0-141" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 14) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-142" id="h21-0-142" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-143" id="h21-0-143" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 14) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-144" id="h21-0-144" class="i">+storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-145" id="h21-0-145" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 14) → Integer(1),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h21-0-146" id="h21-0-146" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-147" id="h21-0-147" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Null), 14) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-148" id="h21-0-148" class="i">+storage set mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-149" id="h21-0-149" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 14) → Integer(1),Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x05\x02\x02\x02\x02\x04&quot;]
</a><a href="#h21-0-150" id="h21-0-150" class="i">+storage set mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-151" id="h21-0-151" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 14) → Integer(2),Null,Null,Float(NaN),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0e&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf8\x7f\x00&quot;]
</a><a href="#h21-0-152" id="h21-0-152" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-153" id="h21-0-153" class="i">+storage delete mvcc:TxnWrite(14, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-154" id="h21-0-154" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-155" id="h21-0-155" class="i">+storage delete mvcc:TxnWrite(14, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0e\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-156" id="h21-0-156" class="i">+storage delete mvcc:TxnActive(14) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0e&quot;]
</a><a href="#h21-0-157" id="h21-0-157" class="i">+
</a><a href="#h21-0-158" id="h21-0-158" class="i">+&gt; SELECT * FROM &quot;unique&quot;
</a><a href="#h21-0-159" id="h21-0-159" class="i">+---
</a><a href="#h21-0-160" id="h21-0-160" class="i">+1,NULL,NULL,NaN,NULL
</a><a href="#h21-0-161" id="h21-0-161" class="i">+2,NULL,NULL,NaN,NULL
</a><a href="#h21-0-162" id="h21-0-162" class="i">+
</a><a href="#h21-0-163" id="h21-0-163" class="i">+# Float 0.0 and -0.0 are considered different.
</a><a href="#h21-0-164" id="h21-0-164" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = 0.0 WHERE id = 1
</a><a href="#h21-0-165" id="h21-0-165" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = -0.0 WHERE id = 2
</a><a href="#h21-0-166" id="h21-0-166" class="i">+---
</a><a href="#h21-0-167" id="h21-0-167" class="i">+storage set mvcc:NextVersion → 16 [&quot;\x00&quot; → &quot;\x10&quot;]
</a><a href="#h21-0-168" id="h21-0-168" class="i">+storage set mvcc:TxnActive(15) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;&quot;]
</a><a href="#h21-0-169" id="h21-0-169" class="i">+storage set mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-170" id="h21-0-170" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 15) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-171" id="h21-0-171" class="i">+storage set mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-172" id="h21-0-172" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 15) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-173" id="h21-0-173" class="i">+storage set mvcc:TxnWrite(15, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-174" id="h21-0-174" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 15) → Integer(1),Null,Null,Float(0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;]
</a><a href="#h21-0-175" id="h21-0-175" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-176" id="h21-0-176" class="i">+storage delete mvcc:TxnWrite(15, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-177" id="h21-0-177" class="i">+storage delete mvcc:TxnWrite(15, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x0f\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-178" id="h21-0-178" class="i">+storage delete mvcc:TxnActive(15) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x0f&quot;]
</a><a href="#h21-0-179" id="h21-0-179" class="i">+storage set mvcc:NextVersion → 17 [&quot;\x00&quot; → &quot;\x11&quot;]
</a><a href="#h21-0-180" id="h21-0-180" class="i">+storage set mvcc:TxnActive(16) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;&quot;]
</a><a href="#h21-0-181" id="h21-0-181" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-182" id="h21-0-182" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN)), 16) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-183" id="h21-0-183" class="i">+storage set mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-184" id="h21-0-184" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0)), 16) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-185" id="h21-0-185" class="i">+storage set mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-186" id="h21-0-186" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 16) → Integer(2),Null,Null,Float(-0.0),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x80\x00&quot;]
</a><a href="#h21-0-187" id="h21-0-187" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h21-0-188" id="h21-0-188" class="i">+storage delete mvcc:TxnWrite(16, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(NaN))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf8\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-189" id="h21-0-189" class="i">+storage delete mvcc:TxnWrite(16, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x10\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-190" id="h21-0-190" class="i">+storage delete mvcc:TxnActive(16) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x10&quot;]
</a><a href="#h21-0-191" id="h21-0-191" class="i">+
</a><a href="#h21-0-192" id="h21-0-192" class="i">+&gt; SELECT * FROM &quot;unique&quot;
</a><a href="#h21-0-193" id="h21-0-193" class="i">+---
</a><a href="#h21-0-194" id="h21-0-194" class="i">+1,NULL,NULL,0,NULL
</a><a href="#h21-0-195" id="h21-0-195" class="i">+2,NULL,NULL,-0,NULL
</a><a href="#h21-0-196" id="h21-0-196" class="i">+
</a><a href="#h21-0-197" id="h21-0-197" class="i">+# Float INFINITY is considered equal.
</a><a href="#h21-0-198" id="h21-0-198" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = INFINITY WHERE id = 1
</a><a href="#h21-0-199" id="h21-0-199" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = -INFINITY WHERE id = 2
</a><a href="#h21-0-200" id="h21-0-200" class="i">+---
</a><a href="#h21-0-201" id="h21-0-201" class="i">+storage set mvcc:NextVersion → 18 [&quot;\x00&quot; → &quot;\x12&quot;]
</a><a href="#h21-0-202" id="h21-0-202" class="i">+storage set mvcc:TxnActive(17) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;&quot;]
</a><a href="#h21-0-203" id="h21-0-203" class="i">+storage set mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-204" id="h21-0-204" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0)), 17) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-205" id="h21-0-205" class="i">+storage set mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-206" id="h21-0-206" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf)), 17) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-207" id="h21-0-207" class="i">+storage set mvcc:TxnWrite(17, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-208" id="h21-0-208" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 17) → Integer(1),Null,Null,Float(inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11&quot; → &quot;\x01\x0f\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x00&quot;]
</a><a href="#h21-0-209" id="h21-0-209" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-210" id="h21-0-210" class="i">+storage delete mvcc:TxnWrite(17, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\xff\xf0\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-211" id="h21-0-211" class="i">+storage delete mvcc:TxnWrite(17, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x11\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-212" id="h21-0-212" class="i">+storage delete mvcc:TxnActive(17) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x11&quot;]
</a><a href="#h21-0-213" id="h21-0-213" class="i">+storage set mvcc:NextVersion → 19 [&quot;\x00&quot; → &quot;\x13&quot;]
</a><a href="#h21-0-214" id="h21-0-214" class="i">+storage set mvcc:TxnActive(18) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;&quot;]
</a><a href="#h21-0-215" id="h21-0-215" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-216" id="h21-0-216" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0)), 18) → None [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-217" id="h21-0-217" class="i">+storage set mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-218" id="h21-0-218" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf)), 18) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-219" id="h21-0-219" class="i">+storage set mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-220" id="h21-0-220" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 18) → Integer(2),Null,Null,Float(-inf),Null [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x12&quot; → &quot;\x01\x0f\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x00&quot;]
</a><a href="#h21-0-221" id="h21-0-221" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-inf))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x00\xff\x0f\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h21-0-222" id="h21-0-222" class="i">+storage delete mvcc:TxnWrite(18, sql:Index(&quot;unique&quot;, &quot;float&quot;, Float(-0.0))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x01unique\x00\xff\x00\xfffloat\x00\xff\x00\xff\x03\x7f\xff\xff\xff\xff\xff\xff\xff\x00\x00&quot;]
</a><a href="#h21-0-223" id="h21-0-223" class="i">+storage delete mvcc:TxnWrite(18, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x12\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-224" id="h21-0-224" class="i">+storage delete mvcc:TxnActive(18) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x12&quot;]
</a><a href="#h21-0-225" id="h21-0-225" class="i">+
</a><a href="#h21-0-226" id="h21-0-226" class="i">+&gt; SELECT * FROM &quot;unique&quot;
</a><a href="#h21-0-227" id="h21-0-227" class="i">+---
</a><a href="#h21-0-228" id="h21-0-228" class="i">+1,NULL,NULL,inf,NULL
</a><a href="#h21-0-229" id="h21-0-229" class="i">+2,NULL,NULL,-inf,NULL
</a><a href="#h21-0-230" id="h21-0-230" class="i">+
</a><a href="#h21-0-231" id="h21-0-231" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;float&quot; = INFINITY WHERE id = 2
</a><a href="#h21-0-232" id="h21-0-232" class="i">+---
</a><a href="#h21-0-233" id="h21-0-233" class="i">+Error: invalid input: value inf already in unique column float
</a><a href="#h21-0-234" id="h21-0-234" class="i">+
</a><a href="#h21-0-235" id="h21-0-235" class="i">+# Empty strings are considered equal.
</a><a href="#h21-0-236" id="h21-0-236" class="i">+&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;&#39; WHERE id = 1
</a><a href="#h21-0-237" id="h21-0-237" class="i">+!&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;&#39; WHERE id = 2
</a><a href="#h21-0-238" id="h21-0-238" class="i">+---
</a><a href="#h21-0-239" id="h21-0-239" class="i">+Error: invalid input: value  already in unique column string
</a><a href="#h21-0-240" id="h21-0-240" class="i">+
</a><a href="#h21-0-241" id="h21-0-241" class="i">+# Case differences are not considered equal.
</a><a href="#h21-0-242" id="h21-0-242" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;case&#39; WHERE id = 1
</a><a href="#h21-0-243" id="h21-0-243" class="i">+[ops]&gt; UPDATE &quot;unique&quot; SET &quot;string&quot; = &#39;CaSe&#39; WHERE id = 2
</a><a href="#h21-0-244" id="h21-0-244" class="i">+---
</a><a href="#h21-0-245" id="h21-0-245" class="i">+storage set mvcc:NextVersion → 23 [&quot;\x00&quot; → &quot;\x17&quot;]
</a><a href="#h21-0-246" id="h21-0-246" class="i">+storage set mvcc:TxnActive(22) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;&quot;]
</a><a href="#h21-0-247" id="h21-0-247" class="i">+storage set mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-248" id="h21-0-248" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;)), 22) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-249" id="h21-0-249" class="i">+storage set mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-250" id="h21-0-250" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;)), 22) → Integer(1) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x03\x01\x02\x02&quot;]
</a><a href="#h21-0-251" id="h21-0-251" class="i">+storage set mvcc:TxnWrite(22, sql:Row(&quot;unique&quot;, Integer(1))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-252" id="h21-0-252" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(1)), 22) → Integer(1),Null,Null,Float(inf),String(&quot;case&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x16&quot; → &quot;\x01\x14\x05\x02\x02\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\x7f\x04\x04case&quot;]
</a><a href="#h21-0-253" id="h21-0-253" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-254" id="h21-0-254" class="i">+storage delete mvcc:TxnWrite(22, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;case&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04case\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-255" id="h21-0-255" class="i">+storage delete mvcc:TxnWrite(22, sql:Row(&quot;unique&quot;, Integer(1))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x16\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x01\x00\x00&quot;]
</a><a href="#h21-0-256" id="h21-0-256" class="i">+storage delete mvcc:TxnActive(22) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x16&quot;]
</a><a href="#h21-0-257" id="h21-0-257" class="i">+storage set mvcc:NextVersion → 24 [&quot;\x00&quot; → &quot;\x18&quot;]
</a><a href="#h21-0-258" id="h21-0-258" class="i">+storage set mvcc:TxnActive(23) → &quot;&quot; [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;&quot;]
</a><a href="#h21-0-259" id="h21-0-259" class="i">+storage set mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-260" id="h21-0-260" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, Null), 23) → None [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x00&quot;]
</a><a href="#h21-0-261" id="h21-0-261" class="i">+storage set mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-262" id="h21-0-262" class="i">+storage set mvcc:Version(sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;)), 23) → Integer(2) [&quot;\x04\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x03\x01\x02\x04&quot;]
</a><a href="#h21-0-263" id="h21-0-263" class="i">+storage set mvcc:TxnWrite(23, sql:Row(&quot;unique&quot;, Integer(2))) → &quot;&quot; [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot; → &quot;&quot;]
</a><a href="#h21-0-264" id="h21-0-264" class="i">+storage set mvcc:Version(sql:Row(&quot;unique&quot;, Integer(2)), 23) → Integer(2),Null,Null,Float(-inf),String(&quot;CaSe&quot;) [&quot;\x04\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x17&quot; → &quot;\x01\x14\x05\x02\x04\x00\x00\x03\x00\x00\x00\x00\x00\x00\xf0\xff\x04\x04CaSe&quot;]
</a><a href="#h21-0-265" id="h21-0-265" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, Null)) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-266" id="h21-0-266" class="i">+storage delete mvcc:TxnWrite(23, sql:Index(&quot;unique&quot;, &quot;string&quot;, String(&quot;CaSe&quot;))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x01unique\x00\xff\x00\xffstring\x00\xff\x00\xff\x04CaSe\x00\xff\x00\xff\x00\x00&quot;]
</a><a href="#h21-0-267" id="h21-0-267" class="i">+storage delete mvcc:TxnWrite(23, sql:Row(&quot;unique&quot;, Integer(2))) [&quot;\x03\x00\x00\x00\x00\x00\x00\x00\x17\x02unique\x00\xff\x00\xff\x02\x80\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x00\xff\x02\x00\x00&quot;]
</a><a href="#h21-0-268" id="h21-0-268" class="i">+storage delete mvcc:TxnActive(23) [&quot;\x01\x00\x00\x00\x00\x00\x00\x00\x17&quot;]
</a><a href="#h21-0-269" id="h21-0-269" class="i">+
</a><a href="#h21-0-270" id="h21-0-270" class="i">+&gt; SELECT * FROM &quot;unique&quot;
</a><a href="#h21-0-271" id="h21-0-271" class="i">+---
</a><a href="#h21-0-272" id="h21-0-272" class="i">+1,NULL,NULL,inf,case
</a><a href="#h21-0-273" id="h21-0-273" class="i">+2,NULL,NULL,-inf,CaSe
</a><b>diff --git a/<a id="h22" href="../file/src/sql/testscripts/writes/update_where.html">src/sql/testscripts/writes/update_where</a> b/<a href="../file/src/sql/testscripts/writes/update_where.html">src/sql/testscripts/writes/update_where</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -0,0 +1,108 @@
</a><a href="#h22-0-0" id="h22-0-0" class="i">+# Tests UPDATE with WHERE predicates.
</a><a href="#h22-0-1" id="h22-0-1" class="i">+
</a><a href="#h22-0-2" id="h22-0-2" class="i">+# Create a table with some data.
</a><a href="#h22-0-3" id="h22-0-3" class="i">+&gt; CREATE TABLE name (id INT PRIMARY KEY, value STRING, &quot;index&quot; INT INDEX)
</a><a href="#h22-0-4" id="h22-0-4" class="i">+&gt; INSERT INTO name VALUES (1, &#39;a&#39;, 1), (2, &#39;b&#39;, 2), (3, &#39;c&#39;, NULL);
</a><a href="#h22-0-5" id="h22-0-5" class="i">+---
</a><a href="#h22-0-6" id="h22-0-6" class="i">+ok
</a><a href="#h22-0-7" id="h22-0-7" class="i">+
</a><a href="#h22-0-8" id="h22-0-8" class="i">+# Boolean filters work, and are trivial.
</a><a href="#h22-0-9" id="h22-0-9" class="i">+&gt; BEGIN
</a><a href="#h22-0-10" id="h22-0-10" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE TRUE
</a><a href="#h22-0-11" id="h22-0-11" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-12" id="h22-0-12" class="i">+&gt; ROLLBACK
</a><a href="#h22-0-13" id="h22-0-13" class="i">+---
</a><a href="#h22-0-14" id="h22-0-14" class="i">+Update: name (value=foo)
</a><a href="#h22-0-15" id="h22-0-15" class="i">+└─ Scan: name
</a><a href="#h22-0-16" id="h22-0-16" class="i">+1,foo,1
</a><a href="#h22-0-17" id="h22-0-17" class="i">+2,foo,2
</a><a href="#h22-0-18" id="h22-0-18" class="i">+3,foo,NULL
</a><a href="#h22-0-19" id="h22-0-19" class="i">+
</a><a href="#h22-0-20" id="h22-0-20" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE FALSE
</a><a href="#h22-0-21" id="h22-0-21" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-22" id="h22-0-22" class="i">+---
</a><a href="#h22-0-23" id="h22-0-23" class="i">+Update: name (value=foo)
</a><a href="#h22-0-24" id="h22-0-24" class="i">+└─ Nothing
</a><a href="#h22-0-25" id="h22-0-25" class="i">+1,a,1
</a><a href="#h22-0-26" id="h22-0-26" class="i">+2,b,2
</a><a href="#h22-0-27" id="h22-0-27" class="i">+3,c,NULL
</a><a href="#h22-0-28" id="h22-0-28" class="i">+
</a><a href="#h22-0-29" id="h22-0-29" class="i">+# Updating by primary key lookup.
</a><a href="#h22-0-30" id="h22-0-30" class="i">+&gt; BEGIN
</a><a href="#h22-0-31" id="h22-0-31" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE id = 1 OR id = 3
</a><a href="#h22-0-32" id="h22-0-32" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-33" id="h22-0-33" class="i">+&gt; ROLLBACK
</a><a href="#h22-0-34" id="h22-0-34" class="i">+---
</a><a href="#h22-0-35" id="h22-0-35" class="i">+Update: name (value=foo)
</a><a href="#h22-0-36" id="h22-0-36" class="i">+└─ KeyLookup: name (1, 3)
</a><a href="#h22-0-37" id="h22-0-37" class="i">+1,foo,1
</a><a href="#h22-0-38" id="h22-0-38" class="i">+2,b,2
</a><a href="#h22-0-39" id="h22-0-39" class="i">+3,foo,NULL
</a><a href="#h22-0-40" id="h22-0-40" class="i">+
</a><a href="#h22-0-41" id="h22-0-41" class="i">+# Updating by index lookup.
</a><a href="#h22-0-42" id="h22-0-42" class="i">+&gt; BEGIN
</a><a href="#h22-0-43" id="h22-0-43" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE &quot;index&quot; = 2
</a><a href="#h22-0-44" id="h22-0-44" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-45" id="h22-0-45" class="i">+&gt; ROLLBACK
</a><a href="#h22-0-46" id="h22-0-46" class="i">+---
</a><a href="#h22-0-47" id="h22-0-47" class="i">+Update: name (value=foo)
</a><a href="#h22-0-48" id="h22-0-48" class="i">+└─ IndexLookup: name column index (2)
</a><a href="#h22-0-49" id="h22-0-49" class="i">+1,a,1
</a><a href="#h22-0-50" id="h22-0-50" class="i">+2,foo,2
</a><a href="#h22-0-51" id="h22-0-51" class="i">+3,c,NULL
</a><a href="#h22-0-52" id="h22-0-52" class="i">+
</a><a href="#h22-0-53" id="h22-0-53" class="i">+# Including IS NULL.
</a><a href="#h22-0-54" id="h22-0-54" class="i">+&gt; BEGIN
</a><a href="#h22-0-55" id="h22-0-55" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE &quot;index&quot; IS NULL
</a><a href="#h22-0-56" id="h22-0-56" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-57" id="h22-0-57" class="i">+&gt; ROLLBACK
</a><a href="#h22-0-58" id="h22-0-58" class="i">+---
</a><a href="#h22-0-59" id="h22-0-59" class="i">+Update: name (value=foo)
</a><a href="#h22-0-60" id="h22-0-60" class="i">+└─ IndexLookup: name column index (NULL)
</a><a href="#h22-0-61" id="h22-0-61" class="i">+1,a,1
</a><a href="#h22-0-62" id="h22-0-62" class="i">+2,b,2
</a><a href="#h22-0-63" id="h22-0-63" class="i">+3,foo,NULL
</a><a href="#h22-0-64" id="h22-0-64" class="i">+
</a><a href="#h22-0-65" id="h22-0-65" class="i">+# Updating by arbitrary predicate over full scan.
</a><a href="#h22-0-66" id="h22-0-66" class="i">+&gt; BEGIN
</a><a href="#h22-0-67" id="h22-0-67" class="i">+[plan]&gt; UPDATE name SET value = &#39;foo&#39; WHERE id &gt;= 5 - 2 OR (value LIKE &#39;a&#39;) IS NULL
</a><a href="#h22-0-68" id="h22-0-68" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-69" id="h22-0-69" class="i">+&gt; ROLLBACK
</a><a href="#h22-0-70" id="h22-0-70" class="i">+---
</a><a href="#h22-0-71" id="h22-0-71" class="i">+Update: name (value=foo)
</a><a href="#h22-0-72" id="h22-0-72" class="i">+└─ Scan: name (id &gt; 3 OR id = 3 OR value LIKE a IS NULL)
</a><a href="#h22-0-73" id="h22-0-73" class="i">+1,a,1
</a><a href="#h22-0-74" id="h22-0-74" class="i">+2,b,2
</a><a href="#h22-0-75" id="h22-0-75" class="i">+3,foo,NULL
</a><a href="#h22-0-76" id="h22-0-76" class="i">+
</a><a href="#h22-0-77" id="h22-0-77" class="i">+# Non-boolean predicates error, except NULL which is equivalent to FALSE.
</a><a href="#h22-0-78" id="h22-0-78" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE 0
</a><a href="#h22-0-79" id="h22-0-79" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE 1
</a><a href="#h22-0-80" id="h22-0-80" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE 3.14
</a><a href="#h22-0-81" id="h22-0-81" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE NaN
</a><a href="#h22-0-82" id="h22-0-82" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE &#39;&#39;
</a><a href="#h22-0-83" id="h22-0-83" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE &#39;true
</a><a href="#h22-0-84" id="h22-0-84" class="i">+---
</a><a href="#h22-0-85" id="h22-0-85" class="i">+Error: invalid input: filter returned 0, expected boolean
</a><a href="#h22-0-86" id="h22-0-86" class="i">+Error: invalid input: filter returned 1, expected boolean
</a><a href="#h22-0-87" id="h22-0-87" class="i">+Error: invalid input: filter returned 3.14, expected boolean
</a><a href="#h22-0-88" id="h22-0-88" class="i">+Error: invalid input: filter returned NaN, expected boolean
</a><a href="#h22-0-89" id="h22-0-89" class="i">+Error: invalid input: filter returned , expected boolean
</a><a href="#h22-0-90" id="h22-0-90" class="i">+Error: invalid input: unexpected end of string literal
</a><a href="#h22-0-91" id="h22-0-91" class="i">+
</a><a href="#h22-0-92" id="h22-0-92" class="i">+&gt; UPDATE name SET value = &#39;foo&#39; WHERE NULL
</a><a href="#h22-0-93" id="h22-0-93" class="i">+&gt; SELECT * FROM name
</a><a href="#h22-0-94" id="h22-0-94" class="i">+---
</a><a href="#h22-0-95" id="h22-0-95" class="i">+1,a,1
</a><a href="#h22-0-96" id="h22-0-96" class="i">+2,b,2
</a><a href="#h22-0-97" id="h22-0-97" class="i">+3,c,NULL
</a><a href="#h22-0-98" id="h22-0-98" class="i">+
</a><a href="#h22-0-99" id="h22-0-99" class="i">+# Bare WHERE errors.
</a><a href="#h22-0-100" id="h22-0-100" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE
</a><a href="#h22-0-101" id="h22-0-101" class="i">+---
</a><a href="#h22-0-102" id="h22-0-102" class="i">+Error: invalid input: unexpected end of input
</a><a href="#h22-0-103" id="h22-0-103" class="i">+
</a><a href="#h22-0-104" id="h22-0-104" class="i">+# Missing column errors.
</a><a href="#h22-0-105" id="h22-0-105" class="i">+!&gt; UPDATE name SET value = &#39;foo&#39; WHERE missing = &#39;foo&#39;
</a><a href="#h22-0-106" id="h22-0-106" class="i">+---
</a><a href="#h22-0-107" id="h22-0-107" class="i">+Error: invalid input: unknown field missing
</a><b>diff --git a/<a id="h23" href="../file/tests/sql/mod.rs.html">tests/sql/mod.rs</a> b/<a href="../file/tests/sql/mod.rs.html">tests/sql/mod.rs</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -1,6 +1,4 @@
</a><a href="#h23-0-0" id="h23-0-0" class="d">-mod mutation;
</a> mod query;
<a href="#h23-0-2" id="h23-0-2" class="d">-mod schema;
</a> 
 use toydb::error::Result;
 use toydb::sql::engine::{Engine, Local};
<b>diff --git a/<a id="h24" href="../file/tests/sql/mutation.rs.html">tests/sql/mutation.rs</a> b/<a href="../file/tests/sql/mutation.rs.html">tests/sql/mutation.rs</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -1,151 +0,0 @@
</a><a href="#h24-0-0" id="h24-0-0" class="d">-//! Mutation tests, using an in-memory database against golden files in tests/sql/mutation/
</a><a href="#h24-0-1" id="h24-0-1" class="d">-use toydb::error::Result;
</a><a href="#h24-0-2" id="h24-0-2" class="d">-use toydb::sql::engine::{Catalog as _, Engine as _, Transaction as _};
</a><a href="#h24-0-3" id="h24-0-3" class="d">-
</a><a href="#h24-0-4" id="h24-0-4" class="d">-use goldenfile::Mint;
</a><a href="#h24-0-5" id="h24-0-5" class="d">-use std::io::Write;
</a><a href="#h24-0-6" id="h24-0-6" class="d">-
</a><a href="#h24-0-7" id="h24-0-7" class="d">-macro_rules! test_mutation {
</a><a href="#h24-0-8" id="h24-0-8" class="d">-    ( $( $name:ident: $query:expr, )* ) =&gt; {
</a><a href="#h24-0-9" id="h24-0-9" class="d">-        $(
</a><a href="#h24-0-10" id="h24-0-10" class="d">-            test_schema! { with []; $name: $query, }
</a><a href="#h24-0-11" id="h24-0-11" class="d">-        )*
</a><a href="#h24-0-12" id="h24-0-12" class="d">-    };
</a><a href="#h24-0-13" id="h24-0-13" class="d">-    ( with $setup:expr; $( $name:ident: $query:expr, )* ) =&gt; {
</a><a href="#h24-0-14" id="h24-0-14" class="d">-        $(
</a><a href="#h24-0-15" id="h24-0-15" class="d">-            #[test]
</a><a href="#h24-0-16" id="h24-0-16" class="d">-            fn $name() -&gt; Result&lt;()&gt; {
</a><a href="#h24-0-17" id="h24-0-17" class="d">-                let setup: &amp;[&amp;str] = &amp;$setup;
</a><a href="#h24-0-18" id="h24-0-18" class="d">-                let engine = super::setup(setup.into())?;
</a><a href="#h24-0-19" id="h24-0-19" class="d">-                let mut mint = Mint::new(&quot;tests/sql/mutation&quot;);
</a><a href="#h24-0-20" id="h24-0-20" class="d">-                let mut f = mint.new_goldenfile(stringify!($name))?;
</a><a href="#h24-0-21" id="h24-0-21" class="d">-
</a><a href="#h24-0-22" id="h24-0-22" class="d">-                write!(f, &quot;Query: {}\n&quot;, $query.trim())?;
</a><a href="#h24-0-23" id="h24-0-23" class="d">-                match engine.session().execute($query) {
</a><a href="#h24-0-24" id="h24-0-24" class="d">-                    Ok(resultset) =&gt; {
</a><a href="#h24-0-25" id="h24-0-25" class="d">-                        write!(f, &quot;Result: {:?}\n\n&quot;, resultset)?;
</a><a href="#h24-0-26" id="h24-0-26" class="d">-                    },
</a><a href="#h24-0-27" id="h24-0-27" class="d">-                    Err(err) =&gt; write!(f, &quot;Error: {:?}\n\n&quot;, err)?,
</a><a href="#h24-0-28" id="h24-0-28" class="d">-                };
</a><a href="#h24-0-29" id="h24-0-29" class="d">-
</a><a href="#h24-0-30" id="h24-0-30" class="d">-                write!(f, &quot;Storage:&quot;)?;
</a><a href="#h24-0-31" id="h24-0-31" class="d">-                let txn = engine.begin()?;
</a><a href="#h24-0-32" id="h24-0-32" class="d">-                for table in txn.list_tables()? {
</a><a href="#h24-0-33" id="h24-0-33" class="d">-                    write!(f, &quot;\n{}\n&quot;, table)?;
</a><a href="#h24-0-34" id="h24-0-34" class="d">-                    for row in txn.scan(&amp;table.name, None)? {
</a><a href="#h24-0-35" id="h24-0-35" class="d">-                        write!(f, &quot;{:?}\n&quot;, row?)?;
</a><a href="#h24-0-36" id="h24-0-36" class="d">-                    }
</a><a href="#h24-0-37" id="h24-0-37" class="d">-
</a><a href="#h24-0-38" id="h24-0-38" class="d">-                    for column in table.columns.iter().filter(|c| c.index) {
</a><a href="#h24-0-39" id="h24-0-39" class="d">-                        write!(f, &quot;\nIndex {}.{}\n&quot;, table.name, column.name)?;
</a><a href="#h24-0-40" id="h24-0-40" class="d">-                        let mut scan = txn.scan_index(&amp;table.name, &amp;column.name)?;
</a><a href="#h24-0-41" id="h24-0-41" class="d">-                        while let Some((value, pks)) = scan.next().transpose()? {
</a><a href="#h24-0-42" id="h24-0-42" class="d">-                            let mut pks = pks.into_iter().collect::&lt;Vec&lt;_&gt;&gt;();
</a><a href="#h24-0-43" id="h24-0-43" class="d">-                            pks.sort_by(|a, b| a.partial_cmp(b).unwrap_or(std::cmp::Ordering::Equal));
</a><a href="#h24-0-44" id="h24-0-44" class="d">-                            write!(f, &quot;{:?} =&gt; {:?}\n&quot;, value, pks)?;
</a><a href="#h24-0-45" id="h24-0-45" class="d">-                        }
</a><a href="#h24-0-46" id="h24-0-46" class="d">-                    }
</a><a href="#h24-0-47" id="h24-0-47" class="d">-                }
</a><a href="#h24-0-48" id="h24-0-48" class="d">-                txn.rollback()?;
</a><a href="#h24-0-49" id="h24-0-49" class="d">-
</a><a href="#h24-0-50" id="h24-0-50" class="d">-                Ok(())
</a><a href="#h24-0-51" id="h24-0-51" class="d">-            }
</a><a href="#h24-0-52" id="h24-0-52" class="d">-        )*
</a><a href="#h24-0-53" id="h24-0-53" class="d">-    }
</a><a href="#h24-0-54" id="h24-0-54" class="d">-}
</a><a href="#h24-0-55" id="h24-0-55" class="d">-
</a><a href="#h24-0-56" id="h24-0-56" class="d">-test_mutation! { with [
</a><a href="#h24-0-57" id="h24-0-57" class="d">-        &quot;CREATE TABLE test (
</a><a href="#h24-0-58" id="h24-0-58" class="d">-            id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h24-0-59" id="h24-0-59" class="d">-            name STRING INDEX,
</a><a href="#h24-0-60" id="h24-0-60" class="d">-            value INTEGER
</a><a href="#h24-0-61" id="h24-0-61" class="d">-        )&quot;,
</a><a href="#h24-0-62" id="h24-0-62" class="d">-        &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)&quot;,
</a><a href="#h24-0-63" id="h24-0-63" class="d">-        &quot;CREATE TABLE other (id INTEGER PRIMARY KEY)&quot;,
</a><a href="#h24-0-64" id="h24-0-64" class="d">-        &quot;INSERT INTO other VALUES (1), (2), (3)&quot;,
</a><a href="#h24-0-65" id="h24-0-65" class="d">-    ];
</a><a href="#h24-0-66" id="h24-0-66" class="d">-
</a><a href="#h24-0-67" id="h24-0-67" class="d">-    delete_all: &quot;DELETE FROM test&quot;,
</a><a href="#h24-0-68" id="h24-0-68" class="d">-    delete_where: &quot;DELETE FROM test WHERE id = 1&quot;,
</a><a href="#h24-0-69" id="h24-0-69" class="d">-    delete_where_and: &quot;DELETE FROM test WHERE id = 1 AND name = &#39;a&#39;&quot;,
</a><a href="#h24-0-70" id="h24-0-70" class="d">-    delete_where_expr: &quot;DELETE FROM test WHERE id = 3 - 2 AND name LIKE &#39;a%&#39;&quot;,
</a><a href="#h24-0-71" id="h24-0-71" class="d">-    delete_where_true: &quot;DELETE FROM test WHERE TRUE&quot;,
</a><a href="#h24-0-72" id="h24-0-72" class="d">-    delete_where_false: &quot;DELETE FROM test WHERE FALSE&quot;,
</a><a href="#h24-0-73" id="h24-0-73" class="d">-    delete_where_null: &quot;DELETE FROM test WHERE NULL&quot;,
</a><a href="#h24-0-74" id="h24-0-74" class="d">-    delete_where_float: &quot;DELETE FROM test WHERE 3.14&quot;,
</a><a href="#h24-0-75" id="h24-0-75" class="d">-    delete_where_integer: &quot;DELETE FROM test WHERE 1&quot;,
</a><a href="#h24-0-76" id="h24-0-76" class="d">-    delete_where_string: &quot;DELETE FROM test WHERE &#39;a&#39;&quot;,
</a><a href="#h24-0-77" id="h24-0-77" class="d">-    delete_case: &quot;DELETE FROM TeSt WHERE ID = 1&quot;,
</a><a href="#h24-0-78" id="h24-0-78" class="d">-    delete_missing_column_where: &quot;DELETE FROM test WHERE missing = TRUE&quot;,
</a><a href="#h24-0-79" id="h24-0-79" class="d">-    delete_missing_table: &quot;DELETE FROM missing&quot;,
</a><a href="#h24-0-80" id="h24-0-80" class="d">-    delete_multiple_tables: &quot;DELETE FROM test, other WHERE id = 1&quot;,
</a><a href="#h24-0-81" id="h24-0-81" class="d">-    delete_bare: &quot;DELETE&quot;,
</a><a href="#h24-0-82" id="h24-0-82" class="d">-    delete_bare_from: &quot;DELETE FROM&quot;,
</a><a href="#h24-0-83" id="h24-0-83" class="d">-    delete_bare_where: &quot;DELETE FROM test WHERE&quot;,
</a><a href="#h24-0-84" id="h24-0-84" class="d">-}
</a><a href="#h24-0-85" id="h24-0-85" class="d">-
</a><a href="#h24-0-86" id="h24-0-86" class="d">-test_mutation! { with [
</a><a href="#h24-0-87" id="h24-0-87" class="d">-        &quot;CREATE TABLE test (
</a><a href="#h24-0-88" id="h24-0-88" class="d">-            id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h24-0-89" id="h24-0-89" class="d">-            name STRING INDEX,
</a><a href="#h24-0-90" id="h24-0-90" class="d">-            value INTEGER
</a><a href="#h24-0-91" id="h24-0-91" class="d">-        )&quot;,
</a><a href="#h24-0-92" id="h24-0-92" class="d">-        &quot;CREATE TABLE other (id INTEGER PRIMARY KEY)&quot;
</a><a href="#h24-0-93" id="h24-0-93" class="d">-    ];
</a><a href="#h24-0-94" id="h24-0-94" class="d">-
</a><a href="#h24-0-95" id="h24-0-95" class="d">-    insert_full: &quot;INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101)&quot;,
</a><a href="#h24-0-96" id="h24-0-96" class="d">-    insert_full_multiple: &quot;INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)&quot;,
</a><a href="#h24-0-97" id="h24-0-97" class="d">-    insert_full_order: &quot;INSERT INTO test (name, value, id) VALUES (&#39;a&#39;, 101, 1)&quot;,
</a><a href="#h24-0-98" id="h24-0-98" class="d">-    insert_full_trailing_comma: &quot;INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102),&quot;,
</a><a href="#h24-0-99" id="h24-0-99" class="d">-    insert_expression: &quot;INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 1 + 2 * 3)&quot;,
</a><a href="#h24-0-100" id="h24-0-100" class="d">-    insert_no_columns: &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 101)&quot;,
</a><a href="#h24-0-101" id="h24-0-101" class="d">-    insert_no_columns_multiple: &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)&quot;,
</a><a href="#h24-0-102" id="h24-0-102" class="d">-    insert_partial: &quot;INSERT INTO test VALUES (1, &#39;a&#39;)&quot;,
</a><a href="#h24-0-103" id="h24-0-103" class="d">-    insert_partial_columns: &quot;INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;)&quot;,
</a><a href="#h24-0-104" id="h24-0-104" class="d">-    insert_partial_vary: &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 100), (2, &#39;b&#39;), (3)&quot;,
</a><a href="#h24-0-105" id="h24-0-105" class="d">-    insert_extra: &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 100, NULL)&quot;,
</a><a href="#h24-0-106" id="h24-0-106" class="d">-    insert_extra_columns: &quot;INSERT INTO test (id, name) VALUES (1, &#39;a&#39;, 100)&quot;,
</a><a href="#h24-0-107" id="h24-0-107" class="d">-    insert_empty_columns: &quot;INSERT INTO test ()&quot;,
</a><a href="#h24-0-108" id="h24-0-108" class="d">-    insert_empty_values: &quot;INSERT INTO test VALUES ()&quot;,
</a><a href="#h24-0-109" id="h24-0-109" class="d">-    insert_empty_both: &quot;INSERT INTO test () VALUES ()&quot;,
</a><a href="#h24-0-110" id="h24-0-110" class="d">-    insert_missing_column: &quot;INSERT INTO test (id, missing) VALUES (0, &#39;x&#39;)&quot;,
</a><a href="#h24-0-111" id="h24-0-111" class="d">-    insert_missing_table: &quot;INSERT INTO missing (id) VALUES (0)&quot;,
</a><a href="#h24-0-112" id="h24-0-112" class="d">-    insert_multiple_tables: &quot;INSERT INTO test, other VALUES (1)&quot;,
</a><a href="#h24-0-113" id="h24-0-113" class="d">-    insert_case: &quot;INSERT INTO TeSt (ID, Name) VALUES (1, &#39;a&#39;)&quot;,
</a><a href="#h24-0-114" id="h24-0-114" class="d">-    insert_bare: &quot;INSERT INTO test&quot;,
</a><a href="#h24-0-115" id="h24-0-115" class="d">-    insert_bare_no_table: &quot;INSERT INTO&quot;,
</a><a href="#h24-0-116" id="h24-0-116" class="d">-    insert_bare_values: &quot;INSERT INTO test VALUES&quot;,
</a><a href="#h24-0-117" id="h24-0-117" class="d">-}
</a><a href="#h24-0-118" id="h24-0-118" class="d">-
</a><a href="#h24-0-119" id="h24-0-119" class="d">-test_mutation! { with [
</a><a href="#h24-0-120" id="h24-0-120" class="d">-        &quot;CREATE TABLE test (
</a><a href="#h24-0-121" id="h24-0-121" class="d">-            id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h24-0-122" id="h24-0-122" class="d">-            name STRING INDEX,
</a><a href="#h24-0-123" id="h24-0-123" class="d">-            value INTEGER
</a><a href="#h24-0-124" id="h24-0-124" class="d">-        )&quot;,
</a><a href="#h24-0-125" id="h24-0-125" class="d">-        &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 100), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)&quot;,
</a><a href="#h24-0-126" id="h24-0-126" class="d">-        &quot;CREATE TABLE other (id INTEGER PRIMARY KEY)&quot;,
</a><a href="#h24-0-127" id="h24-0-127" class="d">-        &quot;INSERT INTO other VALUES (1), (2), (3)&quot;,
</a><a href="#h24-0-128" id="h24-0-128" class="d">-    ];
</a><a href="#h24-0-129" id="h24-0-129" class="d">-
</a><a href="#h24-0-130" id="h24-0-130" class="d">-    update_all: &quot;UPDATE test SET name = &#39;x&#39;, value = 999&quot;,
</a><a href="#h24-0-131" id="h24-0-131" class="d">-    update_where: &quot;UPDATE test SET name = &#39;x&#39; WHERE id = 1&quot;,
</a><a href="#h24-0-132" id="h24-0-132" class="d">-    update_where_and: &quot;UPDATE test SET name = &#39;x&#39; WHERE id = 1 AND name = &#39;a&#39;&quot;,
</a><a href="#h24-0-133" id="h24-0-133" class="d">-    update_where_expr: &quot;UPDATE test SET name = &#39;x&#39; WHERE id = 3 - 2 AND name LIKE &#39;a%&#39;&quot;,
</a><a href="#h24-0-134" id="h24-0-134" class="d">-    update_where_true: &quot;UPDATE test SET name = &#39;x&#39; WHERE TRUE&quot;,
</a><a href="#h24-0-135" id="h24-0-135" class="d">-    update_where_false: &quot;UPDATE test SET name = &#39;x&#39; WHERE FALSE&quot;,
</a><a href="#h24-0-136" id="h24-0-136" class="d">-    update_where_null: &quot;UPDATE test SET name = &#39;x&#39; WHERE NULL&quot;,
</a><a href="#h24-0-137" id="h24-0-137" class="d">-    update_where_float: &quot;UPDATE test SET name = &#39;x&#39; WHERE 3.14&quot;,
</a><a href="#h24-0-138" id="h24-0-138" class="d">-    update_where_integer: &quot;UPDATE test SET name = &#39;x&#39; WHERE 1&quot;,
</a><a href="#h24-0-139" id="h24-0-139" class="d">-    update_where_string: &quot;UPDATE test SET name = &#39;x&#39; WHERE &#39;a&#39;&quot;,
</a><a href="#h24-0-140" id="h24-0-140" class="d">-    update_where_full: &quot;UPDATE test SET id = 9, name = &#39;x&#39;, value = 999 WHERE id = 1&quot;,
</a><a href="#h24-0-141" id="h24-0-141" class="d">-    update_case: &quot;UPDATE TeSt SET Name = &#39;x&#39; WHERE ID = 1&quot;,
</a><a href="#h24-0-142" id="h24-0-142" class="d">-    update_missing_column_set: &quot;UPDATE test SET missing = 0&quot;,
</a><a href="#h24-0-143" id="h24-0-143" class="d">-    update_missing_column_where: &quot;UPDATE test SET name = &#39;x&#39; WHERE missing = TRUE&quot;,
</a><a href="#h24-0-144" id="h24-0-144" class="d">-    update_missing_table: &quot;UPDATE missing SET id = 0&quot;,
</a><a href="#h24-0-145" id="h24-0-145" class="d">-    update_multiple_tables: &quot;UPDATE test, other SET id = 9 WHERE id = 1&quot;,
</a><a href="#h24-0-146" id="h24-0-146" class="d">-    update_bare: &quot;UPDATE test&quot;,
</a><a href="#h24-0-147" id="h24-0-147" class="d">-    update_bare_set: &quot;UPDATE test SET&quot;,
</a><a href="#h24-0-148" id="h24-0-148" class="d">-    update_bare_where: &quot;UPDATE test SET name = &#39;x&#39; WHERE&quot;,
</a><a href="#h24-0-149" id="h24-0-149" class="d">-    update_bare_no_table: &quot;UPDATE&quot;,
</a><a href="#h24-0-150" id="h24-0-150" class="d">-}
</a><b>diff --git a/<a id="h25" href="../file/tests/sql/mutation/delete_all.html">tests/sql/mutation/delete_all</a> b/<a href="../file/tests/sql/mutation/delete_all.html">tests/sql/mutation/delete_all</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h25-0-0" id="h25-0-0" class="d">-Query: DELETE FROM test
</a><a href="#h25-0-1" id="h25-0-1" class="d">-Result: Delete { count: 3 }
</a><a href="#h25-0-2" id="h25-0-2" class="d">-
</a><a href="#h25-0-3" id="h25-0-3" class="d">-Storage:
</a><a href="#h25-0-4" id="h25-0-4" class="d">-CREATE TABLE other (
</a><a href="#h25-0-5" id="h25-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h25-0-6" id="h25-0-6" class="d">-)
</a><a href="#h25-0-7" id="h25-0-7" class="d">-[Integer(1)]
</a><a href="#h25-0-8" id="h25-0-8" class="d">-[Integer(2)]
</a><a href="#h25-0-9" id="h25-0-9" class="d">-[Integer(3)]
</a><a href="#h25-0-10" id="h25-0-10" class="d">-
</a><a href="#h25-0-11" id="h25-0-11" class="d">-CREATE TABLE test (
</a><a href="#h25-0-12" id="h25-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h25-0-13" id="h25-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h25-0-14" id="h25-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h25-0-15" id="h25-0-15" class="d">-)
</a><a href="#h25-0-16" id="h25-0-16" class="d">-
</a><a href="#h25-0-17" id="h25-0-17" class="d">-Index test.name
</a><b>diff --git a/<a id="h26" href="../file/tests/sql/mutation/delete_bare.html">tests/sql/mutation/delete_bare</a> b/<a href="../file/tests/sql/mutation/delete_bare.html">tests/sql/mutation/delete_bare</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h26-0-0" id="h26-0-0" class="d">-Query: DELETE
</a><a href="#h26-0-1" id="h26-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h26-0-2" id="h26-0-2" class="d">-
</a><a href="#h26-0-3" id="h26-0-3" class="d">-Storage:
</a><a href="#h26-0-4" id="h26-0-4" class="d">-CREATE TABLE other (
</a><a href="#h26-0-5" id="h26-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h26-0-6" id="h26-0-6" class="d">-)
</a><a href="#h26-0-7" id="h26-0-7" class="d">-[Integer(1)]
</a><a href="#h26-0-8" id="h26-0-8" class="d">-[Integer(2)]
</a><a href="#h26-0-9" id="h26-0-9" class="d">-[Integer(3)]
</a><a href="#h26-0-10" id="h26-0-10" class="d">-
</a><a href="#h26-0-11" id="h26-0-11" class="d">-CREATE TABLE test (
</a><a href="#h26-0-12" id="h26-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h26-0-13" id="h26-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h26-0-14" id="h26-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h26-0-15" id="h26-0-15" class="d">-)
</a><a href="#h26-0-16" id="h26-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h26-0-17" id="h26-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h26-0-18" id="h26-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h26-0-19" id="h26-0-19" class="d">-
</a><a href="#h26-0-20" id="h26-0-20" class="d">-Index test.name
</a><a href="#h26-0-21" id="h26-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h26-0-22" id="h26-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h26-0-23" id="h26-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h27" href="../file/tests/sql/mutation/delete_bare_from.html">tests/sql/mutation/delete_bare_from</a> b/<a href="../file/tests/sql/mutation/delete_bare_from.html">tests/sql/mutation/delete_bare_from</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h27-0-0" id="h27-0-0" class="d">-Query: DELETE FROM
</a><a href="#h27-0-1" id="h27-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h27-0-2" id="h27-0-2" class="d">-
</a><a href="#h27-0-3" id="h27-0-3" class="d">-Storage:
</a><a href="#h27-0-4" id="h27-0-4" class="d">-CREATE TABLE other (
</a><a href="#h27-0-5" id="h27-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h27-0-6" id="h27-0-6" class="d">-)
</a><a href="#h27-0-7" id="h27-0-7" class="d">-[Integer(1)]
</a><a href="#h27-0-8" id="h27-0-8" class="d">-[Integer(2)]
</a><a href="#h27-0-9" id="h27-0-9" class="d">-[Integer(3)]
</a><a href="#h27-0-10" id="h27-0-10" class="d">-
</a><a href="#h27-0-11" id="h27-0-11" class="d">-CREATE TABLE test (
</a><a href="#h27-0-12" id="h27-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h27-0-13" id="h27-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h27-0-14" id="h27-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h27-0-15" id="h27-0-15" class="d">-)
</a><a href="#h27-0-16" id="h27-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h27-0-17" id="h27-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h27-0-18" id="h27-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h27-0-19" id="h27-0-19" class="d">-
</a><a href="#h27-0-20" id="h27-0-20" class="d">-Index test.name
</a><a href="#h27-0-21" id="h27-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h27-0-22" id="h27-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h27-0-23" id="h27-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h28" href="../file/tests/sql/mutation/delete_bare_where.html">tests/sql/mutation/delete_bare_where</a> b/<a href="../file/tests/sql/mutation/delete_bare_where.html">tests/sql/mutation/delete_bare_where</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h28-0-0" id="h28-0-0" class="d">-Query: DELETE FROM test WHERE
</a><a href="#h28-0-1" id="h28-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h28-0-2" id="h28-0-2" class="d">-
</a><a href="#h28-0-3" id="h28-0-3" class="d">-Storage:
</a><a href="#h28-0-4" id="h28-0-4" class="d">-CREATE TABLE other (
</a><a href="#h28-0-5" id="h28-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h28-0-6" id="h28-0-6" class="d">-)
</a><a href="#h28-0-7" id="h28-0-7" class="d">-[Integer(1)]
</a><a href="#h28-0-8" id="h28-0-8" class="d">-[Integer(2)]
</a><a href="#h28-0-9" id="h28-0-9" class="d">-[Integer(3)]
</a><a href="#h28-0-10" id="h28-0-10" class="d">-
</a><a href="#h28-0-11" id="h28-0-11" class="d">-CREATE TABLE test (
</a><a href="#h28-0-12" id="h28-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h28-0-13" id="h28-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h28-0-14" id="h28-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h28-0-15" id="h28-0-15" class="d">-)
</a><a href="#h28-0-16" id="h28-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h28-0-17" id="h28-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h28-0-18" id="h28-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h28-0-19" id="h28-0-19" class="d">-
</a><a href="#h28-0-20" id="h28-0-20" class="d">-Index test.name
</a><a href="#h28-0-21" id="h28-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h28-0-22" id="h28-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h28-0-23" id="h28-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h29" href="../file/tests/sql/mutation/delete_case.html">tests/sql/mutation/delete_case</a> b/<a href="../file/tests/sql/mutation/delete_case.html">tests/sql/mutation/delete_case</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h29-0-0" id="h29-0-0" class="d">-Query: DELETE FROM TeSt WHERE ID = 1
</a><a href="#h29-0-1" id="h29-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h29-0-2" id="h29-0-2" class="d">-
</a><a href="#h29-0-3" id="h29-0-3" class="d">-Storage:
</a><a href="#h29-0-4" id="h29-0-4" class="d">-CREATE TABLE other (
</a><a href="#h29-0-5" id="h29-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h29-0-6" id="h29-0-6" class="d">-)
</a><a href="#h29-0-7" id="h29-0-7" class="d">-[Integer(1)]
</a><a href="#h29-0-8" id="h29-0-8" class="d">-[Integer(2)]
</a><a href="#h29-0-9" id="h29-0-9" class="d">-[Integer(3)]
</a><a href="#h29-0-10" id="h29-0-10" class="d">-
</a><a href="#h29-0-11" id="h29-0-11" class="d">-CREATE TABLE test (
</a><a href="#h29-0-12" id="h29-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h29-0-13" id="h29-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h29-0-14" id="h29-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h29-0-15" id="h29-0-15" class="d">-)
</a><a href="#h29-0-16" id="h29-0-16" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h29-0-17" id="h29-0-17" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h29-0-18" id="h29-0-18" class="d">-
</a><a href="#h29-0-19" id="h29-0-19" class="d">-Index test.name
</a><a href="#h29-0-20" id="h29-0-20" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h29-0-21" id="h29-0-21" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h30" href="../file/tests/sql/mutation/delete_missing_column_where.html">tests/sql/mutation/delete_missing_column_where</a> b/<a href="../file/tests/sql/mutation/delete_missing_column_where.html">tests/sql/mutation/delete_missing_column_where</a></b>
<a href="#h30-0" id="h30-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h30-0-0" id="h30-0-0" class="d">-Query: DELETE FROM test WHERE missing = TRUE
</a><a href="#h30-0-1" id="h30-0-1" class="d">-Error: InvalidInput(&quot;unknown field missing&quot;)
</a><a href="#h30-0-2" id="h30-0-2" class="d">-
</a><a href="#h30-0-3" id="h30-0-3" class="d">-Storage:
</a><a href="#h30-0-4" id="h30-0-4" class="d">-CREATE TABLE other (
</a><a href="#h30-0-5" id="h30-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h30-0-6" id="h30-0-6" class="d">-)
</a><a href="#h30-0-7" id="h30-0-7" class="d">-[Integer(1)]
</a><a href="#h30-0-8" id="h30-0-8" class="d">-[Integer(2)]
</a><a href="#h30-0-9" id="h30-0-9" class="d">-[Integer(3)]
</a><a href="#h30-0-10" id="h30-0-10" class="d">-
</a><a href="#h30-0-11" id="h30-0-11" class="d">-CREATE TABLE test (
</a><a href="#h30-0-12" id="h30-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h30-0-13" id="h30-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h30-0-14" id="h30-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h30-0-15" id="h30-0-15" class="d">-)
</a><a href="#h30-0-16" id="h30-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h30-0-17" id="h30-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h30-0-18" id="h30-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h30-0-19" id="h30-0-19" class="d">-
</a><a href="#h30-0-20" id="h30-0-20" class="d">-Index test.name
</a><a href="#h30-0-21" id="h30-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h30-0-22" id="h30-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h30-0-23" id="h30-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h31" href="../file/tests/sql/mutation/delete_missing_table.html">tests/sql/mutation/delete_missing_table</a> b/<a href="../file/tests/sql/mutation/delete_missing_table.html">tests/sql/mutation/delete_missing_table</a></b>
<a href="#h31-0" id="h31-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h31-0-0" id="h31-0-0" class="d">-Query: DELETE FROM missing
</a><a href="#h31-0-1" id="h31-0-1" class="d">-Error: InvalidInput(&quot;table missing does not exist&quot;)
</a><a href="#h31-0-2" id="h31-0-2" class="d">-
</a><a href="#h31-0-3" id="h31-0-3" class="d">-Storage:
</a><a href="#h31-0-4" id="h31-0-4" class="d">-CREATE TABLE other (
</a><a href="#h31-0-5" id="h31-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h31-0-6" id="h31-0-6" class="d">-)
</a><a href="#h31-0-7" id="h31-0-7" class="d">-[Integer(1)]
</a><a href="#h31-0-8" id="h31-0-8" class="d">-[Integer(2)]
</a><a href="#h31-0-9" id="h31-0-9" class="d">-[Integer(3)]
</a><a href="#h31-0-10" id="h31-0-10" class="d">-
</a><a href="#h31-0-11" id="h31-0-11" class="d">-CREATE TABLE test (
</a><a href="#h31-0-12" id="h31-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h31-0-13" id="h31-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h31-0-14" id="h31-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h31-0-15" id="h31-0-15" class="d">-)
</a><a href="#h31-0-16" id="h31-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h31-0-17" id="h31-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h31-0-18" id="h31-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h31-0-19" id="h31-0-19" class="d">-
</a><a href="#h31-0-20" id="h31-0-20" class="d">-Index test.name
</a><a href="#h31-0-21" id="h31-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h31-0-22" id="h31-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h31-0-23" id="h31-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h32" href="../file/tests/sql/mutation/delete_multiple_tables.html">tests/sql/mutation/delete_multiple_tables</a> b/<a href="../file/tests/sql/mutation/delete_multiple_tables.html">tests/sql/mutation/delete_multiple_tables</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h32-0-0" id="h32-0-0" class="d">-Query: DELETE FROM test, other WHERE id = 1
</a><a href="#h32-0-1" id="h32-0-1" class="d">-Error: InvalidInput(&quot;unexpected token ,&quot;)
</a><a href="#h32-0-2" id="h32-0-2" class="d">-
</a><a href="#h32-0-3" id="h32-0-3" class="d">-Storage:
</a><a href="#h32-0-4" id="h32-0-4" class="d">-CREATE TABLE other (
</a><a href="#h32-0-5" id="h32-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h32-0-6" id="h32-0-6" class="d">-)
</a><a href="#h32-0-7" id="h32-0-7" class="d">-[Integer(1)]
</a><a href="#h32-0-8" id="h32-0-8" class="d">-[Integer(2)]
</a><a href="#h32-0-9" id="h32-0-9" class="d">-[Integer(3)]
</a><a href="#h32-0-10" id="h32-0-10" class="d">-
</a><a href="#h32-0-11" id="h32-0-11" class="d">-CREATE TABLE test (
</a><a href="#h32-0-12" id="h32-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h32-0-13" id="h32-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h32-0-14" id="h32-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h32-0-15" id="h32-0-15" class="d">-)
</a><a href="#h32-0-16" id="h32-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h32-0-17" id="h32-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h32-0-18" id="h32-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h32-0-19" id="h32-0-19" class="d">-
</a><a href="#h32-0-20" id="h32-0-20" class="d">-Index test.name
</a><a href="#h32-0-21" id="h32-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h32-0-22" id="h32-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h32-0-23" id="h32-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h33" href="../file/tests/sql/mutation/delete_where.html">tests/sql/mutation/delete_where</a> b/<a href="../file/tests/sql/mutation/delete_where.html">tests/sql/mutation/delete_where</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h33-0-0" id="h33-0-0" class="d">-Query: DELETE FROM test WHERE id = 1
</a><a href="#h33-0-1" id="h33-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h33-0-2" id="h33-0-2" class="d">-
</a><a href="#h33-0-3" id="h33-0-3" class="d">-Storage:
</a><a href="#h33-0-4" id="h33-0-4" class="d">-CREATE TABLE other (
</a><a href="#h33-0-5" id="h33-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h33-0-6" id="h33-0-6" class="d">-)
</a><a href="#h33-0-7" id="h33-0-7" class="d">-[Integer(1)]
</a><a href="#h33-0-8" id="h33-0-8" class="d">-[Integer(2)]
</a><a href="#h33-0-9" id="h33-0-9" class="d">-[Integer(3)]
</a><a href="#h33-0-10" id="h33-0-10" class="d">-
</a><a href="#h33-0-11" id="h33-0-11" class="d">-CREATE TABLE test (
</a><a href="#h33-0-12" id="h33-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h33-0-13" id="h33-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h33-0-14" id="h33-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h33-0-15" id="h33-0-15" class="d">-)
</a><a href="#h33-0-16" id="h33-0-16" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h33-0-17" id="h33-0-17" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h33-0-18" id="h33-0-18" class="d">-
</a><a href="#h33-0-19" id="h33-0-19" class="d">-Index test.name
</a><a href="#h33-0-20" id="h33-0-20" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h33-0-21" id="h33-0-21" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h34" href="../file/tests/sql/mutation/delete_where_and.html">tests/sql/mutation/delete_where_and</a> b/<a href="../file/tests/sql/mutation/delete_where_and.html">tests/sql/mutation/delete_where_and</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h34-0-0" id="h34-0-0" class="d">-Query: DELETE FROM test WHERE id = 1 AND name = &#39;a&#39;
</a><a href="#h34-0-1" id="h34-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h34-0-2" id="h34-0-2" class="d">-
</a><a href="#h34-0-3" id="h34-0-3" class="d">-Storage:
</a><a href="#h34-0-4" id="h34-0-4" class="d">-CREATE TABLE other (
</a><a href="#h34-0-5" id="h34-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h34-0-6" id="h34-0-6" class="d">-)
</a><a href="#h34-0-7" id="h34-0-7" class="d">-[Integer(1)]
</a><a href="#h34-0-8" id="h34-0-8" class="d">-[Integer(2)]
</a><a href="#h34-0-9" id="h34-0-9" class="d">-[Integer(3)]
</a><a href="#h34-0-10" id="h34-0-10" class="d">-
</a><a href="#h34-0-11" id="h34-0-11" class="d">-CREATE TABLE test (
</a><a href="#h34-0-12" id="h34-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h34-0-13" id="h34-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h34-0-14" id="h34-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h34-0-15" id="h34-0-15" class="d">-)
</a><a href="#h34-0-16" id="h34-0-16" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h34-0-17" id="h34-0-17" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h34-0-18" id="h34-0-18" class="d">-
</a><a href="#h34-0-19" id="h34-0-19" class="d">-Index test.name
</a><a href="#h34-0-20" id="h34-0-20" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h34-0-21" id="h34-0-21" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h35" href="../file/tests/sql/mutation/delete_where_expr.html">tests/sql/mutation/delete_where_expr</a> b/<a href="../file/tests/sql/mutation/delete_where_expr.html">tests/sql/mutation/delete_where_expr</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h35-0-0" id="h35-0-0" class="d">-Query: DELETE FROM test WHERE id = 3 - 2 AND name LIKE &#39;a%&#39;
</a><a href="#h35-0-1" id="h35-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h35-0-2" id="h35-0-2" class="d">-
</a><a href="#h35-0-3" id="h35-0-3" class="d">-Storage:
</a><a href="#h35-0-4" id="h35-0-4" class="d">-CREATE TABLE other (
</a><a href="#h35-0-5" id="h35-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h35-0-6" id="h35-0-6" class="d">-)
</a><a href="#h35-0-7" id="h35-0-7" class="d">-[Integer(1)]
</a><a href="#h35-0-8" id="h35-0-8" class="d">-[Integer(2)]
</a><a href="#h35-0-9" id="h35-0-9" class="d">-[Integer(3)]
</a><a href="#h35-0-10" id="h35-0-10" class="d">-
</a><a href="#h35-0-11" id="h35-0-11" class="d">-CREATE TABLE test (
</a><a href="#h35-0-12" id="h35-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h35-0-13" id="h35-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h35-0-14" id="h35-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h35-0-15" id="h35-0-15" class="d">-)
</a><a href="#h35-0-16" id="h35-0-16" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h35-0-17" id="h35-0-17" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h35-0-18" id="h35-0-18" class="d">-
</a><a href="#h35-0-19" id="h35-0-19" class="d">-Index test.name
</a><a href="#h35-0-20" id="h35-0-20" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h35-0-21" id="h35-0-21" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h36" href="../file/tests/sql/mutation/delete_where_false.html">tests/sql/mutation/delete_where_false</a> b/<a href="../file/tests/sql/mutation/delete_where_false.html">tests/sql/mutation/delete_where_false</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h36-0-0" id="h36-0-0" class="d">-Query: DELETE FROM test WHERE FALSE
</a><a href="#h36-0-1" id="h36-0-1" class="d">-Result: Delete { count: 0 }
</a><a href="#h36-0-2" id="h36-0-2" class="d">-
</a><a href="#h36-0-3" id="h36-0-3" class="d">-Storage:
</a><a href="#h36-0-4" id="h36-0-4" class="d">-CREATE TABLE other (
</a><a href="#h36-0-5" id="h36-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h36-0-6" id="h36-0-6" class="d">-)
</a><a href="#h36-0-7" id="h36-0-7" class="d">-[Integer(1)]
</a><a href="#h36-0-8" id="h36-0-8" class="d">-[Integer(2)]
</a><a href="#h36-0-9" id="h36-0-9" class="d">-[Integer(3)]
</a><a href="#h36-0-10" id="h36-0-10" class="d">-
</a><a href="#h36-0-11" id="h36-0-11" class="d">-CREATE TABLE test (
</a><a href="#h36-0-12" id="h36-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h36-0-13" id="h36-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h36-0-14" id="h36-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h36-0-15" id="h36-0-15" class="d">-)
</a><a href="#h36-0-16" id="h36-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h36-0-17" id="h36-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h36-0-18" id="h36-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h36-0-19" id="h36-0-19" class="d">-
</a><a href="#h36-0-20" id="h36-0-20" class="d">-Index test.name
</a><a href="#h36-0-21" id="h36-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h36-0-22" id="h36-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h36-0-23" id="h36-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h37" href="../file/tests/sql/mutation/delete_where_float.html">tests/sql/mutation/delete_where_float</a> b/<a href="../file/tests/sql/mutation/delete_where_float.html">tests/sql/mutation/delete_where_float</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h37-0-0" id="h37-0-0" class="d">-Query: DELETE FROM test WHERE 3.14
</a><a href="#h37-0-1" id="h37-0-1" class="d">-Error: InvalidInput(&quot;filter returned 3.14, expected boolean&quot;)
</a><a href="#h37-0-2" id="h37-0-2" class="d">-
</a><a href="#h37-0-3" id="h37-0-3" class="d">-Storage:
</a><a href="#h37-0-4" id="h37-0-4" class="d">-CREATE TABLE other (
</a><a href="#h37-0-5" id="h37-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h37-0-6" id="h37-0-6" class="d">-)
</a><a href="#h37-0-7" id="h37-0-7" class="d">-[Integer(1)]
</a><a href="#h37-0-8" id="h37-0-8" class="d">-[Integer(2)]
</a><a href="#h37-0-9" id="h37-0-9" class="d">-[Integer(3)]
</a><a href="#h37-0-10" id="h37-0-10" class="d">-
</a><a href="#h37-0-11" id="h37-0-11" class="d">-CREATE TABLE test (
</a><a href="#h37-0-12" id="h37-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h37-0-13" id="h37-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h37-0-14" id="h37-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h37-0-15" id="h37-0-15" class="d">-)
</a><a href="#h37-0-16" id="h37-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h37-0-17" id="h37-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h37-0-18" id="h37-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h37-0-19" id="h37-0-19" class="d">-
</a><a href="#h37-0-20" id="h37-0-20" class="d">-Index test.name
</a><a href="#h37-0-21" id="h37-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h37-0-22" id="h37-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h37-0-23" id="h37-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h38" href="../file/tests/sql/mutation/delete_where_integer.html">tests/sql/mutation/delete_where_integer</a> b/<a href="../file/tests/sql/mutation/delete_where_integer.html">tests/sql/mutation/delete_where_integer</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h38-0-0" id="h38-0-0" class="d">-Query: DELETE FROM test WHERE 1
</a><a href="#h38-0-1" id="h38-0-1" class="d">-Error: InvalidInput(&quot;filter returned 1, expected boolean&quot;)
</a><a href="#h38-0-2" id="h38-0-2" class="d">-
</a><a href="#h38-0-3" id="h38-0-3" class="d">-Storage:
</a><a href="#h38-0-4" id="h38-0-4" class="d">-CREATE TABLE other (
</a><a href="#h38-0-5" id="h38-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h38-0-6" id="h38-0-6" class="d">-)
</a><a href="#h38-0-7" id="h38-0-7" class="d">-[Integer(1)]
</a><a href="#h38-0-8" id="h38-0-8" class="d">-[Integer(2)]
</a><a href="#h38-0-9" id="h38-0-9" class="d">-[Integer(3)]
</a><a href="#h38-0-10" id="h38-0-10" class="d">-
</a><a href="#h38-0-11" id="h38-0-11" class="d">-CREATE TABLE test (
</a><a href="#h38-0-12" id="h38-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h38-0-13" id="h38-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h38-0-14" id="h38-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h38-0-15" id="h38-0-15" class="d">-)
</a><a href="#h38-0-16" id="h38-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h38-0-17" id="h38-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h38-0-18" id="h38-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h38-0-19" id="h38-0-19" class="d">-
</a><a href="#h38-0-20" id="h38-0-20" class="d">-Index test.name
</a><a href="#h38-0-21" id="h38-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h38-0-22" id="h38-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h38-0-23" id="h38-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h39" href="../file/tests/sql/mutation/delete_where_null.html">tests/sql/mutation/delete_where_null</a> b/<a href="../file/tests/sql/mutation/delete_where_null.html">tests/sql/mutation/delete_where_null</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h39-0-0" id="h39-0-0" class="d">-Query: DELETE FROM test WHERE NULL
</a><a href="#h39-0-1" id="h39-0-1" class="d">-Result: Delete { count: 0 }
</a><a href="#h39-0-2" id="h39-0-2" class="d">-
</a><a href="#h39-0-3" id="h39-0-3" class="d">-Storage:
</a><a href="#h39-0-4" id="h39-0-4" class="d">-CREATE TABLE other (
</a><a href="#h39-0-5" id="h39-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h39-0-6" id="h39-0-6" class="d">-)
</a><a href="#h39-0-7" id="h39-0-7" class="d">-[Integer(1)]
</a><a href="#h39-0-8" id="h39-0-8" class="d">-[Integer(2)]
</a><a href="#h39-0-9" id="h39-0-9" class="d">-[Integer(3)]
</a><a href="#h39-0-10" id="h39-0-10" class="d">-
</a><a href="#h39-0-11" id="h39-0-11" class="d">-CREATE TABLE test (
</a><a href="#h39-0-12" id="h39-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h39-0-13" id="h39-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h39-0-14" id="h39-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h39-0-15" id="h39-0-15" class="d">-)
</a><a href="#h39-0-16" id="h39-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h39-0-17" id="h39-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h39-0-18" id="h39-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h39-0-19" id="h39-0-19" class="d">-
</a><a href="#h39-0-20" id="h39-0-20" class="d">-Index test.name
</a><a href="#h39-0-21" id="h39-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h39-0-22" id="h39-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h39-0-23" id="h39-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h40" href="../file/tests/sql/mutation/delete_where_string.html">tests/sql/mutation/delete_where_string</a> b/<a href="../file/tests/sql/mutation/delete_where_string.html">tests/sql/mutation/delete_where_string</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h40-0-0" id="h40-0-0" class="d">-Query: DELETE FROM test WHERE &#39;a&#39;
</a><a href="#h40-0-1" id="h40-0-1" class="d">-Error: InvalidInput(&quot;filter returned a, expected boolean&quot;)
</a><a href="#h40-0-2" id="h40-0-2" class="d">-
</a><a href="#h40-0-3" id="h40-0-3" class="d">-Storage:
</a><a href="#h40-0-4" id="h40-0-4" class="d">-CREATE TABLE other (
</a><a href="#h40-0-5" id="h40-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h40-0-6" id="h40-0-6" class="d">-)
</a><a href="#h40-0-7" id="h40-0-7" class="d">-[Integer(1)]
</a><a href="#h40-0-8" id="h40-0-8" class="d">-[Integer(2)]
</a><a href="#h40-0-9" id="h40-0-9" class="d">-[Integer(3)]
</a><a href="#h40-0-10" id="h40-0-10" class="d">-
</a><a href="#h40-0-11" id="h40-0-11" class="d">-CREATE TABLE test (
</a><a href="#h40-0-12" id="h40-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h40-0-13" id="h40-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h40-0-14" id="h40-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h40-0-15" id="h40-0-15" class="d">-)
</a><a href="#h40-0-16" id="h40-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h40-0-17" id="h40-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h40-0-18" id="h40-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h40-0-19" id="h40-0-19" class="d">-
</a><a href="#h40-0-20" id="h40-0-20" class="d">-Index test.name
</a><a href="#h40-0-21" id="h40-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h40-0-22" id="h40-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h40-0-23" id="h40-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h41" href="../file/tests/sql/mutation/delete_where_true.html">tests/sql/mutation/delete_where_true</a> b/<a href="../file/tests/sql/mutation/delete_where_true.html">tests/sql/mutation/delete_where_true</a></b>
<a href="#h41-0" id="h41-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h41-0-0" id="h41-0-0" class="d">-Query: DELETE FROM test WHERE TRUE
</a><a href="#h41-0-1" id="h41-0-1" class="d">-Result: Delete { count: 3 }
</a><a href="#h41-0-2" id="h41-0-2" class="d">-
</a><a href="#h41-0-3" id="h41-0-3" class="d">-Storage:
</a><a href="#h41-0-4" id="h41-0-4" class="d">-CREATE TABLE other (
</a><a href="#h41-0-5" id="h41-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h41-0-6" id="h41-0-6" class="d">-)
</a><a href="#h41-0-7" id="h41-0-7" class="d">-[Integer(1)]
</a><a href="#h41-0-8" id="h41-0-8" class="d">-[Integer(2)]
</a><a href="#h41-0-9" id="h41-0-9" class="d">-[Integer(3)]
</a><a href="#h41-0-10" id="h41-0-10" class="d">-
</a><a href="#h41-0-11" id="h41-0-11" class="d">-CREATE TABLE test (
</a><a href="#h41-0-12" id="h41-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h41-0-13" id="h41-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h41-0-14" id="h41-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h41-0-15" id="h41-0-15" class="d">-)
</a><a href="#h41-0-16" id="h41-0-16" class="d">-
</a><a href="#h41-0-17" id="h41-0-17" class="d">-Index test.name
</a><b>diff --git a/<a id="h42" href="../file/tests/sql/mutation/insert_bare.html">tests/sql/mutation/insert_bare</a> b/<a href="../file/tests/sql/mutation/insert_bare.html">tests/sql/mutation/insert_bare</a></b>
<a href="#h42-0" id="h42-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h42-0-0" id="h42-0-0" class="d">-Query: INSERT INTO test
</a><a href="#h42-0-1" id="h42-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h42-0-2" id="h42-0-2" class="d">-
</a><a href="#h42-0-3" id="h42-0-3" class="d">-Storage:
</a><a href="#h42-0-4" id="h42-0-4" class="d">-CREATE TABLE other (
</a><a href="#h42-0-5" id="h42-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h42-0-6" id="h42-0-6" class="d">-)
</a><a href="#h42-0-7" id="h42-0-7" class="d">-
</a><a href="#h42-0-8" id="h42-0-8" class="d">-CREATE TABLE test (
</a><a href="#h42-0-9" id="h42-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h42-0-10" id="h42-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h42-0-11" id="h42-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h42-0-12" id="h42-0-12" class="d">-)
</a><a href="#h42-0-13" id="h42-0-13" class="d">-
</a><a href="#h42-0-14" id="h42-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h43" href="../file/tests/sql/mutation/insert_bare_no_table.html">tests/sql/mutation/insert_bare_no_table</a> b/<a href="../file/tests/sql/mutation/insert_bare_no_table.html">tests/sql/mutation/insert_bare_no_table</a></b>
<a href="#h43-0" id="h43-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h43-0-0" id="h43-0-0" class="d">-Query: INSERT INTO
</a><a href="#h43-0-1" id="h43-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h43-0-2" id="h43-0-2" class="d">-
</a><a href="#h43-0-3" id="h43-0-3" class="d">-Storage:
</a><a href="#h43-0-4" id="h43-0-4" class="d">-CREATE TABLE other (
</a><a href="#h43-0-5" id="h43-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h43-0-6" id="h43-0-6" class="d">-)
</a><a href="#h43-0-7" id="h43-0-7" class="d">-
</a><a href="#h43-0-8" id="h43-0-8" class="d">-CREATE TABLE test (
</a><a href="#h43-0-9" id="h43-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h43-0-10" id="h43-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h43-0-11" id="h43-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h43-0-12" id="h43-0-12" class="d">-)
</a><a href="#h43-0-13" id="h43-0-13" class="d">-
</a><a href="#h43-0-14" id="h43-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h44" href="../file/tests/sql/mutation/insert_bare_values.html">tests/sql/mutation/insert_bare_values</a> b/<a href="../file/tests/sql/mutation/insert_bare_values.html">tests/sql/mutation/insert_bare_values</a></b>
<a href="#h44-0" id="h44-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h44-0-0" id="h44-0-0" class="d">-Query: INSERT INTO test VALUES
</a><a href="#h44-0-1" id="h44-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h44-0-2" id="h44-0-2" class="d">-
</a><a href="#h44-0-3" id="h44-0-3" class="d">-Storage:
</a><a href="#h44-0-4" id="h44-0-4" class="d">-CREATE TABLE other (
</a><a href="#h44-0-5" id="h44-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h44-0-6" id="h44-0-6" class="d">-)
</a><a href="#h44-0-7" id="h44-0-7" class="d">-
</a><a href="#h44-0-8" id="h44-0-8" class="d">-CREATE TABLE test (
</a><a href="#h44-0-9" id="h44-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h44-0-10" id="h44-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h44-0-11" id="h44-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h44-0-12" id="h44-0-12" class="d">-)
</a><a href="#h44-0-13" id="h44-0-13" class="d">-
</a><a href="#h44-0-14" id="h44-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h45" href="../file/tests/sql/mutation/insert_case.html">tests/sql/mutation/insert_case</a> b/<a href="../file/tests/sql/mutation/insert_case.html">tests/sql/mutation/insert_case</a></b>
<a href="#h45-0" id="h45-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h45-0-0" id="h45-0-0" class="d">-Query: INSERT INTO TeSt (ID, Name) VALUES (1, &#39;a&#39;)
</a><a href="#h45-0-1" id="h45-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h45-0-2" id="h45-0-2" class="d">-
</a><a href="#h45-0-3" id="h45-0-3" class="d">-Storage:
</a><a href="#h45-0-4" id="h45-0-4" class="d">-CREATE TABLE other (
</a><a href="#h45-0-5" id="h45-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h45-0-6" id="h45-0-6" class="d">-)
</a><a href="#h45-0-7" id="h45-0-7" class="d">-
</a><a href="#h45-0-8" id="h45-0-8" class="d">-CREATE TABLE test (
</a><a href="#h45-0-9" id="h45-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h45-0-10" id="h45-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h45-0-11" id="h45-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h45-0-12" id="h45-0-12" class="d">-)
</a><a href="#h45-0-13" id="h45-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Null]
</a><a href="#h45-0-14" id="h45-0-14" class="d">-
</a><a href="#h45-0-15" id="h45-0-15" class="d">-Index test.name
</a><a href="#h45-0-16" id="h45-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h46" href="../file/tests/sql/mutation/insert_empty_both.html">tests/sql/mutation/insert_empty_both</a> b/<a href="../file/tests/sql/mutation/insert_empty_both.html">tests/sql/mutation/insert_empty_both</a></b>
<a href="#h46-0" id="h46-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h46-0-0" id="h46-0-0" class="d">-Query: INSERT INTO test () VALUES ()
</a><a href="#h46-0-1" id="h46-0-1" class="d">-Error: InvalidInput(&quot;expected identifier, got )&quot;)
</a><a href="#h46-0-2" id="h46-0-2" class="d">-
</a><a href="#h46-0-3" id="h46-0-3" class="d">-Storage:
</a><a href="#h46-0-4" id="h46-0-4" class="d">-CREATE TABLE other (
</a><a href="#h46-0-5" id="h46-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h46-0-6" id="h46-0-6" class="d">-)
</a><a href="#h46-0-7" id="h46-0-7" class="d">-
</a><a href="#h46-0-8" id="h46-0-8" class="d">-CREATE TABLE test (
</a><a href="#h46-0-9" id="h46-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h46-0-10" id="h46-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h46-0-11" id="h46-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h46-0-12" id="h46-0-12" class="d">-)
</a><a href="#h46-0-13" id="h46-0-13" class="d">-
</a><a href="#h46-0-14" id="h46-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h47" href="../file/tests/sql/mutation/insert_empty_columns.html">tests/sql/mutation/insert_empty_columns</a> b/<a href="../file/tests/sql/mutation/insert_empty_columns.html">tests/sql/mutation/insert_empty_columns</a></b>
<a href="#h47-0" id="h47-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h47-0-0" id="h47-0-0" class="d">-Query: INSERT INTO test ()
</a><a href="#h47-0-1" id="h47-0-1" class="d">-Error: InvalidInput(&quot;expected identifier, got )&quot;)
</a><a href="#h47-0-2" id="h47-0-2" class="d">-
</a><a href="#h47-0-3" id="h47-0-3" class="d">-Storage:
</a><a href="#h47-0-4" id="h47-0-4" class="d">-CREATE TABLE other (
</a><a href="#h47-0-5" id="h47-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h47-0-6" id="h47-0-6" class="d">-)
</a><a href="#h47-0-7" id="h47-0-7" class="d">-
</a><a href="#h47-0-8" id="h47-0-8" class="d">-CREATE TABLE test (
</a><a href="#h47-0-9" id="h47-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h47-0-10" id="h47-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h47-0-11" id="h47-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h47-0-12" id="h47-0-12" class="d">-)
</a><a href="#h47-0-13" id="h47-0-13" class="d">-
</a><a href="#h47-0-14" id="h47-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h48" href="../file/tests/sql/mutation/insert_empty_values.html">tests/sql/mutation/insert_empty_values</a> b/<a href="../file/tests/sql/mutation/insert_empty_values.html">tests/sql/mutation/insert_empty_values</a></b>
<a href="#h48-0" id="h48-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h48-0-0" id="h48-0-0" class="d">-Query: INSERT INTO test VALUES ()
</a><a href="#h48-0-1" id="h48-0-1" class="d">-Error: InvalidInput(&quot;expected expression atom, found )&quot;)
</a><a href="#h48-0-2" id="h48-0-2" class="d">-
</a><a href="#h48-0-3" id="h48-0-3" class="d">-Storage:
</a><a href="#h48-0-4" id="h48-0-4" class="d">-CREATE TABLE other (
</a><a href="#h48-0-5" id="h48-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h48-0-6" id="h48-0-6" class="d">-)
</a><a href="#h48-0-7" id="h48-0-7" class="d">-
</a><a href="#h48-0-8" id="h48-0-8" class="d">-CREATE TABLE test (
</a><a href="#h48-0-9" id="h48-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h48-0-10" id="h48-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h48-0-11" id="h48-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h48-0-12" id="h48-0-12" class="d">-)
</a><a href="#h48-0-13" id="h48-0-13" class="d">-
</a><a href="#h48-0-14" id="h48-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h49" href="../file/tests/sql/mutation/insert_expression.html">tests/sql/mutation/insert_expression</a> b/<a href="../file/tests/sql/mutation/insert_expression.html">tests/sql/mutation/insert_expression</a></b>
<a href="#h49-0" id="h49-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h49-0-0" id="h49-0-0" class="d">-Query: INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 1 + 2 * 3)
</a><a href="#h49-0-1" id="h49-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h49-0-2" id="h49-0-2" class="d">-
</a><a href="#h49-0-3" id="h49-0-3" class="d">-Storage:
</a><a href="#h49-0-4" id="h49-0-4" class="d">-CREATE TABLE other (
</a><a href="#h49-0-5" id="h49-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h49-0-6" id="h49-0-6" class="d">-)
</a><a href="#h49-0-7" id="h49-0-7" class="d">-
</a><a href="#h49-0-8" id="h49-0-8" class="d">-CREATE TABLE test (
</a><a href="#h49-0-9" id="h49-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h49-0-10" id="h49-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h49-0-11" id="h49-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h49-0-12" id="h49-0-12" class="d">-)
</a><a href="#h49-0-13" id="h49-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(7)]
</a><a href="#h49-0-14" id="h49-0-14" class="d">-
</a><a href="#h49-0-15" id="h49-0-15" class="d">-Index test.name
</a><a href="#h49-0-16" id="h49-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h50" href="../file/tests/sql/mutation/insert_extra.html">tests/sql/mutation/insert_extra</a> b/<a href="../file/tests/sql/mutation/insert_extra.html">tests/sql/mutation/insert_extra</a></b>
<a href="#h50-0" id="h50-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h50-0-0" id="h50-0-0" class="d">-Query: INSERT INTO test VALUES (1, &#39;a&#39;, 100, NULL)
</a><a href="#h50-0-1" id="h50-0-1" class="d">-Error: InvalidInput(&quot;too many values for table test&quot;)
</a><a href="#h50-0-2" id="h50-0-2" class="d">-
</a><a href="#h50-0-3" id="h50-0-3" class="d">-Storage:
</a><a href="#h50-0-4" id="h50-0-4" class="d">-CREATE TABLE other (
</a><a href="#h50-0-5" id="h50-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h50-0-6" id="h50-0-6" class="d">-)
</a><a href="#h50-0-7" id="h50-0-7" class="d">-
</a><a href="#h50-0-8" id="h50-0-8" class="d">-CREATE TABLE test (
</a><a href="#h50-0-9" id="h50-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h50-0-10" id="h50-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h50-0-11" id="h50-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h50-0-12" id="h50-0-12" class="d">-)
</a><a href="#h50-0-13" id="h50-0-13" class="d">-
</a><a href="#h50-0-14" id="h50-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h51" href="../file/tests/sql/mutation/insert_extra_columns.html">tests/sql/mutation/insert_extra_columns</a> b/<a href="../file/tests/sql/mutation/insert_extra_columns.html">tests/sql/mutation/insert_extra_columns</a></b>
<a href="#h51-0" id="h51-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h51-0-0" id="h51-0-0" class="d">-Query: INSERT INTO test (id, name) VALUES (1, &#39;a&#39;, 100)
</a><a href="#h51-0-1" id="h51-0-1" class="d">-Error: InvalidInput(&quot;column and value counts do not match&quot;)
</a><a href="#h51-0-2" id="h51-0-2" class="d">-
</a><a href="#h51-0-3" id="h51-0-3" class="d">-Storage:
</a><a href="#h51-0-4" id="h51-0-4" class="d">-CREATE TABLE other (
</a><a href="#h51-0-5" id="h51-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h51-0-6" id="h51-0-6" class="d">-)
</a><a href="#h51-0-7" id="h51-0-7" class="d">-
</a><a href="#h51-0-8" id="h51-0-8" class="d">-CREATE TABLE test (
</a><a href="#h51-0-9" id="h51-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h51-0-10" id="h51-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h51-0-11" id="h51-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h51-0-12" id="h51-0-12" class="d">-)
</a><a href="#h51-0-13" id="h51-0-13" class="d">-
</a><a href="#h51-0-14" id="h51-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h52" href="../file/tests/sql/mutation/insert_full.html">tests/sql/mutation/insert_full</a> b/<a href="../file/tests/sql/mutation/insert_full.html">tests/sql/mutation/insert_full</a></b>
<a href="#h52-0" id="h52-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h52-0-0" id="h52-0-0" class="d">-Query: INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101)
</a><a href="#h52-0-1" id="h52-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h52-0-2" id="h52-0-2" class="d">-
</a><a href="#h52-0-3" id="h52-0-3" class="d">-Storage:
</a><a href="#h52-0-4" id="h52-0-4" class="d">-CREATE TABLE other (
</a><a href="#h52-0-5" id="h52-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h52-0-6" id="h52-0-6" class="d">-)
</a><a href="#h52-0-7" id="h52-0-7" class="d">-
</a><a href="#h52-0-8" id="h52-0-8" class="d">-CREATE TABLE test (
</a><a href="#h52-0-9" id="h52-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h52-0-10" id="h52-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h52-0-11" id="h52-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h52-0-12" id="h52-0-12" class="d">-)
</a><a href="#h52-0-13" id="h52-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h52-0-14" id="h52-0-14" class="d">-
</a><a href="#h52-0-15" id="h52-0-15" class="d">-Index test.name
</a><a href="#h52-0-16" id="h52-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h53" href="../file/tests/sql/mutation/insert_full_multiple.html">tests/sql/mutation/insert_full_multiple</a> b/<a href="../file/tests/sql/mutation/insert_full_multiple.html">tests/sql/mutation/insert_full_multiple</a></b>
<a href="#h53-0" id="h53-0" class="h">@@ -1,21 +0,0 @@
</a><a href="#h53-0-0" id="h53-0-0" class="d">-Query: INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)
</a><a href="#h53-0-1" id="h53-0-1" class="d">-Result: Insert { count: 3 }
</a><a href="#h53-0-2" id="h53-0-2" class="d">-
</a><a href="#h53-0-3" id="h53-0-3" class="d">-Storage:
</a><a href="#h53-0-4" id="h53-0-4" class="d">-CREATE TABLE other (
</a><a href="#h53-0-5" id="h53-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h53-0-6" id="h53-0-6" class="d">-)
</a><a href="#h53-0-7" id="h53-0-7" class="d">-
</a><a href="#h53-0-8" id="h53-0-8" class="d">-CREATE TABLE test (
</a><a href="#h53-0-9" id="h53-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h53-0-10" id="h53-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h53-0-11" id="h53-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h53-0-12" id="h53-0-12" class="d">-)
</a><a href="#h53-0-13" id="h53-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h53-0-14" id="h53-0-14" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h53-0-15" id="h53-0-15" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h53-0-16" id="h53-0-16" class="d">-
</a><a href="#h53-0-17" id="h53-0-17" class="d">-Index test.name
</a><a href="#h53-0-18" id="h53-0-18" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h53-0-19" id="h53-0-19" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h53-0-20" id="h53-0-20" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h54" href="../file/tests/sql/mutation/insert_full_order.html">tests/sql/mutation/insert_full_order</a> b/<a href="../file/tests/sql/mutation/insert_full_order.html">tests/sql/mutation/insert_full_order</a></b>
<a href="#h54-0" id="h54-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h54-0-0" id="h54-0-0" class="d">-Query: INSERT INTO test (name, value, id) VALUES (&#39;a&#39;, 101, 1)
</a><a href="#h54-0-1" id="h54-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h54-0-2" id="h54-0-2" class="d">-
</a><a href="#h54-0-3" id="h54-0-3" class="d">-Storage:
</a><a href="#h54-0-4" id="h54-0-4" class="d">-CREATE TABLE other (
</a><a href="#h54-0-5" id="h54-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h54-0-6" id="h54-0-6" class="d">-)
</a><a href="#h54-0-7" id="h54-0-7" class="d">-
</a><a href="#h54-0-8" id="h54-0-8" class="d">-CREATE TABLE test (
</a><a href="#h54-0-9" id="h54-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h54-0-10" id="h54-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h54-0-11" id="h54-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h54-0-12" id="h54-0-12" class="d">-)
</a><a href="#h54-0-13" id="h54-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h54-0-14" id="h54-0-14" class="d">-
</a><a href="#h54-0-15" id="h54-0-15" class="d">-Index test.name
</a><a href="#h54-0-16" id="h54-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h55" href="../file/tests/sql/mutation/insert_full_trailing_comma.html">tests/sql/mutation/insert_full_trailing_comma</a> b/<a href="../file/tests/sql/mutation/insert_full_trailing_comma.html">tests/sql/mutation/insert_full_trailing_comma</a></b>
<a href="#h55-0" id="h55-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h55-0-0" id="h55-0-0" class="d">-Query: INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102),
</a><a href="#h55-0-1" id="h55-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h55-0-2" id="h55-0-2" class="d">-
</a><a href="#h55-0-3" id="h55-0-3" class="d">-Storage:
</a><a href="#h55-0-4" id="h55-0-4" class="d">-CREATE TABLE other (
</a><a href="#h55-0-5" id="h55-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h55-0-6" id="h55-0-6" class="d">-)
</a><a href="#h55-0-7" id="h55-0-7" class="d">-
</a><a href="#h55-0-8" id="h55-0-8" class="d">-CREATE TABLE test (
</a><a href="#h55-0-9" id="h55-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h55-0-10" id="h55-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h55-0-11" id="h55-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h55-0-12" id="h55-0-12" class="d">-)
</a><a href="#h55-0-13" id="h55-0-13" class="d">-
</a><a href="#h55-0-14" id="h55-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h56" href="../file/tests/sql/mutation/insert_missing_column.html">tests/sql/mutation/insert_missing_column</a> b/<a href="../file/tests/sql/mutation/insert_missing_column.html">tests/sql/mutation/insert_missing_column</a></b>
<a href="#h56-0" id="h56-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h56-0-0" id="h56-0-0" class="d">-Query: INSERT INTO test (id, missing) VALUES (0, &#39;x&#39;)
</a><a href="#h56-0-1" id="h56-0-1" class="d">-Error: InvalidInput(&quot;unknown column missing in table test&quot;)
</a><a href="#h56-0-2" id="h56-0-2" class="d">-
</a><a href="#h56-0-3" id="h56-0-3" class="d">-Storage:
</a><a href="#h56-0-4" id="h56-0-4" class="d">-CREATE TABLE other (
</a><a href="#h56-0-5" id="h56-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h56-0-6" id="h56-0-6" class="d">-)
</a><a href="#h56-0-7" id="h56-0-7" class="d">-
</a><a href="#h56-0-8" id="h56-0-8" class="d">-CREATE TABLE test (
</a><a href="#h56-0-9" id="h56-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h56-0-10" id="h56-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h56-0-11" id="h56-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h56-0-12" id="h56-0-12" class="d">-)
</a><a href="#h56-0-13" id="h56-0-13" class="d">-
</a><a href="#h56-0-14" id="h56-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h57" href="../file/tests/sql/mutation/insert_missing_table.html">tests/sql/mutation/insert_missing_table</a> b/<a href="../file/tests/sql/mutation/insert_missing_table.html">tests/sql/mutation/insert_missing_table</a></b>
<a href="#h57-0" id="h57-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h57-0-0" id="h57-0-0" class="d">-Query: INSERT INTO missing (id) VALUES (0)
</a><a href="#h57-0-1" id="h57-0-1" class="d">-Error: InvalidInput(&quot;table missing does not exist&quot;)
</a><a href="#h57-0-2" id="h57-0-2" class="d">-
</a><a href="#h57-0-3" id="h57-0-3" class="d">-Storage:
</a><a href="#h57-0-4" id="h57-0-4" class="d">-CREATE TABLE other (
</a><a href="#h57-0-5" id="h57-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h57-0-6" id="h57-0-6" class="d">-)
</a><a href="#h57-0-7" id="h57-0-7" class="d">-
</a><a href="#h57-0-8" id="h57-0-8" class="d">-CREATE TABLE test (
</a><a href="#h57-0-9" id="h57-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h57-0-10" id="h57-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h57-0-11" id="h57-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h57-0-12" id="h57-0-12" class="d">-)
</a><a href="#h57-0-13" id="h57-0-13" class="d">-
</a><a href="#h57-0-14" id="h57-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h58" href="../file/tests/sql/mutation/insert_multiple_tables.html">tests/sql/mutation/insert_multiple_tables</a> b/<a href="../file/tests/sql/mutation/insert_multiple_tables.html">tests/sql/mutation/insert_multiple_tables</a></b>
<a href="#h58-0" id="h58-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h58-0-0" id="h58-0-0" class="d">-Query: INSERT INTO test, other VALUES (1)
</a><a href="#h58-0-1" id="h58-0-1" class="d">-Error: InvalidInput(&quot;expected token VALUES, found ,&quot;)
</a><a href="#h58-0-2" id="h58-0-2" class="d">-
</a><a href="#h58-0-3" id="h58-0-3" class="d">-Storage:
</a><a href="#h58-0-4" id="h58-0-4" class="d">-CREATE TABLE other (
</a><a href="#h58-0-5" id="h58-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h58-0-6" id="h58-0-6" class="d">-)
</a><a href="#h58-0-7" id="h58-0-7" class="d">-
</a><a href="#h58-0-8" id="h58-0-8" class="d">-CREATE TABLE test (
</a><a href="#h58-0-9" id="h58-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h58-0-10" id="h58-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h58-0-11" id="h58-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h58-0-12" id="h58-0-12" class="d">-)
</a><a href="#h58-0-13" id="h58-0-13" class="d">-
</a><a href="#h58-0-14" id="h58-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h59" href="../file/tests/sql/mutation/insert_no_columns.html">tests/sql/mutation/insert_no_columns</a> b/<a href="../file/tests/sql/mutation/insert_no_columns.html">tests/sql/mutation/insert_no_columns</a></b>
<a href="#h59-0" id="h59-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h59-0-0" id="h59-0-0" class="d">-Query: INSERT INTO test VALUES (1, &#39;a&#39;, 101)
</a><a href="#h59-0-1" id="h59-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h59-0-2" id="h59-0-2" class="d">-
</a><a href="#h59-0-3" id="h59-0-3" class="d">-Storage:
</a><a href="#h59-0-4" id="h59-0-4" class="d">-CREATE TABLE other (
</a><a href="#h59-0-5" id="h59-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h59-0-6" id="h59-0-6" class="d">-)
</a><a href="#h59-0-7" id="h59-0-7" class="d">-
</a><a href="#h59-0-8" id="h59-0-8" class="d">-CREATE TABLE test (
</a><a href="#h59-0-9" id="h59-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h59-0-10" id="h59-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h59-0-11" id="h59-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h59-0-12" id="h59-0-12" class="d">-)
</a><a href="#h59-0-13" id="h59-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h59-0-14" id="h59-0-14" class="d">-
</a><a href="#h59-0-15" id="h59-0-15" class="d">-Index test.name
</a><a href="#h59-0-16" id="h59-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h60" href="../file/tests/sql/mutation/insert_no_columns_multiple.html">tests/sql/mutation/insert_no_columns_multiple</a> b/<a href="../file/tests/sql/mutation/insert_no_columns_multiple.html">tests/sql/mutation/insert_no_columns_multiple</a></b>
<a href="#h60-0" id="h60-0" class="h">@@ -1,21 +0,0 @@
</a><a href="#h60-0-0" id="h60-0-0" class="d">-Query: INSERT INTO test VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;c&#39;, 103)
</a><a href="#h60-0-1" id="h60-0-1" class="d">-Result: Insert { count: 3 }
</a><a href="#h60-0-2" id="h60-0-2" class="d">-
</a><a href="#h60-0-3" id="h60-0-3" class="d">-Storage:
</a><a href="#h60-0-4" id="h60-0-4" class="d">-CREATE TABLE other (
</a><a href="#h60-0-5" id="h60-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h60-0-6" id="h60-0-6" class="d">-)
</a><a href="#h60-0-7" id="h60-0-7" class="d">-
</a><a href="#h60-0-8" id="h60-0-8" class="d">-CREATE TABLE test (
</a><a href="#h60-0-9" id="h60-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h60-0-10" id="h60-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h60-0-11" id="h60-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h60-0-12" id="h60-0-12" class="d">-)
</a><a href="#h60-0-13" id="h60-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h60-0-14" id="h60-0-14" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h60-0-15" id="h60-0-15" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h60-0-16" id="h60-0-16" class="d">-
</a><a href="#h60-0-17" id="h60-0-17" class="d">-Index test.name
</a><a href="#h60-0-18" id="h60-0-18" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h60-0-19" id="h60-0-19" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h60-0-20" id="h60-0-20" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h61" href="../file/tests/sql/mutation/insert_partial.html">tests/sql/mutation/insert_partial</a> b/<a href="../file/tests/sql/mutation/insert_partial.html">tests/sql/mutation/insert_partial</a></b>
<a href="#h61-0" id="h61-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h61-0-0" id="h61-0-0" class="d">-Query: INSERT INTO test VALUES (1, &#39;a&#39;)
</a><a href="#h61-0-1" id="h61-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h61-0-2" id="h61-0-2" class="d">-
</a><a href="#h61-0-3" id="h61-0-3" class="d">-Storage:
</a><a href="#h61-0-4" id="h61-0-4" class="d">-CREATE TABLE other (
</a><a href="#h61-0-5" id="h61-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h61-0-6" id="h61-0-6" class="d">-)
</a><a href="#h61-0-7" id="h61-0-7" class="d">-
</a><a href="#h61-0-8" id="h61-0-8" class="d">-CREATE TABLE test (
</a><a href="#h61-0-9" id="h61-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h61-0-10" id="h61-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h61-0-11" id="h61-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h61-0-12" id="h61-0-12" class="d">-)
</a><a href="#h61-0-13" id="h61-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Null]
</a><a href="#h61-0-14" id="h61-0-14" class="d">-
</a><a href="#h61-0-15" id="h61-0-15" class="d">-Index test.name
</a><a href="#h61-0-16" id="h61-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h62" href="../file/tests/sql/mutation/insert_partial_columns.html">tests/sql/mutation/insert_partial_columns</a> b/<a href="../file/tests/sql/mutation/insert_partial_columns.html">tests/sql/mutation/insert_partial_columns</a></b>
<a href="#h62-0" id="h62-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h62-0-0" id="h62-0-0" class="d">-Query: INSERT INTO test (id, name, value) VALUES (1, &#39;a&#39;)
</a><a href="#h62-0-1" id="h62-0-1" class="d">-Error: InvalidInput(&quot;column and value counts do not match&quot;)
</a><a href="#h62-0-2" id="h62-0-2" class="d">-
</a><a href="#h62-0-3" id="h62-0-3" class="d">-Storage:
</a><a href="#h62-0-4" id="h62-0-4" class="d">-CREATE TABLE other (
</a><a href="#h62-0-5" id="h62-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h62-0-6" id="h62-0-6" class="d">-)
</a><a href="#h62-0-7" id="h62-0-7" class="d">-
</a><a href="#h62-0-8" id="h62-0-8" class="d">-CREATE TABLE test (
</a><a href="#h62-0-9" id="h62-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h62-0-10" id="h62-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h62-0-11" id="h62-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h62-0-12" id="h62-0-12" class="d">-)
</a><a href="#h62-0-13" id="h62-0-13" class="d">-
</a><a href="#h62-0-14" id="h62-0-14" class="d">-Index test.name
</a><b>diff --git a/<a id="h63" href="../file/tests/sql/mutation/insert_partial_vary.html">tests/sql/mutation/insert_partial_vary</a> b/<a href="../file/tests/sql/mutation/insert_partial_vary.html">tests/sql/mutation/insert_partial_vary</a></b>
<a href="#h63-0" id="h63-0" class="h">@@ -1,21 +0,0 @@
</a><a href="#h63-0-0" id="h63-0-0" class="d">-Query: INSERT INTO test VALUES (1, &#39;a&#39;, 100), (2, &#39;b&#39;), (3)
</a><a href="#h63-0-1" id="h63-0-1" class="d">-Result: Insert { count: 3 }
</a><a href="#h63-0-2" id="h63-0-2" class="d">-
</a><a href="#h63-0-3" id="h63-0-3" class="d">-Storage:
</a><a href="#h63-0-4" id="h63-0-4" class="d">-CREATE TABLE other (
</a><a href="#h63-0-5" id="h63-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h63-0-6" id="h63-0-6" class="d">-)
</a><a href="#h63-0-7" id="h63-0-7" class="d">-
</a><a href="#h63-0-8" id="h63-0-8" class="d">-CREATE TABLE test (
</a><a href="#h63-0-9" id="h63-0-9" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h63-0-10" id="h63-0-10" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h63-0-11" id="h63-0-11" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h63-0-12" id="h63-0-12" class="d">-)
</a><a href="#h63-0-13" id="h63-0-13" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h63-0-14" id="h63-0-14" class="d">-[Integer(2), String(&quot;b&quot;), Null]
</a><a href="#h63-0-15" id="h63-0-15" class="d">-[Integer(3), Null, Null]
</a><a href="#h63-0-16" id="h63-0-16" class="d">-
</a><a href="#h63-0-17" id="h63-0-17" class="d">-Index test.name
</a><a href="#h63-0-18" id="h63-0-18" class="d">-Null =&gt; [Integer(3)]
</a><a href="#h63-0-19" id="h63-0-19" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h63-0-20" id="h63-0-20" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><b>diff --git a/<a id="h64" href="../file/tests/sql/mutation/update_all.html">tests/sql/mutation/update_all</a> b/<a href="../file/tests/sql/mutation/update_all.html">tests/sql/mutation/update_all</a></b>
<a href="#h64-0" id="h64-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h64-0-0" id="h64-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39;, value = 999
</a><a href="#h64-0-1" id="h64-0-1" class="d">-Result: Update { count: 3 }
</a><a href="#h64-0-2" id="h64-0-2" class="d">-
</a><a href="#h64-0-3" id="h64-0-3" class="d">-Storage:
</a><a href="#h64-0-4" id="h64-0-4" class="d">-CREATE TABLE other (
</a><a href="#h64-0-5" id="h64-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h64-0-6" id="h64-0-6" class="d">-)
</a><a href="#h64-0-7" id="h64-0-7" class="d">-[Integer(1)]
</a><a href="#h64-0-8" id="h64-0-8" class="d">-[Integer(2)]
</a><a href="#h64-0-9" id="h64-0-9" class="d">-[Integer(3)]
</a><a href="#h64-0-10" id="h64-0-10" class="d">-
</a><a href="#h64-0-11" id="h64-0-11" class="d">-CREATE TABLE test (
</a><a href="#h64-0-12" id="h64-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h64-0-13" id="h64-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h64-0-14" id="h64-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h64-0-15" id="h64-0-15" class="d">-)
</a><a href="#h64-0-16" id="h64-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(999)]
</a><a href="#h64-0-17" id="h64-0-17" class="d">-[Integer(2), String(&quot;x&quot;), Integer(999)]
</a><a href="#h64-0-18" id="h64-0-18" class="d">-[Integer(3), String(&quot;x&quot;), Integer(999)]
</a><a href="#h64-0-19" id="h64-0-19" class="d">-
</a><a href="#h64-0-20" id="h64-0-20" class="d">-Index test.name
</a><a href="#h64-0-21" id="h64-0-21" class="d">-String(&quot;x&quot;) =&gt; [Integer(1), Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h65" href="../file/tests/sql/mutation/update_bare.html">tests/sql/mutation/update_bare</a> b/<a href="../file/tests/sql/mutation/update_bare.html">tests/sql/mutation/update_bare</a></b>
<a href="#h65-0" id="h65-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h65-0-0" id="h65-0-0" class="d">-Query: UPDATE test
</a><a href="#h65-0-1" id="h65-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h65-0-2" id="h65-0-2" class="d">-
</a><a href="#h65-0-3" id="h65-0-3" class="d">-Storage:
</a><a href="#h65-0-4" id="h65-0-4" class="d">-CREATE TABLE other (
</a><a href="#h65-0-5" id="h65-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h65-0-6" id="h65-0-6" class="d">-)
</a><a href="#h65-0-7" id="h65-0-7" class="d">-[Integer(1)]
</a><a href="#h65-0-8" id="h65-0-8" class="d">-[Integer(2)]
</a><a href="#h65-0-9" id="h65-0-9" class="d">-[Integer(3)]
</a><a href="#h65-0-10" id="h65-0-10" class="d">-
</a><a href="#h65-0-11" id="h65-0-11" class="d">-CREATE TABLE test (
</a><a href="#h65-0-12" id="h65-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h65-0-13" id="h65-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h65-0-14" id="h65-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h65-0-15" id="h65-0-15" class="d">-)
</a><a href="#h65-0-16" id="h65-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h65-0-17" id="h65-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h65-0-18" id="h65-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h65-0-19" id="h65-0-19" class="d">-
</a><a href="#h65-0-20" id="h65-0-20" class="d">-Index test.name
</a><a href="#h65-0-21" id="h65-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h65-0-22" id="h65-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h65-0-23" id="h65-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h66" href="../file/tests/sql/mutation/update_bare_no_table.html">tests/sql/mutation/update_bare_no_table</a> b/<a href="../file/tests/sql/mutation/update_bare_no_table.html">tests/sql/mutation/update_bare_no_table</a></b>
<a href="#h66-0" id="h66-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h66-0-0" id="h66-0-0" class="d">-Query: UPDATE
</a><a href="#h66-0-1" id="h66-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h66-0-2" id="h66-0-2" class="d">-
</a><a href="#h66-0-3" id="h66-0-3" class="d">-Storage:
</a><a href="#h66-0-4" id="h66-0-4" class="d">-CREATE TABLE other (
</a><a href="#h66-0-5" id="h66-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h66-0-6" id="h66-0-6" class="d">-)
</a><a href="#h66-0-7" id="h66-0-7" class="d">-[Integer(1)]
</a><a href="#h66-0-8" id="h66-0-8" class="d">-[Integer(2)]
</a><a href="#h66-0-9" id="h66-0-9" class="d">-[Integer(3)]
</a><a href="#h66-0-10" id="h66-0-10" class="d">-
</a><a href="#h66-0-11" id="h66-0-11" class="d">-CREATE TABLE test (
</a><a href="#h66-0-12" id="h66-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h66-0-13" id="h66-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h66-0-14" id="h66-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h66-0-15" id="h66-0-15" class="d">-)
</a><a href="#h66-0-16" id="h66-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h66-0-17" id="h66-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h66-0-18" id="h66-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h66-0-19" id="h66-0-19" class="d">-
</a><a href="#h66-0-20" id="h66-0-20" class="d">-Index test.name
</a><a href="#h66-0-21" id="h66-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h66-0-22" id="h66-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h66-0-23" id="h66-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h67" href="../file/tests/sql/mutation/update_bare_set.html">tests/sql/mutation/update_bare_set</a> b/<a href="../file/tests/sql/mutation/update_bare_set.html">tests/sql/mutation/update_bare_set</a></b>
<a href="#h67-0" id="h67-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h67-0-0" id="h67-0-0" class="d">-Query: UPDATE test SET
</a><a href="#h67-0-1" id="h67-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h67-0-2" id="h67-0-2" class="d">-
</a><a href="#h67-0-3" id="h67-0-3" class="d">-Storage:
</a><a href="#h67-0-4" id="h67-0-4" class="d">-CREATE TABLE other (
</a><a href="#h67-0-5" id="h67-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h67-0-6" id="h67-0-6" class="d">-)
</a><a href="#h67-0-7" id="h67-0-7" class="d">-[Integer(1)]
</a><a href="#h67-0-8" id="h67-0-8" class="d">-[Integer(2)]
</a><a href="#h67-0-9" id="h67-0-9" class="d">-[Integer(3)]
</a><a href="#h67-0-10" id="h67-0-10" class="d">-
</a><a href="#h67-0-11" id="h67-0-11" class="d">-CREATE TABLE test (
</a><a href="#h67-0-12" id="h67-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h67-0-13" id="h67-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h67-0-14" id="h67-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h67-0-15" id="h67-0-15" class="d">-)
</a><a href="#h67-0-16" id="h67-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h67-0-17" id="h67-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h67-0-18" id="h67-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h67-0-19" id="h67-0-19" class="d">-
</a><a href="#h67-0-20" id="h67-0-20" class="d">-Index test.name
</a><a href="#h67-0-21" id="h67-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h67-0-22" id="h67-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h67-0-23" id="h67-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h68" href="../file/tests/sql/mutation/update_bare_where.html">tests/sql/mutation/update_bare_where</a> b/<a href="../file/tests/sql/mutation/update_bare_where.html">tests/sql/mutation/update_bare_where</a></b>
<a href="#h68-0" id="h68-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h68-0-0" id="h68-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE
</a><a href="#h68-0-1" id="h68-0-1" class="d">-Error: InvalidInput(&quot;unexpected end of input&quot;)
</a><a href="#h68-0-2" id="h68-0-2" class="d">-
</a><a href="#h68-0-3" id="h68-0-3" class="d">-Storage:
</a><a href="#h68-0-4" id="h68-0-4" class="d">-CREATE TABLE other (
</a><a href="#h68-0-5" id="h68-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h68-0-6" id="h68-0-6" class="d">-)
</a><a href="#h68-0-7" id="h68-0-7" class="d">-[Integer(1)]
</a><a href="#h68-0-8" id="h68-0-8" class="d">-[Integer(2)]
</a><a href="#h68-0-9" id="h68-0-9" class="d">-[Integer(3)]
</a><a href="#h68-0-10" id="h68-0-10" class="d">-
</a><a href="#h68-0-11" id="h68-0-11" class="d">-CREATE TABLE test (
</a><a href="#h68-0-12" id="h68-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h68-0-13" id="h68-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h68-0-14" id="h68-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h68-0-15" id="h68-0-15" class="d">-)
</a><a href="#h68-0-16" id="h68-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h68-0-17" id="h68-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h68-0-18" id="h68-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h68-0-19" id="h68-0-19" class="d">-
</a><a href="#h68-0-20" id="h68-0-20" class="d">-Index test.name
</a><a href="#h68-0-21" id="h68-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h68-0-22" id="h68-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h68-0-23" id="h68-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h69" href="../file/tests/sql/mutation/update_case.html">tests/sql/mutation/update_case</a> b/<a href="../file/tests/sql/mutation/update_case.html">tests/sql/mutation/update_case</a></b>
<a href="#h69-0" id="h69-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h69-0-0" id="h69-0-0" class="d">-Query: UPDATE TeSt SET Name = &#39;x&#39; WHERE ID = 1
</a><a href="#h69-0-1" id="h69-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h69-0-2" id="h69-0-2" class="d">-
</a><a href="#h69-0-3" id="h69-0-3" class="d">-Storage:
</a><a href="#h69-0-4" id="h69-0-4" class="d">-CREATE TABLE other (
</a><a href="#h69-0-5" id="h69-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h69-0-6" id="h69-0-6" class="d">-)
</a><a href="#h69-0-7" id="h69-0-7" class="d">-[Integer(1)]
</a><a href="#h69-0-8" id="h69-0-8" class="d">-[Integer(2)]
</a><a href="#h69-0-9" id="h69-0-9" class="d">-[Integer(3)]
</a><a href="#h69-0-10" id="h69-0-10" class="d">-
</a><a href="#h69-0-11" id="h69-0-11" class="d">-CREATE TABLE test (
</a><a href="#h69-0-12" id="h69-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h69-0-13" id="h69-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h69-0-14" id="h69-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h69-0-15" id="h69-0-15" class="d">-)
</a><a href="#h69-0-16" id="h69-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(100)]
</a><a href="#h69-0-17" id="h69-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h69-0-18" id="h69-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h69-0-19" id="h69-0-19" class="d">-
</a><a href="#h69-0-20" id="h69-0-20" class="d">-Index test.name
</a><a href="#h69-0-21" id="h69-0-21" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h69-0-22" id="h69-0-22" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><a href="#h69-0-23" id="h69-0-23" class="d">-String(&quot;x&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h70" href="../file/tests/sql/mutation/update_missing_column_set.html">tests/sql/mutation/update_missing_column_set</a> b/<a href="../file/tests/sql/mutation/update_missing_column_set.html">tests/sql/mutation/update_missing_column_set</a></b>
<a href="#h70-0" id="h70-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h70-0-0" id="h70-0-0" class="d">-Query: UPDATE test SET missing = 0
</a><a href="#h70-0-1" id="h70-0-1" class="d">-Error: InvalidInput(&quot;unknown field missing&quot;)
</a><a href="#h70-0-2" id="h70-0-2" class="d">-
</a><a href="#h70-0-3" id="h70-0-3" class="d">-Storage:
</a><a href="#h70-0-4" id="h70-0-4" class="d">-CREATE TABLE other (
</a><a href="#h70-0-5" id="h70-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h70-0-6" id="h70-0-6" class="d">-)
</a><a href="#h70-0-7" id="h70-0-7" class="d">-[Integer(1)]
</a><a href="#h70-0-8" id="h70-0-8" class="d">-[Integer(2)]
</a><a href="#h70-0-9" id="h70-0-9" class="d">-[Integer(3)]
</a><a href="#h70-0-10" id="h70-0-10" class="d">-
</a><a href="#h70-0-11" id="h70-0-11" class="d">-CREATE TABLE test (
</a><a href="#h70-0-12" id="h70-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h70-0-13" id="h70-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h70-0-14" id="h70-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h70-0-15" id="h70-0-15" class="d">-)
</a><a href="#h70-0-16" id="h70-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h70-0-17" id="h70-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h70-0-18" id="h70-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h70-0-19" id="h70-0-19" class="d">-
</a><a href="#h70-0-20" id="h70-0-20" class="d">-Index test.name
</a><a href="#h70-0-21" id="h70-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h70-0-22" id="h70-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h70-0-23" id="h70-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h71" href="../file/tests/sql/mutation/update_missing_column_where.html">tests/sql/mutation/update_missing_column_where</a> b/<a href="../file/tests/sql/mutation/update_missing_column_where.html">tests/sql/mutation/update_missing_column_where</a></b>
<a href="#h71-0" id="h71-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h71-0-0" id="h71-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE missing = TRUE
</a><a href="#h71-0-1" id="h71-0-1" class="d">-Error: InvalidInput(&quot;unknown field missing&quot;)
</a><a href="#h71-0-2" id="h71-0-2" class="d">-
</a><a href="#h71-0-3" id="h71-0-3" class="d">-Storage:
</a><a href="#h71-0-4" id="h71-0-4" class="d">-CREATE TABLE other (
</a><a href="#h71-0-5" id="h71-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h71-0-6" id="h71-0-6" class="d">-)
</a><a href="#h71-0-7" id="h71-0-7" class="d">-[Integer(1)]
</a><a href="#h71-0-8" id="h71-0-8" class="d">-[Integer(2)]
</a><a href="#h71-0-9" id="h71-0-9" class="d">-[Integer(3)]
</a><a href="#h71-0-10" id="h71-0-10" class="d">-
</a><a href="#h71-0-11" id="h71-0-11" class="d">-CREATE TABLE test (
</a><a href="#h71-0-12" id="h71-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h71-0-13" id="h71-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h71-0-14" id="h71-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h71-0-15" id="h71-0-15" class="d">-)
</a><a href="#h71-0-16" id="h71-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h71-0-17" id="h71-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h71-0-18" id="h71-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h71-0-19" id="h71-0-19" class="d">-
</a><a href="#h71-0-20" id="h71-0-20" class="d">-Index test.name
</a><a href="#h71-0-21" id="h71-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h71-0-22" id="h71-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h71-0-23" id="h71-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h72" href="../file/tests/sql/mutation/update_missing_table.html">tests/sql/mutation/update_missing_table</a> b/<a href="../file/tests/sql/mutation/update_missing_table.html">tests/sql/mutation/update_missing_table</a></b>
<a href="#h72-0" id="h72-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h72-0-0" id="h72-0-0" class="d">-Query: UPDATE missing SET id = 0
</a><a href="#h72-0-1" id="h72-0-1" class="d">-Error: InvalidInput(&quot;table missing does not exist&quot;)
</a><a href="#h72-0-2" id="h72-0-2" class="d">-
</a><a href="#h72-0-3" id="h72-0-3" class="d">-Storage:
</a><a href="#h72-0-4" id="h72-0-4" class="d">-CREATE TABLE other (
</a><a href="#h72-0-5" id="h72-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h72-0-6" id="h72-0-6" class="d">-)
</a><a href="#h72-0-7" id="h72-0-7" class="d">-[Integer(1)]
</a><a href="#h72-0-8" id="h72-0-8" class="d">-[Integer(2)]
</a><a href="#h72-0-9" id="h72-0-9" class="d">-[Integer(3)]
</a><a href="#h72-0-10" id="h72-0-10" class="d">-
</a><a href="#h72-0-11" id="h72-0-11" class="d">-CREATE TABLE test (
</a><a href="#h72-0-12" id="h72-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h72-0-13" id="h72-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h72-0-14" id="h72-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h72-0-15" id="h72-0-15" class="d">-)
</a><a href="#h72-0-16" id="h72-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h72-0-17" id="h72-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h72-0-18" id="h72-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h72-0-19" id="h72-0-19" class="d">-
</a><a href="#h72-0-20" id="h72-0-20" class="d">-Index test.name
</a><a href="#h72-0-21" id="h72-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h72-0-22" id="h72-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h72-0-23" id="h72-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h73" href="../file/tests/sql/mutation/update_multiple_tables.html">tests/sql/mutation/update_multiple_tables</a> b/<a href="../file/tests/sql/mutation/update_multiple_tables.html">tests/sql/mutation/update_multiple_tables</a></b>
<a href="#h73-0" id="h73-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h73-0-0" id="h73-0-0" class="d">-Query: UPDATE test, other SET id = 9 WHERE id = 1
</a><a href="#h73-0-1" id="h73-0-1" class="d">-Error: InvalidInput(&quot;expected token SET, found ,&quot;)
</a><a href="#h73-0-2" id="h73-0-2" class="d">-
</a><a href="#h73-0-3" id="h73-0-3" class="d">-Storage:
</a><a href="#h73-0-4" id="h73-0-4" class="d">-CREATE TABLE other (
</a><a href="#h73-0-5" id="h73-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h73-0-6" id="h73-0-6" class="d">-)
</a><a href="#h73-0-7" id="h73-0-7" class="d">-[Integer(1)]
</a><a href="#h73-0-8" id="h73-0-8" class="d">-[Integer(2)]
</a><a href="#h73-0-9" id="h73-0-9" class="d">-[Integer(3)]
</a><a href="#h73-0-10" id="h73-0-10" class="d">-
</a><a href="#h73-0-11" id="h73-0-11" class="d">-CREATE TABLE test (
</a><a href="#h73-0-12" id="h73-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h73-0-13" id="h73-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h73-0-14" id="h73-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h73-0-15" id="h73-0-15" class="d">-)
</a><a href="#h73-0-16" id="h73-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h73-0-17" id="h73-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h73-0-18" id="h73-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h73-0-19" id="h73-0-19" class="d">-
</a><a href="#h73-0-20" id="h73-0-20" class="d">-Index test.name
</a><a href="#h73-0-21" id="h73-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h73-0-22" id="h73-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h73-0-23" id="h73-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h74" href="../file/tests/sql/mutation/update_where.html">tests/sql/mutation/update_where</a> b/<a href="../file/tests/sql/mutation/update_where.html">tests/sql/mutation/update_where</a></b>
<a href="#h74-0" id="h74-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h74-0-0" id="h74-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE id = 1
</a><a href="#h74-0-1" id="h74-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h74-0-2" id="h74-0-2" class="d">-
</a><a href="#h74-0-3" id="h74-0-3" class="d">-Storage:
</a><a href="#h74-0-4" id="h74-0-4" class="d">-CREATE TABLE other (
</a><a href="#h74-0-5" id="h74-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h74-0-6" id="h74-0-6" class="d">-)
</a><a href="#h74-0-7" id="h74-0-7" class="d">-[Integer(1)]
</a><a href="#h74-0-8" id="h74-0-8" class="d">-[Integer(2)]
</a><a href="#h74-0-9" id="h74-0-9" class="d">-[Integer(3)]
</a><a href="#h74-0-10" id="h74-0-10" class="d">-
</a><a href="#h74-0-11" id="h74-0-11" class="d">-CREATE TABLE test (
</a><a href="#h74-0-12" id="h74-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h74-0-13" id="h74-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h74-0-14" id="h74-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h74-0-15" id="h74-0-15" class="d">-)
</a><a href="#h74-0-16" id="h74-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(100)]
</a><a href="#h74-0-17" id="h74-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h74-0-18" id="h74-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h74-0-19" id="h74-0-19" class="d">-
</a><a href="#h74-0-20" id="h74-0-20" class="d">-Index test.name
</a><a href="#h74-0-21" id="h74-0-21" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h74-0-22" id="h74-0-22" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><a href="#h74-0-23" id="h74-0-23" class="d">-String(&quot;x&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h75" href="../file/tests/sql/mutation/update_where_and.html">tests/sql/mutation/update_where_and</a> b/<a href="../file/tests/sql/mutation/update_where_and.html">tests/sql/mutation/update_where_and</a></b>
<a href="#h75-0" id="h75-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h75-0-0" id="h75-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE id = 1 AND name = &#39;a&#39;
</a><a href="#h75-0-1" id="h75-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h75-0-2" id="h75-0-2" class="d">-
</a><a href="#h75-0-3" id="h75-0-3" class="d">-Storage:
</a><a href="#h75-0-4" id="h75-0-4" class="d">-CREATE TABLE other (
</a><a href="#h75-0-5" id="h75-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h75-0-6" id="h75-0-6" class="d">-)
</a><a href="#h75-0-7" id="h75-0-7" class="d">-[Integer(1)]
</a><a href="#h75-0-8" id="h75-0-8" class="d">-[Integer(2)]
</a><a href="#h75-0-9" id="h75-0-9" class="d">-[Integer(3)]
</a><a href="#h75-0-10" id="h75-0-10" class="d">-
</a><a href="#h75-0-11" id="h75-0-11" class="d">-CREATE TABLE test (
</a><a href="#h75-0-12" id="h75-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h75-0-13" id="h75-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h75-0-14" id="h75-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h75-0-15" id="h75-0-15" class="d">-)
</a><a href="#h75-0-16" id="h75-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(100)]
</a><a href="#h75-0-17" id="h75-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h75-0-18" id="h75-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h75-0-19" id="h75-0-19" class="d">-
</a><a href="#h75-0-20" id="h75-0-20" class="d">-Index test.name
</a><a href="#h75-0-21" id="h75-0-21" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h75-0-22" id="h75-0-22" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><a href="#h75-0-23" id="h75-0-23" class="d">-String(&quot;x&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h76" href="../file/tests/sql/mutation/update_where_expr.html">tests/sql/mutation/update_where_expr</a> b/<a href="../file/tests/sql/mutation/update_where_expr.html">tests/sql/mutation/update_where_expr</a></b>
<a href="#h76-0" id="h76-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h76-0-0" id="h76-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE id = 3 - 2 AND name LIKE &#39;a%&#39;
</a><a href="#h76-0-1" id="h76-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h76-0-2" id="h76-0-2" class="d">-
</a><a href="#h76-0-3" id="h76-0-3" class="d">-Storage:
</a><a href="#h76-0-4" id="h76-0-4" class="d">-CREATE TABLE other (
</a><a href="#h76-0-5" id="h76-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h76-0-6" id="h76-0-6" class="d">-)
</a><a href="#h76-0-7" id="h76-0-7" class="d">-[Integer(1)]
</a><a href="#h76-0-8" id="h76-0-8" class="d">-[Integer(2)]
</a><a href="#h76-0-9" id="h76-0-9" class="d">-[Integer(3)]
</a><a href="#h76-0-10" id="h76-0-10" class="d">-
</a><a href="#h76-0-11" id="h76-0-11" class="d">-CREATE TABLE test (
</a><a href="#h76-0-12" id="h76-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h76-0-13" id="h76-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h76-0-14" id="h76-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h76-0-15" id="h76-0-15" class="d">-)
</a><a href="#h76-0-16" id="h76-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(100)]
</a><a href="#h76-0-17" id="h76-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h76-0-18" id="h76-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h76-0-19" id="h76-0-19" class="d">-
</a><a href="#h76-0-20" id="h76-0-20" class="d">-Index test.name
</a><a href="#h76-0-21" id="h76-0-21" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h76-0-22" id="h76-0-22" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><a href="#h76-0-23" id="h76-0-23" class="d">-String(&quot;x&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h77" href="../file/tests/sql/mutation/update_where_false.html">tests/sql/mutation/update_where_false</a> b/<a href="../file/tests/sql/mutation/update_where_false.html">tests/sql/mutation/update_where_false</a></b>
<a href="#h77-0" id="h77-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h77-0-0" id="h77-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE FALSE
</a><a href="#h77-0-1" id="h77-0-1" class="d">-Result: Update { count: 0 }
</a><a href="#h77-0-2" id="h77-0-2" class="d">-
</a><a href="#h77-0-3" id="h77-0-3" class="d">-Storage:
</a><a href="#h77-0-4" id="h77-0-4" class="d">-CREATE TABLE other (
</a><a href="#h77-0-5" id="h77-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h77-0-6" id="h77-0-6" class="d">-)
</a><a href="#h77-0-7" id="h77-0-7" class="d">-[Integer(1)]
</a><a href="#h77-0-8" id="h77-0-8" class="d">-[Integer(2)]
</a><a href="#h77-0-9" id="h77-0-9" class="d">-[Integer(3)]
</a><a href="#h77-0-10" id="h77-0-10" class="d">-
</a><a href="#h77-0-11" id="h77-0-11" class="d">-CREATE TABLE test (
</a><a href="#h77-0-12" id="h77-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h77-0-13" id="h77-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h77-0-14" id="h77-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h77-0-15" id="h77-0-15" class="d">-)
</a><a href="#h77-0-16" id="h77-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h77-0-17" id="h77-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h77-0-18" id="h77-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h77-0-19" id="h77-0-19" class="d">-
</a><a href="#h77-0-20" id="h77-0-20" class="d">-Index test.name
</a><a href="#h77-0-21" id="h77-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h77-0-22" id="h77-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h77-0-23" id="h77-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h78" href="../file/tests/sql/mutation/update_where_float.html">tests/sql/mutation/update_where_float</a> b/<a href="../file/tests/sql/mutation/update_where_float.html">tests/sql/mutation/update_where_float</a></b>
<a href="#h78-0" id="h78-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h78-0-0" id="h78-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE 3.14
</a><a href="#h78-0-1" id="h78-0-1" class="d">-Error: InvalidInput(&quot;filter returned 3.14, expected boolean&quot;)
</a><a href="#h78-0-2" id="h78-0-2" class="d">-
</a><a href="#h78-0-3" id="h78-0-3" class="d">-Storage:
</a><a href="#h78-0-4" id="h78-0-4" class="d">-CREATE TABLE other (
</a><a href="#h78-0-5" id="h78-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h78-0-6" id="h78-0-6" class="d">-)
</a><a href="#h78-0-7" id="h78-0-7" class="d">-[Integer(1)]
</a><a href="#h78-0-8" id="h78-0-8" class="d">-[Integer(2)]
</a><a href="#h78-0-9" id="h78-0-9" class="d">-[Integer(3)]
</a><a href="#h78-0-10" id="h78-0-10" class="d">-
</a><a href="#h78-0-11" id="h78-0-11" class="d">-CREATE TABLE test (
</a><a href="#h78-0-12" id="h78-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h78-0-13" id="h78-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h78-0-14" id="h78-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h78-0-15" id="h78-0-15" class="d">-)
</a><a href="#h78-0-16" id="h78-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h78-0-17" id="h78-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h78-0-18" id="h78-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h78-0-19" id="h78-0-19" class="d">-
</a><a href="#h78-0-20" id="h78-0-20" class="d">-Index test.name
</a><a href="#h78-0-21" id="h78-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h78-0-22" id="h78-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h78-0-23" id="h78-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h79" href="../file/tests/sql/mutation/update_where_full.html">tests/sql/mutation/update_where_full</a> b/<a href="../file/tests/sql/mutation/update_where_full.html">tests/sql/mutation/update_where_full</a></b>
<a href="#h79-0" id="h79-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h79-0-0" id="h79-0-0" class="d">-Query: UPDATE test SET id = 9, name = &#39;x&#39;, value = 999 WHERE id = 1
</a><a href="#h79-0-1" id="h79-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h79-0-2" id="h79-0-2" class="d">-
</a><a href="#h79-0-3" id="h79-0-3" class="d">-Storage:
</a><a href="#h79-0-4" id="h79-0-4" class="d">-CREATE TABLE other (
</a><a href="#h79-0-5" id="h79-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h79-0-6" id="h79-0-6" class="d">-)
</a><a href="#h79-0-7" id="h79-0-7" class="d">-[Integer(1)]
</a><a href="#h79-0-8" id="h79-0-8" class="d">-[Integer(2)]
</a><a href="#h79-0-9" id="h79-0-9" class="d">-[Integer(3)]
</a><a href="#h79-0-10" id="h79-0-10" class="d">-
</a><a href="#h79-0-11" id="h79-0-11" class="d">-CREATE TABLE test (
</a><a href="#h79-0-12" id="h79-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h79-0-13" id="h79-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h79-0-14" id="h79-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h79-0-15" id="h79-0-15" class="d">-)
</a><a href="#h79-0-16" id="h79-0-16" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h79-0-17" id="h79-0-17" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h79-0-18" id="h79-0-18" class="d">-[Integer(9), String(&quot;x&quot;), Integer(999)]
</a><a href="#h79-0-19" id="h79-0-19" class="d">-
</a><a href="#h79-0-20" id="h79-0-20" class="d">-Index test.name
</a><a href="#h79-0-21" id="h79-0-21" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h79-0-22" id="h79-0-22" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><a href="#h79-0-23" id="h79-0-23" class="d">-String(&quot;x&quot;) =&gt; [Integer(9)]
</a><b>diff --git a/<a id="h80" href="../file/tests/sql/mutation/update_where_integer.html">tests/sql/mutation/update_where_integer</a> b/<a href="../file/tests/sql/mutation/update_where_integer.html">tests/sql/mutation/update_where_integer</a></b>
<a href="#h80-0" id="h80-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h80-0-0" id="h80-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE 1
</a><a href="#h80-0-1" id="h80-0-1" class="d">-Error: InvalidInput(&quot;filter returned 1, expected boolean&quot;)
</a><a href="#h80-0-2" id="h80-0-2" class="d">-
</a><a href="#h80-0-3" id="h80-0-3" class="d">-Storage:
</a><a href="#h80-0-4" id="h80-0-4" class="d">-CREATE TABLE other (
</a><a href="#h80-0-5" id="h80-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h80-0-6" id="h80-0-6" class="d">-)
</a><a href="#h80-0-7" id="h80-0-7" class="d">-[Integer(1)]
</a><a href="#h80-0-8" id="h80-0-8" class="d">-[Integer(2)]
</a><a href="#h80-0-9" id="h80-0-9" class="d">-[Integer(3)]
</a><a href="#h80-0-10" id="h80-0-10" class="d">-
</a><a href="#h80-0-11" id="h80-0-11" class="d">-CREATE TABLE test (
</a><a href="#h80-0-12" id="h80-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h80-0-13" id="h80-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h80-0-14" id="h80-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h80-0-15" id="h80-0-15" class="d">-)
</a><a href="#h80-0-16" id="h80-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h80-0-17" id="h80-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h80-0-18" id="h80-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h80-0-19" id="h80-0-19" class="d">-
</a><a href="#h80-0-20" id="h80-0-20" class="d">-Index test.name
</a><a href="#h80-0-21" id="h80-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h80-0-22" id="h80-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h80-0-23" id="h80-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h81" href="../file/tests/sql/mutation/update_where_null.html">tests/sql/mutation/update_where_null</a> b/<a href="../file/tests/sql/mutation/update_where_null.html">tests/sql/mutation/update_where_null</a></b>
<a href="#h81-0" id="h81-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h81-0-0" id="h81-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE NULL
</a><a href="#h81-0-1" id="h81-0-1" class="d">-Result: Update { count: 0 }
</a><a href="#h81-0-2" id="h81-0-2" class="d">-
</a><a href="#h81-0-3" id="h81-0-3" class="d">-Storage:
</a><a href="#h81-0-4" id="h81-0-4" class="d">-CREATE TABLE other (
</a><a href="#h81-0-5" id="h81-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h81-0-6" id="h81-0-6" class="d">-)
</a><a href="#h81-0-7" id="h81-0-7" class="d">-[Integer(1)]
</a><a href="#h81-0-8" id="h81-0-8" class="d">-[Integer(2)]
</a><a href="#h81-0-9" id="h81-0-9" class="d">-[Integer(3)]
</a><a href="#h81-0-10" id="h81-0-10" class="d">-
</a><a href="#h81-0-11" id="h81-0-11" class="d">-CREATE TABLE test (
</a><a href="#h81-0-12" id="h81-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h81-0-13" id="h81-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h81-0-14" id="h81-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h81-0-15" id="h81-0-15" class="d">-)
</a><a href="#h81-0-16" id="h81-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h81-0-17" id="h81-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h81-0-18" id="h81-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h81-0-19" id="h81-0-19" class="d">-
</a><a href="#h81-0-20" id="h81-0-20" class="d">-Index test.name
</a><a href="#h81-0-21" id="h81-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h81-0-22" id="h81-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h81-0-23" id="h81-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h82" href="../file/tests/sql/mutation/update_where_string.html">tests/sql/mutation/update_where_string</a> b/<a href="../file/tests/sql/mutation/update_where_string.html">tests/sql/mutation/update_where_string</a></b>
<a href="#h82-0" id="h82-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h82-0-0" id="h82-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE &#39;a&#39;
</a><a href="#h82-0-1" id="h82-0-1" class="d">-Error: InvalidInput(&quot;filter returned a, expected boolean&quot;)
</a><a href="#h82-0-2" id="h82-0-2" class="d">-
</a><a href="#h82-0-3" id="h82-0-3" class="d">-Storage:
</a><a href="#h82-0-4" id="h82-0-4" class="d">-CREATE TABLE other (
</a><a href="#h82-0-5" id="h82-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h82-0-6" id="h82-0-6" class="d">-)
</a><a href="#h82-0-7" id="h82-0-7" class="d">-[Integer(1)]
</a><a href="#h82-0-8" id="h82-0-8" class="d">-[Integer(2)]
</a><a href="#h82-0-9" id="h82-0-9" class="d">-[Integer(3)]
</a><a href="#h82-0-10" id="h82-0-10" class="d">-
</a><a href="#h82-0-11" id="h82-0-11" class="d">-CREATE TABLE test (
</a><a href="#h82-0-12" id="h82-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h82-0-13" id="h82-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h82-0-14" id="h82-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h82-0-15" id="h82-0-15" class="d">-)
</a><a href="#h82-0-16" id="h82-0-16" class="d">-[Integer(1), String(&quot;a&quot;), Integer(100)]
</a><a href="#h82-0-17" id="h82-0-17" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h82-0-18" id="h82-0-18" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h82-0-19" id="h82-0-19" class="d">-
</a><a href="#h82-0-20" id="h82-0-20" class="d">-Index test.name
</a><a href="#h82-0-21" id="h82-0-21" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h82-0-22" id="h82-0-22" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h82-0-23" id="h82-0-23" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h83" href="../file/tests/sql/mutation/update_where_true.html">tests/sql/mutation/update_where_true</a> b/<a href="../file/tests/sql/mutation/update_where_true.html">tests/sql/mutation/update_where_true</a></b>
<a href="#h83-0" id="h83-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h83-0-0" id="h83-0-0" class="d">-Query: UPDATE test SET name = &#39;x&#39; WHERE TRUE
</a><a href="#h83-0-1" id="h83-0-1" class="d">-Result: Update { count: 3 }
</a><a href="#h83-0-2" id="h83-0-2" class="d">-
</a><a href="#h83-0-3" id="h83-0-3" class="d">-Storage:
</a><a href="#h83-0-4" id="h83-0-4" class="d">-CREATE TABLE other (
</a><a href="#h83-0-5" id="h83-0-5" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h83-0-6" id="h83-0-6" class="d">-)
</a><a href="#h83-0-7" id="h83-0-7" class="d">-[Integer(1)]
</a><a href="#h83-0-8" id="h83-0-8" class="d">-[Integer(2)]
</a><a href="#h83-0-9" id="h83-0-9" class="d">-[Integer(3)]
</a><a href="#h83-0-10" id="h83-0-10" class="d">-
</a><a href="#h83-0-11" id="h83-0-11" class="d">-CREATE TABLE test (
</a><a href="#h83-0-12" id="h83-0-12" class="d">-  id INTEGER PRIMARY KEY DEFAULT 0,
</a><a href="#h83-0-13" id="h83-0-13" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h83-0-14" id="h83-0-14" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h83-0-15" id="h83-0-15" class="d">-)
</a><a href="#h83-0-16" id="h83-0-16" class="d">-[Integer(1), String(&quot;x&quot;), Integer(100)]
</a><a href="#h83-0-17" id="h83-0-17" class="d">-[Integer(2), String(&quot;x&quot;), Integer(102)]
</a><a href="#h83-0-18" id="h83-0-18" class="d">-[Integer(3), String(&quot;x&quot;), Integer(103)]
</a><a href="#h83-0-19" id="h83-0-19" class="d">-
</a><a href="#h83-0-20" id="h83-0-20" class="d">-Index test.name
</a><a href="#h83-0-21" id="h83-0-21" class="d">-String(&quot;x&quot;) =&gt; [Integer(1), Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h84" href="../file/tests/sql/schema.rs.html">tests/sql/schema.rs</a> b/<a href="../file/tests/sql/schema.rs.html">tests/sql/schema.rs</a></b>
<a href="#h84-0" id="h84-0" class="h">@@ -1,334 +0,0 @@
</a><a href="#h84-0-0" id="h84-0-0" class="d">-//! Schema-related tests, using an in-memory database against golden files in tests/sql/chema/
</a><a href="#h84-0-1" id="h84-0-1" class="d">-use toydb::error::Result;
</a><a href="#h84-0-2" id="h84-0-2" class="d">-use toydb::sql::engine::{Catalog as _, Engine as _, Transaction as _};
</a><a href="#h84-0-3" id="h84-0-3" class="d">-
</a><a href="#h84-0-4" id="h84-0-4" class="d">-use goldenfile::Mint;
</a><a href="#h84-0-5" id="h84-0-5" class="d">-use std::io::Write;
</a><a href="#h84-0-6" id="h84-0-6" class="d">-
</a><a href="#h84-0-7" id="h84-0-7" class="d">-macro_rules! test_schema {
</a><a href="#h84-0-8" id="h84-0-8" class="d">-    ( $( $name:ident: $query:expr, )* ) =&gt; {
</a><a href="#h84-0-9" id="h84-0-9" class="d">-        $(
</a><a href="#h84-0-10" id="h84-0-10" class="d">-            test_schema! { with []; $name: $query, }
</a><a href="#h84-0-11" id="h84-0-11" class="d">-        )*
</a><a href="#h84-0-12" id="h84-0-12" class="d">-    };
</a><a href="#h84-0-13" id="h84-0-13" class="d">-    ( with $setup:expr; $( $name:ident: $query:expr, )* ) =&gt; {
</a><a href="#h84-0-14" id="h84-0-14" class="d">-        $(
</a><a href="#h84-0-15" id="h84-0-15" class="d">-            #[test]
</a><a href="#h84-0-16" id="h84-0-16" class="d">-            fn $name() -&gt; Result&lt;()&gt; {
</a><a href="#h84-0-17" id="h84-0-17" class="d">-                let setup: &amp;[&amp;str] = &amp;$setup;
</a><a href="#h84-0-18" id="h84-0-18" class="d">-                let engine = super::setup(setup.into())?;
</a><a href="#h84-0-19" id="h84-0-19" class="d">-                let mut mint = Mint::new(&quot;tests/sql/schema&quot;);
</a><a href="#h84-0-20" id="h84-0-20" class="d">-                let mut f = mint.new_goldenfile(stringify!($name))?;
</a><a href="#h84-0-21" id="h84-0-21" class="d">-
</a><a href="#h84-0-22" id="h84-0-22" class="d">-                write!(f, &quot;Query: {}\n&quot;, $query.trim())?;
</a><a href="#h84-0-23" id="h84-0-23" class="d">-                match engine.session().execute($query) {
</a><a href="#h84-0-24" id="h84-0-24" class="d">-                    Ok(result) =&gt; write!(f, &quot;Result: {:?}\n\n&quot;, result)?,
</a><a href="#h84-0-25" id="h84-0-25" class="d">-                    Err(err) =&gt; write!(f, &quot;Error: {:?}\n\n&quot;, err)?,
</a><a href="#h84-0-26" id="h84-0-26" class="d">-                };
</a><a href="#h84-0-27" id="h84-0-27" class="d">-
</a><a href="#h84-0-28" id="h84-0-28" class="d">-                write!(f, &quot;Storage:&quot;)?;
</a><a href="#h84-0-29" id="h84-0-29" class="d">-                let txn = engine.begin()?;
</a><a href="#h84-0-30" id="h84-0-30" class="d">-                for table in txn.list_tables()? {
</a><a href="#h84-0-31" id="h84-0-31" class="d">-                    write!(f, &quot;\n{}\n&quot;, table)?;
</a><a href="#h84-0-32" id="h84-0-32" class="d">-                    for row in txn.scan(&amp;table.name, None)? {
</a><a href="#h84-0-33" id="h84-0-33" class="d">-                        write!(f, &quot;{:?}\n&quot;, row?)?;
</a><a href="#h84-0-34" id="h84-0-34" class="d">-                    }
</a><a href="#h84-0-35" id="h84-0-35" class="d">-
</a><a href="#h84-0-36" id="h84-0-36" class="d">-                    for column in table.columns.iter().filter(|c| c.index) {
</a><a href="#h84-0-37" id="h84-0-37" class="d">-                        write!(f, &quot;\nIndex {}.{}\n&quot;, table.name, column.name)?;
</a><a href="#h84-0-38" id="h84-0-38" class="d">-                        let mut scan = txn.scan_index(&amp;table.name, &amp;column.name)?;
</a><a href="#h84-0-39" id="h84-0-39" class="d">-                        while let Some((value, pks)) = scan.next().transpose()? {
</a><a href="#h84-0-40" id="h84-0-40" class="d">-                            let mut pks = pks.into_iter().collect::&lt;Vec&lt;_&gt;&gt;();
</a><a href="#h84-0-41" id="h84-0-41" class="d">-                            pks.sort_by(|a, b| a.partial_cmp(b).unwrap_or(std::cmp::Ordering::Equal));
</a><a href="#h84-0-42" id="h84-0-42" class="d">-                            write!(f, &quot;{:?} =&gt; {:?}\n&quot;, value, pks)?;
</a><a href="#h84-0-43" id="h84-0-43" class="d">-                        }
</a><a href="#h84-0-44" id="h84-0-44" class="d">-                    }
</a><a href="#h84-0-45" id="h84-0-45" class="d">-                }
</a><a href="#h84-0-46" id="h84-0-46" class="d">-                txn.rollback()?;
</a><a href="#h84-0-47" id="h84-0-47" class="d">-
</a><a href="#h84-0-48" id="h84-0-48" class="d">-                Ok(())
</a><a href="#h84-0-49" id="h84-0-49" class="d">-            }
</a><a href="#h84-0-50" id="h84-0-50" class="d">-        )*
</a><a href="#h84-0-51" id="h84-0-51" class="d">-    }
</a><a href="#h84-0-52" id="h84-0-52" class="d">-}
</a><a href="#h84-0-53" id="h84-0-53" class="d">-
</a><a href="#h84-0-54" id="h84-0-54" class="d">-test_schema! { with [
</a><a href="#h84-0-55" id="h84-0-55" class="d">-        r#&quot;CREATE TABLE types (
</a><a href="#h84-0-56" id="h84-0-56" class="d">-            id INTEGER PRIMARY KEY,
</a><a href="#h84-0-57" id="h84-0-57" class="d">-            &quot;boolean&quot; BOOLEAN,
</a><a href="#h84-0-58" id="h84-0-58" class="d">-            &quot;float&quot; FLOAT,
</a><a href="#h84-0-59" id="h84-0-59" class="d">-            &quot;integer&quot; INTEGER,
</a><a href="#h84-0-60" id="h84-0-60" class="d">-            &quot;string&quot; STRING
</a><a href="#h84-0-61" id="h84-0-61" class="d">-        )&quot;#
</a><a href="#h84-0-62" id="h84-0-62" class="d">-    ];
</a><a href="#h84-0-63" id="h84-0-63" class="d">-    insert_boolean_false: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, FALSE)&quot;#,
</a><a href="#h84-0-64" id="h84-0-64" class="d">-    insert_boolean_true: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, TRUE)&quot;#,
</a><a href="#h84-0-65" id="h84-0-65" class="d">-    insert_boolean_null: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, NULL)&quot;#,
</a><a href="#h84-0-66" id="h84-0-66" class="d">-    insert_boolean_float: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 3.14)&quot;#,
</a><a href="#h84-0-67" id="h84-0-67" class="d">-    insert_boolean_integer: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 1)&quot;#,
</a><a href="#h84-0-68" id="h84-0-68" class="d">-    insert_boolean_string: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, &#39;abc&#39;)&quot;#,
</a><a href="#h84-0-69" id="h84-0-69" class="d">-    insert_boolean_string_empty: r#&quot;INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, &#39;&#39;)&quot;#,
</a><a href="#h84-0-70" id="h84-0-70" class="d">-
</a><a href="#h84-0-71" id="h84-0-71" class="d">-    insert_float: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, 3.14)&quot;#,
</a><a href="#h84-0-72" id="h84-0-72" class="d">-    insert_float_min: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e-307)&quot;#,
</a><a href="#h84-0-73" id="h84-0-73" class="d">-    insert_float_min_negative: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, -1.23456789012345e-307)&quot;#,
</a><a href="#h84-0-74" id="h84-0-74" class="d">-    insert_float_min_round: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e-323)&quot;#,
</a><a href="#h84-0-75" id="h84-0-75" class="d">-    insert_float_max: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e308)&quot;#,
</a><a href="#h84-0-76" id="h84-0-76" class="d">-    insert_float_max_negative: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, -1.23456789012345e308)&quot;#,
</a><a href="#h84-0-77" id="h84-0-77" class="d">-    insert_float_infinity: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, INFINITY)&quot;#,
</a><a href="#h84-0-78" id="h84-0-78" class="d">-    insert_float_infinity_negative: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, -INFINITY)&quot;#,
</a><a href="#h84-0-79" id="h84-0-79" class="d">-    insert_float_nan: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, NAN)&quot;#,
</a><a href="#h84-0-80" id="h84-0-80" class="d">-    insert_float_null: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, NULL)&quot;#,
</a><a href="#h84-0-81" id="h84-0-81" class="d">-    insert_float_boolean: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, FALSE)&quot;#,
</a><a href="#h84-0-82" id="h84-0-82" class="d">-    insert_float_integer: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1)&quot;#,
</a><a href="#h84-0-83" id="h84-0-83" class="d">-    insert_float_string: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, &#39;a&#39;)&quot;#,
</a><a href="#h84-0-84" id="h84-0-84" class="d">-    insert_float_string_empty: r#&quot;INSERT INTO types (id, &quot;float&quot;) VALUES (0, &#39;&#39;)&quot;#,
</a><a href="#h84-0-85" id="h84-0-85" class="d">-
</a><a href="#h84-0-86" id="h84-0-86" class="d">-    insert_integer: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 1)&quot;#,
</a><a href="#h84-0-87" id="h84-0-87" class="d">-    insert_integer_max: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 9223372036854775807)&quot;#,
</a><a href="#h84-0-88" id="h84-0-88" class="d">-    insert_integer_min: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, -9223372036854775807)&quot;#,
</a><a href="#h84-0-89" id="h84-0-89" class="d">-    insert_integer_null: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, NULL)&quot;#,
</a><a href="#h84-0-90" id="h84-0-90" class="d">-    insert_integer_boolean: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, FALSE)&quot;#,
</a><a href="#h84-0-91" id="h84-0-91" class="d">-    insert_integer_float: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 1.0)&quot;#,
</a><a href="#h84-0-92" id="h84-0-92" class="d">-    insert_integer_float_infinity: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, INFINITY)&quot;#,
</a><a href="#h84-0-93" id="h84-0-93" class="d">-    insert_integer_float_nan: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, NAN)&quot;#,
</a><a href="#h84-0-94" id="h84-0-94" class="d">-    insert_integer_string: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, &#39;a&#39;)&quot;#,
</a><a href="#h84-0-95" id="h84-0-95" class="d">-    insert_integer_string_empty: r#&quot;INSERT INTO types (id, &quot;integer&quot;) VALUES (0, &#39;&#39;)&quot;#,
</a><a href="#h84-0-96" id="h84-0-96" class="d">-
</a><a href="#h84-0-97" id="h84-0-97" class="d">-    insert_string: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39;abc&#39;)&quot;#,
</a><a href="#h84-0-98" id="h84-0-98" class="d">-    insert_string_empty: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39;&#39;)&quot;#,
</a><a href="#h84-0-99" id="h84-0-99" class="d">-    insert_string_unicode: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39; Hi! 👋&#39;)&quot;#,
</a><a href="#h84-0-100" id="h84-0-100" class="d">-    insert_string_null: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, NULL)&quot;#,
</a><a href="#h84-0-101" id="h84-0-101" class="d">-    insert_string_boolean: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, FALSE)&quot;#,
</a><a href="#h84-0-102" id="h84-0-102" class="d">-    insert_string_float: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, 3.14)&quot;#,
</a><a href="#h84-0-103" id="h84-0-103" class="d">-    insert_string_integer: r#&quot;INSERT INTO types (id, &quot;string&quot;) VALUES (0, 1)&quot;#,
</a><a href="#h84-0-104" id="h84-0-104" class="d">-}
</a><a href="#h84-0-105" id="h84-0-105" class="d">-test_schema! { with [
</a><a href="#h84-0-106" id="h84-0-106" class="d">-        &quot;CREATE TABLE test (id INTEGER PRIMARY KEY, value INTEGER)&quot;,
</a><a href="#h84-0-107" id="h84-0-107" class="d">-        &quot;INSERT INTO test VALUES (1, 7)&quot;,
</a><a href="#h84-0-108" id="h84-0-108" class="d">-    ];
</a><a href="#h84-0-109" id="h84-0-109" class="d">-    update_integer: &quot;UPDATE test SET value = 3&quot;,
</a><a href="#h84-0-110" id="h84-0-110" class="d">-    update_integer_conflict: &quot;UPDATE test SET value = &#39;abc&#39;&quot;,
</a><a href="#h84-0-111" id="h84-0-111" class="d">-    update_integer_float: &quot;UPDATE test SET value = 3.14&quot;,
</a><a href="#h84-0-112" id="h84-0-112" class="d">-    update_integer_null: &quot;UPDATE test SET value = NULL&quot;,
</a><a href="#h84-0-113" id="h84-0-113" class="d">-}
</a><a href="#h84-0-114" id="h84-0-114" class="d">-
</a><a href="#h84-0-115" id="h84-0-115" class="d">-test_schema! { with [
</a><a href="#h84-0-116" id="h84-0-116" class="d">-        r#&quot;CREATE TABLE &quot;boolean&quot; (pk BOOLEAN PRIMARY KEY)&quot;#,
</a><a href="#h84-0-117" id="h84-0-117" class="d">-        r#&quot;INSERT INTO &quot;boolean&quot; VALUES (FALSE)&quot;#,
</a><a href="#h84-0-118" id="h84-0-118" class="d">-    ];
</a><a href="#h84-0-119" id="h84-0-119" class="d">-    insert_pk_boolean: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (TRUE)&quot;#,
</a><a href="#h84-0-120" id="h84-0-120" class="d">-    insert_pk_boolean_conflict: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (FALSE)&quot;#,
</a><a href="#h84-0-121" id="h84-0-121" class="d">-    insert_pk_boolean_null: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (NULL)&quot;#,
</a><a href="#h84-0-122" id="h84-0-122" class="d">-
</a><a href="#h84-0-123" id="h84-0-123" class="d">-    update_pk_boolean: r#&quot;UPDATE &quot;boolean&quot; SET pk = TRUE WHERE pk = FALSE&quot;#,
</a><a href="#h84-0-124" id="h84-0-124" class="d">-    update_pk_boolean_null: r#&quot;UPDATE &quot;boolean&quot; SET pk = NULL WHERE pk = FALSE&quot;#,
</a><a href="#h84-0-125" id="h84-0-125" class="d">-}
</a><a href="#h84-0-126" id="h84-0-126" class="d">-
</a><a href="#h84-0-127" id="h84-0-127" class="d">-test_schema! { with [
</a><a href="#h84-0-128" id="h84-0-128" class="d">-        r#&quot;CREATE TABLE &quot;float&quot; (pk FLOAT PRIMARY KEY)&quot;#,
</a><a href="#h84-0-129" id="h84-0-129" class="d">-        r#&quot;INSERT INTO &quot;float&quot; VALUES (3.14), (2.718), (NAN), (INFINITY)&quot;#,
</a><a href="#h84-0-130" id="h84-0-130" class="d">-    ];
</a><a href="#h84-0-131" id="h84-0-131" class="d">-    insert_pk_float: r#&quot;INSERT INTO &quot;float&quot; VALUES (1.618)&quot;#,
</a><a href="#h84-0-132" id="h84-0-132" class="d">-    insert_pk_float_conflict: r#&quot;INSERT INTO &quot;float&quot; VALUES (3.14)&quot;#,
</a><a href="#h84-0-133" id="h84-0-133" class="d">-    insert_pk_float_zero: r#&quot;INSERT INTO &quot;float&quot; VALUES (0.0)&quot;#,
</a><a href="#h84-0-134" id="h84-0-134" class="d">-    insert_pk_float_negative: r#&quot;INSERT INTO &quot;float&quot; VALUES (-3.14)&quot;#,
</a><a href="#h84-0-135" id="h84-0-135" class="d">-    insert_pk_float_nan: r#&quot;INSERT INTO &quot;float&quot; VALUES (NAN)&quot;#,
</a><a href="#h84-0-136" id="h84-0-136" class="d">-    insert_pk_float_infinity: r#&quot;INSERT INTO &quot;float&quot; VALUES (INFINITY)&quot;#,
</a><a href="#h84-0-137" id="h84-0-137" class="d">-    insert_pk_float_null: r#&quot;INSERT INTO &quot;float&quot; VALUES (NULL)&quot;#,
</a><a href="#h84-0-138" id="h84-0-138" class="d">-
</a><a href="#h84-0-139" id="h84-0-139" class="d">-    update_pk_float: r#&quot;UPDATE &quot;float&quot; SET pk = 1.618 WHERE pk = 3.14&quot;#,
</a><a href="#h84-0-140" id="h84-0-140" class="d">-    update_pk_float_conflict: r#&quot;UPDATE &quot;float&quot; SET pk = 2.718 WHERE pk = 3.14&quot;#,
</a><a href="#h84-0-141" id="h84-0-141" class="d">-    update_pk_float_conflict_all: r#&quot;UPDATE &quot;float&quot; SET pk = 3.14&quot;#,
</a><a href="#h84-0-142" id="h84-0-142" class="d">-    update_pk_float_null: r#&quot;UPDATE &quot;float&quot; SET pk = NULL WHERE pk = 3.14&quot;#,
</a><a href="#h84-0-143" id="h84-0-143" class="d">-}
</a><a href="#h84-0-144" id="h84-0-144" class="d">-
</a><a href="#h84-0-145" id="h84-0-145" class="d">-test_schema! { with [
</a><a href="#h84-0-146" id="h84-0-146" class="d">-        r#&quot;CREATE TABLE &quot;integer&quot; (pk INTEGER PRIMARY KEY)&quot;#,
</a><a href="#h84-0-147" id="h84-0-147" class="d">-        r#&quot;INSERT INTO &quot;integer&quot; VALUES (1), (2)&quot;#,
</a><a href="#h84-0-148" id="h84-0-148" class="d">-    ];
</a><a href="#h84-0-149" id="h84-0-149" class="d">-    insert_pk_integer: r#&quot;INSERT INTO &quot;integer&quot; VALUES (3)&quot;#,
</a><a href="#h84-0-150" id="h84-0-150" class="d">-    insert_pk_integer_conflict: r#&quot;INSERT INTO &quot;integer&quot; VALUES (1)&quot;#,
</a><a href="#h84-0-151" id="h84-0-151" class="d">-    insert_pk_integer_zero: r#&quot;INSERT INTO &quot;integer&quot; VALUES (0)&quot;#,
</a><a href="#h84-0-152" id="h84-0-152" class="d">-    insert_pk_integer_negative: r#&quot;INSERT INTO &quot;integer&quot; VALUES (-1)&quot;#,
</a><a href="#h84-0-153" id="h84-0-153" class="d">-    insert_pk_integer_null: r#&quot;INSERT INTO &quot;integer&quot; VALUES (NULL)&quot;#,
</a><a href="#h84-0-154" id="h84-0-154" class="d">-
</a><a href="#h84-0-155" id="h84-0-155" class="d">-    update_pk_integer: r#&quot;UPDATE &quot;integer&quot; SET pk = 3 WHERE pk = 2&quot;#,
</a><a href="#h84-0-156" id="h84-0-156" class="d">-    update_pk_integer_conflict: r#&quot;UPDATE &quot;integer&quot; SET pk = 1 WHERE pk = 2&quot;#,
</a><a href="#h84-0-157" id="h84-0-157" class="d">-    update_pk_integer_conflict_all: r#&quot;UPDATE &quot;integer&quot; SET pk = 1&quot;#,
</a><a href="#h84-0-158" id="h84-0-158" class="d">-    update_pk_integer_null: r#&quot;UPDATE &quot;integer&quot; SET pk = NULL WHERE pk = 2&quot;#,
</a><a href="#h84-0-159" id="h84-0-159" class="d">-}
</a><a href="#h84-0-160" id="h84-0-160" class="d">-
</a><a href="#h84-0-161" id="h84-0-161" class="d">-test_schema! { with [
</a><a href="#h84-0-162" id="h84-0-162" class="d">-        r#&quot;CREATE TABLE &quot;string&quot; (pk STRING PRIMARY KEY)&quot;#,
</a><a href="#h84-0-163" id="h84-0-163" class="d">-        r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;), (&#39;bar&#39;)&quot;#,
</a><a href="#h84-0-164" id="h84-0-164" class="d">-    ];
</a><a href="#h84-0-165" id="h84-0-165" class="d">-    insert_pk_string: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;baz&#39;)&quot;#,
</a><a href="#h84-0-166" id="h84-0-166" class="d">-    insert_pk_string_case: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;Foo&#39;)&quot;#,
</a><a href="#h84-0-167" id="h84-0-167" class="d">-    insert_pk_string_conflict: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;)&quot;#,
</a><a href="#h84-0-168" id="h84-0-168" class="d">-    insert_pk_string_empty: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)&quot;#,
</a><a href="#h84-0-169" id="h84-0-169" class="d">-    insert_pk_string_null: r#&quot;INSERT INTO &quot;string&quot; VALUES (NULL)&quot;#,
</a><a href="#h84-0-170" id="h84-0-170" class="d">-
</a><a href="#h84-0-171" id="h84-0-171" class="d">-    update_pk_string: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;baz&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h84-0-172" id="h84-0-172" class="d">-    update_pk_string_case: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;Bar&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h84-0-173" id="h84-0-173" class="d">-    update_pk_string_conflict: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;bar&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h84-0-174" id="h84-0-174" class="d">-    update_pk_string_conflict_all: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;foo&#39;&quot;#,
</a><a href="#h84-0-175" id="h84-0-175" class="d">-    update_pk_string_null: r#&quot;UPDATE &quot;string&quot; SET pk = NULL WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h84-0-176" id="h84-0-176" class="d">-}
</a><a href="#h84-0-177" id="h84-0-177" class="d">-
</a><a href="#h84-0-178" id="h84-0-178" class="d">-test_schema! { with [
</a><a href="#h84-0-179" id="h84-0-179" class="d">-    r#&quot;CREATE TABLE nulls (
</a><a href="#h84-0-180" id="h84-0-180" class="d">-        id INTEGER PRIMARY KEY,
</a><a href="#h84-0-181" id="h84-0-181" class="d">-        &quot;null&quot; BOOLEAN NULL,
</a><a href="#h84-0-182" id="h84-0-182" class="d">-        not_null BOOLEAN NOT NULL,
</a><a href="#h84-0-183" id="h84-0-183" class="d">-        &quot;default&quot; BOOLEAN
</a><a href="#h84-0-184" id="h84-0-184" class="d">-    )&quot;#];
</a><a href="#h84-0-185" id="h84-0-185" class="d">-    insert_nulls: r#&quot;INSERT INTO nulls (id, &quot;null&quot;, not_null, &quot;default&quot;) VALUES (1, NULL, TRUE, NULL)&quot;#,
</a><a href="#h84-0-186" id="h84-0-186" class="d">-    insert_nulls_default: r#&quot;INSERT INTO nulls (id, &quot;null&quot;, not_null) VALUES (1, NULL, TRUE)&quot;#,
</a><a href="#h84-0-187" id="h84-0-187" class="d">-    insert_nulls_required: r#&quot;INSERT INTO nulls (id, &quot;null&quot;, not_null, &quot;default&quot;) VALUES (1, NULL, NULL, NULL)&quot;#,
</a><a href="#h84-0-188" id="h84-0-188" class="d">-}
</a><a href="#h84-0-189" id="h84-0-189" class="d">-
</a><a href="#h84-0-190" id="h84-0-190" class="d">-test_schema! { with [
</a><a href="#h84-0-191" id="h84-0-191" class="d">-    r#&quot;CREATE TABLE defaults (
</a><a href="#h84-0-192" id="h84-0-192" class="d">-        id INTEGER PRIMARY KEY,
</a><a href="#h84-0-193" id="h84-0-193" class="d">-        required BOOLEAN NOT NULL,
</a><a href="#h84-0-194" id="h84-0-194" class="d">-        &quot;null&quot; BOOLEAN,
</a><a href="#h84-0-195" id="h84-0-195" class="d">-        &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h84-0-196" id="h84-0-196" class="d">-        &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h84-0-197" id="h84-0-197" class="d">-        &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h84-0-198" id="h84-0-198" class="d">-        &quot;string&quot; STRING DEFAULT &#39;foo&#39;
</a><a href="#h84-0-199" id="h84-0-199" class="d">-    )&quot;#];
</a><a href="#h84-0-200" id="h84-0-200" class="d">-    insert_default: &quot;INSERT INTO defaults (id, required) VALUES (1, TRUE)&quot;,
</a><a href="#h84-0-201" id="h84-0-201" class="d">-    insert_default_unnamed: &quot;INSERT INTO defaults VALUES (1, TRUE)&quot;,
</a><a href="#h84-0-202" id="h84-0-202" class="d">-    insert_default_missing: &quot;INSERT INTO defaults (id) VALUES (1)&quot;,
</a><a href="#h84-0-203" id="h84-0-203" class="d">-    insert_default_override: &quot;INSERT INTO defaults VALUES (1, TRUE, TRUE, FALSE, 2.718, 3, &#39;bar&#39;)&quot;,
</a><a href="#h84-0-204" id="h84-0-204" class="d">-    insert_default_override_null: &quot;INSERT INTO defaults VALUES (1, TRUE, NULL, NULL, NULL, NULL, NULL)&quot;,
</a><a href="#h84-0-205" id="h84-0-205" class="d">-}
</a><a href="#h84-0-206" id="h84-0-206" class="d">-
</a><a href="#h84-0-207" id="h84-0-207" class="d">-test_schema! { with [
</a><a href="#h84-0-208" id="h84-0-208" class="d">-        r#&quot;CREATE TABLE &quot;unique&quot; (
</a><a href="#h84-0-209" id="h84-0-209" class="d">-            id INTEGER PRIMARY KEY,
</a><a href="#h84-0-210" id="h84-0-210" class="d">-            &quot;boolean&quot; BOOLEAN UNIQUE,
</a><a href="#h84-0-211" id="h84-0-211" class="d">-            &quot;float&quot; FLOAT UNIQUE,
</a><a href="#h84-0-212" id="h84-0-212" class="d">-            &quot;integer&quot; INTEGER UNIQUE,
</a><a href="#h84-0-213" id="h84-0-213" class="d">-            &quot;string&quot; STRING UNIQUE
</a><a href="#h84-0-214" id="h84-0-214" class="d">-        )&quot;#,
</a><a href="#h84-0-215" id="h84-0-215" class="d">-        r#&quot;INSERT INTO &quot;unique&quot; VALUES (0, NULL, NULL, NULL, NULL)&quot;#,
</a><a href="#h84-0-216" id="h84-0-216" class="d">-        r#&quot;INSERT INTO &quot;unique&quot; VALUES (1, TRUE, 3.14, 7, &#39;foo&#39;)&quot;#,
</a><a href="#h84-0-217" id="h84-0-217" class="d">-    ];
</a><a href="#h84-0-218" id="h84-0-218" class="d">-    insert_unique_boolean: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;boolean&quot;) VALUES (2, FALSE)&quot;#,
</a><a href="#h84-0-219" id="h84-0-219" class="d">-    insert_unique_boolean_duplicate: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;boolean&quot;) VALUES (2, TRUE)&quot;#,
</a><a href="#h84-0-220" id="h84-0-220" class="d">-    insert_unique_float: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (2, 2.718)&quot;#,
</a><a href="#h84-0-221" id="h84-0-221" class="d">-    insert_unique_float_duplicate: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (2, 3.14)&quot;#,
</a><a href="#h84-0-222" id="h84-0-222" class="d">-    insert_unique_integer: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;integer&quot;) VALUES (2, 3)&quot;#,
</a><a href="#h84-0-223" id="h84-0-223" class="d">-    insert_unique_integer_duplicate: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;integer&quot;) VALUES (2, 7)&quot;#,
</a><a href="#h84-0-224" id="h84-0-224" class="d">-    insert_unique_string: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;bar&#39;)&quot;#,
</a><a href="#h84-0-225" id="h84-0-225" class="d">-    insert_unique_string_duplicate: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;foo&#39;)&quot;#,
</a><a href="#h84-0-226" id="h84-0-226" class="d">-    insert_unique_string_case: r#&quot;INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;Foo&#39;)&quot;#,
</a><a href="#h84-0-227" id="h84-0-227" class="d">-    insert_unique_nulls: r#&quot;INSERT INTO &quot;unique&quot; VALUES (2, NULL, NULL, NULL, NULL)&quot;#,
</a><a href="#h84-0-228" id="h84-0-228" class="d">-
</a><a href="#h84-0-229" id="h84-0-229" class="d">-    update_unique_boolean: r#&quot;UPDATE &quot;unique&quot; SET &quot;boolean&quot; = FALSE WHERE id = 0&quot;#,
</a><a href="#h84-0-230" id="h84-0-230" class="d">-    update_unique_boolean_duplicate: r#&quot;UPDATE &quot;unique&quot; SET &quot;boolean&quot; = TRUE WHERE id = 0&quot;#,
</a><a href="#h84-0-231" id="h84-0-231" class="d">-    update_unique_boolean_same: r#&quot;UPDATE &quot;unique&quot; SET &quot;boolean&quot; = TRUE WHERE id = 1&quot;#,
</a><a href="#h84-0-232" id="h84-0-232" class="d">-    update_unique_nulls: r#&quot;UPDATE &quot;unique&quot; SET &quot;boolean&quot; = NULL, &quot;float&quot; = NULL, &quot;integer&quot; = NULL, &quot;string&quot; = NULL WHERE id = 1&quot;#,
</a><a href="#h84-0-233" id="h84-0-233" class="d">-}
</a><a href="#h84-0-234" id="h84-0-234" class="d">-
</a><a href="#h84-0-235" id="h84-0-235" class="d">-test_schema! { with [
</a><a href="#h84-0-236" id="h84-0-236" class="d">-        &quot;CREATE TABLE target (id BOOLEAN PRIMARY KEY)&quot;,
</a><a href="#h84-0-237" id="h84-0-237" class="d">-        &quot;INSERT INTO target VALUES (TRUE)&quot;,
</a><a href="#h84-0-238" id="h84-0-238" class="d">-        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id BOOLEAN REFERENCES target)&quot;,
</a><a href="#h84-0-239" id="h84-0-239" class="d">-    ];
</a><a href="#h84-0-240" id="h84-0-240" class="d">-    insert_ref_boolean: &quot;INSERT INTO source VALUES (1, TRUE)&quot;,
</a><a href="#h84-0-241" id="h84-0-241" class="d">-    insert_ref_boolean_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h84-0-242" id="h84-0-242" class="d">-    insert_ref_boolean_missing: &quot;INSERT INTO source VALUES (1, FALSE)&quot;,
</a><a href="#h84-0-243" id="h84-0-243" class="d">-}
</a><a href="#h84-0-244" id="h84-0-244" class="d">-
</a><a href="#h84-0-245" id="h84-0-245" class="d">-test_schema! { with [
</a><a href="#h84-0-246" id="h84-0-246" class="d">-        &quot;CREATE TABLE target (id FLOAT PRIMARY KEY)&quot;,
</a><a href="#h84-0-247" id="h84-0-247" class="d">-        &quot;INSERT INTO target VALUES (3.14), (2.718)&quot;,
</a><a href="#h84-0-248" id="h84-0-248" class="d">-        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id FLOAT REFERENCES target)&quot;,
</a><a href="#h84-0-249" id="h84-0-249" class="d">-    ];
</a><a href="#h84-0-250" id="h84-0-250" class="d">-    insert_ref_float: &quot;INSERT INTO source VALUES (1, 3.14)&quot;,
</a><a href="#h84-0-251" id="h84-0-251" class="d">-    insert_ref_float_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h84-0-252" id="h84-0-252" class="d">-    insert_ref_float_missing: &quot;INSERT INTO source VALUES (1, 1.618)&quot;,
</a><a href="#h84-0-253" id="h84-0-253" class="d">-}
</a><a href="#h84-0-254" id="h84-0-254" class="d">-
</a><a href="#h84-0-255" id="h84-0-255" class="d">-test_schema! { with [
</a><a href="#h84-0-256" id="h84-0-256" class="d">-        &quot;CREATE TABLE target (id INTEGER PRIMARY KEY)&quot;,
</a><a href="#h84-0-257" id="h84-0-257" class="d">-        &quot;INSERT INTO target VALUES (1), (2), (3)&quot;,
</a><a href="#h84-0-258" id="h84-0-258" class="d">-        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id INTEGER REFERENCES target)&quot;,
</a><a href="#h84-0-259" id="h84-0-259" class="d">-    ];
</a><a href="#h84-0-260" id="h84-0-260" class="d">-    insert_ref_integer: &quot;INSERT INTO source VALUES (1, 1)&quot;,
</a><a href="#h84-0-261" id="h84-0-261" class="d">-    insert_ref_integer_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h84-0-262" id="h84-0-262" class="d">-    insert_ref_integer_missing: &quot;INSERT INTO source VALUES (1, 7)&quot;,
</a><a href="#h84-0-263" id="h84-0-263" class="d">-}
</a><a href="#h84-0-264" id="h84-0-264" class="d">-
</a><a href="#h84-0-265" id="h84-0-265" class="d">-test_schema! { with [
</a><a href="#h84-0-266" id="h84-0-266" class="d">-        &quot;CREATE TABLE target (id STRING PRIMARY KEY)&quot;,
</a><a href="#h84-0-267" id="h84-0-267" class="d">-        &quot;INSERT INTO target VALUES (&#39;foo&#39;), (&#39;bar&#39;)&quot;,
</a><a href="#h84-0-268" id="h84-0-268" class="d">-        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id STRING REFERENCES target)&quot;,
</a><a href="#h84-0-269" id="h84-0-269" class="d">-    ];
</a><a href="#h84-0-270" id="h84-0-270" class="d">-    insert_ref_string: &quot;INSERT INTO source VALUES (1, &#39;foo&#39;)&quot;,
</a><a href="#h84-0-271" id="h84-0-271" class="d">-    insert_ref_string_case: &quot;INSERT INTO source VALUES (1, &#39;Foo&#39;)&quot;,
</a><a href="#h84-0-272" id="h84-0-272" class="d">-    insert_ref_string_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h84-0-273" id="h84-0-273" class="d">-    insert_ref_string_missing: &quot;INSERT INTO source VALUES (1, &#39;baz&#39;)&quot;,
</a><a href="#h84-0-274" id="h84-0-274" class="d">-}
</a><a href="#h84-0-275" id="h84-0-275" class="d">-
</a><a href="#h84-0-276" id="h84-0-276" class="d">-test_schema! { with [
</a><a href="#h84-0-277" id="h84-0-277" class="d">-        &quot;CREATE TABLE target (id INTEGER PRIMARY KEY, value STRING)&quot;,
</a><a href="#h84-0-278" id="h84-0-278" class="d">-        &quot;INSERT INTO target VALUES (1, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;)&quot;,
</a><a href="#h84-0-279" id="h84-0-279" class="d">-        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id INTEGER REFERENCES target)&quot;,
</a><a href="#h84-0-280" id="h84-0-280" class="d">-        &quot;INSERT INTO source VALUES (1, 1), (2, 2), (4, NULL)&quot;,
</a><a href="#h84-0-281" id="h84-0-281" class="d">-    ];
</a><a href="#h84-0-282" id="h84-0-282" class="d">-    delete_ref_conflict: &quot;DELETE FROM target WHERE id = 1&quot;,
</a><a href="#h84-0-283" id="h84-0-283" class="d">-    delete_ref_noref: &quot;DELETE FROM target WHERE id = 3&quot;,
</a><a href="#h84-0-284" id="h84-0-284" class="d">-    delete_ref_source: &quot;DELETE FROM source WHERE id = 1&quot;,
</a><a href="#h84-0-285" id="h84-0-285" class="d">-
</a><a href="#h84-0-286" id="h84-0-286" class="d">-    update_ref_value: &quot;UPDATE target SET value = &#39;x&#39; WHERE id = 1&quot;,
</a><a href="#h84-0-287" id="h84-0-287" class="d">-    update_ref_pk: &quot;UPDATE target SET id = 9 WHERE id = 1&quot;,
</a><a href="#h84-0-288" id="h84-0-288" class="d">-    update_ref_pk_noref: &quot;UPDATE target SET id = 9 WHERE id = 3&quot;,
</a><a href="#h84-0-289" id="h84-0-289" class="d">-    update_ref_source: &quot;UPDATE source SET target_id = 1 WHERE id = 4&quot;,
</a><a href="#h84-0-290" id="h84-0-290" class="d">-    update_ref_source_missing: &quot;UPDATE source SET target_id = 9 WHERE id = 4&quot;,
</a><a href="#h84-0-291" id="h84-0-291" class="d">-    update_ref_source_null: &quot;UPDATE source SET target_id = NULL WHERE id = 2&quot;,
</a><a href="#h84-0-292" id="h84-0-292" class="d">-}
</a><a href="#h84-0-293" id="h84-0-293" class="d">-
</a><a href="#h84-0-294" id="h84-0-294" class="d">-test_schema! { with [
</a><a href="#h84-0-295" id="h84-0-295" class="d">-        &quot;CREATE TABLE self (id INTEGER PRIMARY KEY, self_id INTEGER REFERENCES self, value STRING)&quot;,
</a><a href="#h84-0-296" id="h84-0-296" class="d">-        &quot;INSERT INTO self VALUES (1, 1, &#39;a&#39;), (2, 1, &#39;b&#39;), (3, 3, &#39;c&#39;), (4, NULL, &#39;d&#39;)&quot;,
</a><a href="#h84-0-297" id="h84-0-297" class="d">-    ];
</a><a href="#h84-0-298" id="h84-0-298" class="d">-    delete_ref_self: &quot;DELETE FROM self WHERE id = 3&quot;,
</a><a href="#h84-0-299" id="h84-0-299" class="d">-    delete_ref_self_all: &quot;DELETE FROM self&quot;,
</a><a href="#h84-0-300" id="h84-0-300" class="d">-    delete_ref_self_conflict: &quot;DELETE FROM self WHERE id = 1&quot;,
</a><a href="#h84-0-301" id="h84-0-301" class="d">-
</a><a href="#h84-0-302" id="h84-0-302" class="d">-    insert_ref_self: &quot;INSERT INTO self VALUES (5, 1, &#39;e&#39;)&quot;,
</a><a href="#h84-0-303" id="h84-0-303" class="d">-    insert_ref_self_null: &quot;INSERT INTO self VALUES (5, NULL, &#39;e&#39;)&quot;,
</a><a href="#h84-0-304" id="h84-0-304" class="d">-    insert_ref_self_missing: &quot;INSERT INTO self VALUES (5, 9, &#39;e&#39;)&quot;,
</a><a href="#h84-0-305" id="h84-0-305" class="d">-    insert_ref_self_self: &quot;INSERT INTO self VALUES (5, 5, &#39;e&#39;)&quot;,
</a><a href="#h84-0-306" id="h84-0-306" class="d">-
</a><a href="#h84-0-307" id="h84-0-307" class="d">-    update_ref_self_value: &quot;UPDATE self SET value = &#39;x&#39; WHERE id = 1&quot;,
</a><a href="#h84-0-308" id="h84-0-308" class="d">-    update_ref_self_pk: &quot;UPDATE self SET id = 9 WHERE id = 1&quot;,
</a><a href="#h84-0-309" id="h84-0-309" class="d">-    update_ref_self_pk_noref: &quot;UPDATE self SET id = 9 WHERE id = 2&quot;,
</a><a href="#h84-0-310" id="h84-0-310" class="d">-    update_ref_self_self: &quot;UPDATE self SET self_id = 2 WHERE id = 2&quot;,
</a><a href="#h84-0-311" id="h84-0-311" class="d">-}
</a><a href="#h84-0-312" id="h84-0-312" class="d">-
</a><a href="#h84-0-313" id="h84-0-313" class="d">-test_schema! { with [
</a><a href="#h84-0-314" id="h84-0-314" class="d">-        &quot;CREATE TABLE test (id INTEGER PRIMARY KEY, name STRING INDEX, value INTEGER)&quot;,
</a><a href="#h84-0-315" id="h84-0-315" class="d">-        &quot;INSERT INTO test VALUES (1, &#39;a&#39;, 101), (2, &#39;b&#39;, 102), (3, &#39;b&#39;, 103)&quot;,
</a><a href="#h84-0-316" id="h84-0-316" class="d">-    ];
</a><a href="#h84-0-317" id="h84-0-317" class="d">-
</a><a href="#h84-0-318" id="h84-0-318" class="d">-    delete_index_only: &quot;DELETE FROM test WHERE id = 1&quot;,
</a><a href="#h84-0-319" id="h84-0-319" class="d">-    delete_index_single: &quot;DELETE FROM test WHERE id = 2&quot;,
</a><a href="#h84-0-320" id="h84-0-320" class="d">-    delete_index_all: &quot;DELETE FROM test&quot;,
</a><a href="#h84-0-321" id="h84-0-321" class="d">-
</a><a href="#h84-0-322" id="h84-0-322" class="d">-    insert_index_exists: &quot;INSERT INTO test VALUES (4, &#39;b&#39;, 104)&quot;,
</a><a href="#h84-0-323" id="h84-0-323" class="d">-    insert_index_new: &quot;INSERT INTO test VALUES (4, &#39;c&#39;, 104)&quot;,
</a><a href="#h84-0-324" id="h84-0-324" class="d">-    insert_index_null: &quot;INSERT INTO test VALUES (4, NULL, 104)&quot;,
</a><a href="#h84-0-325" id="h84-0-325" class="d">-
</a><a href="#h84-0-326" id="h84-0-326" class="d">-    update_index_same: &quot;UPDATE test SET value = 102 WHERE id = 3&quot;,
</a><a href="#h84-0-327" id="h84-0-327" class="d">-    update_index_new: &quot;UPDATE test SET name = &#39;c&#39; WHERE id = 3&quot;,
</a><a href="#h84-0-328" id="h84-0-328" class="d">-    update_index_existing: &quot;UPDATE test SET name = &#39;a&#39; WHERE id = 2&quot;,
</a><a href="#h84-0-329" id="h84-0-329" class="d">-    update_index_last: &quot;UPDATE test SET name = &#39;b&#39; WHERE id = 1&quot;,
</a><a href="#h84-0-330" id="h84-0-330" class="d">-    update_index_swap: &quot;UPDATE test SET name = &#39;c&#39; WHERE id = 1&quot;,
</a><a href="#h84-0-331" id="h84-0-331" class="d">-    update_index_pk: &quot;UPDATE test SET id = 4 WHERE id = 1&quot;,
</a><a href="#h84-0-332" id="h84-0-332" class="d">-    update_index_null: &quot;UPDATE test SET name = NULL WHERE id = 3&quot;,
</a><a href="#h84-0-333" id="h84-0-333" class="d">-}
</a><b>diff --git a/<a id="h85" href="../file/tests/sql/schema/delete_index_all.html">tests/sql/schema/delete_index_all</a> b/<a href="../file/tests/sql/schema/delete_index_all.html">tests/sql/schema/delete_index_all</a></b>
<a href="#h85-0" id="h85-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h85-0-0" id="h85-0-0" class="d">-Query: DELETE FROM test
</a><a href="#h85-0-1" id="h85-0-1" class="d">-Result: Delete { count: 3 }
</a><a href="#h85-0-2" id="h85-0-2" class="d">-
</a><a href="#h85-0-3" id="h85-0-3" class="d">-Storage:
</a><a href="#h85-0-4" id="h85-0-4" class="d">-CREATE TABLE test (
</a><a href="#h85-0-5" id="h85-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h85-0-6" id="h85-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h85-0-7" id="h85-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h85-0-8" id="h85-0-8" class="d">-)
</a><a href="#h85-0-9" id="h85-0-9" class="d">-
</a><a href="#h85-0-10" id="h85-0-10" class="d">-Index test.name
</a><b>diff --git a/<a id="h86" href="../file/tests/sql/schema/delete_index_only.html">tests/sql/schema/delete_index_only</a> b/<a href="../file/tests/sql/schema/delete_index_only.html">tests/sql/schema/delete_index_only</a></b>
<a href="#h86-0" id="h86-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h86-0-0" id="h86-0-0" class="d">-Query: DELETE FROM test WHERE id = 1
</a><a href="#h86-0-1" id="h86-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h86-0-2" id="h86-0-2" class="d">-
</a><a href="#h86-0-3" id="h86-0-3" class="d">-Storage:
</a><a href="#h86-0-4" id="h86-0-4" class="d">-CREATE TABLE test (
</a><a href="#h86-0-5" id="h86-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h86-0-6" id="h86-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h86-0-7" id="h86-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h86-0-8" id="h86-0-8" class="d">-)
</a><a href="#h86-0-9" id="h86-0-9" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h86-0-10" id="h86-0-10" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h86-0-11" id="h86-0-11" class="d">-
</a><a href="#h86-0-12" id="h86-0-12" class="d">-Index test.name
</a><a href="#h86-0-13" id="h86-0-13" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h87" href="../file/tests/sql/schema/delete_index_single.html">tests/sql/schema/delete_index_single</a> b/<a href="../file/tests/sql/schema/delete_index_single.html">tests/sql/schema/delete_index_single</a></b>
<a href="#h87-0" id="h87-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h87-0-0" id="h87-0-0" class="d">-Query: DELETE FROM test WHERE id = 2
</a><a href="#h87-0-1" id="h87-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h87-0-2" id="h87-0-2" class="d">-
</a><a href="#h87-0-3" id="h87-0-3" class="d">-Storage:
</a><a href="#h87-0-4" id="h87-0-4" class="d">-CREATE TABLE test (
</a><a href="#h87-0-5" id="h87-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h87-0-6" id="h87-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h87-0-7" id="h87-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h87-0-8" id="h87-0-8" class="d">-)
</a><a href="#h87-0-9" id="h87-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h87-0-10" id="h87-0-10" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h87-0-11" id="h87-0-11" class="d">-
</a><a href="#h87-0-12" id="h87-0-12" class="d">-Index test.name
</a><a href="#h87-0-13" id="h87-0-13" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h87-0-14" id="h87-0-14" class="d">-String(&quot;b&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h88" href="../file/tests/sql/schema/delete_ref_conflict.html">tests/sql/schema/delete_ref_conflict</a> b/<a href="../file/tests/sql/schema/delete_ref_conflict.html">tests/sql/schema/delete_ref_conflict</a></b>
<a href="#h88-0" id="h88-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h88-0-0" id="h88-0-0" class="d">-Query: DELETE FROM target WHERE id = 1
</a><a href="#h88-0-1" id="h88-0-1" class="d">-Error: InvalidInput(&quot;row referenced by source.target_id for source.id=1&quot;)
</a><a href="#h88-0-2" id="h88-0-2" class="d">-
</a><a href="#h88-0-3" id="h88-0-3" class="d">-Storage:
</a><a href="#h88-0-4" id="h88-0-4" class="d">-CREATE TABLE source (
</a><a href="#h88-0-5" id="h88-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h88-0-6" id="h88-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h88-0-7" id="h88-0-7" class="d">-)
</a><a href="#h88-0-8" id="h88-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h88-0-9" id="h88-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h88-0-10" id="h88-0-10" class="d">-[Integer(4), Null]
</a><a href="#h88-0-11" id="h88-0-11" class="d">-
</a><a href="#h88-0-12" id="h88-0-12" class="d">-Index source.target_id
</a><a href="#h88-0-13" id="h88-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h88-0-14" id="h88-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h88-0-15" id="h88-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h88-0-16" id="h88-0-16" class="d">-
</a><a href="#h88-0-17" id="h88-0-17" class="d">-CREATE TABLE target (
</a><a href="#h88-0-18" id="h88-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h88-0-19" id="h88-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h88-0-20" id="h88-0-20" class="d">-)
</a><a href="#h88-0-21" id="h88-0-21" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h88-0-22" id="h88-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h88-0-23" id="h88-0-23" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h89" href="../file/tests/sql/schema/delete_ref_noref.html">tests/sql/schema/delete_ref_noref</a> b/<a href="../file/tests/sql/schema/delete_ref_noref.html">tests/sql/schema/delete_ref_noref</a></b>
<a href="#h89-0" id="h89-0" class="h">@@ -1,23 +0,0 @@
</a><a href="#h89-0-0" id="h89-0-0" class="d">-Query: DELETE FROM target WHERE id = 3
</a><a href="#h89-0-1" id="h89-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h89-0-2" id="h89-0-2" class="d">-
</a><a href="#h89-0-3" id="h89-0-3" class="d">-Storage:
</a><a href="#h89-0-4" id="h89-0-4" class="d">-CREATE TABLE source (
</a><a href="#h89-0-5" id="h89-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h89-0-6" id="h89-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h89-0-7" id="h89-0-7" class="d">-)
</a><a href="#h89-0-8" id="h89-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h89-0-9" id="h89-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h89-0-10" id="h89-0-10" class="d">-[Integer(4), Null]
</a><a href="#h89-0-11" id="h89-0-11" class="d">-
</a><a href="#h89-0-12" id="h89-0-12" class="d">-Index source.target_id
</a><a href="#h89-0-13" id="h89-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h89-0-14" id="h89-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h89-0-15" id="h89-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h89-0-16" id="h89-0-16" class="d">-
</a><a href="#h89-0-17" id="h89-0-17" class="d">-CREATE TABLE target (
</a><a href="#h89-0-18" id="h89-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h89-0-19" id="h89-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h89-0-20" id="h89-0-20" class="d">-)
</a><a href="#h89-0-21" id="h89-0-21" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h89-0-22" id="h89-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><b>diff --git a/<a id="h90" href="../file/tests/sql/schema/delete_ref_self.html">tests/sql/schema/delete_ref_self</a> b/<a href="../file/tests/sql/schema/delete_ref_self.html">tests/sql/schema/delete_ref_self</a></b>
<a href="#h90-0" id="h90-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h90-0-0" id="h90-0-0" class="d">-Query: DELETE FROM self WHERE id = 3
</a><a href="#h90-0-1" id="h90-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h90-0-2" id="h90-0-2" class="d">-
</a><a href="#h90-0-3" id="h90-0-3" class="d">-Storage:
</a><a href="#h90-0-4" id="h90-0-4" class="d">-CREATE TABLE self (
</a><a href="#h90-0-5" id="h90-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h90-0-6" id="h90-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h90-0-7" id="h90-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h90-0-8" id="h90-0-8" class="d">-)
</a><a href="#h90-0-9" id="h90-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h90-0-10" id="h90-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h90-0-11" id="h90-0-11" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h90-0-12" id="h90-0-12" class="d">-
</a><a href="#h90-0-13" id="h90-0-13" class="d">-Index self.self_id
</a><a href="#h90-0-14" id="h90-0-14" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h90-0-15" id="h90-0-15" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><b>diff --git a/<a id="h91" href="../file/tests/sql/schema/delete_ref_self_all.html">tests/sql/schema/delete_ref_self_all</a> b/<a href="../file/tests/sql/schema/delete_ref_self_all.html">tests/sql/schema/delete_ref_self_all</a></b>
<a href="#h91-0" id="h91-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h91-0-0" id="h91-0-0" class="d">-Query: DELETE FROM self
</a><a href="#h91-0-1" id="h91-0-1" class="d">-Result: Delete { count: 4 }
</a><a href="#h91-0-2" id="h91-0-2" class="d">-
</a><a href="#h91-0-3" id="h91-0-3" class="d">-Storage:
</a><a href="#h91-0-4" id="h91-0-4" class="d">-CREATE TABLE self (
</a><a href="#h91-0-5" id="h91-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h91-0-6" id="h91-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h91-0-7" id="h91-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h91-0-8" id="h91-0-8" class="d">-)
</a><a href="#h91-0-9" id="h91-0-9" class="d">-
</a><a href="#h91-0-10" id="h91-0-10" class="d">-Index self.self_id
</a><b>diff --git a/<a id="h92" href="../file/tests/sql/schema/delete_ref_self_conflict.html">tests/sql/schema/delete_ref_self_conflict</a> b/<a href="../file/tests/sql/schema/delete_ref_self_conflict.html">tests/sql/schema/delete_ref_self_conflict</a></b>
<a href="#h92-0" id="h92-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h92-0-0" id="h92-0-0" class="d">-Query: DELETE FROM self WHERE id = 1
</a><a href="#h92-0-1" id="h92-0-1" class="d">-Error: InvalidInput(&quot;row referenced by self.self_id for self.id=2&quot;)
</a><a href="#h92-0-2" id="h92-0-2" class="d">-
</a><a href="#h92-0-3" id="h92-0-3" class="d">-Storage:
</a><a href="#h92-0-4" id="h92-0-4" class="d">-CREATE TABLE self (
</a><a href="#h92-0-5" id="h92-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h92-0-6" id="h92-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h92-0-7" id="h92-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h92-0-8" id="h92-0-8" class="d">-)
</a><a href="#h92-0-9" id="h92-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h92-0-10" id="h92-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h92-0-11" id="h92-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h92-0-12" id="h92-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h92-0-13" id="h92-0-13" class="d">-
</a><a href="#h92-0-14" id="h92-0-14" class="d">-Index self.self_id
</a><a href="#h92-0-15" id="h92-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h92-0-16" id="h92-0-16" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h92-0-17" id="h92-0-17" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h93" href="../file/tests/sql/schema/delete_ref_source.html">tests/sql/schema/delete_ref_source</a> b/<a href="../file/tests/sql/schema/delete_ref_source.html">tests/sql/schema/delete_ref_source</a></b>
<a href="#h93-0" id="h93-0" class="h">@@ -1,22 +0,0 @@
</a><a href="#h93-0-0" id="h93-0-0" class="d">-Query: DELETE FROM source WHERE id = 1
</a><a href="#h93-0-1" id="h93-0-1" class="d">-Result: Delete { count: 1 }
</a><a href="#h93-0-2" id="h93-0-2" class="d">-
</a><a href="#h93-0-3" id="h93-0-3" class="d">-Storage:
</a><a href="#h93-0-4" id="h93-0-4" class="d">-CREATE TABLE source (
</a><a href="#h93-0-5" id="h93-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h93-0-6" id="h93-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h93-0-7" id="h93-0-7" class="d">-)
</a><a href="#h93-0-8" id="h93-0-8" class="d">-[Integer(2), Integer(2)]
</a><a href="#h93-0-9" id="h93-0-9" class="d">-[Integer(4), Null]
</a><a href="#h93-0-10" id="h93-0-10" class="d">-
</a><a href="#h93-0-11" id="h93-0-11" class="d">-Index source.target_id
</a><a href="#h93-0-12" id="h93-0-12" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h93-0-13" id="h93-0-13" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h93-0-14" id="h93-0-14" class="d">-
</a><a href="#h93-0-15" id="h93-0-15" class="d">-CREATE TABLE target (
</a><a href="#h93-0-16" id="h93-0-16" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h93-0-17" id="h93-0-17" class="d">-  value STRING DEFAULT NULL
</a><a href="#h93-0-18" id="h93-0-18" class="d">-)
</a><a href="#h93-0-19" id="h93-0-19" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h93-0-20" id="h93-0-20" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h93-0-21" id="h93-0-21" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h94" href="../file/tests/sql/schema/insert_boolean_false.html">tests/sql/schema/insert_boolean_false</a> b/<a href="../file/tests/sql/schema/insert_boolean_false.html">tests/sql/schema/insert_boolean_false</a></b>
<a href="#h94-0" id="h94-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h94-0-0" id="h94-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, FALSE)
</a><a href="#h94-0-1" id="h94-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h94-0-2" id="h94-0-2" class="d">-
</a><a href="#h94-0-3" id="h94-0-3" class="d">-Storage:
</a><a href="#h94-0-4" id="h94-0-4" class="d">-CREATE TABLE types (
</a><a href="#h94-0-5" id="h94-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h94-0-6" id="h94-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h94-0-7" id="h94-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h94-0-8" id="h94-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h94-0-9" id="h94-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h94-0-10" id="h94-0-10" class="d">-)
</a><a href="#h94-0-11" id="h94-0-11" class="d">-[Integer(0), Boolean(false), Null, Null, Null]
</a><b>diff --git a/<a id="h95" href="../file/tests/sql/schema/insert_boolean_float.html">tests/sql/schema/insert_boolean_float</a> b/<a href="../file/tests/sql/schema/insert_boolean_float.html">tests/sql/schema/insert_boolean_float</a></b>
<a href="#h95-0" id="h95-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h95-0-0" id="h95-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 3.14)
</a><a href="#h95-0-1" id="h95-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for BOOLEAN column boolean&quot;)
</a><a href="#h95-0-2" id="h95-0-2" class="d">-
</a><a href="#h95-0-3" id="h95-0-3" class="d">-Storage:
</a><a href="#h95-0-4" id="h95-0-4" class="d">-CREATE TABLE types (
</a><a href="#h95-0-5" id="h95-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h95-0-6" id="h95-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h95-0-7" id="h95-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h95-0-8" id="h95-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h95-0-9" id="h95-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h95-0-10" id="h95-0-10" class="d">-)
</a><b>diff --git a/<a id="h96" href="../file/tests/sql/schema/insert_boolean_float_zero.html">tests/sql/schema/insert_boolean_float_zero</a> b/<a href="../file/tests/sql/schema/insert_boolean_float_zero.html">tests/sql/schema/insert_boolean_float_zero</a></b>
<a href="#h96-0" id="h96-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h96-0-0" id="h96-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 0.0)
</a><a href="#h96-0-1" id="h96-0-1" class="d">-Error: Value(&quot;Invalid datatype FLOAT for BOOLEAN column boolean&quot;)
</a><a href="#h96-0-2" id="h96-0-2" class="d">-
</a><a href="#h96-0-3" id="h96-0-3" class="d">-Storage:
</a><a href="#h96-0-4" id="h96-0-4" class="d">-CREATE TABLE types (
</a><a href="#h96-0-5" id="h96-0-5" class="d">-  id INTEGER PRIMARY KEY NOT NULL,
</a><a href="#h96-0-6" id="h96-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h96-0-7" id="h96-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h96-0-8" id="h96-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h96-0-9" id="h96-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h96-0-10" id="h96-0-10" class="d">-)
</a><b>diff --git a/<a id="h97" href="../file/tests/sql/schema/insert_boolean_integer.html">tests/sql/schema/insert_boolean_integer</a> b/<a href="../file/tests/sql/schema/insert_boolean_integer.html">tests/sql/schema/insert_boolean_integer</a></b>
<a href="#h97-0" id="h97-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h97-0-0" id="h97-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 1)
</a><a href="#h97-0-1" id="h97-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype INTEGER for BOOLEAN column boolean&quot;)
</a><a href="#h97-0-2" id="h97-0-2" class="d">-
</a><a href="#h97-0-3" id="h97-0-3" class="d">-Storage:
</a><a href="#h97-0-4" id="h97-0-4" class="d">-CREATE TABLE types (
</a><a href="#h97-0-5" id="h97-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h97-0-6" id="h97-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h97-0-7" id="h97-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h97-0-8" id="h97-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h97-0-9" id="h97-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h97-0-10" id="h97-0-10" class="d">-)
</a><b>diff --git a/<a id="h98" href="../file/tests/sql/schema/insert_boolean_integer_zero.html">tests/sql/schema/insert_boolean_integer_zero</a> b/<a href="../file/tests/sql/schema/insert_boolean_integer_zero.html">tests/sql/schema/insert_boolean_integer_zero</a></b>
<a href="#h98-0" id="h98-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h98-0-0" id="h98-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, 0)
</a><a href="#h98-0-1" id="h98-0-1" class="d">-Error: Value(&quot;Invalid datatype INTEGER for BOOLEAN column boolean&quot;)
</a><a href="#h98-0-2" id="h98-0-2" class="d">-
</a><a href="#h98-0-3" id="h98-0-3" class="d">-Storage:
</a><a href="#h98-0-4" id="h98-0-4" class="d">-CREATE TABLE types (
</a><a href="#h98-0-5" id="h98-0-5" class="d">-  id INTEGER PRIMARY KEY NOT NULL,
</a><a href="#h98-0-6" id="h98-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h98-0-7" id="h98-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h98-0-8" id="h98-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h98-0-9" id="h98-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h98-0-10" id="h98-0-10" class="d">-)
</a><b>diff --git a/<a id="h99" href="../file/tests/sql/schema/insert_boolean_null.html">tests/sql/schema/insert_boolean_null</a> b/<a href="../file/tests/sql/schema/insert_boolean_null.html">tests/sql/schema/insert_boolean_null</a></b>
<a href="#h99-0" id="h99-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h99-0-0" id="h99-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, NULL)
</a><a href="#h99-0-1" id="h99-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h99-0-2" id="h99-0-2" class="d">-
</a><a href="#h99-0-3" id="h99-0-3" class="d">-Storage:
</a><a href="#h99-0-4" id="h99-0-4" class="d">-CREATE TABLE types (
</a><a href="#h99-0-5" id="h99-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h99-0-6" id="h99-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h99-0-7" id="h99-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h99-0-8" id="h99-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h99-0-9" id="h99-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h99-0-10" id="h99-0-10" class="d">-)
</a><a href="#h99-0-11" id="h99-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><b>diff --git a/<a id="h100" href="../file/tests/sql/schema/insert_boolean_string.html">tests/sql/schema/insert_boolean_string</a> b/<a href="../file/tests/sql/schema/insert_boolean_string.html">tests/sql/schema/insert_boolean_string</a></b>
<a href="#h100-0" id="h100-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h100-0-0" id="h100-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, &#39;abc&#39;)
</a><a href="#h100-0-1" id="h100-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for BOOLEAN column boolean&quot;)
</a><a href="#h100-0-2" id="h100-0-2" class="d">-
</a><a href="#h100-0-3" id="h100-0-3" class="d">-Storage:
</a><a href="#h100-0-4" id="h100-0-4" class="d">-CREATE TABLE types (
</a><a href="#h100-0-5" id="h100-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h100-0-6" id="h100-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h100-0-7" id="h100-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h100-0-8" id="h100-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h100-0-9" id="h100-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h100-0-10" id="h100-0-10" class="d">-)
</a><b>diff --git a/<a id="h101" href="../file/tests/sql/schema/insert_boolean_string_empty.html">tests/sql/schema/insert_boolean_string_empty</a> b/<a href="../file/tests/sql/schema/insert_boolean_string_empty.html">tests/sql/schema/insert_boolean_string_empty</a></b>
<a href="#h101-0" id="h101-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h101-0-0" id="h101-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, &#39;&#39;)
</a><a href="#h101-0-1" id="h101-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for BOOLEAN column boolean&quot;)
</a><a href="#h101-0-2" id="h101-0-2" class="d">-
</a><a href="#h101-0-3" id="h101-0-3" class="d">-Storage:
</a><a href="#h101-0-4" id="h101-0-4" class="d">-CREATE TABLE types (
</a><a href="#h101-0-5" id="h101-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h101-0-6" id="h101-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h101-0-7" id="h101-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h101-0-8" id="h101-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h101-0-9" id="h101-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h101-0-10" id="h101-0-10" class="d">-)
</a><b>diff --git a/<a id="h102" href="../file/tests/sql/schema/insert_boolean_true.html">tests/sql/schema/insert_boolean_true</a> b/<a href="../file/tests/sql/schema/insert_boolean_true.html">tests/sql/schema/insert_boolean_true</a></b>
<a href="#h102-0" id="h102-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h102-0-0" id="h102-0-0" class="d">-Query: INSERT INTO types (id, &quot;boolean&quot;) VALUES (0, TRUE)
</a><a href="#h102-0-1" id="h102-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h102-0-2" id="h102-0-2" class="d">-
</a><a href="#h102-0-3" id="h102-0-3" class="d">-Storage:
</a><a href="#h102-0-4" id="h102-0-4" class="d">-CREATE TABLE types (
</a><a href="#h102-0-5" id="h102-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h102-0-6" id="h102-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h102-0-7" id="h102-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h102-0-8" id="h102-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h102-0-9" id="h102-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h102-0-10" id="h102-0-10" class="d">-)
</a><a href="#h102-0-11" id="h102-0-11" class="d">-[Integer(0), Boolean(true), Null, Null, Null]
</a><b>diff --git a/<a id="h103" href="../file/tests/sql/schema/insert_default.html">tests/sql/schema/insert_default</a> b/<a href="../file/tests/sql/schema/insert_default.html">tests/sql/schema/insert_default</a></b>
<a href="#h103-0" id="h103-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h103-0-0" id="h103-0-0" class="d">-Query: INSERT INTO defaults (id, required) VALUES (1, TRUE)
</a><a href="#h103-0-1" id="h103-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h103-0-2" id="h103-0-2" class="d">-
</a><a href="#h103-0-3" id="h103-0-3" class="d">-Storage:
</a><a href="#h103-0-4" id="h103-0-4" class="d">-CREATE TABLE defaults (
</a><a href="#h103-0-5" id="h103-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h103-0-6" id="h103-0-6" class="d">-  required BOOLEAN NOT NULL,
</a><a href="#h103-0-7" id="h103-0-7" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h103-0-8" id="h103-0-8" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h103-0-9" id="h103-0-9" class="d">-  &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h103-0-10" id="h103-0-10" class="d">-  &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h103-0-11" id="h103-0-11" class="d">-  &quot;string&quot; STRING DEFAULT foo
</a><a href="#h103-0-12" id="h103-0-12" class="d">-)
</a><a href="#h103-0-13" id="h103-0-13" class="d">-[Integer(1), Boolean(true), Null, Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h104" href="../file/tests/sql/schema/insert_default_missing.html">tests/sql/schema/insert_default_missing</a> b/<a href="../file/tests/sql/schema/insert_default_missing.html">tests/sql/schema/insert_default_missing</a></b>
<a href="#h104-0" id="h104-0" class="h">@@ -1,13 +0,0 @@
</a><a href="#h104-0-0" id="h104-0-0" class="d">-Query: INSERT INTO defaults (id) VALUES (1)
</a><a href="#h104-0-1" id="h104-0-1" class="d">-Error: InvalidInput(&quot;no value given for column required with no default&quot;)
</a><a href="#h104-0-2" id="h104-0-2" class="d">-
</a><a href="#h104-0-3" id="h104-0-3" class="d">-Storage:
</a><a href="#h104-0-4" id="h104-0-4" class="d">-CREATE TABLE defaults (
</a><a href="#h104-0-5" id="h104-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h104-0-6" id="h104-0-6" class="d">-  required BOOLEAN NOT NULL,
</a><a href="#h104-0-7" id="h104-0-7" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h104-0-8" id="h104-0-8" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h104-0-9" id="h104-0-9" class="d">-  &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h104-0-10" id="h104-0-10" class="d">-  &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h104-0-11" id="h104-0-11" class="d">-  &quot;string&quot; STRING DEFAULT foo
</a><a href="#h104-0-12" id="h104-0-12" class="d">-)
</a><b>diff --git a/<a id="h105" href="../file/tests/sql/schema/insert_default_override.html">tests/sql/schema/insert_default_override</a> b/<a href="../file/tests/sql/schema/insert_default_override.html">tests/sql/schema/insert_default_override</a></b>
<a href="#h105-0" id="h105-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h105-0-0" id="h105-0-0" class="d">-Query: INSERT INTO defaults VALUES (1, TRUE, TRUE, FALSE, 2.718, 3, &#39;bar&#39;)
</a><a href="#h105-0-1" id="h105-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h105-0-2" id="h105-0-2" class="d">-
</a><a href="#h105-0-3" id="h105-0-3" class="d">-Storage:
</a><a href="#h105-0-4" id="h105-0-4" class="d">-CREATE TABLE defaults (
</a><a href="#h105-0-5" id="h105-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h105-0-6" id="h105-0-6" class="d">-  required BOOLEAN NOT NULL,
</a><a href="#h105-0-7" id="h105-0-7" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h105-0-8" id="h105-0-8" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h105-0-9" id="h105-0-9" class="d">-  &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h105-0-10" id="h105-0-10" class="d">-  &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h105-0-11" id="h105-0-11" class="d">-  &quot;string&quot; STRING DEFAULT foo
</a><a href="#h105-0-12" id="h105-0-12" class="d">-)
</a><a href="#h105-0-13" id="h105-0-13" class="d">-[Integer(1), Boolean(true), Boolean(true), Boolean(false), Float(2.718), Integer(3), String(&quot;bar&quot;)]
</a><b>diff --git a/<a id="h106" href="../file/tests/sql/schema/insert_default_override_null.html">tests/sql/schema/insert_default_override_null</a> b/<a href="../file/tests/sql/schema/insert_default_override_null.html">tests/sql/schema/insert_default_override_null</a></b>
<a href="#h106-0" id="h106-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h106-0-0" id="h106-0-0" class="d">-Query: INSERT INTO defaults VALUES (1, TRUE, NULL, NULL, NULL, NULL, NULL)
</a><a href="#h106-0-1" id="h106-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h106-0-2" id="h106-0-2" class="d">-
</a><a href="#h106-0-3" id="h106-0-3" class="d">-Storage:
</a><a href="#h106-0-4" id="h106-0-4" class="d">-CREATE TABLE defaults (
</a><a href="#h106-0-5" id="h106-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h106-0-6" id="h106-0-6" class="d">-  required BOOLEAN NOT NULL,
</a><a href="#h106-0-7" id="h106-0-7" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h106-0-8" id="h106-0-8" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h106-0-9" id="h106-0-9" class="d">-  &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h106-0-10" id="h106-0-10" class="d">-  &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h106-0-11" id="h106-0-11" class="d">-  &quot;string&quot; STRING DEFAULT foo
</a><a href="#h106-0-12" id="h106-0-12" class="d">-)
</a><a href="#h106-0-13" id="h106-0-13" class="d">-[Integer(1), Boolean(true), Null, Null, Null, Null, Null]
</a><b>diff --git a/<a id="h107" href="../file/tests/sql/schema/insert_default_unnamed.html">tests/sql/schema/insert_default_unnamed</a> b/<a href="../file/tests/sql/schema/insert_default_unnamed.html">tests/sql/schema/insert_default_unnamed</a></b>
<a href="#h107-0" id="h107-0" class="h">@@ -1,14 +0,0 @@
</a><a href="#h107-0-0" id="h107-0-0" class="d">-Query: INSERT INTO defaults VALUES (1, TRUE)
</a><a href="#h107-0-1" id="h107-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h107-0-2" id="h107-0-2" class="d">-
</a><a href="#h107-0-3" id="h107-0-3" class="d">-Storage:
</a><a href="#h107-0-4" id="h107-0-4" class="d">-CREATE TABLE defaults (
</a><a href="#h107-0-5" id="h107-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h107-0-6" id="h107-0-6" class="d">-  required BOOLEAN NOT NULL,
</a><a href="#h107-0-7" id="h107-0-7" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h107-0-8" id="h107-0-8" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT TRUE,
</a><a href="#h107-0-9" id="h107-0-9" class="d">-  &quot;float&quot; FLOAT DEFAULT 3.14,
</a><a href="#h107-0-10" id="h107-0-10" class="d">-  &quot;integer&quot; INTEGER DEFAULT 7,
</a><a href="#h107-0-11" id="h107-0-11" class="d">-  &quot;string&quot; STRING DEFAULT foo
</a><a href="#h107-0-12" id="h107-0-12" class="d">-)
</a><a href="#h107-0-13" id="h107-0-13" class="d">-[Integer(1), Boolean(true), Null, Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h108" href="../file/tests/sql/schema/insert_float.html">tests/sql/schema/insert_float</a> b/<a href="../file/tests/sql/schema/insert_float.html">tests/sql/schema/insert_float</a></b>
<a href="#h108-0" id="h108-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h108-0-0" id="h108-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, 3.14)
</a><a href="#h108-0-1" id="h108-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h108-0-2" id="h108-0-2" class="d">-
</a><a href="#h108-0-3" id="h108-0-3" class="d">-Storage:
</a><a href="#h108-0-4" id="h108-0-4" class="d">-CREATE TABLE types (
</a><a href="#h108-0-5" id="h108-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h108-0-6" id="h108-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h108-0-7" id="h108-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h108-0-8" id="h108-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h108-0-9" id="h108-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h108-0-10" id="h108-0-10" class="d">-)
</a><a href="#h108-0-11" id="h108-0-11" class="d">-[Integer(0), Null, Float(3.14), Null, Null]
</a><b>diff --git a/<a id="h109" href="../file/tests/sql/schema/insert_float_boolean.html">tests/sql/schema/insert_float_boolean</a> b/<a href="../file/tests/sql/schema/insert_float_boolean.html">tests/sql/schema/insert_float_boolean</a></b>
<a href="#h109-0" id="h109-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h109-0-0" id="h109-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, FALSE)
</a><a href="#h109-0-1" id="h109-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype BOOLEAN for FLOAT column float&quot;)
</a><a href="#h109-0-2" id="h109-0-2" class="d">-
</a><a href="#h109-0-3" id="h109-0-3" class="d">-Storage:
</a><a href="#h109-0-4" id="h109-0-4" class="d">-CREATE TABLE types (
</a><a href="#h109-0-5" id="h109-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h109-0-6" id="h109-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h109-0-7" id="h109-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h109-0-8" id="h109-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h109-0-9" id="h109-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h109-0-10" id="h109-0-10" class="d">-)
</a><b>diff --git a/<a id="h110" href="../file/tests/sql/schema/insert_float_infinity.html">tests/sql/schema/insert_float_infinity</a> b/<a href="../file/tests/sql/schema/insert_float_infinity.html">tests/sql/schema/insert_float_infinity</a></b>
<a href="#h110-0" id="h110-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h110-0-0" id="h110-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, INFINITY)
</a><a href="#h110-0-1" id="h110-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h110-0-2" id="h110-0-2" class="d">-
</a><a href="#h110-0-3" id="h110-0-3" class="d">-Storage:
</a><a href="#h110-0-4" id="h110-0-4" class="d">-CREATE TABLE types (
</a><a href="#h110-0-5" id="h110-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h110-0-6" id="h110-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h110-0-7" id="h110-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h110-0-8" id="h110-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h110-0-9" id="h110-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h110-0-10" id="h110-0-10" class="d">-)
</a><a href="#h110-0-11" id="h110-0-11" class="d">-[Integer(0), Null, Float(inf), Null, Null]
</a><b>diff --git a/<a id="h111" href="../file/tests/sql/schema/insert_float_infinity_negative.html">tests/sql/schema/insert_float_infinity_negative</a> b/<a href="../file/tests/sql/schema/insert_float_infinity_negative.html">tests/sql/schema/insert_float_infinity_negative</a></b>
<a href="#h111-0" id="h111-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h111-0-0" id="h111-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, -INFINITY)
</a><a href="#h111-0-1" id="h111-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h111-0-2" id="h111-0-2" class="d">-
</a><a href="#h111-0-3" id="h111-0-3" class="d">-Storage:
</a><a href="#h111-0-4" id="h111-0-4" class="d">-CREATE TABLE types (
</a><a href="#h111-0-5" id="h111-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h111-0-6" id="h111-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h111-0-7" id="h111-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h111-0-8" id="h111-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h111-0-9" id="h111-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h111-0-10" id="h111-0-10" class="d">-)
</a><a href="#h111-0-11" id="h111-0-11" class="d">-[Integer(0), Null, Float(-inf), Null, Null]
</a><b>diff --git a/<a id="h112" href="../file/tests/sql/schema/insert_float_integer.html">tests/sql/schema/insert_float_integer</a> b/<a href="../file/tests/sql/schema/insert_float_integer.html">tests/sql/schema/insert_float_integer</a></b>
<a href="#h112-0" id="h112-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h112-0-0" id="h112-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1)
</a><a href="#h112-0-1" id="h112-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype INTEGER for FLOAT column float&quot;)
</a><a href="#h112-0-2" id="h112-0-2" class="d">-
</a><a href="#h112-0-3" id="h112-0-3" class="d">-Storage:
</a><a href="#h112-0-4" id="h112-0-4" class="d">-CREATE TABLE types (
</a><a href="#h112-0-5" id="h112-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h112-0-6" id="h112-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h112-0-7" id="h112-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h112-0-8" id="h112-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h112-0-9" id="h112-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h112-0-10" id="h112-0-10" class="d">-)
</a><b>diff --git a/<a id="h113" href="../file/tests/sql/schema/insert_float_max.html">tests/sql/schema/insert_float_max</a> b/<a href="../file/tests/sql/schema/insert_float_max.html">tests/sql/schema/insert_float_max</a></b>
<a href="#h113-0" id="h113-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h113-0-0" id="h113-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e308)
</a><a href="#h113-0-1" id="h113-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h113-0-2" id="h113-0-2" class="d">-
</a><a href="#h113-0-3" id="h113-0-3" class="d">-Storage:
</a><a href="#h113-0-4" id="h113-0-4" class="d">-CREATE TABLE types (
</a><a href="#h113-0-5" id="h113-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h113-0-6" id="h113-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h113-0-7" id="h113-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h113-0-8" id="h113-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h113-0-9" id="h113-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h113-0-10" id="h113-0-10" class="d">-)
</a><a href="#h113-0-11" id="h113-0-11" class="d">-[Integer(0), Null, Float(1.23456789012345e308), Null, Null]
</a><b>diff --git a/<a id="h114" href="../file/tests/sql/schema/insert_float_max_negative.html">tests/sql/schema/insert_float_max_negative</a> b/<a href="../file/tests/sql/schema/insert_float_max_negative.html">tests/sql/schema/insert_float_max_negative</a></b>
<a href="#h114-0" id="h114-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h114-0-0" id="h114-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, -1.23456789012345e308)
</a><a href="#h114-0-1" id="h114-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h114-0-2" id="h114-0-2" class="d">-
</a><a href="#h114-0-3" id="h114-0-3" class="d">-Storage:
</a><a href="#h114-0-4" id="h114-0-4" class="d">-CREATE TABLE types (
</a><a href="#h114-0-5" id="h114-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h114-0-6" id="h114-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h114-0-7" id="h114-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h114-0-8" id="h114-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h114-0-9" id="h114-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h114-0-10" id="h114-0-10" class="d">-)
</a><a href="#h114-0-11" id="h114-0-11" class="d">-[Integer(0), Null, Float(-1.23456789012345e308), Null, Null]
</a><b>diff --git a/<a id="h115" href="../file/tests/sql/schema/insert_float_min.html">tests/sql/schema/insert_float_min</a> b/<a href="../file/tests/sql/schema/insert_float_min.html">tests/sql/schema/insert_float_min</a></b>
<a href="#h115-0" id="h115-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h115-0-0" id="h115-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e-307)
</a><a href="#h115-0-1" id="h115-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h115-0-2" id="h115-0-2" class="d">-
</a><a href="#h115-0-3" id="h115-0-3" class="d">-Storage:
</a><a href="#h115-0-4" id="h115-0-4" class="d">-CREATE TABLE types (
</a><a href="#h115-0-5" id="h115-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h115-0-6" id="h115-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h115-0-7" id="h115-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h115-0-8" id="h115-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h115-0-9" id="h115-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h115-0-10" id="h115-0-10" class="d">-)
</a><a href="#h115-0-11" id="h115-0-11" class="d">-[Integer(0), Null, Float(1.23456789012345e-307), Null, Null]
</a><b>diff --git a/<a id="h116" href="../file/tests/sql/schema/insert_float_min_negative.html">tests/sql/schema/insert_float_min_negative</a> b/<a href="../file/tests/sql/schema/insert_float_min_negative.html">tests/sql/schema/insert_float_min_negative</a></b>
<a href="#h116-0" id="h116-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h116-0-0" id="h116-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, -1.23456789012345e-307)
</a><a href="#h116-0-1" id="h116-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h116-0-2" id="h116-0-2" class="d">-
</a><a href="#h116-0-3" id="h116-0-3" class="d">-Storage:
</a><a href="#h116-0-4" id="h116-0-4" class="d">-CREATE TABLE types (
</a><a href="#h116-0-5" id="h116-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h116-0-6" id="h116-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h116-0-7" id="h116-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h116-0-8" id="h116-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h116-0-9" id="h116-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h116-0-10" id="h116-0-10" class="d">-)
</a><a href="#h116-0-11" id="h116-0-11" class="d">-[Integer(0), Null, Float(-1.23456789012345e-307), Null, Null]
</a><b>diff --git a/<a id="h117" href="../file/tests/sql/schema/insert_float_min_round.html">tests/sql/schema/insert_float_min_round</a> b/<a href="../file/tests/sql/schema/insert_float_min_round.html">tests/sql/schema/insert_float_min_round</a></b>
<a href="#h117-0" id="h117-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h117-0-0" id="h117-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, 1.23456789012345e-323)
</a><a href="#h117-0-1" id="h117-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h117-0-2" id="h117-0-2" class="d">-
</a><a href="#h117-0-3" id="h117-0-3" class="d">-Storage:
</a><a href="#h117-0-4" id="h117-0-4" class="d">-CREATE TABLE types (
</a><a href="#h117-0-5" id="h117-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h117-0-6" id="h117-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h117-0-7" id="h117-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h117-0-8" id="h117-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h117-0-9" id="h117-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h117-0-10" id="h117-0-10" class="d">-)
</a><a href="#h117-0-11" id="h117-0-11" class="d">-[Integer(0), Null, Float(1e-323), Null, Null]
</a><b>diff --git a/<a id="h118" href="../file/tests/sql/schema/insert_float_nan.html">tests/sql/schema/insert_float_nan</a> b/<a href="../file/tests/sql/schema/insert_float_nan.html">tests/sql/schema/insert_float_nan</a></b>
<a href="#h118-0" id="h118-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h118-0-0" id="h118-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, NAN)
</a><a href="#h118-0-1" id="h118-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h118-0-2" id="h118-0-2" class="d">-
</a><a href="#h118-0-3" id="h118-0-3" class="d">-Storage:
</a><a href="#h118-0-4" id="h118-0-4" class="d">-CREATE TABLE types (
</a><a href="#h118-0-5" id="h118-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h118-0-6" id="h118-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h118-0-7" id="h118-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h118-0-8" id="h118-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h118-0-9" id="h118-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h118-0-10" id="h118-0-10" class="d">-)
</a><a href="#h118-0-11" id="h118-0-11" class="d">-[Integer(0), Null, Float(NaN), Null, Null]
</a><b>diff --git a/<a id="h119" href="../file/tests/sql/schema/insert_float_null.html">tests/sql/schema/insert_float_null</a> b/<a href="../file/tests/sql/schema/insert_float_null.html">tests/sql/schema/insert_float_null</a></b>
<a href="#h119-0" id="h119-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h119-0-0" id="h119-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, NULL)
</a><a href="#h119-0-1" id="h119-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h119-0-2" id="h119-0-2" class="d">-
</a><a href="#h119-0-3" id="h119-0-3" class="d">-Storage:
</a><a href="#h119-0-4" id="h119-0-4" class="d">-CREATE TABLE types (
</a><a href="#h119-0-5" id="h119-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h119-0-6" id="h119-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h119-0-7" id="h119-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h119-0-8" id="h119-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h119-0-9" id="h119-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h119-0-10" id="h119-0-10" class="d">-)
</a><a href="#h119-0-11" id="h119-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><b>diff --git a/<a id="h120" href="../file/tests/sql/schema/insert_float_string.html">tests/sql/schema/insert_float_string</a> b/<a href="../file/tests/sql/schema/insert_float_string.html">tests/sql/schema/insert_float_string</a></b>
<a href="#h120-0" id="h120-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h120-0-0" id="h120-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, &#39;a&#39;)
</a><a href="#h120-0-1" id="h120-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for FLOAT column float&quot;)
</a><a href="#h120-0-2" id="h120-0-2" class="d">-
</a><a href="#h120-0-3" id="h120-0-3" class="d">-Storage:
</a><a href="#h120-0-4" id="h120-0-4" class="d">-CREATE TABLE types (
</a><a href="#h120-0-5" id="h120-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h120-0-6" id="h120-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h120-0-7" id="h120-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h120-0-8" id="h120-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h120-0-9" id="h120-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h120-0-10" id="h120-0-10" class="d">-)
</a><b>diff --git a/<a id="h121" href="../file/tests/sql/schema/insert_float_string_empty.html">tests/sql/schema/insert_float_string_empty</a> b/<a href="../file/tests/sql/schema/insert_float_string_empty.html">tests/sql/schema/insert_float_string_empty</a></b>
<a href="#h121-0" id="h121-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h121-0-0" id="h121-0-0" class="d">-Query: INSERT INTO types (id, &quot;float&quot;) VALUES (0, &#39;&#39;)
</a><a href="#h121-0-1" id="h121-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for FLOAT column float&quot;)
</a><a href="#h121-0-2" id="h121-0-2" class="d">-
</a><a href="#h121-0-3" id="h121-0-3" class="d">-Storage:
</a><a href="#h121-0-4" id="h121-0-4" class="d">-CREATE TABLE types (
</a><a href="#h121-0-5" id="h121-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h121-0-6" id="h121-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h121-0-7" id="h121-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h121-0-8" id="h121-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h121-0-9" id="h121-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h121-0-10" id="h121-0-10" class="d">-)
</a><b>diff --git a/<a id="h122" href="../file/tests/sql/schema/insert_index_exists.html">tests/sql/schema/insert_index_exists</a> b/<a href="../file/tests/sql/schema/insert_index_exists.html">tests/sql/schema/insert_index_exists</a></b>
<a href="#h122-0" id="h122-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h122-0-0" id="h122-0-0" class="d">-Query: INSERT INTO test VALUES (4, &#39;b&#39;, 104)
</a><a href="#h122-0-1" id="h122-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h122-0-2" id="h122-0-2" class="d">-
</a><a href="#h122-0-3" id="h122-0-3" class="d">-Storage:
</a><a href="#h122-0-4" id="h122-0-4" class="d">-CREATE TABLE test (
</a><a href="#h122-0-5" id="h122-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h122-0-6" id="h122-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h122-0-7" id="h122-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h122-0-8" id="h122-0-8" class="d">-)
</a><a href="#h122-0-9" id="h122-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h122-0-10" id="h122-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h122-0-11" id="h122-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h122-0-12" id="h122-0-12" class="d">-[Integer(4), String(&quot;b&quot;), Integer(104)]
</a><a href="#h122-0-13" id="h122-0-13" class="d">-
</a><a href="#h122-0-14" id="h122-0-14" class="d">-Index test.name
</a><a href="#h122-0-15" id="h122-0-15" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h122-0-16" id="h122-0-16" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3), Integer(4)]
</a><b>diff --git a/<a id="h123" href="../file/tests/sql/schema/insert_index_new.html">tests/sql/schema/insert_index_new</a> b/<a href="../file/tests/sql/schema/insert_index_new.html">tests/sql/schema/insert_index_new</a></b>
<a href="#h123-0" id="h123-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h123-0-0" id="h123-0-0" class="d">-Query: INSERT INTO test VALUES (4, &#39;c&#39;, 104)
</a><a href="#h123-0-1" id="h123-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h123-0-2" id="h123-0-2" class="d">-
</a><a href="#h123-0-3" id="h123-0-3" class="d">-Storage:
</a><a href="#h123-0-4" id="h123-0-4" class="d">-CREATE TABLE test (
</a><a href="#h123-0-5" id="h123-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h123-0-6" id="h123-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h123-0-7" id="h123-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h123-0-8" id="h123-0-8" class="d">-)
</a><a href="#h123-0-9" id="h123-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h123-0-10" id="h123-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h123-0-11" id="h123-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h123-0-12" id="h123-0-12" class="d">-[Integer(4), String(&quot;c&quot;), Integer(104)]
</a><a href="#h123-0-13" id="h123-0-13" class="d">-
</a><a href="#h123-0-14" id="h123-0-14" class="d">-Index test.name
</a><a href="#h123-0-15" id="h123-0-15" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h123-0-16" id="h123-0-16" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><a href="#h123-0-17" id="h123-0-17" class="d">-String(&quot;c&quot;) =&gt; [Integer(4)]
</a><b>diff --git a/<a id="h124" href="../file/tests/sql/schema/insert_index_null.html">tests/sql/schema/insert_index_null</a> b/<a href="../file/tests/sql/schema/insert_index_null.html">tests/sql/schema/insert_index_null</a></b>
<a href="#h124-0" id="h124-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h124-0-0" id="h124-0-0" class="d">-Query: INSERT INTO test VALUES (4, NULL, 104)
</a><a href="#h124-0-1" id="h124-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h124-0-2" id="h124-0-2" class="d">-
</a><a href="#h124-0-3" id="h124-0-3" class="d">-Storage:
</a><a href="#h124-0-4" id="h124-0-4" class="d">-CREATE TABLE test (
</a><a href="#h124-0-5" id="h124-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h124-0-6" id="h124-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h124-0-7" id="h124-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h124-0-8" id="h124-0-8" class="d">-)
</a><a href="#h124-0-9" id="h124-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h124-0-10" id="h124-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h124-0-11" id="h124-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h124-0-12" id="h124-0-12" class="d">-[Integer(4), Null, Integer(104)]
</a><a href="#h124-0-13" id="h124-0-13" class="d">-
</a><a href="#h124-0-14" id="h124-0-14" class="d">-Index test.name
</a><a href="#h124-0-15" id="h124-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h124-0-16" id="h124-0-16" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h124-0-17" id="h124-0-17" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h125" href="../file/tests/sql/schema/insert_integer.html">tests/sql/schema/insert_integer</a> b/<a href="../file/tests/sql/schema/insert_integer.html">tests/sql/schema/insert_integer</a></b>
<a href="#h125-0" id="h125-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h125-0-0" id="h125-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 1)
</a><a href="#h125-0-1" id="h125-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h125-0-2" id="h125-0-2" class="d">-
</a><a href="#h125-0-3" id="h125-0-3" class="d">-Storage:
</a><a href="#h125-0-4" id="h125-0-4" class="d">-CREATE TABLE types (
</a><a href="#h125-0-5" id="h125-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h125-0-6" id="h125-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h125-0-7" id="h125-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h125-0-8" id="h125-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h125-0-9" id="h125-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h125-0-10" id="h125-0-10" class="d">-)
</a><a href="#h125-0-11" id="h125-0-11" class="d">-[Integer(0), Null, Null, Integer(1), Null]
</a><b>diff --git a/<a id="h126" href="../file/tests/sql/schema/insert_integer_boolean.html">tests/sql/schema/insert_integer_boolean</a> b/<a href="../file/tests/sql/schema/insert_integer_boolean.html">tests/sql/schema/insert_integer_boolean</a></b>
<a href="#h126-0" id="h126-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h126-0-0" id="h126-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, FALSE)
</a><a href="#h126-0-1" id="h126-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype BOOLEAN for INTEGER column integer&quot;)
</a><a href="#h126-0-2" id="h126-0-2" class="d">-
</a><a href="#h126-0-3" id="h126-0-3" class="d">-Storage:
</a><a href="#h126-0-4" id="h126-0-4" class="d">-CREATE TABLE types (
</a><a href="#h126-0-5" id="h126-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h126-0-6" id="h126-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h126-0-7" id="h126-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h126-0-8" id="h126-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h126-0-9" id="h126-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h126-0-10" id="h126-0-10" class="d">-)
</a><b>diff --git a/<a id="h127" href="../file/tests/sql/schema/insert_integer_float.html">tests/sql/schema/insert_integer_float</a> b/<a href="../file/tests/sql/schema/insert_integer_float.html">tests/sql/schema/insert_integer_float</a></b>
<a href="#h127-0" id="h127-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h127-0-0" id="h127-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 1.0)
</a><a href="#h127-0-1" id="h127-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for INTEGER column integer&quot;)
</a><a href="#h127-0-2" id="h127-0-2" class="d">-
</a><a href="#h127-0-3" id="h127-0-3" class="d">-Storage:
</a><a href="#h127-0-4" id="h127-0-4" class="d">-CREATE TABLE types (
</a><a href="#h127-0-5" id="h127-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h127-0-6" id="h127-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h127-0-7" id="h127-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h127-0-8" id="h127-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h127-0-9" id="h127-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h127-0-10" id="h127-0-10" class="d">-)
</a><b>diff --git a/<a id="h128" href="../file/tests/sql/schema/insert_integer_float_infinity.html">tests/sql/schema/insert_integer_float_infinity</a> b/<a href="../file/tests/sql/schema/insert_integer_float_infinity.html">tests/sql/schema/insert_integer_float_infinity</a></b>
<a href="#h128-0" id="h128-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h128-0-0" id="h128-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, INFINITY)
</a><a href="#h128-0-1" id="h128-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for INTEGER column integer&quot;)
</a><a href="#h128-0-2" id="h128-0-2" class="d">-
</a><a href="#h128-0-3" id="h128-0-3" class="d">-Storage:
</a><a href="#h128-0-4" id="h128-0-4" class="d">-CREATE TABLE types (
</a><a href="#h128-0-5" id="h128-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h128-0-6" id="h128-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h128-0-7" id="h128-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h128-0-8" id="h128-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h128-0-9" id="h128-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h128-0-10" id="h128-0-10" class="d">-)
</a><b>diff --git a/<a id="h129" href="../file/tests/sql/schema/insert_integer_float_nan.html">tests/sql/schema/insert_integer_float_nan</a> b/<a href="../file/tests/sql/schema/insert_integer_float_nan.html">tests/sql/schema/insert_integer_float_nan</a></b>
<a href="#h129-0" id="h129-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h129-0-0" id="h129-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, NAN)
</a><a href="#h129-0-1" id="h129-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for INTEGER column integer&quot;)
</a><a href="#h129-0-2" id="h129-0-2" class="d">-
</a><a href="#h129-0-3" id="h129-0-3" class="d">-Storage:
</a><a href="#h129-0-4" id="h129-0-4" class="d">-CREATE TABLE types (
</a><a href="#h129-0-5" id="h129-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h129-0-6" id="h129-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h129-0-7" id="h129-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h129-0-8" id="h129-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h129-0-9" id="h129-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h129-0-10" id="h129-0-10" class="d">-)
</a><b>diff --git a/<a id="h130" href="../file/tests/sql/schema/insert_integer_max.html">tests/sql/schema/insert_integer_max</a> b/<a href="../file/tests/sql/schema/insert_integer_max.html">tests/sql/schema/insert_integer_max</a></b>
<a href="#h130-0" id="h130-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h130-0-0" id="h130-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, 9223372036854775807)
</a><a href="#h130-0-1" id="h130-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h130-0-2" id="h130-0-2" class="d">-
</a><a href="#h130-0-3" id="h130-0-3" class="d">-Storage:
</a><a href="#h130-0-4" id="h130-0-4" class="d">-CREATE TABLE types (
</a><a href="#h130-0-5" id="h130-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h130-0-6" id="h130-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h130-0-7" id="h130-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h130-0-8" id="h130-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h130-0-9" id="h130-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h130-0-10" id="h130-0-10" class="d">-)
</a><a href="#h130-0-11" id="h130-0-11" class="d">-[Integer(0), Null, Null, Integer(9223372036854775807), Null]
</a><b>diff --git a/<a id="h131" href="../file/tests/sql/schema/insert_integer_min.html">tests/sql/schema/insert_integer_min</a> b/<a href="../file/tests/sql/schema/insert_integer_min.html">tests/sql/schema/insert_integer_min</a></b>
<a href="#h131-0" id="h131-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h131-0-0" id="h131-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, -9223372036854775807)
</a><a href="#h131-0-1" id="h131-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h131-0-2" id="h131-0-2" class="d">-
</a><a href="#h131-0-3" id="h131-0-3" class="d">-Storage:
</a><a href="#h131-0-4" id="h131-0-4" class="d">-CREATE TABLE types (
</a><a href="#h131-0-5" id="h131-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h131-0-6" id="h131-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h131-0-7" id="h131-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h131-0-8" id="h131-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h131-0-9" id="h131-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h131-0-10" id="h131-0-10" class="d">-)
</a><a href="#h131-0-11" id="h131-0-11" class="d">-[Integer(0), Null, Null, Integer(-9223372036854775807), Null]
</a><b>diff --git a/<a id="h132" href="../file/tests/sql/schema/insert_integer_null.html">tests/sql/schema/insert_integer_null</a> b/<a href="../file/tests/sql/schema/insert_integer_null.html">tests/sql/schema/insert_integer_null</a></b>
<a href="#h132-0" id="h132-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h132-0-0" id="h132-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, NULL)
</a><a href="#h132-0-1" id="h132-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h132-0-2" id="h132-0-2" class="d">-
</a><a href="#h132-0-3" id="h132-0-3" class="d">-Storage:
</a><a href="#h132-0-4" id="h132-0-4" class="d">-CREATE TABLE types (
</a><a href="#h132-0-5" id="h132-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h132-0-6" id="h132-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h132-0-7" id="h132-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h132-0-8" id="h132-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h132-0-9" id="h132-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h132-0-10" id="h132-0-10" class="d">-)
</a><a href="#h132-0-11" id="h132-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><b>diff --git a/<a id="h133" href="../file/tests/sql/schema/insert_integer_string.html">tests/sql/schema/insert_integer_string</a> b/<a href="../file/tests/sql/schema/insert_integer_string.html">tests/sql/schema/insert_integer_string</a></b>
<a href="#h133-0" id="h133-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h133-0-0" id="h133-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, &#39;a&#39;)
</a><a href="#h133-0-1" id="h133-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for INTEGER column integer&quot;)
</a><a href="#h133-0-2" id="h133-0-2" class="d">-
</a><a href="#h133-0-3" id="h133-0-3" class="d">-Storage:
</a><a href="#h133-0-4" id="h133-0-4" class="d">-CREATE TABLE types (
</a><a href="#h133-0-5" id="h133-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h133-0-6" id="h133-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h133-0-7" id="h133-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h133-0-8" id="h133-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h133-0-9" id="h133-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h133-0-10" id="h133-0-10" class="d">-)
</a><b>diff --git a/<a id="h134" href="../file/tests/sql/schema/insert_integer_string_empty.html">tests/sql/schema/insert_integer_string_empty</a> b/<a href="../file/tests/sql/schema/insert_integer_string_empty.html">tests/sql/schema/insert_integer_string_empty</a></b>
<a href="#h134-0" id="h134-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h134-0-0" id="h134-0-0" class="d">-Query: INSERT INTO types (id, &quot;integer&quot;) VALUES (0, &#39;&#39;)
</a><a href="#h134-0-1" id="h134-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for INTEGER column integer&quot;)
</a><a href="#h134-0-2" id="h134-0-2" class="d">-
</a><a href="#h134-0-3" id="h134-0-3" class="d">-Storage:
</a><a href="#h134-0-4" id="h134-0-4" class="d">-CREATE TABLE types (
</a><a href="#h134-0-5" id="h134-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h134-0-6" id="h134-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h134-0-7" id="h134-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h134-0-8" id="h134-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h134-0-9" id="h134-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h134-0-10" id="h134-0-10" class="d">-)
</a><b>diff --git a/<a id="h135" href="../file/tests/sql/schema/insert_nulls.html">tests/sql/schema/insert_nulls</a> b/<a href="../file/tests/sql/schema/insert_nulls.html">tests/sql/schema/insert_nulls</a></b>
<a href="#h135-0" id="h135-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h135-0-0" id="h135-0-0" class="d">-Query: INSERT INTO nulls (id, &quot;null&quot;, not_null, &quot;default&quot;) VALUES (1, NULL, TRUE, NULL)
</a><a href="#h135-0-1" id="h135-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h135-0-2" id="h135-0-2" class="d">-
</a><a href="#h135-0-3" id="h135-0-3" class="d">-Storage:
</a><a href="#h135-0-4" id="h135-0-4" class="d">-CREATE TABLE nulls (
</a><a href="#h135-0-5" id="h135-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h135-0-6" id="h135-0-6" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h135-0-7" id="h135-0-7" class="d">-  not_null BOOLEAN NOT NULL,
</a><a href="#h135-0-8" id="h135-0-8" class="d">-  &quot;default&quot; BOOLEAN DEFAULT NULL
</a><a href="#h135-0-9" id="h135-0-9" class="d">-)
</a><a href="#h135-0-10" id="h135-0-10" class="d">-[Integer(1), Null, Boolean(true), Null]
</a><b>diff --git a/<a id="h136" href="../file/tests/sql/schema/insert_nulls_default.html">tests/sql/schema/insert_nulls_default</a> b/<a href="../file/tests/sql/schema/insert_nulls_default.html">tests/sql/schema/insert_nulls_default</a></b>
<a href="#h136-0" id="h136-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h136-0-0" id="h136-0-0" class="d">-Query: INSERT INTO nulls (id, &quot;null&quot;, not_null) VALUES (1, NULL, TRUE)
</a><a href="#h136-0-1" id="h136-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h136-0-2" id="h136-0-2" class="d">-
</a><a href="#h136-0-3" id="h136-0-3" class="d">-Storage:
</a><a href="#h136-0-4" id="h136-0-4" class="d">-CREATE TABLE nulls (
</a><a href="#h136-0-5" id="h136-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h136-0-6" id="h136-0-6" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h136-0-7" id="h136-0-7" class="d">-  not_null BOOLEAN NOT NULL,
</a><a href="#h136-0-8" id="h136-0-8" class="d">-  &quot;default&quot; BOOLEAN DEFAULT NULL
</a><a href="#h136-0-9" id="h136-0-9" class="d">-)
</a><a href="#h136-0-10" id="h136-0-10" class="d">-[Integer(1), Null, Boolean(true), Null]
</a><b>diff --git a/<a id="h137" href="../file/tests/sql/schema/insert_nulls_required.html">tests/sql/schema/insert_nulls_required</a> b/<a href="../file/tests/sql/schema/insert_nulls_required.html">tests/sql/schema/insert_nulls_required</a></b>
<a href="#h137-0" id="h137-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h137-0-0" id="h137-0-0" class="d">-Query: INSERT INTO nulls (id, &quot;null&quot;, not_null, &quot;default&quot;) VALUES (1, NULL, NULL, NULL)
</a><a href="#h137-0-1" id="h137-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column not_null&quot;)
</a><a href="#h137-0-2" id="h137-0-2" class="d">-
</a><a href="#h137-0-3" id="h137-0-3" class="d">-Storage:
</a><a href="#h137-0-4" id="h137-0-4" class="d">-CREATE TABLE nulls (
</a><a href="#h137-0-5" id="h137-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h137-0-6" id="h137-0-6" class="d">-  &quot;null&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h137-0-7" id="h137-0-7" class="d">-  not_null BOOLEAN NOT NULL,
</a><a href="#h137-0-8" id="h137-0-8" class="d">-  &quot;default&quot; BOOLEAN DEFAULT NULL
</a><a href="#h137-0-9" id="h137-0-9" class="d">-)
</a><b>diff --git a/<a id="h138" href="../file/tests/sql/schema/insert_pk_boolean.html">tests/sql/schema/insert_pk_boolean</a> b/<a href="../file/tests/sql/schema/insert_pk_boolean.html">tests/sql/schema/insert_pk_boolean</a></b>
<a href="#h138-0" id="h138-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h138-0-0" id="h138-0-0" class="d">-Query: INSERT INTO &quot;boolean&quot; VALUES (TRUE)
</a><a href="#h138-0-1" id="h138-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h138-0-2" id="h138-0-2" class="d">-
</a><a href="#h138-0-3" id="h138-0-3" class="d">-Storage:
</a><a href="#h138-0-4" id="h138-0-4" class="d">-CREATE TABLE &quot;boolean&quot; (
</a><a href="#h138-0-5" id="h138-0-5" class="d">-  pk BOOLEAN PRIMARY KEY
</a><a href="#h138-0-6" id="h138-0-6" class="d">-)
</a><a href="#h138-0-7" id="h138-0-7" class="d">-[Boolean(false)]
</a><a href="#h138-0-8" id="h138-0-8" class="d">-[Boolean(true)]
</a><b>diff --git a/<a id="h139" href="../file/tests/sql/schema/insert_pk_boolean_conflict.html">tests/sql/schema/insert_pk_boolean_conflict</a> b/<a href="../file/tests/sql/schema/insert_pk_boolean_conflict.html">tests/sql/schema/insert_pk_boolean_conflict</a></b>
<a href="#h139-0" id="h139-0" class="h">@@ -1,8 +0,0 @@
</a><a href="#h139-0-0" id="h139-0-0" class="d">-Query: INSERT INTO &quot;boolean&quot; VALUES (FALSE)
</a><a href="#h139-0-1" id="h139-0-1" class="d">-Error: InvalidInput(&quot;primary key FALSE already exists&quot;)
</a><a href="#h139-0-2" id="h139-0-2" class="d">-
</a><a href="#h139-0-3" id="h139-0-3" class="d">-Storage:
</a><a href="#h139-0-4" id="h139-0-4" class="d">-CREATE TABLE &quot;boolean&quot; (
</a><a href="#h139-0-5" id="h139-0-5" class="d">-  pk BOOLEAN PRIMARY KEY
</a><a href="#h139-0-6" id="h139-0-6" class="d">-)
</a><a href="#h139-0-7" id="h139-0-7" class="d">-[Boolean(false)]
</a><b>diff --git a/<a id="h140" href="../file/tests/sql/schema/insert_pk_boolean_null.html">tests/sql/schema/insert_pk_boolean_null</a> b/<a href="../file/tests/sql/schema/insert_pk_boolean_null.html">tests/sql/schema/insert_pk_boolean_null</a></b>
<a href="#h140-0" id="h140-0" class="h">@@ -1,8 +0,0 @@
</a><a href="#h140-0-0" id="h140-0-0" class="d">-Query: INSERT INTO &quot;boolean&quot; VALUES (NULL)
</a><a href="#h140-0-1" id="h140-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h140-0-2" id="h140-0-2" class="d">-
</a><a href="#h140-0-3" id="h140-0-3" class="d">-Storage:
</a><a href="#h140-0-4" id="h140-0-4" class="d">-CREATE TABLE &quot;boolean&quot; (
</a><a href="#h140-0-5" id="h140-0-5" class="d">-  pk BOOLEAN PRIMARY KEY
</a><a href="#h140-0-6" id="h140-0-6" class="d">-)
</a><a href="#h140-0-7" id="h140-0-7" class="d">-[Boolean(false)]
</a><b>diff --git a/<a id="h141" href="../file/tests/sql/schema/insert_pk_float.html">tests/sql/schema/insert_pk_float</a> b/<a href="../file/tests/sql/schema/insert_pk_float.html">tests/sql/schema/insert_pk_float</a></b>
<a href="#h141-0" id="h141-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h141-0-0" id="h141-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (1.618)
</a><a href="#h141-0-1" id="h141-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h141-0-2" id="h141-0-2" class="d">-
</a><a href="#h141-0-3" id="h141-0-3" class="d">-Storage:
</a><a href="#h141-0-4" id="h141-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h141-0-5" id="h141-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h141-0-6" id="h141-0-6" class="d">-)
</a><a href="#h141-0-7" id="h141-0-7" class="d">-[Float(1.618)]
</a><a href="#h141-0-8" id="h141-0-8" class="d">-[Float(2.718)]
</a><a href="#h141-0-9" id="h141-0-9" class="d">-[Float(3.14)]
</a><a href="#h141-0-10" id="h141-0-10" class="d">-[Float(inf)]
</a><a href="#h141-0-11" id="h141-0-11" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h142" href="../file/tests/sql/schema/insert_pk_float_conflict.html">tests/sql/schema/insert_pk_float_conflict</a> b/<a href="../file/tests/sql/schema/insert_pk_float_conflict.html">tests/sql/schema/insert_pk_float_conflict</a></b>
<a href="#h142-0" id="h142-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h142-0-0" id="h142-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (3.14)
</a><a href="#h142-0-1" id="h142-0-1" class="d">-Error: InvalidInput(&quot;primary key 3.14 already exists&quot;)
</a><a href="#h142-0-2" id="h142-0-2" class="d">-
</a><a href="#h142-0-3" id="h142-0-3" class="d">-Storage:
</a><a href="#h142-0-4" id="h142-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h142-0-5" id="h142-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h142-0-6" id="h142-0-6" class="d">-)
</a><a href="#h142-0-7" id="h142-0-7" class="d">-[Float(2.718)]
</a><a href="#h142-0-8" id="h142-0-8" class="d">-[Float(3.14)]
</a><a href="#h142-0-9" id="h142-0-9" class="d">-[Float(inf)]
</a><a href="#h142-0-10" id="h142-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h143" href="../file/tests/sql/schema/insert_pk_float_infinity.html">tests/sql/schema/insert_pk_float_infinity</a> b/<a href="../file/tests/sql/schema/insert_pk_float_infinity.html">tests/sql/schema/insert_pk_float_infinity</a></b>
<a href="#h143-0" id="h143-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h143-0-0" id="h143-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (INFINITY)
</a><a href="#h143-0-1" id="h143-0-1" class="d">-Error: InvalidInput(&quot;primary key inf already exists&quot;)
</a><a href="#h143-0-2" id="h143-0-2" class="d">-
</a><a href="#h143-0-3" id="h143-0-3" class="d">-Storage:
</a><a href="#h143-0-4" id="h143-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h143-0-5" id="h143-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h143-0-6" id="h143-0-6" class="d">-)
</a><a href="#h143-0-7" id="h143-0-7" class="d">-[Float(2.718)]
</a><a href="#h143-0-8" id="h143-0-8" class="d">-[Float(3.14)]
</a><a href="#h143-0-9" id="h143-0-9" class="d">-[Float(inf)]
</a><a href="#h143-0-10" id="h143-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h144" href="../file/tests/sql/schema/insert_pk_float_nan.html">tests/sql/schema/insert_pk_float_nan</a> b/<a href="../file/tests/sql/schema/insert_pk_float_nan.html">tests/sql/schema/insert_pk_float_nan</a></b>
<a href="#h144-0" id="h144-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h144-0-0" id="h144-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (NAN)
</a><a href="#h144-0-1" id="h144-0-1" class="d">-Error: InvalidInput(&quot;primary key NaN already exists&quot;)
</a><a href="#h144-0-2" id="h144-0-2" class="d">-
</a><a href="#h144-0-3" id="h144-0-3" class="d">-Storage:
</a><a href="#h144-0-4" id="h144-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h144-0-5" id="h144-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h144-0-6" id="h144-0-6" class="d">-)
</a><a href="#h144-0-7" id="h144-0-7" class="d">-[Float(2.718)]
</a><a href="#h144-0-8" id="h144-0-8" class="d">-[Float(3.14)]
</a><a href="#h144-0-9" id="h144-0-9" class="d">-[Float(inf)]
</a><a href="#h144-0-10" id="h144-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h145" href="../file/tests/sql/schema/insert_pk_float_negative.html">tests/sql/schema/insert_pk_float_negative</a> b/<a href="../file/tests/sql/schema/insert_pk_float_negative.html">tests/sql/schema/insert_pk_float_negative</a></b>
<a href="#h145-0" id="h145-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h145-0-0" id="h145-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (-3.14)
</a><a href="#h145-0-1" id="h145-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h145-0-2" id="h145-0-2" class="d">-
</a><a href="#h145-0-3" id="h145-0-3" class="d">-Storage:
</a><a href="#h145-0-4" id="h145-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h145-0-5" id="h145-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h145-0-6" id="h145-0-6" class="d">-)
</a><a href="#h145-0-7" id="h145-0-7" class="d">-[Float(-3.14)]
</a><a href="#h145-0-8" id="h145-0-8" class="d">-[Float(2.718)]
</a><a href="#h145-0-9" id="h145-0-9" class="d">-[Float(3.14)]
</a><a href="#h145-0-10" id="h145-0-10" class="d">-[Float(inf)]
</a><a href="#h145-0-11" id="h145-0-11" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h146" href="../file/tests/sql/schema/insert_pk_float_null.html">tests/sql/schema/insert_pk_float_null</a> b/<a href="../file/tests/sql/schema/insert_pk_float_null.html">tests/sql/schema/insert_pk_float_null</a></b>
<a href="#h146-0" id="h146-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h146-0-0" id="h146-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (NULL)
</a><a href="#h146-0-1" id="h146-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h146-0-2" id="h146-0-2" class="d">-
</a><a href="#h146-0-3" id="h146-0-3" class="d">-Storage:
</a><a href="#h146-0-4" id="h146-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h146-0-5" id="h146-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h146-0-6" id="h146-0-6" class="d">-)
</a><a href="#h146-0-7" id="h146-0-7" class="d">-[Float(2.718)]
</a><a href="#h146-0-8" id="h146-0-8" class="d">-[Float(3.14)]
</a><a href="#h146-0-9" id="h146-0-9" class="d">-[Float(inf)]
</a><a href="#h146-0-10" id="h146-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h147" href="../file/tests/sql/schema/insert_pk_float_zero.html">tests/sql/schema/insert_pk_float_zero</a> b/<a href="../file/tests/sql/schema/insert_pk_float_zero.html">tests/sql/schema/insert_pk_float_zero</a></b>
<a href="#h147-0" id="h147-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h147-0-0" id="h147-0-0" class="d">-Query: INSERT INTO &quot;float&quot; VALUES (0.0)
</a><a href="#h147-0-1" id="h147-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h147-0-2" id="h147-0-2" class="d">-
</a><a href="#h147-0-3" id="h147-0-3" class="d">-Storage:
</a><a href="#h147-0-4" id="h147-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h147-0-5" id="h147-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h147-0-6" id="h147-0-6" class="d">-)
</a><a href="#h147-0-7" id="h147-0-7" class="d">-[Float(0.0)]
</a><a href="#h147-0-8" id="h147-0-8" class="d">-[Float(2.718)]
</a><a href="#h147-0-9" id="h147-0-9" class="d">-[Float(3.14)]
</a><a href="#h147-0-10" id="h147-0-10" class="d">-[Float(inf)]
</a><a href="#h147-0-11" id="h147-0-11" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h148" href="../file/tests/sql/schema/insert_pk_integer.html">tests/sql/schema/insert_pk_integer</a> b/<a href="../file/tests/sql/schema/insert_pk_integer.html">tests/sql/schema/insert_pk_integer</a></b>
<a href="#h148-0" id="h148-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h148-0-0" id="h148-0-0" class="d">-Query: INSERT INTO &quot;integer&quot; VALUES (3)
</a><a href="#h148-0-1" id="h148-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h148-0-2" id="h148-0-2" class="d">-
</a><a href="#h148-0-3" id="h148-0-3" class="d">-Storage:
</a><a href="#h148-0-4" id="h148-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h148-0-5" id="h148-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h148-0-6" id="h148-0-6" class="d">-)
</a><a href="#h148-0-7" id="h148-0-7" class="d">-[Integer(1)]
</a><a href="#h148-0-8" id="h148-0-8" class="d">-[Integer(2)]
</a><a href="#h148-0-9" id="h148-0-9" class="d">-[Integer(3)]
</a><b>diff --git a/<a id="h149" href="../file/tests/sql/schema/insert_pk_integer_conflict.html">tests/sql/schema/insert_pk_integer_conflict</a> b/<a href="../file/tests/sql/schema/insert_pk_integer_conflict.html">tests/sql/schema/insert_pk_integer_conflict</a></b>
<a href="#h149-0" id="h149-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h149-0-0" id="h149-0-0" class="d">-Query: INSERT INTO &quot;integer&quot; VALUES (1)
</a><a href="#h149-0-1" id="h149-0-1" class="d">-Error: InvalidInput(&quot;primary key 1 already exists&quot;)
</a><a href="#h149-0-2" id="h149-0-2" class="d">-
</a><a href="#h149-0-3" id="h149-0-3" class="d">-Storage:
</a><a href="#h149-0-4" id="h149-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h149-0-5" id="h149-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h149-0-6" id="h149-0-6" class="d">-)
</a><a href="#h149-0-7" id="h149-0-7" class="d">-[Integer(1)]
</a><a href="#h149-0-8" id="h149-0-8" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h150" href="../file/tests/sql/schema/insert_pk_integer_negative.html">tests/sql/schema/insert_pk_integer_negative</a> b/<a href="../file/tests/sql/schema/insert_pk_integer_negative.html">tests/sql/schema/insert_pk_integer_negative</a></b>
<a href="#h150-0" id="h150-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h150-0-0" id="h150-0-0" class="d">-Query: INSERT INTO &quot;integer&quot; VALUES (-1)
</a><a href="#h150-0-1" id="h150-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h150-0-2" id="h150-0-2" class="d">-
</a><a href="#h150-0-3" id="h150-0-3" class="d">-Storage:
</a><a href="#h150-0-4" id="h150-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h150-0-5" id="h150-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h150-0-6" id="h150-0-6" class="d">-)
</a><a href="#h150-0-7" id="h150-0-7" class="d">-[Integer(-1)]
</a><a href="#h150-0-8" id="h150-0-8" class="d">-[Integer(1)]
</a><a href="#h150-0-9" id="h150-0-9" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h151" href="../file/tests/sql/schema/insert_pk_integer_null.html">tests/sql/schema/insert_pk_integer_null</a> b/<a href="../file/tests/sql/schema/insert_pk_integer_null.html">tests/sql/schema/insert_pk_integer_null</a></b>
<a href="#h151-0" id="h151-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h151-0-0" id="h151-0-0" class="d">-Query: INSERT INTO &quot;integer&quot; VALUES (NULL)
</a><a href="#h151-0-1" id="h151-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h151-0-2" id="h151-0-2" class="d">-
</a><a href="#h151-0-3" id="h151-0-3" class="d">-Storage:
</a><a href="#h151-0-4" id="h151-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h151-0-5" id="h151-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h151-0-6" id="h151-0-6" class="d">-)
</a><a href="#h151-0-7" id="h151-0-7" class="d">-[Integer(1)]
</a><a href="#h151-0-8" id="h151-0-8" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h152" href="../file/tests/sql/schema/insert_pk_integer_zero.html">tests/sql/schema/insert_pk_integer_zero</a> b/<a href="../file/tests/sql/schema/insert_pk_integer_zero.html">tests/sql/schema/insert_pk_integer_zero</a></b>
<a href="#h152-0" id="h152-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h152-0-0" id="h152-0-0" class="d">-Query: INSERT INTO &quot;integer&quot; VALUES (0)
</a><a href="#h152-0-1" id="h152-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h152-0-2" id="h152-0-2" class="d">-
</a><a href="#h152-0-3" id="h152-0-3" class="d">-Storage:
</a><a href="#h152-0-4" id="h152-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h152-0-5" id="h152-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h152-0-6" id="h152-0-6" class="d">-)
</a><a href="#h152-0-7" id="h152-0-7" class="d">-[Integer(0)]
</a><a href="#h152-0-8" id="h152-0-8" class="d">-[Integer(1)]
</a><a href="#h152-0-9" id="h152-0-9" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h153" href="../file/tests/sql/schema/insert_pk_string.html">tests/sql/schema/insert_pk_string</a> b/<a href="../file/tests/sql/schema/insert_pk_string.html">tests/sql/schema/insert_pk_string</a></b>
<a href="#h153-0" id="h153-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h153-0-0" id="h153-0-0" class="d">-Query: INSERT INTO &quot;string&quot; VALUES (&#39;baz&#39;)
</a><a href="#h153-0-1" id="h153-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h153-0-2" id="h153-0-2" class="d">-
</a><a href="#h153-0-3" id="h153-0-3" class="d">-Storage:
</a><a href="#h153-0-4" id="h153-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h153-0-5" id="h153-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h153-0-6" id="h153-0-6" class="d">-)
</a><a href="#h153-0-7" id="h153-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h153-0-8" id="h153-0-8" class="d">-[String(&quot;baz&quot;)]
</a><a href="#h153-0-9" id="h153-0-9" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h154" href="../file/tests/sql/schema/insert_pk_string_case.html">tests/sql/schema/insert_pk_string_case</a> b/<a href="../file/tests/sql/schema/insert_pk_string_case.html">tests/sql/schema/insert_pk_string_case</a></b>
<a href="#h154-0" id="h154-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h154-0-0" id="h154-0-0" class="d">-Query: INSERT INTO &quot;string&quot; VALUES (&#39;Foo&#39;)
</a><a href="#h154-0-1" id="h154-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h154-0-2" id="h154-0-2" class="d">-
</a><a href="#h154-0-3" id="h154-0-3" class="d">-Storage:
</a><a href="#h154-0-4" id="h154-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h154-0-5" id="h154-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h154-0-6" id="h154-0-6" class="d">-)
</a><a href="#h154-0-7" id="h154-0-7" class="d">-[String(&quot;Foo&quot;)]
</a><a href="#h154-0-8" id="h154-0-8" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h154-0-9" id="h154-0-9" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h155" href="../file/tests/sql/schema/insert_pk_string_conflict.html">tests/sql/schema/insert_pk_string_conflict</a> b/<a href="../file/tests/sql/schema/insert_pk_string_conflict.html">tests/sql/schema/insert_pk_string_conflict</a></b>
<a href="#h155-0" id="h155-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h155-0-0" id="h155-0-0" class="d">-Query: INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;)
</a><a href="#h155-0-1" id="h155-0-1" class="d">-Error: InvalidInput(&quot;primary key foo already exists&quot;)
</a><a href="#h155-0-2" id="h155-0-2" class="d">-
</a><a href="#h155-0-3" id="h155-0-3" class="d">-Storage:
</a><a href="#h155-0-4" id="h155-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h155-0-5" id="h155-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h155-0-6" id="h155-0-6" class="d">-)
</a><a href="#h155-0-7" id="h155-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h155-0-8" id="h155-0-8" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h156" href="../file/tests/sql/schema/insert_pk_string_empty.html">tests/sql/schema/insert_pk_string_empty</a> b/<a href="../file/tests/sql/schema/insert_pk_string_empty.html">tests/sql/schema/insert_pk_string_empty</a></b>
<a href="#h156-0" id="h156-0" class="h">@@ -1,10 +0,0 @@
</a><a href="#h156-0-0" id="h156-0-0" class="d">-Query: INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h156-0-1" id="h156-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h156-0-2" id="h156-0-2" class="d">-
</a><a href="#h156-0-3" id="h156-0-3" class="d">-Storage:
</a><a href="#h156-0-4" id="h156-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h156-0-5" id="h156-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h156-0-6" id="h156-0-6" class="d">-)
</a><a href="#h156-0-7" id="h156-0-7" class="d">-[String(&quot;&quot;)]
</a><a href="#h156-0-8" id="h156-0-8" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h156-0-9" id="h156-0-9" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h157" href="../file/tests/sql/schema/insert_pk_string_null.html">tests/sql/schema/insert_pk_string_null</a> b/<a href="../file/tests/sql/schema/insert_pk_string_null.html">tests/sql/schema/insert_pk_string_null</a></b>
<a href="#h157-0" id="h157-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h157-0-0" id="h157-0-0" class="d">-Query: INSERT INTO &quot;string&quot; VALUES (NULL)
</a><a href="#h157-0-1" id="h157-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h157-0-2" id="h157-0-2" class="d">-
</a><a href="#h157-0-3" id="h157-0-3" class="d">-Storage:
</a><a href="#h157-0-4" id="h157-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h157-0-5" id="h157-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h157-0-6" id="h157-0-6" class="d">-)
</a><a href="#h157-0-7" id="h157-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h157-0-8" id="h157-0-8" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h158" href="../file/tests/sql/schema/insert_ref_boolean.html">tests/sql/schema/insert_ref_boolean</a> b/<a href="../file/tests/sql/schema/insert_ref_boolean.html">tests/sql/schema/insert_ref_boolean</a></b>
<a href="#h158-0" id="h158-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h158-0-0" id="h158-0-0" class="d">-Query: INSERT INTO source VALUES (1, TRUE)
</a><a href="#h158-0-1" id="h158-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h158-0-2" id="h158-0-2" class="d">-
</a><a href="#h158-0-3" id="h158-0-3" class="d">-Storage:
</a><a href="#h158-0-4" id="h158-0-4" class="d">-CREATE TABLE source (
</a><a href="#h158-0-5" id="h158-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h158-0-6" id="h158-0-6" class="d">-  target_id BOOLEAN DEFAULT NULL INDEX REFERENCES target
</a><a href="#h158-0-7" id="h158-0-7" class="d">-)
</a><a href="#h158-0-8" id="h158-0-8" class="d">-[Integer(1), Boolean(true)]
</a><a href="#h158-0-9" id="h158-0-9" class="d">-
</a><a href="#h158-0-10" id="h158-0-10" class="d">-Index source.target_id
</a><a href="#h158-0-11" id="h158-0-11" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h158-0-12" id="h158-0-12" class="d">-
</a><a href="#h158-0-13" id="h158-0-13" class="d">-CREATE TABLE target (
</a><a href="#h158-0-14" id="h158-0-14" class="d">-  id BOOLEAN PRIMARY KEY
</a><a href="#h158-0-15" id="h158-0-15" class="d">-)
</a><a href="#h158-0-16" id="h158-0-16" class="d">-[Boolean(true)]
</a><b>diff --git a/<a id="h159" href="../file/tests/sql/schema/insert_ref_boolean_missing.html">tests/sql/schema/insert_ref_boolean_missing</a> b/<a href="../file/tests/sql/schema/insert_ref_boolean_missing.html">tests/sql/schema/insert_ref_boolean_missing</a></b>
<a href="#h159-0" id="h159-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h159-0-0" id="h159-0-0" class="d">-Query: INSERT INTO source VALUES (1, FALSE)
</a><a href="#h159-0-1" id="h159-0-1" class="d">-Error: InvalidInput(&quot;reference FALSE not in table target&quot;)
</a><a href="#h159-0-2" id="h159-0-2" class="d">-
</a><a href="#h159-0-3" id="h159-0-3" class="d">-Storage:
</a><a href="#h159-0-4" id="h159-0-4" class="d">-CREATE TABLE source (
</a><a href="#h159-0-5" id="h159-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h159-0-6" id="h159-0-6" class="d">-  target_id BOOLEAN DEFAULT NULL INDEX REFERENCES target
</a><a href="#h159-0-7" id="h159-0-7" class="d">-)
</a><a href="#h159-0-8" id="h159-0-8" class="d">-
</a><a href="#h159-0-9" id="h159-0-9" class="d">-Index source.target_id
</a><a href="#h159-0-10" id="h159-0-10" class="d">-
</a><a href="#h159-0-11" id="h159-0-11" class="d">-CREATE TABLE target (
</a><a href="#h159-0-12" id="h159-0-12" class="d">-  id BOOLEAN PRIMARY KEY
</a><a href="#h159-0-13" id="h159-0-13" class="d">-)
</a><a href="#h159-0-14" id="h159-0-14" class="d">-[Boolean(true)]
</a><b>diff --git a/<a id="h160" href="../file/tests/sql/schema/insert_ref_boolean_null.html">tests/sql/schema/insert_ref_boolean_null</a> b/<a href="../file/tests/sql/schema/insert_ref_boolean_null.html">tests/sql/schema/insert_ref_boolean_null</a></b>
<a href="#h160-0" id="h160-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h160-0-0" id="h160-0-0" class="d">-Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h160-0-1" id="h160-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h160-0-2" id="h160-0-2" class="d">-
</a><a href="#h160-0-3" id="h160-0-3" class="d">-Storage:
</a><a href="#h160-0-4" id="h160-0-4" class="d">-CREATE TABLE source (
</a><a href="#h160-0-5" id="h160-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h160-0-6" id="h160-0-6" class="d">-  target_id BOOLEAN DEFAULT NULL INDEX REFERENCES target
</a><a href="#h160-0-7" id="h160-0-7" class="d">-)
</a><a href="#h160-0-8" id="h160-0-8" class="d">-[Integer(1), Null]
</a><a href="#h160-0-9" id="h160-0-9" class="d">-
</a><a href="#h160-0-10" id="h160-0-10" class="d">-Index source.target_id
</a><a href="#h160-0-11" id="h160-0-11" class="d">-Null =&gt; [Integer(1)]
</a><a href="#h160-0-12" id="h160-0-12" class="d">-
</a><a href="#h160-0-13" id="h160-0-13" class="d">-CREATE TABLE target (
</a><a href="#h160-0-14" id="h160-0-14" class="d">-  id BOOLEAN PRIMARY KEY
</a><a href="#h160-0-15" id="h160-0-15" class="d">-)
</a><a href="#h160-0-16" id="h160-0-16" class="d">-[Boolean(true)]
</a><b>diff --git a/<a id="h161" href="../file/tests/sql/schema/insert_ref_float.html">tests/sql/schema/insert_ref_float</a> b/<a href="../file/tests/sql/schema/insert_ref_float.html">tests/sql/schema/insert_ref_float</a></b>
<a href="#h161-0" id="h161-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h161-0-0" id="h161-0-0" class="d">-Query: INSERT INTO source VALUES (1, 3.14)
</a><a href="#h161-0-1" id="h161-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h161-0-2" id="h161-0-2" class="d">-
</a><a href="#h161-0-3" id="h161-0-3" class="d">-Storage:
</a><a href="#h161-0-4" id="h161-0-4" class="d">-CREATE TABLE source (
</a><a href="#h161-0-5" id="h161-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h161-0-6" id="h161-0-6" class="d">-  target_id FLOAT DEFAULT NULL INDEX REFERENCES target
</a><a href="#h161-0-7" id="h161-0-7" class="d">-)
</a><a href="#h161-0-8" id="h161-0-8" class="d">-[Integer(1), Float(3.14)]
</a><a href="#h161-0-9" id="h161-0-9" class="d">-
</a><a href="#h161-0-10" id="h161-0-10" class="d">-Index source.target_id
</a><a href="#h161-0-11" id="h161-0-11" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h161-0-12" id="h161-0-12" class="d">-
</a><a href="#h161-0-13" id="h161-0-13" class="d">-CREATE TABLE target (
</a><a href="#h161-0-14" id="h161-0-14" class="d">-  id FLOAT PRIMARY KEY
</a><a href="#h161-0-15" id="h161-0-15" class="d">-)
</a><a href="#h161-0-16" id="h161-0-16" class="d">-[Float(2.718)]
</a><a href="#h161-0-17" id="h161-0-17" class="d">-[Float(3.14)]
</a><b>diff --git a/<a id="h162" href="../file/tests/sql/schema/insert_ref_float_missing.html">tests/sql/schema/insert_ref_float_missing</a> b/<a href="../file/tests/sql/schema/insert_ref_float_missing.html">tests/sql/schema/insert_ref_float_missing</a></b>
<a href="#h162-0" id="h162-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h162-0-0" id="h162-0-0" class="d">-Query: INSERT INTO source VALUES (1, 1.618)
</a><a href="#h162-0-1" id="h162-0-1" class="d">-Error: InvalidInput(&quot;reference 1.618 not in table target&quot;)
</a><a href="#h162-0-2" id="h162-0-2" class="d">-
</a><a href="#h162-0-3" id="h162-0-3" class="d">-Storage:
</a><a href="#h162-0-4" id="h162-0-4" class="d">-CREATE TABLE source (
</a><a href="#h162-0-5" id="h162-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h162-0-6" id="h162-0-6" class="d">-  target_id FLOAT DEFAULT NULL INDEX REFERENCES target
</a><a href="#h162-0-7" id="h162-0-7" class="d">-)
</a><a href="#h162-0-8" id="h162-0-8" class="d">-
</a><a href="#h162-0-9" id="h162-0-9" class="d">-Index source.target_id
</a><a href="#h162-0-10" id="h162-0-10" class="d">-
</a><a href="#h162-0-11" id="h162-0-11" class="d">-CREATE TABLE target (
</a><a href="#h162-0-12" id="h162-0-12" class="d">-  id FLOAT PRIMARY KEY
</a><a href="#h162-0-13" id="h162-0-13" class="d">-)
</a><a href="#h162-0-14" id="h162-0-14" class="d">-[Float(2.718)]
</a><a href="#h162-0-15" id="h162-0-15" class="d">-[Float(3.14)]
</a><b>diff --git a/<a id="h163" href="../file/tests/sql/schema/insert_ref_float_null.html">tests/sql/schema/insert_ref_float_null</a> b/<a href="../file/tests/sql/schema/insert_ref_float_null.html">tests/sql/schema/insert_ref_float_null</a></b>
<a href="#h163-0" id="h163-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h163-0-0" id="h163-0-0" class="d">-Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h163-0-1" id="h163-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h163-0-2" id="h163-0-2" class="d">-
</a><a href="#h163-0-3" id="h163-0-3" class="d">-Storage:
</a><a href="#h163-0-4" id="h163-0-4" class="d">-CREATE TABLE source (
</a><a href="#h163-0-5" id="h163-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h163-0-6" id="h163-0-6" class="d">-  target_id FLOAT DEFAULT NULL INDEX REFERENCES target
</a><a href="#h163-0-7" id="h163-0-7" class="d">-)
</a><a href="#h163-0-8" id="h163-0-8" class="d">-[Integer(1), Null]
</a><a href="#h163-0-9" id="h163-0-9" class="d">-
</a><a href="#h163-0-10" id="h163-0-10" class="d">-Index source.target_id
</a><a href="#h163-0-11" id="h163-0-11" class="d">-Null =&gt; [Integer(1)]
</a><a href="#h163-0-12" id="h163-0-12" class="d">-
</a><a href="#h163-0-13" id="h163-0-13" class="d">-CREATE TABLE target (
</a><a href="#h163-0-14" id="h163-0-14" class="d">-  id FLOAT PRIMARY KEY
</a><a href="#h163-0-15" id="h163-0-15" class="d">-)
</a><a href="#h163-0-16" id="h163-0-16" class="d">-[Float(2.718)]
</a><a href="#h163-0-17" id="h163-0-17" class="d">-[Float(3.14)]
</a><b>diff --git a/<a id="h164" href="../file/tests/sql/schema/insert_ref_integer.html">tests/sql/schema/insert_ref_integer</a> b/<a href="../file/tests/sql/schema/insert_ref_integer.html">tests/sql/schema/insert_ref_integer</a></b>
<a href="#h164-0" id="h164-0" class="h">@@ -1,19 +0,0 @@
</a><a href="#h164-0-0" id="h164-0-0" class="d">-Query: INSERT INTO source VALUES (1, 1)
</a><a href="#h164-0-1" id="h164-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h164-0-2" id="h164-0-2" class="d">-
</a><a href="#h164-0-3" id="h164-0-3" class="d">-Storage:
</a><a href="#h164-0-4" id="h164-0-4" class="d">-CREATE TABLE source (
</a><a href="#h164-0-5" id="h164-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h164-0-6" id="h164-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h164-0-7" id="h164-0-7" class="d">-)
</a><a href="#h164-0-8" id="h164-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h164-0-9" id="h164-0-9" class="d">-
</a><a href="#h164-0-10" id="h164-0-10" class="d">-Index source.target_id
</a><a href="#h164-0-11" id="h164-0-11" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h164-0-12" id="h164-0-12" class="d">-
</a><a href="#h164-0-13" id="h164-0-13" class="d">-CREATE TABLE target (
</a><a href="#h164-0-14" id="h164-0-14" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h164-0-15" id="h164-0-15" class="d">-)
</a><a href="#h164-0-16" id="h164-0-16" class="d">-[Integer(1)]
</a><a href="#h164-0-17" id="h164-0-17" class="d">-[Integer(2)]
</a><a href="#h164-0-18" id="h164-0-18" class="d">-[Integer(3)]
</a><b>diff --git a/<a id="h165" href="../file/tests/sql/schema/insert_ref_integer_missing.html">tests/sql/schema/insert_ref_integer_missing</a> b/<a href="../file/tests/sql/schema/insert_ref_integer_missing.html">tests/sql/schema/insert_ref_integer_missing</a></b>
<a href="#h165-0" id="h165-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h165-0-0" id="h165-0-0" class="d">-Query: INSERT INTO source VALUES (1, 7)
</a><a href="#h165-0-1" id="h165-0-1" class="d">-Error: InvalidInput(&quot;reference 7 not in table target&quot;)
</a><a href="#h165-0-2" id="h165-0-2" class="d">-
</a><a href="#h165-0-3" id="h165-0-3" class="d">-Storage:
</a><a href="#h165-0-4" id="h165-0-4" class="d">-CREATE TABLE source (
</a><a href="#h165-0-5" id="h165-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h165-0-6" id="h165-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h165-0-7" id="h165-0-7" class="d">-)
</a><a href="#h165-0-8" id="h165-0-8" class="d">-
</a><a href="#h165-0-9" id="h165-0-9" class="d">-Index source.target_id
</a><a href="#h165-0-10" id="h165-0-10" class="d">-
</a><a href="#h165-0-11" id="h165-0-11" class="d">-CREATE TABLE target (
</a><a href="#h165-0-12" id="h165-0-12" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h165-0-13" id="h165-0-13" class="d">-)
</a><a href="#h165-0-14" id="h165-0-14" class="d">-[Integer(1)]
</a><a href="#h165-0-15" id="h165-0-15" class="d">-[Integer(2)]
</a><a href="#h165-0-16" id="h165-0-16" class="d">-[Integer(3)]
</a><b>diff --git a/<a id="h166" href="../file/tests/sql/schema/insert_ref_integer_null.html">tests/sql/schema/insert_ref_integer_null</a> b/<a href="../file/tests/sql/schema/insert_ref_integer_null.html">tests/sql/schema/insert_ref_integer_null</a></b>
<a href="#h166-0" id="h166-0" class="h">@@ -1,19 +0,0 @@
</a><a href="#h166-0-0" id="h166-0-0" class="d">-Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h166-0-1" id="h166-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h166-0-2" id="h166-0-2" class="d">-
</a><a href="#h166-0-3" id="h166-0-3" class="d">-Storage:
</a><a href="#h166-0-4" id="h166-0-4" class="d">-CREATE TABLE source (
</a><a href="#h166-0-5" id="h166-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h166-0-6" id="h166-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h166-0-7" id="h166-0-7" class="d">-)
</a><a href="#h166-0-8" id="h166-0-8" class="d">-[Integer(1), Null]
</a><a href="#h166-0-9" id="h166-0-9" class="d">-
</a><a href="#h166-0-10" id="h166-0-10" class="d">-Index source.target_id
</a><a href="#h166-0-11" id="h166-0-11" class="d">-Null =&gt; [Integer(1)]
</a><a href="#h166-0-12" id="h166-0-12" class="d">-
</a><a href="#h166-0-13" id="h166-0-13" class="d">-CREATE TABLE target (
</a><a href="#h166-0-14" id="h166-0-14" class="d">-  id INTEGER PRIMARY KEY
</a><a href="#h166-0-15" id="h166-0-15" class="d">-)
</a><a href="#h166-0-16" id="h166-0-16" class="d">-[Integer(1)]
</a><a href="#h166-0-17" id="h166-0-17" class="d">-[Integer(2)]
</a><a href="#h166-0-18" id="h166-0-18" class="d">-[Integer(3)]
</a><b>diff --git a/<a id="h167" href="../file/tests/sql/schema/insert_ref_self.html">tests/sql/schema/insert_ref_self</a> b/<a href="../file/tests/sql/schema/insert_ref_self.html">tests/sql/schema/insert_ref_self</a></b>
<a href="#h167-0" id="h167-0" class="h">@@ -1,19 +0,0 @@
</a><a href="#h167-0-0" id="h167-0-0" class="d">-Query: INSERT INTO self VALUES (5, 1, &#39;e&#39;)
</a><a href="#h167-0-1" id="h167-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h167-0-2" id="h167-0-2" class="d">-
</a><a href="#h167-0-3" id="h167-0-3" class="d">-Storage:
</a><a href="#h167-0-4" id="h167-0-4" class="d">-CREATE TABLE self (
</a><a href="#h167-0-5" id="h167-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h167-0-6" id="h167-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h167-0-7" id="h167-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h167-0-8" id="h167-0-8" class="d">-)
</a><a href="#h167-0-9" id="h167-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h167-0-10" id="h167-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h167-0-11" id="h167-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h167-0-12" id="h167-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h167-0-13" id="h167-0-13" class="d">-[Integer(5), Integer(1), String(&quot;e&quot;)]
</a><a href="#h167-0-14" id="h167-0-14" class="d">-
</a><a href="#h167-0-15" id="h167-0-15" class="d">-Index self.self_id
</a><a href="#h167-0-16" id="h167-0-16" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h167-0-17" id="h167-0-17" class="d">-Integer(1) =&gt; [Integer(1), Integer(2), Integer(5)]
</a><a href="#h167-0-18" id="h167-0-18" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h168" href="../file/tests/sql/schema/insert_ref_self_missing.html">tests/sql/schema/insert_ref_self_missing</a> b/<a href="../file/tests/sql/schema/insert_ref_self_missing.html">tests/sql/schema/insert_ref_self_missing</a></b>
<a href="#h168-0" id="h168-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h168-0-0" id="h168-0-0" class="d">-Query: INSERT INTO self VALUES (5, 9, &#39;e&#39;)
</a><a href="#h168-0-1" id="h168-0-1" class="d">-Error: InvalidInput(&quot;reference 9 not in table self&quot;)
</a><a href="#h168-0-2" id="h168-0-2" class="d">-
</a><a href="#h168-0-3" id="h168-0-3" class="d">-Storage:
</a><a href="#h168-0-4" id="h168-0-4" class="d">-CREATE TABLE self (
</a><a href="#h168-0-5" id="h168-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h168-0-6" id="h168-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h168-0-7" id="h168-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h168-0-8" id="h168-0-8" class="d">-)
</a><a href="#h168-0-9" id="h168-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h168-0-10" id="h168-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h168-0-11" id="h168-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h168-0-12" id="h168-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h168-0-13" id="h168-0-13" class="d">-
</a><a href="#h168-0-14" id="h168-0-14" class="d">-Index self.self_id
</a><a href="#h168-0-15" id="h168-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h168-0-16" id="h168-0-16" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h168-0-17" id="h168-0-17" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h169" href="../file/tests/sql/schema/insert_ref_self_null.html">tests/sql/schema/insert_ref_self_null</a> b/<a href="../file/tests/sql/schema/insert_ref_self_null.html">tests/sql/schema/insert_ref_self_null</a></b>
<a href="#h169-0" id="h169-0" class="h">@@ -1,19 +0,0 @@
</a><a href="#h169-0-0" id="h169-0-0" class="d">-Query: INSERT INTO self VALUES (5, NULL, &#39;e&#39;)
</a><a href="#h169-0-1" id="h169-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h169-0-2" id="h169-0-2" class="d">-
</a><a href="#h169-0-3" id="h169-0-3" class="d">-Storage:
</a><a href="#h169-0-4" id="h169-0-4" class="d">-CREATE TABLE self (
</a><a href="#h169-0-5" id="h169-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h169-0-6" id="h169-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h169-0-7" id="h169-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h169-0-8" id="h169-0-8" class="d">-)
</a><a href="#h169-0-9" id="h169-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h169-0-10" id="h169-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h169-0-11" id="h169-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h169-0-12" id="h169-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h169-0-13" id="h169-0-13" class="d">-[Integer(5), Null, String(&quot;e&quot;)]
</a><a href="#h169-0-14" id="h169-0-14" class="d">-
</a><a href="#h169-0-15" id="h169-0-15" class="d">-Index self.self_id
</a><a href="#h169-0-16" id="h169-0-16" class="d">-Null =&gt; [Integer(4), Integer(5)]
</a><a href="#h169-0-17" id="h169-0-17" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h169-0-18" id="h169-0-18" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h170" href="../file/tests/sql/schema/insert_ref_self_self.html">tests/sql/schema/insert_ref_self_self</a> b/<a href="../file/tests/sql/schema/insert_ref_self_self.html">tests/sql/schema/insert_ref_self_self</a></b>
<a href="#h170-0" id="h170-0" class="h">@@ -1,20 +0,0 @@
</a><a href="#h170-0-0" id="h170-0-0" class="d">-Query: INSERT INTO self VALUES (5, 5, &#39;e&#39;)
</a><a href="#h170-0-1" id="h170-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h170-0-2" id="h170-0-2" class="d">-
</a><a href="#h170-0-3" id="h170-0-3" class="d">-Storage:
</a><a href="#h170-0-4" id="h170-0-4" class="d">-CREATE TABLE self (
</a><a href="#h170-0-5" id="h170-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h170-0-6" id="h170-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h170-0-7" id="h170-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h170-0-8" id="h170-0-8" class="d">-)
</a><a href="#h170-0-9" id="h170-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h170-0-10" id="h170-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h170-0-11" id="h170-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h170-0-12" id="h170-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h170-0-13" id="h170-0-13" class="d">-[Integer(5), Integer(5), String(&quot;e&quot;)]
</a><a href="#h170-0-14" id="h170-0-14" class="d">-
</a><a href="#h170-0-15" id="h170-0-15" class="d">-Index self.self_id
</a><a href="#h170-0-16" id="h170-0-16" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h170-0-17" id="h170-0-17" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h170-0-18" id="h170-0-18" class="d">-Integer(3) =&gt; [Integer(3)]
</a><a href="#h170-0-19" id="h170-0-19" class="d">-Integer(5) =&gt; [Integer(5)]
</a><b>diff --git a/<a id="h171" href="../file/tests/sql/schema/insert_ref_string.html">tests/sql/schema/insert_ref_string</a> b/<a href="../file/tests/sql/schema/insert_ref_string.html">tests/sql/schema/insert_ref_string</a></b>
<a href="#h171-0" id="h171-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h171-0-0" id="h171-0-0" class="d">-Query: INSERT INTO source VALUES (1, &#39;foo&#39;)
</a><a href="#h171-0-1" id="h171-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h171-0-2" id="h171-0-2" class="d">-
</a><a href="#h171-0-3" id="h171-0-3" class="d">-Storage:
</a><a href="#h171-0-4" id="h171-0-4" class="d">-CREATE TABLE source (
</a><a href="#h171-0-5" id="h171-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h171-0-6" id="h171-0-6" class="d">-  target_id STRING DEFAULT NULL INDEX REFERENCES target
</a><a href="#h171-0-7" id="h171-0-7" class="d">-)
</a><a href="#h171-0-8" id="h171-0-8" class="d">-[Integer(1), String(&quot;foo&quot;)]
</a><a href="#h171-0-9" id="h171-0-9" class="d">-
</a><a href="#h171-0-10" id="h171-0-10" class="d">-Index source.target_id
</a><a href="#h171-0-11" id="h171-0-11" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><a href="#h171-0-12" id="h171-0-12" class="d">-
</a><a href="#h171-0-13" id="h171-0-13" class="d">-CREATE TABLE target (
</a><a href="#h171-0-14" id="h171-0-14" class="d">-  id STRING PRIMARY KEY
</a><a href="#h171-0-15" id="h171-0-15" class="d">-)
</a><a href="#h171-0-16" id="h171-0-16" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h171-0-17" id="h171-0-17" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h172" href="../file/tests/sql/schema/insert_ref_string_case.html">tests/sql/schema/insert_ref_string_case</a> b/<a href="../file/tests/sql/schema/insert_ref_string_case.html">tests/sql/schema/insert_ref_string_case</a></b>
<a href="#h172-0" id="h172-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h172-0-0" id="h172-0-0" class="d">-Query: INSERT INTO source VALUES (1, &#39;Foo&#39;)
</a><a href="#h172-0-1" id="h172-0-1" class="d">-Error: InvalidInput(&quot;reference Foo not in table target&quot;)
</a><a href="#h172-0-2" id="h172-0-2" class="d">-
</a><a href="#h172-0-3" id="h172-0-3" class="d">-Storage:
</a><a href="#h172-0-4" id="h172-0-4" class="d">-CREATE TABLE source (
</a><a href="#h172-0-5" id="h172-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h172-0-6" id="h172-0-6" class="d">-  target_id STRING DEFAULT NULL INDEX REFERENCES target
</a><a href="#h172-0-7" id="h172-0-7" class="d">-)
</a><a href="#h172-0-8" id="h172-0-8" class="d">-
</a><a href="#h172-0-9" id="h172-0-9" class="d">-Index source.target_id
</a><a href="#h172-0-10" id="h172-0-10" class="d">-
</a><a href="#h172-0-11" id="h172-0-11" class="d">-CREATE TABLE target (
</a><a href="#h172-0-12" id="h172-0-12" class="d">-  id STRING PRIMARY KEY
</a><a href="#h172-0-13" id="h172-0-13" class="d">-)
</a><a href="#h172-0-14" id="h172-0-14" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h172-0-15" id="h172-0-15" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h173" href="../file/tests/sql/schema/insert_ref_string_missing.html">tests/sql/schema/insert_ref_string_missing</a> b/<a href="../file/tests/sql/schema/insert_ref_string_missing.html">tests/sql/schema/insert_ref_string_missing</a></b>
<a href="#h173-0" id="h173-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h173-0-0" id="h173-0-0" class="d">-Query: INSERT INTO source VALUES (1, &#39;baz&#39;)
</a><a href="#h173-0-1" id="h173-0-1" class="d">-Error: InvalidInput(&quot;reference baz not in table target&quot;)
</a><a href="#h173-0-2" id="h173-0-2" class="d">-
</a><a href="#h173-0-3" id="h173-0-3" class="d">-Storage:
</a><a href="#h173-0-4" id="h173-0-4" class="d">-CREATE TABLE source (
</a><a href="#h173-0-5" id="h173-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h173-0-6" id="h173-0-6" class="d">-  target_id STRING DEFAULT NULL INDEX REFERENCES target
</a><a href="#h173-0-7" id="h173-0-7" class="d">-)
</a><a href="#h173-0-8" id="h173-0-8" class="d">-
</a><a href="#h173-0-9" id="h173-0-9" class="d">-Index source.target_id
</a><a href="#h173-0-10" id="h173-0-10" class="d">-
</a><a href="#h173-0-11" id="h173-0-11" class="d">-CREATE TABLE target (
</a><a href="#h173-0-12" id="h173-0-12" class="d">-  id STRING PRIMARY KEY
</a><a href="#h173-0-13" id="h173-0-13" class="d">-)
</a><a href="#h173-0-14" id="h173-0-14" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h173-0-15" id="h173-0-15" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h174" href="../file/tests/sql/schema/insert_ref_string_null.html">tests/sql/schema/insert_ref_string_null</a> b/<a href="../file/tests/sql/schema/insert_ref_string_null.html">tests/sql/schema/insert_ref_string_null</a></b>
<a href="#h174-0" id="h174-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h174-0-0" id="h174-0-0" class="d">-Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h174-0-1" id="h174-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h174-0-2" id="h174-0-2" class="d">-
</a><a href="#h174-0-3" id="h174-0-3" class="d">-Storage:
</a><a href="#h174-0-4" id="h174-0-4" class="d">-CREATE TABLE source (
</a><a href="#h174-0-5" id="h174-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h174-0-6" id="h174-0-6" class="d">-  target_id STRING DEFAULT NULL INDEX REFERENCES target
</a><a href="#h174-0-7" id="h174-0-7" class="d">-)
</a><a href="#h174-0-8" id="h174-0-8" class="d">-[Integer(1), Null]
</a><a href="#h174-0-9" id="h174-0-9" class="d">-
</a><a href="#h174-0-10" id="h174-0-10" class="d">-Index source.target_id
</a><a href="#h174-0-11" id="h174-0-11" class="d">-Null =&gt; [Integer(1)]
</a><a href="#h174-0-12" id="h174-0-12" class="d">-
</a><a href="#h174-0-13" id="h174-0-13" class="d">-CREATE TABLE target (
</a><a href="#h174-0-14" id="h174-0-14" class="d">-  id STRING PRIMARY KEY
</a><a href="#h174-0-15" id="h174-0-15" class="d">-)
</a><a href="#h174-0-16" id="h174-0-16" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h174-0-17" id="h174-0-17" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h175" href="../file/tests/sql/schema/insert_string.html">tests/sql/schema/insert_string</a> b/<a href="../file/tests/sql/schema/insert_string.html">tests/sql/schema/insert_string</a></b>
<a href="#h175-0" id="h175-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h175-0-0" id="h175-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39;abc&#39;)
</a><a href="#h175-0-1" id="h175-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h175-0-2" id="h175-0-2" class="d">-
</a><a href="#h175-0-3" id="h175-0-3" class="d">-Storage:
</a><a href="#h175-0-4" id="h175-0-4" class="d">-CREATE TABLE types (
</a><a href="#h175-0-5" id="h175-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h175-0-6" id="h175-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h175-0-7" id="h175-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h175-0-8" id="h175-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h175-0-9" id="h175-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h175-0-10" id="h175-0-10" class="d">-)
</a><a href="#h175-0-11" id="h175-0-11" class="d">-[Integer(0), Null, Null, Null, String(&quot;abc&quot;)]
</a><b>diff --git a/<a id="h176" href="../file/tests/sql/schema/insert_string_boolean.html">tests/sql/schema/insert_string_boolean</a> b/<a href="../file/tests/sql/schema/insert_string_boolean.html">tests/sql/schema/insert_string_boolean</a></b>
<a href="#h176-0" id="h176-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h176-0-0" id="h176-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, FALSE)
</a><a href="#h176-0-1" id="h176-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype BOOLEAN for STRING column string&quot;)
</a><a href="#h176-0-2" id="h176-0-2" class="d">-
</a><a href="#h176-0-3" id="h176-0-3" class="d">-Storage:
</a><a href="#h176-0-4" id="h176-0-4" class="d">-CREATE TABLE types (
</a><a href="#h176-0-5" id="h176-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h176-0-6" id="h176-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h176-0-7" id="h176-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h176-0-8" id="h176-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h176-0-9" id="h176-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h176-0-10" id="h176-0-10" class="d">-)
</a><b>diff --git a/<a id="h177" href="../file/tests/sql/schema/insert_string_empty.html">tests/sql/schema/insert_string_empty</a> b/<a href="../file/tests/sql/schema/insert_string_empty.html">tests/sql/schema/insert_string_empty</a></b>
<a href="#h177-0" id="h177-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h177-0-0" id="h177-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39;&#39;)
</a><a href="#h177-0-1" id="h177-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h177-0-2" id="h177-0-2" class="d">-
</a><a href="#h177-0-3" id="h177-0-3" class="d">-Storage:
</a><a href="#h177-0-4" id="h177-0-4" class="d">-CREATE TABLE types (
</a><a href="#h177-0-5" id="h177-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h177-0-6" id="h177-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h177-0-7" id="h177-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h177-0-8" id="h177-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h177-0-9" id="h177-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h177-0-10" id="h177-0-10" class="d">-)
</a><a href="#h177-0-11" id="h177-0-11" class="d">-[Integer(0), Null, Null, Null, String(&quot;&quot;)]
</a><b>diff --git a/<a id="h178" href="../file/tests/sql/schema/insert_string_float.html">tests/sql/schema/insert_string_float</a> b/<a href="../file/tests/sql/schema/insert_string_float.html">tests/sql/schema/insert_string_float</a></b>
<a href="#h178-0" id="h178-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h178-0-0" id="h178-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, 3.14)
</a><a href="#h178-0-1" id="h178-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for STRING column string&quot;)
</a><a href="#h178-0-2" id="h178-0-2" class="d">-
</a><a href="#h178-0-3" id="h178-0-3" class="d">-Storage:
</a><a href="#h178-0-4" id="h178-0-4" class="d">-CREATE TABLE types (
</a><a href="#h178-0-5" id="h178-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h178-0-6" id="h178-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h178-0-7" id="h178-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h178-0-8" id="h178-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h178-0-9" id="h178-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h178-0-10" id="h178-0-10" class="d">-)
</a><b>diff --git a/<a id="h179" href="../file/tests/sql/schema/insert_string_integer.html">tests/sql/schema/insert_string_integer</a> b/<a href="../file/tests/sql/schema/insert_string_integer.html">tests/sql/schema/insert_string_integer</a></b>
<a href="#h179-0" id="h179-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h179-0-0" id="h179-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, 1)
</a><a href="#h179-0-1" id="h179-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype INTEGER for STRING column string&quot;)
</a><a href="#h179-0-2" id="h179-0-2" class="d">-
</a><a href="#h179-0-3" id="h179-0-3" class="d">-Storage:
</a><a href="#h179-0-4" id="h179-0-4" class="d">-CREATE TABLE types (
</a><a href="#h179-0-5" id="h179-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h179-0-6" id="h179-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h179-0-7" id="h179-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h179-0-8" id="h179-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h179-0-9" id="h179-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h179-0-10" id="h179-0-10" class="d">-)
</a><b>diff --git a/<a id="h180" href="../file/tests/sql/schema/insert_string_null.html">tests/sql/schema/insert_string_null</a> b/<a href="../file/tests/sql/schema/insert_string_null.html">tests/sql/schema/insert_string_null</a></b>
<a href="#h180-0" id="h180-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h180-0-0" id="h180-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, NULL)
</a><a href="#h180-0-1" id="h180-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h180-0-2" id="h180-0-2" class="d">-
</a><a href="#h180-0-3" id="h180-0-3" class="d">-Storage:
</a><a href="#h180-0-4" id="h180-0-4" class="d">-CREATE TABLE types (
</a><a href="#h180-0-5" id="h180-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h180-0-6" id="h180-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h180-0-7" id="h180-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h180-0-8" id="h180-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h180-0-9" id="h180-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h180-0-10" id="h180-0-10" class="d">-)
</a><a href="#h180-0-11" id="h180-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><b>diff --git a/<a id="h181" href="../file/tests/sql/schema/insert_string_unicode.html">tests/sql/schema/insert_string_unicode</a> b/<a href="../file/tests/sql/schema/insert_string_unicode.html">tests/sql/schema/insert_string_unicode</a></b>
<a href="#h181-0" id="h181-0" class="h">@@ -1,12 +0,0 @@
</a><a href="#h181-0-0" id="h181-0-0" class="d">-Query: INSERT INTO types (id, &quot;string&quot;) VALUES (0, &#39; Hi! 👋&#39;)
</a><a href="#h181-0-1" id="h181-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h181-0-2" id="h181-0-2" class="d">-
</a><a href="#h181-0-3" id="h181-0-3" class="d">-Storage:
</a><a href="#h181-0-4" id="h181-0-4" class="d">-CREATE TABLE types (
</a><a href="#h181-0-5" id="h181-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h181-0-6" id="h181-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL,
</a><a href="#h181-0-7" id="h181-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL,
</a><a href="#h181-0-8" id="h181-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL,
</a><a href="#h181-0-9" id="h181-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL
</a><a href="#h181-0-10" id="h181-0-10" class="d">-)
</a><a href="#h181-0-11" id="h181-0-11" class="d">-[Integer(0), Null, Null, Null, String(&quot; Hi! 👋&quot;)]
</a><b>diff --git a/<a id="h182" href="../file/tests/sql/schema/insert_unique_boolean.html">tests/sql/schema/insert_unique_boolean</a> b/<a href="../file/tests/sql/schema/insert_unique_boolean.html">tests/sql/schema/insert_unique_boolean</a></b>
<a href="#h182-0" id="h182-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h182-0-0" id="h182-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;boolean&quot;) VALUES (2, FALSE)
</a><a href="#h182-0-1" id="h182-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h182-0-2" id="h182-0-2" class="d">-
</a><a href="#h182-0-3" id="h182-0-3" class="d">-Storage:
</a><a href="#h182-0-4" id="h182-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h182-0-5" id="h182-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h182-0-6" id="h182-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h182-0-7" id="h182-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h182-0-8" id="h182-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h182-0-9" id="h182-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h182-0-10" id="h182-0-10" class="d">-)
</a><a href="#h182-0-11" id="h182-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h182-0-12" id="h182-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h182-0-13" id="h182-0-13" class="d">-[Integer(2), Boolean(false), Null, Null, Null]
</a><a href="#h182-0-14" id="h182-0-14" class="d">-
</a><a href="#h182-0-15" id="h182-0-15" class="d">-Index unique.boolean
</a><a href="#h182-0-16" id="h182-0-16" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h182-0-17" id="h182-0-17" class="d">-Boolean(false) =&gt; [Integer(2)]
</a><a href="#h182-0-18" id="h182-0-18" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h182-0-19" id="h182-0-19" class="d">-
</a><a href="#h182-0-20" id="h182-0-20" class="d">-Index unique.float
</a><a href="#h182-0-21" id="h182-0-21" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h182-0-22" id="h182-0-22" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h182-0-23" id="h182-0-23" class="d">-
</a><a href="#h182-0-24" id="h182-0-24" class="d">-Index unique.integer
</a><a href="#h182-0-25" id="h182-0-25" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h182-0-26" id="h182-0-26" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h182-0-27" id="h182-0-27" class="d">-
</a><a href="#h182-0-28" id="h182-0-28" class="d">-Index unique.string
</a><a href="#h182-0-29" id="h182-0-29" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h182-0-30" id="h182-0-30" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h183" href="../file/tests/sql/schema/insert_unique_boolean_duplicate.html">tests/sql/schema/insert_unique_boolean_duplicate</a> b/<a href="../file/tests/sql/schema/insert_unique_boolean_duplicate.html">tests/sql/schema/insert_unique_boolean_duplicate</a></b>
<a href="#h183-0" id="h183-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h183-0-0" id="h183-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;boolean&quot;) VALUES (2, TRUE)
</a><a href="#h183-0-1" id="h183-0-1" class="d">-Error: InvalidInput(&quot;value TRUE already in unique column boolean&quot;)
</a><a href="#h183-0-2" id="h183-0-2" class="d">-
</a><a href="#h183-0-3" id="h183-0-3" class="d">-Storage:
</a><a href="#h183-0-4" id="h183-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h183-0-5" id="h183-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h183-0-6" id="h183-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h183-0-7" id="h183-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h183-0-8" id="h183-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h183-0-9" id="h183-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h183-0-10" id="h183-0-10" class="d">-)
</a><a href="#h183-0-11" id="h183-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h183-0-12" id="h183-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h183-0-13" id="h183-0-13" class="d">-
</a><a href="#h183-0-14" id="h183-0-14" class="d">-Index unique.boolean
</a><a href="#h183-0-15" id="h183-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h183-0-16" id="h183-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h183-0-17" id="h183-0-17" class="d">-
</a><a href="#h183-0-18" id="h183-0-18" class="d">-Index unique.float
</a><a href="#h183-0-19" id="h183-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h183-0-20" id="h183-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h183-0-21" id="h183-0-21" class="d">-
</a><a href="#h183-0-22" id="h183-0-22" class="d">-Index unique.integer
</a><a href="#h183-0-23" id="h183-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h183-0-24" id="h183-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h183-0-25" id="h183-0-25" class="d">-
</a><a href="#h183-0-26" id="h183-0-26" class="d">-Index unique.string
</a><a href="#h183-0-27" id="h183-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h183-0-28" id="h183-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h184" href="../file/tests/sql/schema/insert_unique_float.html">tests/sql/schema/insert_unique_float</a> b/<a href="../file/tests/sql/schema/insert_unique_float.html">tests/sql/schema/insert_unique_float</a></b>
<a href="#h184-0" id="h184-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h184-0-0" id="h184-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (2, 2.718)
</a><a href="#h184-0-1" id="h184-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h184-0-2" id="h184-0-2" class="d">-
</a><a href="#h184-0-3" id="h184-0-3" class="d">-Storage:
</a><a href="#h184-0-4" id="h184-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h184-0-5" id="h184-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h184-0-6" id="h184-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h184-0-7" id="h184-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h184-0-8" id="h184-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h184-0-9" id="h184-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h184-0-10" id="h184-0-10" class="d">-)
</a><a href="#h184-0-11" id="h184-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h184-0-12" id="h184-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h184-0-13" id="h184-0-13" class="d">-[Integer(2), Null, Float(2.718), Null, Null]
</a><a href="#h184-0-14" id="h184-0-14" class="d">-
</a><a href="#h184-0-15" id="h184-0-15" class="d">-Index unique.boolean
</a><a href="#h184-0-16" id="h184-0-16" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h184-0-17" id="h184-0-17" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h184-0-18" id="h184-0-18" class="d">-
</a><a href="#h184-0-19" id="h184-0-19" class="d">-Index unique.float
</a><a href="#h184-0-20" id="h184-0-20" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h184-0-21" id="h184-0-21" class="d">-Float(2.718) =&gt; [Integer(2)]
</a><a href="#h184-0-22" id="h184-0-22" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h184-0-23" id="h184-0-23" class="d">-
</a><a href="#h184-0-24" id="h184-0-24" class="d">-Index unique.integer
</a><a href="#h184-0-25" id="h184-0-25" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h184-0-26" id="h184-0-26" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h184-0-27" id="h184-0-27" class="d">-
</a><a href="#h184-0-28" id="h184-0-28" class="d">-Index unique.string
</a><a href="#h184-0-29" id="h184-0-29" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h184-0-30" id="h184-0-30" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h185" href="../file/tests/sql/schema/insert_unique_float_duplicate.html">tests/sql/schema/insert_unique_float_duplicate</a> b/<a href="../file/tests/sql/schema/insert_unique_float_duplicate.html">tests/sql/schema/insert_unique_float_duplicate</a></b>
<a href="#h185-0" id="h185-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h185-0-0" id="h185-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;float&quot;) VALUES (2, 3.14)
</a><a href="#h185-0-1" id="h185-0-1" class="d">-Error: InvalidInput(&quot;value 3.14 already in unique column float&quot;)
</a><a href="#h185-0-2" id="h185-0-2" class="d">-
</a><a href="#h185-0-3" id="h185-0-3" class="d">-Storage:
</a><a href="#h185-0-4" id="h185-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h185-0-5" id="h185-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h185-0-6" id="h185-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h185-0-7" id="h185-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h185-0-8" id="h185-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h185-0-9" id="h185-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h185-0-10" id="h185-0-10" class="d">-)
</a><a href="#h185-0-11" id="h185-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h185-0-12" id="h185-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h185-0-13" id="h185-0-13" class="d">-
</a><a href="#h185-0-14" id="h185-0-14" class="d">-Index unique.boolean
</a><a href="#h185-0-15" id="h185-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h185-0-16" id="h185-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h185-0-17" id="h185-0-17" class="d">-
</a><a href="#h185-0-18" id="h185-0-18" class="d">-Index unique.float
</a><a href="#h185-0-19" id="h185-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h185-0-20" id="h185-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h185-0-21" id="h185-0-21" class="d">-
</a><a href="#h185-0-22" id="h185-0-22" class="d">-Index unique.integer
</a><a href="#h185-0-23" id="h185-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h185-0-24" id="h185-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h185-0-25" id="h185-0-25" class="d">-
</a><a href="#h185-0-26" id="h185-0-26" class="d">-Index unique.string
</a><a href="#h185-0-27" id="h185-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h185-0-28" id="h185-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h186" href="../file/tests/sql/schema/insert_unique_integer.html">tests/sql/schema/insert_unique_integer</a> b/<a href="../file/tests/sql/schema/insert_unique_integer.html">tests/sql/schema/insert_unique_integer</a></b>
<a href="#h186-0" id="h186-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h186-0-0" id="h186-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;integer&quot;) VALUES (2, 3)
</a><a href="#h186-0-1" id="h186-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h186-0-2" id="h186-0-2" class="d">-
</a><a href="#h186-0-3" id="h186-0-3" class="d">-Storage:
</a><a href="#h186-0-4" id="h186-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h186-0-5" id="h186-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h186-0-6" id="h186-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h186-0-7" id="h186-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h186-0-8" id="h186-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h186-0-9" id="h186-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h186-0-10" id="h186-0-10" class="d">-)
</a><a href="#h186-0-11" id="h186-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h186-0-12" id="h186-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h186-0-13" id="h186-0-13" class="d">-[Integer(2), Null, Null, Integer(3), Null]
</a><a href="#h186-0-14" id="h186-0-14" class="d">-
</a><a href="#h186-0-15" id="h186-0-15" class="d">-Index unique.boolean
</a><a href="#h186-0-16" id="h186-0-16" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h186-0-17" id="h186-0-17" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h186-0-18" id="h186-0-18" class="d">-
</a><a href="#h186-0-19" id="h186-0-19" class="d">-Index unique.float
</a><a href="#h186-0-20" id="h186-0-20" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h186-0-21" id="h186-0-21" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h186-0-22" id="h186-0-22" class="d">-
</a><a href="#h186-0-23" id="h186-0-23" class="d">-Index unique.integer
</a><a href="#h186-0-24" id="h186-0-24" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h186-0-25" id="h186-0-25" class="d">-Integer(3) =&gt; [Integer(2)]
</a><a href="#h186-0-26" id="h186-0-26" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h186-0-27" id="h186-0-27" class="d">-
</a><a href="#h186-0-28" id="h186-0-28" class="d">-Index unique.string
</a><a href="#h186-0-29" id="h186-0-29" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h186-0-30" id="h186-0-30" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h187" href="../file/tests/sql/schema/insert_unique_integer_duplicate.html">tests/sql/schema/insert_unique_integer_duplicate</a> b/<a href="../file/tests/sql/schema/insert_unique_integer_duplicate.html">tests/sql/schema/insert_unique_integer_duplicate</a></b>
<a href="#h187-0" id="h187-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h187-0-0" id="h187-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;integer&quot;) VALUES (2, 7)
</a><a href="#h187-0-1" id="h187-0-1" class="d">-Error: InvalidInput(&quot;value 7 already in unique column integer&quot;)
</a><a href="#h187-0-2" id="h187-0-2" class="d">-
</a><a href="#h187-0-3" id="h187-0-3" class="d">-Storage:
</a><a href="#h187-0-4" id="h187-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h187-0-5" id="h187-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h187-0-6" id="h187-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h187-0-7" id="h187-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h187-0-8" id="h187-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h187-0-9" id="h187-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h187-0-10" id="h187-0-10" class="d">-)
</a><a href="#h187-0-11" id="h187-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h187-0-12" id="h187-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h187-0-13" id="h187-0-13" class="d">-
</a><a href="#h187-0-14" id="h187-0-14" class="d">-Index unique.boolean
</a><a href="#h187-0-15" id="h187-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h187-0-16" id="h187-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h187-0-17" id="h187-0-17" class="d">-
</a><a href="#h187-0-18" id="h187-0-18" class="d">-Index unique.float
</a><a href="#h187-0-19" id="h187-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h187-0-20" id="h187-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h187-0-21" id="h187-0-21" class="d">-
</a><a href="#h187-0-22" id="h187-0-22" class="d">-Index unique.integer
</a><a href="#h187-0-23" id="h187-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h187-0-24" id="h187-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h187-0-25" id="h187-0-25" class="d">-
</a><a href="#h187-0-26" id="h187-0-26" class="d">-Index unique.string
</a><a href="#h187-0-27" id="h187-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h187-0-28" id="h187-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h188" href="../file/tests/sql/schema/insert_unique_nulls.html">tests/sql/schema/insert_unique_nulls</a> b/<a href="../file/tests/sql/schema/insert_unique_nulls.html">tests/sql/schema/insert_unique_nulls</a></b>
<a href="#h188-0" id="h188-0" class="h">@@ -1,30 +0,0 @@
</a><a href="#h188-0-0" id="h188-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; VALUES (2, NULL, NULL, NULL, NULL)
</a><a href="#h188-0-1" id="h188-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h188-0-2" id="h188-0-2" class="d">-
</a><a href="#h188-0-3" id="h188-0-3" class="d">-Storage:
</a><a href="#h188-0-4" id="h188-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h188-0-5" id="h188-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h188-0-6" id="h188-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h188-0-7" id="h188-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h188-0-8" id="h188-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h188-0-9" id="h188-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h188-0-10" id="h188-0-10" class="d">-)
</a><a href="#h188-0-11" id="h188-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h188-0-12" id="h188-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h188-0-13" id="h188-0-13" class="d">-[Integer(2), Null, Null, Null, Null]
</a><a href="#h188-0-14" id="h188-0-14" class="d">-
</a><a href="#h188-0-15" id="h188-0-15" class="d">-Index unique.boolean
</a><a href="#h188-0-16" id="h188-0-16" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h188-0-17" id="h188-0-17" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h188-0-18" id="h188-0-18" class="d">-
</a><a href="#h188-0-19" id="h188-0-19" class="d">-Index unique.float
</a><a href="#h188-0-20" id="h188-0-20" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h188-0-21" id="h188-0-21" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h188-0-22" id="h188-0-22" class="d">-
</a><a href="#h188-0-23" id="h188-0-23" class="d">-Index unique.integer
</a><a href="#h188-0-24" id="h188-0-24" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h188-0-25" id="h188-0-25" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h188-0-26" id="h188-0-26" class="d">-
</a><a href="#h188-0-27" id="h188-0-27" class="d">-Index unique.string
</a><a href="#h188-0-28" id="h188-0-28" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h188-0-29" id="h188-0-29" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h189" href="../file/tests/sql/schema/insert_unique_string.html">tests/sql/schema/insert_unique_string</a> b/<a href="../file/tests/sql/schema/insert_unique_string.html">tests/sql/schema/insert_unique_string</a></b>
<a href="#h189-0" id="h189-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h189-0-0" id="h189-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;bar&#39;)
</a><a href="#h189-0-1" id="h189-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h189-0-2" id="h189-0-2" class="d">-
</a><a href="#h189-0-3" id="h189-0-3" class="d">-Storage:
</a><a href="#h189-0-4" id="h189-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h189-0-5" id="h189-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h189-0-6" id="h189-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h189-0-7" id="h189-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h189-0-8" id="h189-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h189-0-9" id="h189-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h189-0-10" id="h189-0-10" class="d">-)
</a><a href="#h189-0-11" id="h189-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h189-0-12" id="h189-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h189-0-13" id="h189-0-13" class="d">-[Integer(2), Null, Null, Null, String(&quot;bar&quot;)]
</a><a href="#h189-0-14" id="h189-0-14" class="d">-
</a><a href="#h189-0-15" id="h189-0-15" class="d">-Index unique.boolean
</a><a href="#h189-0-16" id="h189-0-16" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h189-0-17" id="h189-0-17" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h189-0-18" id="h189-0-18" class="d">-
</a><a href="#h189-0-19" id="h189-0-19" class="d">-Index unique.float
</a><a href="#h189-0-20" id="h189-0-20" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h189-0-21" id="h189-0-21" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h189-0-22" id="h189-0-22" class="d">-
</a><a href="#h189-0-23" id="h189-0-23" class="d">-Index unique.integer
</a><a href="#h189-0-24" id="h189-0-24" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h189-0-25" id="h189-0-25" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h189-0-26" id="h189-0-26" class="d">-
</a><a href="#h189-0-27" id="h189-0-27" class="d">-Index unique.string
</a><a href="#h189-0-28" id="h189-0-28" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h189-0-29" id="h189-0-29" class="d">-String(&quot;bar&quot;) =&gt; [Integer(2)]
</a><a href="#h189-0-30" id="h189-0-30" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h190" href="../file/tests/sql/schema/insert_unique_string_case.html">tests/sql/schema/insert_unique_string_case</a> b/<a href="../file/tests/sql/schema/insert_unique_string_case.html">tests/sql/schema/insert_unique_string_case</a></b>
<a href="#h190-0" id="h190-0" class="h">@@ -1,31 +0,0 @@
</a><a href="#h190-0-0" id="h190-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;Foo&#39;)
</a><a href="#h190-0-1" id="h190-0-1" class="d">-Result: Insert { count: 1 }
</a><a href="#h190-0-2" id="h190-0-2" class="d">-
</a><a href="#h190-0-3" id="h190-0-3" class="d">-Storage:
</a><a href="#h190-0-4" id="h190-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h190-0-5" id="h190-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h190-0-6" id="h190-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h190-0-7" id="h190-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h190-0-8" id="h190-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h190-0-9" id="h190-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h190-0-10" id="h190-0-10" class="d">-)
</a><a href="#h190-0-11" id="h190-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h190-0-12" id="h190-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h190-0-13" id="h190-0-13" class="d">-[Integer(2), Null, Null, Null, String(&quot;Foo&quot;)]
</a><a href="#h190-0-14" id="h190-0-14" class="d">-
</a><a href="#h190-0-15" id="h190-0-15" class="d">-Index unique.boolean
</a><a href="#h190-0-16" id="h190-0-16" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h190-0-17" id="h190-0-17" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h190-0-18" id="h190-0-18" class="d">-
</a><a href="#h190-0-19" id="h190-0-19" class="d">-Index unique.float
</a><a href="#h190-0-20" id="h190-0-20" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h190-0-21" id="h190-0-21" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h190-0-22" id="h190-0-22" class="d">-
</a><a href="#h190-0-23" id="h190-0-23" class="d">-Index unique.integer
</a><a href="#h190-0-24" id="h190-0-24" class="d">-Null =&gt; [Integer(0), Integer(2)]
</a><a href="#h190-0-25" id="h190-0-25" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h190-0-26" id="h190-0-26" class="d">-
</a><a href="#h190-0-27" id="h190-0-27" class="d">-Index unique.string
</a><a href="#h190-0-28" id="h190-0-28" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h190-0-29" id="h190-0-29" class="d">-String(&quot;Foo&quot;) =&gt; [Integer(2)]
</a><a href="#h190-0-30" id="h190-0-30" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h191" href="../file/tests/sql/schema/insert_unique_string_duplicate.html">tests/sql/schema/insert_unique_string_duplicate</a> b/<a href="../file/tests/sql/schema/insert_unique_string_duplicate.html">tests/sql/schema/insert_unique_string_duplicate</a></b>
<a href="#h191-0" id="h191-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h191-0-0" id="h191-0-0" class="d">-Query: INSERT INTO &quot;unique&quot; (id, &quot;string&quot;) VALUES (2, &#39;foo&#39;)
</a><a href="#h191-0-1" id="h191-0-1" class="d">-Error: InvalidInput(&quot;value foo already in unique column string&quot;)
</a><a href="#h191-0-2" id="h191-0-2" class="d">-
</a><a href="#h191-0-3" id="h191-0-3" class="d">-Storage:
</a><a href="#h191-0-4" id="h191-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h191-0-5" id="h191-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h191-0-6" id="h191-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h191-0-7" id="h191-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h191-0-8" id="h191-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h191-0-9" id="h191-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h191-0-10" id="h191-0-10" class="d">-)
</a><a href="#h191-0-11" id="h191-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h191-0-12" id="h191-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h191-0-13" id="h191-0-13" class="d">-
</a><a href="#h191-0-14" id="h191-0-14" class="d">-Index unique.boolean
</a><a href="#h191-0-15" id="h191-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h191-0-16" id="h191-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h191-0-17" id="h191-0-17" class="d">-
</a><a href="#h191-0-18" id="h191-0-18" class="d">-Index unique.float
</a><a href="#h191-0-19" id="h191-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h191-0-20" id="h191-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h191-0-21" id="h191-0-21" class="d">-
</a><a href="#h191-0-22" id="h191-0-22" class="d">-Index unique.integer
</a><a href="#h191-0-23" id="h191-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h191-0-24" id="h191-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h191-0-25" id="h191-0-25" class="d">-
</a><a href="#h191-0-26" id="h191-0-26" class="d">-Index unique.string
</a><a href="#h191-0-27" id="h191-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h191-0-28" id="h191-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h192" href="../file/tests/sql/schema/update_index_existing.html">tests/sql/schema/update_index_existing</a> b/<a href="../file/tests/sql/schema/update_index_existing.html">tests/sql/schema/update_index_existing</a></b>
<a href="#h192-0" id="h192-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h192-0-0" id="h192-0-0" class="d">-Query: UPDATE test SET name = &#39;a&#39; WHERE id = 2
</a><a href="#h192-0-1" id="h192-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h192-0-2" id="h192-0-2" class="d">-
</a><a href="#h192-0-3" id="h192-0-3" class="d">-Storage:
</a><a href="#h192-0-4" id="h192-0-4" class="d">-CREATE TABLE test (
</a><a href="#h192-0-5" id="h192-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h192-0-6" id="h192-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h192-0-7" id="h192-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h192-0-8" id="h192-0-8" class="d">-)
</a><a href="#h192-0-9" id="h192-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h192-0-10" id="h192-0-10" class="d">-[Integer(2), String(&quot;a&quot;), Integer(102)]
</a><a href="#h192-0-11" id="h192-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h192-0-12" id="h192-0-12" class="d">-
</a><a href="#h192-0-13" id="h192-0-13" class="d">-Index test.name
</a><a href="#h192-0-14" id="h192-0-14" class="d">-String(&quot;a&quot;) =&gt; [Integer(1), Integer(2)]
</a><a href="#h192-0-15" id="h192-0-15" class="d">-String(&quot;b&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h193" href="../file/tests/sql/schema/update_index_last.html">tests/sql/schema/update_index_last</a> b/<a href="../file/tests/sql/schema/update_index_last.html">tests/sql/schema/update_index_last</a></b>
<a href="#h193-0" id="h193-0" class="h">@@ -1,15 +0,0 @@
</a><a href="#h193-0-0" id="h193-0-0" class="d">-Query: UPDATE test SET name = &#39;b&#39; WHERE id = 1
</a><a href="#h193-0-1" id="h193-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h193-0-2" id="h193-0-2" class="d">-
</a><a href="#h193-0-3" id="h193-0-3" class="d">-Storage:
</a><a href="#h193-0-4" id="h193-0-4" class="d">-CREATE TABLE test (
</a><a href="#h193-0-5" id="h193-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h193-0-6" id="h193-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h193-0-7" id="h193-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h193-0-8" id="h193-0-8" class="d">-)
</a><a href="#h193-0-9" id="h193-0-9" class="d">-[Integer(1), String(&quot;b&quot;), Integer(101)]
</a><a href="#h193-0-10" id="h193-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h193-0-11" id="h193-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h193-0-12" id="h193-0-12" class="d">-
</a><a href="#h193-0-13" id="h193-0-13" class="d">-Index test.name
</a><a href="#h193-0-14" id="h193-0-14" class="d">-String(&quot;b&quot;) =&gt; [Integer(1), Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h194" href="../file/tests/sql/schema/update_index_new.html">tests/sql/schema/update_index_new</a> b/<a href="../file/tests/sql/schema/update_index_new.html">tests/sql/schema/update_index_new</a></b>
<a href="#h194-0" id="h194-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h194-0-0" id="h194-0-0" class="d">-Query: UPDATE test SET name = &#39;c&#39; WHERE id = 3
</a><a href="#h194-0-1" id="h194-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h194-0-2" id="h194-0-2" class="d">-
</a><a href="#h194-0-3" id="h194-0-3" class="d">-Storage:
</a><a href="#h194-0-4" id="h194-0-4" class="d">-CREATE TABLE test (
</a><a href="#h194-0-5" id="h194-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h194-0-6" id="h194-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h194-0-7" id="h194-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h194-0-8" id="h194-0-8" class="d">-)
</a><a href="#h194-0-9" id="h194-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h194-0-10" id="h194-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h194-0-11" id="h194-0-11" class="d">-[Integer(3), String(&quot;c&quot;), Integer(103)]
</a><a href="#h194-0-12" id="h194-0-12" class="d">-
</a><a href="#h194-0-13" id="h194-0-13" class="d">-Index test.name
</a><a href="#h194-0-14" id="h194-0-14" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h194-0-15" id="h194-0-15" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><a href="#h194-0-16" id="h194-0-16" class="d">-String(&quot;c&quot;) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h195" href="../file/tests/sql/schema/update_index_null.html">tests/sql/schema/update_index_null</a> b/<a href="../file/tests/sql/schema/update_index_null.html">tests/sql/schema/update_index_null</a></b>
<a href="#h195-0" id="h195-0" class="h">@@ -1,17 +0,0 @@
</a><a href="#h195-0-0" id="h195-0-0" class="d">-Query: UPDATE test SET name = NULL WHERE id = 3
</a><a href="#h195-0-1" id="h195-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h195-0-2" id="h195-0-2" class="d">-
</a><a href="#h195-0-3" id="h195-0-3" class="d">-Storage:
</a><a href="#h195-0-4" id="h195-0-4" class="d">-CREATE TABLE test (
</a><a href="#h195-0-5" id="h195-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h195-0-6" id="h195-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h195-0-7" id="h195-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h195-0-8" id="h195-0-8" class="d">-)
</a><a href="#h195-0-9" id="h195-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h195-0-10" id="h195-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h195-0-11" id="h195-0-11" class="d">-[Integer(3), Null, Integer(103)]
</a><a href="#h195-0-12" id="h195-0-12" class="d">-
</a><a href="#h195-0-13" id="h195-0-13" class="d">-Index test.name
</a><a href="#h195-0-14" id="h195-0-14" class="d">-Null =&gt; [Integer(3)]
</a><a href="#h195-0-15" id="h195-0-15" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h195-0-16" id="h195-0-16" class="d">-String(&quot;b&quot;) =&gt; [Integer(2)]
</a><b>diff --git a/<a id="h196" href="../file/tests/sql/schema/update_index_pk.html">tests/sql/schema/update_index_pk</a> b/<a href="../file/tests/sql/schema/update_index_pk.html">tests/sql/schema/update_index_pk</a></b>
<a href="#h196-0" id="h196-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h196-0-0" id="h196-0-0" class="d">-Query: UPDATE test SET id = 4 WHERE id = 1
</a><a href="#h196-0-1" id="h196-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h196-0-2" id="h196-0-2" class="d">-
</a><a href="#h196-0-3" id="h196-0-3" class="d">-Storage:
</a><a href="#h196-0-4" id="h196-0-4" class="d">-CREATE TABLE test (
</a><a href="#h196-0-5" id="h196-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h196-0-6" id="h196-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h196-0-7" id="h196-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h196-0-8" id="h196-0-8" class="d">-)
</a><a href="#h196-0-9" id="h196-0-9" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h196-0-10" id="h196-0-10" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h196-0-11" id="h196-0-11" class="d">-[Integer(4), String(&quot;a&quot;), Integer(101)]
</a><a href="#h196-0-12" id="h196-0-12" class="d">-
</a><a href="#h196-0-13" id="h196-0-13" class="d">-Index test.name
</a><a href="#h196-0-14" id="h196-0-14" class="d">-String(&quot;a&quot;) =&gt; [Integer(4)]
</a><a href="#h196-0-15" id="h196-0-15" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h197" href="../file/tests/sql/schema/update_index_same.html">tests/sql/schema/update_index_same</a> b/<a href="../file/tests/sql/schema/update_index_same.html">tests/sql/schema/update_index_same</a></b>
<a href="#h197-0" id="h197-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h197-0-0" id="h197-0-0" class="d">-Query: UPDATE test SET value = 102 WHERE id = 3
</a><a href="#h197-0-1" id="h197-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h197-0-2" id="h197-0-2" class="d">-
</a><a href="#h197-0-3" id="h197-0-3" class="d">-Storage:
</a><a href="#h197-0-4" id="h197-0-4" class="d">-CREATE TABLE test (
</a><a href="#h197-0-5" id="h197-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h197-0-6" id="h197-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h197-0-7" id="h197-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h197-0-8" id="h197-0-8" class="d">-)
</a><a href="#h197-0-9" id="h197-0-9" class="d">-[Integer(1), String(&quot;a&quot;), Integer(101)]
</a><a href="#h197-0-10" id="h197-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h197-0-11" id="h197-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(102)]
</a><a href="#h197-0-12" id="h197-0-12" class="d">-
</a><a href="#h197-0-13" id="h197-0-13" class="d">-Index test.name
</a><a href="#h197-0-14" id="h197-0-14" class="d">-String(&quot;a&quot;) =&gt; [Integer(1)]
</a><a href="#h197-0-15" id="h197-0-15" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><b>diff --git a/<a id="h198" href="../file/tests/sql/schema/update_index_swap.html">tests/sql/schema/update_index_swap</a> b/<a href="../file/tests/sql/schema/update_index_swap.html">tests/sql/schema/update_index_swap</a></b>
<a href="#h198-0" id="h198-0" class="h">@@ -1,16 +0,0 @@
</a><a href="#h198-0-0" id="h198-0-0" class="d">-Query: UPDATE test SET name = &#39;c&#39; WHERE id = 1
</a><a href="#h198-0-1" id="h198-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h198-0-2" id="h198-0-2" class="d">-
</a><a href="#h198-0-3" id="h198-0-3" class="d">-Storage:
</a><a href="#h198-0-4" id="h198-0-4" class="d">-CREATE TABLE test (
</a><a href="#h198-0-5" id="h198-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h198-0-6" id="h198-0-6" class="d">-  name STRING DEFAULT NULL INDEX,
</a><a href="#h198-0-7" id="h198-0-7" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h198-0-8" id="h198-0-8" class="d">-)
</a><a href="#h198-0-9" id="h198-0-9" class="d">-[Integer(1), String(&quot;c&quot;), Integer(101)]
</a><a href="#h198-0-10" id="h198-0-10" class="d">-[Integer(2), String(&quot;b&quot;), Integer(102)]
</a><a href="#h198-0-11" id="h198-0-11" class="d">-[Integer(3), String(&quot;b&quot;), Integer(103)]
</a><a href="#h198-0-12" id="h198-0-12" class="d">-
</a><a href="#h198-0-13" id="h198-0-13" class="d">-Index test.name
</a><a href="#h198-0-14" id="h198-0-14" class="d">-String(&quot;b&quot;) =&gt; [Integer(2), Integer(3)]
</a><a href="#h198-0-15" id="h198-0-15" class="d">-String(&quot;c&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h199" href="../file/tests/sql/schema/update_integer.html">tests/sql/schema/update_integer</a> b/<a href="../file/tests/sql/schema/update_integer.html">tests/sql/schema/update_integer</a></b>
<a href="#h199-0" id="h199-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h199-0-0" id="h199-0-0" class="d">-Query: UPDATE test SET value = 3
</a><a href="#h199-0-1" id="h199-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h199-0-2" id="h199-0-2" class="d">-
</a><a href="#h199-0-3" id="h199-0-3" class="d">-Storage:
</a><a href="#h199-0-4" id="h199-0-4" class="d">-CREATE TABLE test (
</a><a href="#h199-0-5" id="h199-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h199-0-6" id="h199-0-6" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h199-0-7" id="h199-0-7" class="d">-)
</a><a href="#h199-0-8" id="h199-0-8" class="d">-[Integer(1), Integer(3)]
</a><b>diff --git a/<a id="h200" href="../file/tests/sql/schema/update_integer_conflict.html">tests/sql/schema/update_integer_conflict</a> b/<a href="../file/tests/sql/schema/update_integer_conflict.html">tests/sql/schema/update_integer_conflict</a></b>
<a href="#h200-0" id="h200-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h200-0-0" id="h200-0-0" class="d">-Query: UPDATE test SET value = &#39;abc&#39;
</a><a href="#h200-0-1" id="h200-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype STRING for INTEGER column value&quot;)
</a><a href="#h200-0-2" id="h200-0-2" class="d">-
</a><a href="#h200-0-3" id="h200-0-3" class="d">-Storage:
</a><a href="#h200-0-4" id="h200-0-4" class="d">-CREATE TABLE test (
</a><a href="#h200-0-5" id="h200-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h200-0-6" id="h200-0-6" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h200-0-7" id="h200-0-7" class="d">-)
</a><a href="#h200-0-8" id="h200-0-8" class="d">-[Integer(1), Integer(7)]
</a><b>diff --git a/<a id="h201" href="../file/tests/sql/schema/update_integer_float.html">tests/sql/schema/update_integer_float</a> b/<a href="../file/tests/sql/schema/update_integer_float.html">tests/sql/schema/update_integer_float</a></b>
<a href="#h201-0" id="h201-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h201-0-0" id="h201-0-0" class="d">-Query: UPDATE test SET value = 3.14
</a><a href="#h201-0-1" id="h201-0-1" class="d">-Error: InvalidInput(&quot;invalid datatype FLOAT for INTEGER column value&quot;)
</a><a href="#h201-0-2" id="h201-0-2" class="d">-
</a><a href="#h201-0-3" id="h201-0-3" class="d">-Storage:
</a><a href="#h201-0-4" id="h201-0-4" class="d">-CREATE TABLE test (
</a><a href="#h201-0-5" id="h201-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h201-0-6" id="h201-0-6" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h201-0-7" id="h201-0-7" class="d">-)
</a><a href="#h201-0-8" id="h201-0-8" class="d">-[Integer(1), Integer(7)]
</a><b>diff --git a/<a id="h202" href="../file/tests/sql/schema/update_integer_null.html">tests/sql/schema/update_integer_null</a> b/<a href="../file/tests/sql/schema/update_integer_null.html">tests/sql/schema/update_integer_null</a></b>
<a href="#h202-0" id="h202-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h202-0-0" id="h202-0-0" class="d">-Query: UPDATE test SET value = NULL
</a><a href="#h202-0-1" id="h202-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h202-0-2" id="h202-0-2" class="d">-
</a><a href="#h202-0-3" id="h202-0-3" class="d">-Storage:
</a><a href="#h202-0-4" id="h202-0-4" class="d">-CREATE TABLE test (
</a><a href="#h202-0-5" id="h202-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h202-0-6" id="h202-0-6" class="d">-  value INTEGER DEFAULT NULL
</a><a href="#h202-0-7" id="h202-0-7" class="d">-)
</a><a href="#h202-0-8" id="h202-0-8" class="d">-[Integer(1), Null]
</a><b>diff --git a/<a id="h203" href="../file/tests/sql/schema/update_pk_boolean.html">tests/sql/schema/update_pk_boolean</a> b/<a href="../file/tests/sql/schema/update_pk_boolean.html">tests/sql/schema/update_pk_boolean</a></b>
<a href="#h203-0" id="h203-0" class="h">@@ -1,8 +0,0 @@
</a><a href="#h203-0-0" id="h203-0-0" class="d">-Query: UPDATE &quot;boolean&quot; SET pk = TRUE WHERE pk = FALSE
</a><a href="#h203-0-1" id="h203-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h203-0-2" id="h203-0-2" class="d">-
</a><a href="#h203-0-3" id="h203-0-3" class="d">-Storage:
</a><a href="#h203-0-4" id="h203-0-4" class="d">-CREATE TABLE &quot;boolean&quot; (
</a><a href="#h203-0-5" id="h203-0-5" class="d">-  pk BOOLEAN PRIMARY KEY
</a><a href="#h203-0-6" id="h203-0-6" class="d">-)
</a><a href="#h203-0-7" id="h203-0-7" class="d">-[Boolean(true)]
</a><b>diff --git a/<a id="h204" href="../file/tests/sql/schema/update_pk_boolean_null.html">tests/sql/schema/update_pk_boolean_null</a> b/<a href="../file/tests/sql/schema/update_pk_boolean_null.html">tests/sql/schema/update_pk_boolean_null</a></b>
<a href="#h204-0" id="h204-0" class="h">@@ -1,8 +0,0 @@
</a><a href="#h204-0-0" id="h204-0-0" class="d">-Query: UPDATE &quot;boolean&quot; SET pk = NULL WHERE pk = FALSE
</a><a href="#h204-0-1" id="h204-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h204-0-2" id="h204-0-2" class="d">-
</a><a href="#h204-0-3" id="h204-0-3" class="d">-Storage:
</a><a href="#h204-0-4" id="h204-0-4" class="d">-CREATE TABLE &quot;boolean&quot; (
</a><a href="#h204-0-5" id="h204-0-5" class="d">-  pk BOOLEAN PRIMARY KEY
</a><a href="#h204-0-6" id="h204-0-6" class="d">-)
</a><a href="#h204-0-7" id="h204-0-7" class="d">-[Boolean(false)]
</a><b>diff --git a/<a id="h205" href="../file/tests/sql/schema/update_pk_float.html">tests/sql/schema/update_pk_float</a> b/<a href="../file/tests/sql/schema/update_pk_float.html">tests/sql/schema/update_pk_float</a></b>
<a href="#h205-0" id="h205-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h205-0-0" id="h205-0-0" class="d">-Query: UPDATE &quot;float&quot; SET pk = 1.618 WHERE pk = 3.14
</a><a href="#h205-0-1" id="h205-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h205-0-2" id="h205-0-2" class="d">-
</a><a href="#h205-0-3" id="h205-0-3" class="d">-Storage:
</a><a href="#h205-0-4" id="h205-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h205-0-5" id="h205-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h205-0-6" id="h205-0-6" class="d">-)
</a><a href="#h205-0-7" id="h205-0-7" class="d">-[Float(1.618)]
</a><a href="#h205-0-8" id="h205-0-8" class="d">-[Float(2.718)]
</a><a href="#h205-0-9" id="h205-0-9" class="d">-[Float(inf)]
</a><a href="#h205-0-10" id="h205-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h206" href="../file/tests/sql/schema/update_pk_float_conflict.html">tests/sql/schema/update_pk_float_conflict</a> b/<a href="../file/tests/sql/schema/update_pk_float_conflict.html">tests/sql/schema/update_pk_float_conflict</a></b>
<a href="#h206-0" id="h206-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h206-0-0" id="h206-0-0" class="d">-Query: UPDATE &quot;float&quot; SET pk = 2.718 WHERE pk = 3.14
</a><a href="#h206-0-1" id="h206-0-1" class="d">-Error: InvalidInput(&quot;primary key 2.718 already exists&quot;)
</a><a href="#h206-0-2" id="h206-0-2" class="d">-
</a><a href="#h206-0-3" id="h206-0-3" class="d">-Storage:
</a><a href="#h206-0-4" id="h206-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h206-0-5" id="h206-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h206-0-6" id="h206-0-6" class="d">-)
</a><a href="#h206-0-7" id="h206-0-7" class="d">-[Float(2.718)]
</a><a href="#h206-0-8" id="h206-0-8" class="d">-[Float(3.14)]
</a><a href="#h206-0-9" id="h206-0-9" class="d">-[Float(inf)]
</a><a href="#h206-0-10" id="h206-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h207" href="../file/tests/sql/schema/update_pk_float_conflict_all.html">tests/sql/schema/update_pk_float_conflict_all</a> b/<a href="../file/tests/sql/schema/update_pk_float_conflict_all.html">tests/sql/schema/update_pk_float_conflict_all</a></b>
<a href="#h207-0" id="h207-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h207-0-0" id="h207-0-0" class="d">-Query: UPDATE &quot;float&quot; SET pk = 3.14
</a><a href="#h207-0-1" id="h207-0-1" class="d">-Error: InvalidInput(&quot;primary key 3.14 already exists&quot;)
</a><a href="#h207-0-2" id="h207-0-2" class="d">-
</a><a href="#h207-0-3" id="h207-0-3" class="d">-Storage:
</a><a href="#h207-0-4" id="h207-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h207-0-5" id="h207-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h207-0-6" id="h207-0-6" class="d">-)
</a><a href="#h207-0-7" id="h207-0-7" class="d">-[Float(2.718)]
</a><a href="#h207-0-8" id="h207-0-8" class="d">-[Float(3.14)]
</a><a href="#h207-0-9" id="h207-0-9" class="d">-[Float(inf)]
</a><a href="#h207-0-10" id="h207-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h208" href="../file/tests/sql/schema/update_pk_float_null.html">tests/sql/schema/update_pk_float_null</a> b/<a href="../file/tests/sql/schema/update_pk_float_null.html">tests/sql/schema/update_pk_float_null</a></b>
<a href="#h208-0" id="h208-0" class="h">@@ -1,11 +0,0 @@
</a><a href="#h208-0-0" id="h208-0-0" class="d">-Query: UPDATE &quot;float&quot; SET pk = NULL WHERE pk = 3.14
</a><a href="#h208-0-1" id="h208-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h208-0-2" id="h208-0-2" class="d">-
</a><a href="#h208-0-3" id="h208-0-3" class="d">-Storage:
</a><a href="#h208-0-4" id="h208-0-4" class="d">-CREATE TABLE &quot;float&quot; (
</a><a href="#h208-0-5" id="h208-0-5" class="d">-  pk FLOAT PRIMARY KEY
</a><a href="#h208-0-6" id="h208-0-6" class="d">-)
</a><a href="#h208-0-7" id="h208-0-7" class="d">-[Float(2.718)]
</a><a href="#h208-0-8" id="h208-0-8" class="d">-[Float(3.14)]
</a><a href="#h208-0-9" id="h208-0-9" class="d">-[Float(inf)]
</a><a href="#h208-0-10" id="h208-0-10" class="d">-[Float(NaN)]
</a><b>diff --git a/<a id="h209" href="../file/tests/sql/schema/update_pk_integer.html">tests/sql/schema/update_pk_integer</a> b/<a href="../file/tests/sql/schema/update_pk_integer.html">tests/sql/schema/update_pk_integer</a></b>
<a href="#h209-0" id="h209-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h209-0-0" id="h209-0-0" class="d">-Query: UPDATE &quot;integer&quot; SET pk = 3 WHERE pk = 2
</a><a href="#h209-0-1" id="h209-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h209-0-2" id="h209-0-2" class="d">-
</a><a href="#h209-0-3" id="h209-0-3" class="d">-Storage:
</a><a href="#h209-0-4" id="h209-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h209-0-5" id="h209-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h209-0-6" id="h209-0-6" class="d">-)
</a><a href="#h209-0-7" id="h209-0-7" class="d">-[Integer(1)]
</a><a href="#h209-0-8" id="h209-0-8" class="d">-[Integer(3)]
</a><b>diff --git a/<a id="h210" href="../file/tests/sql/schema/update_pk_integer_conflict.html">tests/sql/schema/update_pk_integer_conflict</a> b/<a href="../file/tests/sql/schema/update_pk_integer_conflict.html">tests/sql/schema/update_pk_integer_conflict</a></b>
<a href="#h210-0" id="h210-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h210-0-0" id="h210-0-0" class="d">-Query: UPDATE &quot;integer&quot; SET pk = 1 WHERE pk = 2
</a><a href="#h210-0-1" id="h210-0-1" class="d">-Error: InvalidInput(&quot;primary key 1 already exists&quot;)
</a><a href="#h210-0-2" id="h210-0-2" class="d">-
</a><a href="#h210-0-3" id="h210-0-3" class="d">-Storage:
</a><a href="#h210-0-4" id="h210-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h210-0-5" id="h210-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h210-0-6" id="h210-0-6" class="d">-)
</a><a href="#h210-0-7" id="h210-0-7" class="d">-[Integer(1)]
</a><a href="#h210-0-8" id="h210-0-8" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h211" href="../file/tests/sql/schema/update_pk_integer_conflict_all.html">tests/sql/schema/update_pk_integer_conflict_all</a> b/<a href="../file/tests/sql/schema/update_pk_integer_conflict_all.html">tests/sql/schema/update_pk_integer_conflict_all</a></b>
<a href="#h211-0" id="h211-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h211-0-0" id="h211-0-0" class="d">-Query: UPDATE &quot;integer&quot; SET pk = 1
</a><a href="#h211-0-1" id="h211-0-1" class="d">-Error: InvalidInput(&quot;primary key 1 already exists&quot;)
</a><a href="#h211-0-2" id="h211-0-2" class="d">-
</a><a href="#h211-0-3" id="h211-0-3" class="d">-Storage:
</a><a href="#h211-0-4" id="h211-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h211-0-5" id="h211-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h211-0-6" id="h211-0-6" class="d">-)
</a><a href="#h211-0-7" id="h211-0-7" class="d">-[Integer(1)]
</a><a href="#h211-0-8" id="h211-0-8" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h212" href="../file/tests/sql/schema/update_pk_integer_null.html">tests/sql/schema/update_pk_integer_null</a> b/<a href="../file/tests/sql/schema/update_pk_integer_null.html">tests/sql/schema/update_pk_integer_null</a></b>
<a href="#h212-0" id="h212-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h212-0-0" id="h212-0-0" class="d">-Query: UPDATE &quot;integer&quot; SET pk = NULL WHERE pk = 2
</a><a href="#h212-0-1" id="h212-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h212-0-2" id="h212-0-2" class="d">-
</a><a href="#h212-0-3" id="h212-0-3" class="d">-Storage:
</a><a href="#h212-0-4" id="h212-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h212-0-5" id="h212-0-5" class="d">-  pk INTEGER PRIMARY KEY
</a><a href="#h212-0-6" id="h212-0-6" class="d">-)
</a><a href="#h212-0-7" id="h212-0-7" class="d">-[Integer(1)]
</a><a href="#h212-0-8" id="h212-0-8" class="d">-[Integer(2)]
</a><b>diff --git a/<a id="h213" href="../file/tests/sql/schema/update_pk_string.html">tests/sql/schema/update_pk_string</a> b/<a href="../file/tests/sql/schema/update_pk_string.html">tests/sql/schema/update_pk_string</a></b>
<a href="#h213-0" id="h213-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h213-0-0" id="h213-0-0" class="d">-Query: UPDATE &quot;string&quot; SET pk = &#39;baz&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h213-0-1" id="h213-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h213-0-2" id="h213-0-2" class="d">-
</a><a href="#h213-0-3" id="h213-0-3" class="d">-Storage:
</a><a href="#h213-0-4" id="h213-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h213-0-5" id="h213-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h213-0-6" id="h213-0-6" class="d">-)
</a><a href="#h213-0-7" id="h213-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h213-0-8" id="h213-0-8" class="d">-[String(&quot;baz&quot;)]
</a><b>diff --git a/<a id="h214" href="../file/tests/sql/schema/update_pk_string_case.html">tests/sql/schema/update_pk_string_case</a> b/<a href="../file/tests/sql/schema/update_pk_string_case.html">tests/sql/schema/update_pk_string_case</a></b>
<a href="#h214-0" id="h214-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h214-0-0" id="h214-0-0" class="d">-Query: UPDATE &quot;string&quot; SET pk = &#39;Bar&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h214-0-1" id="h214-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h214-0-2" id="h214-0-2" class="d">-
</a><a href="#h214-0-3" id="h214-0-3" class="d">-Storage:
</a><a href="#h214-0-4" id="h214-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h214-0-5" id="h214-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h214-0-6" id="h214-0-6" class="d">-)
</a><a href="#h214-0-7" id="h214-0-7" class="d">-[String(&quot;Bar&quot;)]
</a><a href="#h214-0-8" id="h214-0-8" class="d">-[String(&quot;bar&quot;)]
</a><b>diff --git a/<a id="h215" href="../file/tests/sql/schema/update_pk_string_conflict.html">tests/sql/schema/update_pk_string_conflict</a> b/<a href="../file/tests/sql/schema/update_pk_string_conflict.html">tests/sql/schema/update_pk_string_conflict</a></b>
<a href="#h215-0" id="h215-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h215-0-0" id="h215-0-0" class="d">-Query: UPDATE &quot;string&quot; SET pk = &#39;bar&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h215-0-1" id="h215-0-1" class="d">-Error: InvalidInput(&quot;primary key bar already exists&quot;)
</a><a href="#h215-0-2" id="h215-0-2" class="d">-
</a><a href="#h215-0-3" id="h215-0-3" class="d">-Storage:
</a><a href="#h215-0-4" id="h215-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h215-0-5" id="h215-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h215-0-6" id="h215-0-6" class="d">-)
</a><a href="#h215-0-7" id="h215-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h215-0-8" id="h215-0-8" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h216" href="../file/tests/sql/schema/update_pk_string_conflict_all.html">tests/sql/schema/update_pk_string_conflict_all</a> b/<a href="../file/tests/sql/schema/update_pk_string_conflict_all.html">tests/sql/schema/update_pk_string_conflict_all</a></b>
<a href="#h216-0" id="h216-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h216-0-0" id="h216-0-0" class="d">-Query: UPDATE &quot;string&quot; SET pk = &#39;foo&#39;
</a><a href="#h216-0-1" id="h216-0-1" class="d">-Error: InvalidInput(&quot;primary key foo already exists&quot;)
</a><a href="#h216-0-2" id="h216-0-2" class="d">-
</a><a href="#h216-0-3" id="h216-0-3" class="d">-Storage:
</a><a href="#h216-0-4" id="h216-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h216-0-5" id="h216-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h216-0-6" id="h216-0-6" class="d">-)
</a><a href="#h216-0-7" id="h216-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h216-0-8" id="h216-0-8" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h217" href="../file/tests/sql/schema/update_pk_string_null.html">tests/sql/schema/update_pk_string_null</a> b/<a href="../file/tests/sql/schema/update_pk_string_null.html">tests/sql/schema/update_pk_string_null</a></b>
<a href="#h217-0" id="h217-0" class="h">@@ -1,9 +0,0 @@
</a><a href="#h217-0-0" id="h217-0-0" class="d">-Query: UPDATE &quot;string&quot; SET pk = NULL WHERE pk = &#39;foo&#39;
</a><a href="#h217-0-1" id="h217-0-1" class="d">-Error: InvalidInput(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h217-0-2" id="h217-0-2" class="d">-
</a><a href="#h217-0-3" id="h217-0-3" class="d">-Storage:
</a><a href="#h217-0-4" id="h217-0-4" class="d">-CREATE TABLE &quot;string&quot; (
</a><a href="#h217-0-5" id="h217-0-5" class="d">-  pk STRING PRIMARY KEY
</a><a href="#h217-0-6" id="h217-0-6" class="d">-)
</a><a href="#h217-0-7" id="h217-0-7" class="d">-[String(&quot;bar&quot;)]
</a><a href="#h217-0-8" id="h217-0-8" class="d">-[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h218" href="../file/tests/sql/schema/update_ref_pk.html">tests/sql/schema/update_ref_pk</a> b/<a href="../file/tests/sql/schema/update_ref_pk.html">tests/sql/schema/update_ref_pk</a></b>
<a href="#h218-0" id="h218-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h218-0-0" id="h218-0-0" class="d">-Query: UPDATE target SET id = 9 WHERE id = 1
</a><a href="#h218-0-1" id="h218-0-1" class="d">-Error: InvalidInput(&quot;row referenced by source.target_id for source.id=1&quot;)
</a><a href="#h218-0-2" id="h218-0-2" class="d">-
</a><a href="#h218-0-3" id="h218-0-3" class="d">-Storage:
</a><a href="#h218-0-4" id="h218-0-4" class="d">-CREATE TABLE source (
</a><a href="#h218-0-5" id="h218-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h218-0-6" id="h218-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h218-0-7" id="h218-0-7" class="d">-)
</a><a href="#h218-0-8" id="h218-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h218-0-9" id="h218-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h218-0-10" id="h218-0-10" class="d">-[Integer(4), Null]
</a><a href="#h218-0-11" id="h218-0-11" class="d">-
</a><a href="#h218-0-12" id="h218-0-12" class="d">-Index source.target_id
</a><a href="#h218-0-13" id="h218-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h218-0-14" id="h218-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h218-0-15" id="h218-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h218-0-16" id="h218-0-16" class="d">-
</a><a href="#h218-0-17" id="h218-0-17" class="d">-CREATE TABLE target (
</a><a href="#h218-0-18" id="h218-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h218-0-19" id="h218-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h218-0-20" id="h218-0-20" class="d">-)
</a><a href="#h218-0-21" id="h218-0-21" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h218-0-22" id="h218-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h218-0-23" id="h218-0-23" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h219" href="../file/tests/sql/schema/update_ref_pk_noref.html">tests/sql/schema/update_ref_pk_noref</a> b/<a href="../file/tests/sql/schema/update_ref_pk_noref.html">tests/sql/schema/update_ref_pk_noref</a></b>
<a href="#h219-0" id="h219-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h219-0-0" id="h219-0-0" class="d">-Query: UPDATE target SET id = 9 WHERE id = 3
</a><a href="#h219-0-1" id="h219-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h219-0-2" id="h219-0-2" class="d">-
</a><a href="#h219-0-3" id="h219-0-3" class="d">-Storage:
</a><a href="#h219-0-4" id="h219-0-4" class="d">-CREATE TABLE source (
</a><a href="#h219-0-5" id="h219-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h219-0-6" id="h219-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h219-0-7" id="h219-0-7" class="d">-)
</a><a href="#h219-0-8" id="h219-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h219-0-9" id="h219-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h219-0-10" id="h219-0-10" class="d">-[Integer(4), Null]
</a><a href="#h219-0-11" id="h219-0-11" class="d">-
</a><a href="#h219-0-12" id="h219-0-12" class="d">-Index source.target_id
</a><a href="#h219-0-13" id="h219-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h219-0-14" id="h219-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h219-0-15" id="h219-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h219-0-16" id="h219-0-16" class="d">-
</a><a href="#h219-0-17" id="h219-0-17" class="d">-CREATE TABLE target (
</a><a href="#h219-0-18" id="h219-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h219-0-19" id="h219-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h219-0-20" id="h219-0-20" class="d">-)
</a><a href="#h219-0-21" id="h219-0-21" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h219-0-22" id="h219-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h219-0-23" id="h219-0-23" class="d">-[Integer(9), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h220" href="../file/tests/sql/schema/update_ref_self_pk.html">tests/sql/schema/update_ref_self_pk</a> b/<a href="../file/tests/sql/schema/update_ref_self_pk.html">tests/sql/schema/update_ref_self_pk</a></b>
<a href="#h220-0" id="h220-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h220-0-0" id="h220-0-0" class="d">-Query: UPDATE self SET id = 9 WHERE id = 1
</a><a href="#h220-0-1" id="h220-0-1" class="d">-Error: InvalidInput(&quot;row referenced by self.self_id for self.id=2&quot;)
</a><a href="#h220-0-2" id="h220-0-2" class="d">-
</a><a href="#h220-0-3" id="h220-0-3" class="d">-Storage:
</a><a href="#h220-0-4" id="h220-0-4" class="d">-CREATE TABLE self (
</a><a href="#h220-0-5" id="h220-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h220-0-6" id="h220-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h220-0-7" id="h220-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h220-0-8" id="h220-0-8" class="d">-)
</a><a href="#h220-0-9" id="h220-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h220-0-10" id="h220-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h220-0-11" id="h220-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h220-0-12" id="h220-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h220-0-13" id="h220-0-13" class="d">-
</a><a href="#h220-0-14" id="h220-0-14" class="d">-Index self.self_id
</a><a href="#h220-0-15" id="h220-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h220-0-16" id="h220-0-16" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h220-0-17" id="h220-0-17" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h221" href="../file/tests/sql/schema/update_ref_self_pk_noref.html">tests/sql/schema/update_ref_self_pk_noref</a> b/<a href="../file/tests/sql/schema/update_ref_self_pk_noref.html">tests/sql/schema/update_ref_self_pk_noref</a></b>
<a href="#h221-0" id="h221-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h221-0-0" id="h221-0-0" class="d">-Query: UPDATE self SET id = 9 WHERE id = 2
</a><a href="#h221-0-1" id="h221-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h221-0-2" id="h221-0-2" class="d">-
</a><a href="#h221-0-3" id="h221-0-3" class="d">-Storage:
</a><a href="#h221-0-4" id="h221-0-4" class="d">-CREATE TABLE self (
</a><a href="#h221-0-5" id="h221-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h221-0-6" id="h221-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h221-0-7" id="h221-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h221-0-8" id="h221-0-8" class="d">-)
</a><a href="#h221-0-9" id="h221-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h221-0-10" id="h221-0-10" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h221-0-11" id="h221-0-11" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h221-0-12" id="h221-0-12" class="d">-[Integer(9), Integer(1), String(&quot;b&quot;)]
</a><a href="#h221-0-13" id="h221-0-13" class="d">-
</a><a href="#h221-0-14" id="h221-0-14" class="d">-Index self.self_id
</a><a href="#h221-0-15" id="h221-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h221-0-16" id="h221-0-16" class="d">-Integer(1) =&gt; [Integer(1), Integer(9)]
</a><a href="#h221-0-17" id="h221-0-17" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h222" href="../file/tests/sql/schema/update_ref_self_self.html">tests/sql/schema/update_ref_self_self</a> b/<a href="../file/tests/sql/schema/update_ref_self_self.html">tests/sql/schema/update_ref_self_self</a></b>
<a href="#h222-0" id="h222-0" class="h">@@ -1,19 +0,0 @@
</a><a href="#h222-0-0" id="h222-0-0" class="d">-Query: UPDATE self SET self_id = 2 WHERE id = 2
</a><a href="#h222-0-1" id="h222-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h222-0-2" id="h222-0-2" class="d">-
</a><a href="#h222-0-3" id="h222-0-3" class="d">-Storage:
</a><a href="#h222-0-4" id="h222-0-4" class="d">-CREATE TABLE self (
</a><a href="#h222-0-5" id="h222-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h222-0-6" id="h222-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h222-0-7" id="h222-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h222-0-8" id="h222-0-8" class="d">-)
</a><a href="#h222-0-9" id="h222-0-9" class="d">-[Integer(1), Integer(1), String(&quot;a&quot;)]
</a><a href="#h222-0-10" id="h222-0-10" class="d">-[Integer(2), Integer(2), String(&quot;b&quot;)]
</a><a href="#h222-0-11" id="h222-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h222-0-12" id="h222-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h222-0-13" id="h222-0-13" class="d">-
</a><a href="#h222-0-14" id="h222-0-14" class="d">-Index self.self_id
</a><a href="#h222-0-15" id="h222-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h222-0-16" id="h222-0-16" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h222-0-17" id="h222-0-17" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h222-0-18" id="h222-0-18" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h223" href="../file/tests/sql/schema/update_ref_self_value.html">tests/sql/schema/update_ref_self_value</a> b/<a href="../file/tests/sql/schema/update_ref_self_value.html">tests/sql/schema/update_ref_self_value</a></b>
<a href="#h223-0" id="h223-0" class="h">@@ -1,18 +0,0 @@
</a><a href="#h223-0-0" id="h223-0-0" class="d">-Query: UPDATE self SET value = &#39;x&#39; WHERE id = 1
</a><a href="#h223-0-1" id="h223-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h223-0-2" id="h223-0-2" class="d">-
</a><a href="#h223-0-3" id="h223-0-3" class="d">-Storage:
</a><a href="#h223-0-4" id="h223-0-4" class="d">-CREATE TABLE self (
</a><a href="#h223-0-5" id="h223-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h223-0-6" id="h223-0-6" class="d">-  self_id INTEGER DEFAULT NULL INDEX REFERENCES self,
</a><a href="#h223-0-7" id="h223-0-7" class="d">-  value STRING DEFAULT NULL
</a><a href="#h223-0-8" id="h223-0-8" class="d">-)
</a><a href="#h223-0-9" id="h223-0-9" class="d">-[Integer(1), Integer(1), String(&quot;x&quot;)]
</a><a href="#h223-0-10" id="h223-0-10" class="d">-[Integer(2), Integer(1), String(&quot;b&quot;)]
</a><a href="#h223-0-11" id="h223-0-11" class="d">-[Integer(3), Integer(3), String(&quot;c&quot;)]
</a><a href="#h223-0-12" id="h223-0-12" class="d">-[Integer(4), Null, String(&quot;d&quot;)]
</a><a href="#h223-0-13" id="h223-0-13" class="d">-
</a><a href="#h223-0-14" id="h223-0-14" class="d">-Index self.self_id
</a><a href="#h223-0-15" id="h223-0-15" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h223-0-16" id="h223-0-16" class="d">-Integer(1) =&gt; [Integer(1), Integer(2)]
</a><a href="#h223-0-17" id="h223-0-17" class="d">-Integer(3) =&gt; [Integer(3)]
</a><b>diff --git a/<a id="h224" href="../file/tests/sql/schema/update_ref_source.html">tests/sql/schema/update_ref_source</a> b/<a href="../file/tests/sql/schema/update_ref_source.html">tests/sql/schema/update_ref_source</a></b>
<a href="#h224-0" id="h224-0" class="h">@@ -1,23 +0,0 @@
</a><a href="#h224-0-0" id="h224-0-0" class="d">-Query: UPDATE source SET target_id = 1 WHERE id = 4
</a><a href="#h224-0-1" id="h224-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h224-0-2" id="h224-0-2" class="d">-
</a><a href="#h224-0-3" id="h224-0-3" class="d">-Storage:
</a><a href="#h224-0-4" id="h224-0-4" class="d">-CREATE TABLE source (
</a><a href="#h224-0-5" id="h224-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h224-0-6" id="h224-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h224-0-7" id="h224-0-7" class="d">-)
</a><a href="#h224-0-8" id="h224-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h224-0-9" id="h224-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h224-0-10" id="h224-0-10" class="d">-[Integer(4), Integer(1)]
</a><a href="#h224-0-11" id="h224-0-11" class="d">-
</a><a href="#h224-0-12" id="h224-0-12" class="d">-Index source.target_id
</a><a href="#h224-0-13" id="h224-0-13" class="d">-Integer(1) =&gt; [Integer(1), Integer(4)]
</a><a href="#h224-0-14" id="h224-0-14" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h224-0-15" id="h224-0-15" class="d">-
</a><a href="#h224-0-16" id="h224-0-16" class="d">-CREATE TABLE target (
</a><a href="#h224-0-17" id="h224-0-17" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h224-0-18" id="h224-0-18" class="d">-  value STRING DEFAULT NULL
</a><a href="#h224-0-19" id="h224-0-19" class="d">-)
</a><a href="#h224-0-20" id="h224-0-20" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h224-0-21" id="h224-0-21" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h224-0-22" id="h224-0-22" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h225" href="../file/tests/sql/schema/update_ref_source_missing.html">tests/sql/schema/update_ref_source_missing</a> b/<a href="../file/tests/sql/schema/update_ref_source_missing.html">tests/sql/schema/update_ref_source_missing</a></b>
<a href="#h225-0" id="h225-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h225-0-0" id="h225-0-0" class="d">-Query: UPDATE source SET target_id = 9 WHERE id = 4
</a><a href="#h225-0-1" id="h225-0-1" class="d">-Error: InvalidInput(&quot;reference 9 not in table target&quot;)
</a><a href="#h225-0-2" id="h225-0-2" class="d">-
</a><a href="#h225-0-3" id="h225-0-3" class="d">-Storage:
</a><a href="#h225-0-4" id="h225-0-4" class="d">-CREATE TABLE source (
</a><a href="#h225-0-5" id="h225-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h225-0-6" id="h225-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h225-0-7" id="h225-0-7" class="d">-)
</a><a href="#h225-0-8" id="h225-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h225-0-9" id="h225-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h225-0-10" id="h225-0-10" class="d">-[Integer(4), Null]
</a><a href="#h225-0-11" id="h225-0-11" class="d">-
</a><a href="#h225-0-12" id="h225-0-12" class="d">-Index source.target_id
</a><a href="#h225-0-13" id="h225-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h225-0-14" id="h225-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h225-0-15" id="h225-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h225-0-16" id="h225-0-16" class="d">-
</a><a href="#h225-0-17" id="h225-0-17" class="d">-CREATE TABLE target (
</a><a href="#h225-0-18" id="h225-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h225-0-19" id="h225-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h225-0-20" id="h225-0-20" class="d">-)
</a><a href="#h225-0-21" id="h225-0-21" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h225-0-22" id="h225-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h225-0-23" id="h225-0-23" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h226" href="../file/tests/sql/schema/update_ref_source_null.html">tests/sql/schema/update_ref_source_null</a> b/<a href="../file/tests/sql/schema/update_ref_source_null.html">tests/sql/schema/update_ref_source_null</a></b>
<a href="#h226-0" id="h226-0" class="h">@@ -1,23 +0,0 @@
</a><a href="#h226-0-0" id="h226-0-0" class="d">-Query: UPDATE source SET target_id = NULL WHERE id = 2
</a><a href="#h226-0-1" id="h226-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h226-0-2" id="h226-0-2" class="d">-
</a><a href="#h226-0-3" id="h226-0-3" class="d">-Storage:
</a><a href="#h226-0-4" id="h226-0-4" class="d">-CREATE TABLE source (
</a><a href="#h226-0-5" id="h226-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h226-0-6" id="h226-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h226-0-7" id="h226-0-7" class="d">-)
</a><a href="#h226-0-8" id="h226-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h226-0-9" id="h226-0-9" class="d">-[Integer(2), Null]
</a><a href="#h226-0-10" id="h226-0-10" class="d">-[Integer(4), Null]
</a><a href="#h226-0-11" id="h226-0-11" class="d">-
</a><a href="#h226-0-12" id="h226-0-12" class="d">-Index source.target_id
</a><a href="#h226-0-13" id="h226-0-13" class="d">-Null =&gt; [Integer(2), Integer(4)]
</a><a href="#h226-0-14" id="h226-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h226-0-15" id="h226-0-15" class="d">-
</a><a href="#h226-0-16" id="h226-0-16" class="d">-CREATE TABLE target (
</a><a href="#h226-0-17" id="h226-0-17" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h226-0-18" id="h226-0-18" class="d">-  value STRING DEFAULT NULL
</a><a href="#h226-0-19" id="h226-0-19" class="d">-)
</a><a href="#h226-0-20" id="h226-0-20" class="d">-[Integer(1), String(&quot;a&quot;)]
</a><a href="#h226-0-21" id="h226-0-21" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h226-0-22" id="h226-0-22" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h227" href="../file/tests/sql/schema/update_ref_value.html">tests/sql/schema/update_ref_value</a> b/<a href="../file/tests/sql/schema/update_ref_value.html">tests/sql/schema/update_ref_value</a></b>
<a href="#h227-0" id="h227-0" class="h">@@ -1,24 +0,0 @@
</a><a href="#h227-0-0" id="h227-0-0" class="d">-Query: UPDATE target SET value = &#39;x&#39; WHERE id = 1
</a><a href="#h227-0-1" id="h227-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h227-0-2" id="h227-0-2" class="d">-
</a><a href="#h227-0-3" id="h227-0-3" class="d">-Storage:
</a><a href="#h227-0-4" id="h227-0-4" class="d">-CREATE TABLE source (
</a><a href="#h227-0-5" id="h227-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h227-0-6" id="h227-0-6" class="d">-  target_id INTEGER DEFAULT NULL INDEX REFERENCES target
</a><a href="#h227-0-7" id="h227-0-7" class="d">-)
</a><a href="#h227-0-8" id="h227-0-8" class="d">-[Integer(1), Integer(1)]
</a><a href="#h227-0-9" id="h227-0-9" class="d">-[Integer(2), Integer(2)]
</a><a href="#h227-0-10" id="h227-0-10" class="d">-[Integer(4), Null]
</a><a href="#h227-0-11" id="h227-0-11" class="d">-
</a><a href="#h227-0-12" id="h227-0-12" class="d">-Index source.target_id
</a><a href="#h227-0-13" id="h227-0-13" class="d">-Null =&gt; [Integer(4)]
</a><a href="#h227-0-14" id="h227-0-14" class="d">-Integer(1) =&gt; [Integer(1)]
</a><a href="#h227-0-15" id="h227-0-15" class="d">-Integer(2) =&gt; [Integer(2)]
</a><a href="#h227-0-16" id="h227-0-16" class="d">-
</a><a href="#h227-0-17" id="h227-0-17" class="d">-CREATE TABLE target (
</a><a href="#h227-0-18" id="h227-0-18" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h227-0-19" id="h227-0-19" class="d">-  value STRING DEFAULT NULL
</a><a href="#h227-0-20" id="h227-0-20" class="d">-)
</a><a href="#h227-0-21" id="h227-0-21" class="d">-[Integer(1), String(&quot;x&quot;)]
</a><a href="#h227-0-22" id="h227-0-22" class="d">-[Integer(2), String(&quot;b&quot;)]
</a><a href="#h227-0-23" id="h227-0-23" class="d">-[Integer(3), String(&quot;c&quot;)]
</a><b>diff --git a/<a id="h228" href="../file/tests/sql/schema/update_unique_boolean.html">tests/sql/schema/update_unique_boolean</a> b/<a href="../file/tests/sql/schema/update_unique_boolean.html">tests/sql/schema/update_unique_boolean</a></b>
<a href="#h228-0" id="h228-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h228-0-0" id="h228-0-0" class="d">-Query: UPDATE &quot;unique&quot; SET &quot;boolean&quot; = FALSE WHERE id = 0
</a><a href="#h228-0-1" id="h228-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h228-0-2" id="h228-0-2" class="d">-
</a><a href="#h228-0-3" id="h228-0-3" class="d">-Storage:
</a><a href="#h228-0-4" id="h228-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h228-0-5" id="h228-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h228-0-6" id="h228-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h228-0-7" id="h228-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h228-0-8" id="h228-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h228-0-9" id="h228-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h228-0-10" id="h228-0-10" class="d">-)
</a><a href="#h228-0-11" id="h228-0-11" class="d">-[Integer(0), Boolean(false), Null, Null, Null]
</a><a href="#h228-0-12" id="h228-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h228-0-13" id="h228-0-13" class="d">-
</a><a href="#h228-0-14" id="h228-0-14" class="d">-Index unique.boolean
</a><a href="#h228-0-15" id="h228-0-15" class="d">-Boolean(false) =&gt; [Integer(0)]
</a><a href="#h228-0-16" id="h228-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h228-0-17" id="h228-0-17" class="d">-
</a><a href="#h228-0-18" id="h228-0-18" class="d">-Index unique.float
</a><a href="#h228-0-19" id="h228-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h228-0-20" id="h228-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h228-0-21" id="h228-0-21" class="d">-
</a><a href="#h228-0-22" id="h228-0-22" class="d">-Index unique.integer
</a><a href="#h228-0-23" id="h228-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h228-0-24" id="h228-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h228-0-25" id="h228-0-25" class="d">-
</a><a href="#h228-0-26" id="h228-0-26" class="d">-Index unique.string
</a><a href="#h228-0-27" id="h228-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h228-0-28" id="h228-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h229" href="../file/tests/sql/schema/update_unique_boolean_duplicate.html">tests/sql/schema/update_unique_boolean_duplicate</a> b/<a href="../file/tests/sql/schema/update_unique_boolean_duplicate.html">tests/sql/schema/update_unique_boolean_duplicate</a></b>
<a href="#h229-0" id="h229-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h229-0-0" id="h229-0-0" class="d">-Query: UPDATE &quot;unique&quot; SET &quot;boolean&quot; = TRUE WHERE id = 0
</a><a href="#h229-0-1" id="h229-0-1" class="d">-Error: InvalidInput(&quot;value TRUE already in unique column boolean&quot;)
</a><a href="#h229-0-2" id="h229-0-2" class="d">-
</a><a href="#h229-0-3" id="h229-0-3" class="d">-Storage:
</a><a href="#h229-0-4" id="h229-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h229-0-5" id="h229-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h229-0-6" id="h229-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h229-0-7" id="h229-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h229-0-8" id="h229-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h229-0-9" id="h229-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h229-0-10" id="h229-0-10" class="d">-)
</a><a href="#h229-0-11" id="h229-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h229-0-12" id="h229-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h229-0-13" id="h229-0-13" class="d">-
</a><a href="#h229-0-14" id="h229-0-14" class="d">-Index unique.boolean
</a><a href="#h229-0-15" id="h229-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h229-0-16" id="h229-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h229-0-17" id="h229-0-17" class="d">-
</a><a href="#h229-0-18" id="h229-0-18" class="d">-Index unique.float
</a><a href="#h229-0-19" id="h229-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h229-0-20" id="h229-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h229-0-21" id="h229-0-21" class="d">-
</a><a href="#h229-0-22" id="h229-0-22" class="d">-Index unique.integer
</a><a href="#h229-0-23" id="h229-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h229-0-24" id="h229-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h229-0-25" id="h229-0-25" class="d">-
</a><a href="#h229-0-26" id="h229-0-26" class="d">-Index unique.string
</a><a href="#h229-0-27" id="h229-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h229-0-28" id="h229-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h230" href="../file/tests/sql/schema/update_unique_boolean_same.html">tests/sql/schema/update_unique_boolean_same</a> b/<a href="../file/tests/sql/schema/update_unique_boolean_same.html">tests/sql/schema/update_unique_boolean_same</a></b>
<a href="#h230-0" id="h230-0" class="h">@@ -1,29 +0,0 @@
</a><a href="#h230-0-0" id="h230-0-0" class="d">-Query: UPDATE &quot;unique&quot; SET &quot;boolean&quot; = TRUE WHERE id = 1
</a><a href="#h230-0-1" id="h230-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h230-0-2" id="h230-0-2" class="d">-
</a><a href="#h230-0-3" id="h230-0-3" class="d">-Storage:
</a><a href="#h230-0-4" id="h230-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h230-0-5" id="h230-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h230-0-6" id="h230-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h230-0-7" id="h230-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h230-0-8" id="h230-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h230-0-9" id="h230-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h230-0-10" id="h230-0-10" class="d">-)
</a><a href="#h230-0-11" id="h230-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h230-0-12" id="h230-0-12" class="d">-[Integer(1), Boolean(true), Float(3.14), Integer(7), String(&quot;foo&quot;)]
</a><a href="#h230-0-13" id="h230-0-13" class="d">-
</a><a href="#h230-0-14" id="h230-0-14" class="d">-Index unique.boolean
</a><a href="#h230-0-15" id="h230-0-15" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h230-0-16" id="h230-0-16" class="d">-Boolean(true) =&gt; [Integer(1)]
</a><a href="#h230-0-17" id="h230-0-17" class="d">-
</a><a href="#h230-0-18" id="h230-0-18" class="d">-Index unique.float
</a><a href="#h230-0-19" id="h230-0-19" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h230-0-20" id="h230-0-20" class="d">-Float(3.14) =&gt; [Integer(1)]
</a><a href="#h230-0-21" id="h230-0-21" class="d">-
</a><a href="#h230-0-22" id="h230-0-22" class="d">-Index unique.integer
</a><a href="#h230-0-23" id="h230-0-23" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h230-0-24" id="h230-0-24" class="d">-Integer(7) =&gt; [Integer(1)]
</a><a href="#h230-0-25" id="h230-0-25" class="d">-
</a><a href="#h230-0-26" id="h230-0-26" class="d">-Index unique.string
</a><a href="#h230-0-27" id="h230-0-27" class="d">-Null =&gt; [Integer(0)]
</a><a href="#h230-0-28" id="h230-0-28" class="d">-String(&quot;foo&quot;) =&gt; [Integer(1)]
</a><b>diff --git a/<a id="h231" href="../file/tests/sql/schema/update_unique_nulls.html">tests/sql/schema/update_unique_nulls</a> b/<a href="../file/tests/sql/schema/update_unique_nulls.html">tests/sql/schema/update_unique_nulls</a></b>
<a href="#h231-0" id="h231-0" class="h">@@ -1,25 +0,0 @@
</a><a href="#h231-0-0" id="h231-0-0" class="d">-Query: UPDATE &quot;unique&quot; SET &quot;boolean&quot; = NULL, &quot;float&quot; = NULL, &quot;integer&quot; = NULL, &quot;string&quot; = NULL WHERE id = 1
</a><a href="#h231-0-1" id="h231-0-1" class="d">-Result: Update { count: 1 }
</a><a href="#h231-0-2" id="h231-0-2" class="d">-
</a><a href="#h231-0-3" id="h231-0-3" class="d">-Storage:
</a><a href="#h231-0-4" id="h231-0-4" class="d">-CREATE TABLE &quot;unique&quot; (
</a><a href="#h231-0-5" id="h231-0-5" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h231-0-6" id="h231-0-6" class="d">-  &quot;boolean&quot; BOOLEAN DEFAULT NULL UNIQUE INDEX,
</a><a href="#h231-0-7" id="h231-0-7" class="d">-  &quot;float&quot; FLOAT DEFAULT NULL UNIQUE INDEX,
</a><a href="#h231-0-8" id="h231-0-8" class="d">-  &quot;integer&quot; INTEGER DEFAULT NULL UNIQUE INDEX,
</a><a href="#h231-0-9" id="h231-0-9" class="d">-  &quot;string&quot; STRING DEFAULT NULL UNIQUE INDEX
</a><a href="#h231-0-10" id="h231-0-10" class="d">-)
</a><a href="#h231-0-11" id="h231-0-11" class="d">-[Integer(0), Null, Null, Null, Null]
</a><a href="#h231-0-12" id="h231-0-12" class="d">-[Integer(1), Null, Null, Null, Null]
</a><a href="#h231-0-13" id="h231-0-13" class="d">-
</a><a href="#h231-0-14" id="h231-0-14" class="d">-Index unique.boolean
</a><a href="#h231-0-15" id="h231-0-15" class="d">-Null =&gt; [Integer(0), Integer(1)]
</a><a href="#h231-0-16" id="h231-0-16" class="d">-
</a><a href="#h231-0-17" id="h231-0-17" class="d">-Index unique.float
</a><a href="#h231-0-18" id="h231-0-18" class="d">-Null =&gt; [Integer(0), Integer(1)]
</a><a href="#h231-0-19" id="h231-0-19" class="d">-
</a><a href="#h231-0-20" id="h231-0-20" class="d">-Index unique.integer
</a><a href="#h231-0-21" id="h231-0-21" class="d">-Null =&gt; [Integer(0), Integer(1)]
</a><a href="#h231-0-22" id="h231-0-22" class="d">-
</a><a href="#h231-0-23" id="h231-0-23" class="d">-Index unique.string
</a><a href="#h231-0-24" id="h231-0-24" class="d">-Null =&gt; [Integer(0), Integer(1)]
</a></pre>
</div>
</body>
</html>
