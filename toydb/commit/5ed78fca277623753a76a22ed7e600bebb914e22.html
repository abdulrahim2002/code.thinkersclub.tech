<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Removed temporary echo service - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/5ed78fca277623753a76a22ed7e600bebb914e22.html">5ed78fca277623753a76a22ed7e600bebb914e22</a>
<b>parent</b> <a href="../commit/21bf6b482fbf2afe67856ecaf3ce121afa4eb262.html">21bf6b482fbf2afe67856ecaf3ce121afa4eb262</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Sat, 24 Aug 2019 16:31:51 +0200

Removed temporary echo service

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">protobuf/toydb.proto</a></td><td> | </td><td class="num">11</td><td><span class="i"></span><span class="d">-----------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/client.rs</a></td><td> | </td><td class="num">12</td><td><span class="i"></span><span class="d">------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/server/toydb.rs</a></td><td> | </td><td class="num">9</td><td><span class="i"></span><span class="d">---------</span></td></tr>
</table></pre><pre>3 files changed, 0 insertions(+), 32 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/protobuf/toydb.proto.html">protobuf/toydb.proto</a> b/<a href="../file/protobuf/toydb.proto.html">protobuf/toydb.proto</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -5,9 +5,6 @@ service ToyDB {
</a>   // Status asks the server for its status.
   rpc Status(StatusRequest) returns (StatusResponse) {};
 
<a href="#h0-0-3" id="h0-0-3" class="d">-  // Echo is a simple echo service.
</a><a href="#h0-0-4" id="h0-0-4" class="d">-  rpc Echo(EchoRequest) returns (EchoResponse) {};
</a><a href="#h0-0-5" id="h0-0-5" class="d">-
</a>   // Query runs an SQL query.
   rpc Query(QueryRequest) returns (stream Row) {};
 
<a href="#h0-1" id="h0-1" class="h">@@ -26,14 +23,6 @@ message StatusResponse {
</a>   int64 time = 3;
 };
 
<a href="#h0-1-3" id="h0-1-3" class="d">-message EchoRequest {
</a><a href="#h0-1-4" id="h0-1-4" class="d">-  string value = 1;
</a><a href="#h0-1-5" id="h0-1-5" class="d">-};
</a><a href="#h0-1-6" id="h0-1-6" class="d">-
</a><a href="#h0-1-7" id="h0-1-7" class="d">-message EchoResponse {
</a><a href="#h0-1-8" id="h0-1-8" class="d">-  string value = 1;
</a><a href="#h0-1-9" id="h0-1-9" class="d">-}
</a><a href="#h0-1-10" id="h0-1-10" class="d">-
</a> message QueryRequest {
   string query = 1;
 };
<b>diff --git a/<a id="h1" href="../file/src/client.rs.html">src/client.rs</a> b/<a href="../file/src/client.rs.html">src/client.rs</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -21,18 +21,6 @@ impl Client {
</a>         })
     }
 
<a href="#h1-0-3" id="h1-0-3" class="d">-    /// Runs an echo request
</a><a href="#h1-0-4" id="h1-0-4" class="d">-    pub fn echo(&amp;self, value: &amp;str) -&gt; Result&lt;String, Error&gt; {
</a><a href="#h1-0-5" id="h1-0-5" class="d">-        let (_, resp, _) = self
</a><a href="#h1-0-6" id="h1-0-6" class="d">-            .client
</a><a href="#h1-0-7" id="h1-0-7" class="d">-            .echo(
</a><a href="#h1-0-8" id="h1-0-8" class="d">-                grpc::RequestOptions::new(),
</a><a href="#h1-0-9" id="h1-0-9" class="d">-                service::EchoRequest { value: value.to_owned(), ..Default::default() },
</a><a href="#h1-0-10" id="h1-0-10" class="d">-            )
</a><a href="#h1-0-11" id="h1-0-11" class="d">-            .wait()?;
</a><a href="#h1-0-12" id="h1-0-12" class="d">-        Ok(resp.value)
</a><a href="#h1-0-13" id="h1-0-13" class="d">-    }
</a><a href="#h1-0-14" id="h1-0-14" class="d">-
</a>     /// Runs a query
     pub fn query(&amp;self, query: &amp;str) -&gt; Result&lt;ResultSet, Error&gt; {
         let (metadata, iter) = self
<b>diff --git a/<a id="h2" href="../file/src/server/toydb.rs.html">src/server/toydb.rs</a> b/<a href="../file/src/server/toydb.rs.html">src/server/toydb.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -10,15 +10,6 @@ pub struct ToyDB {
</a> }
 
 impl service::ToyDB for ToyDB {
<a href="#h2-0-3" id="h2-0-3" class="d">-    fn echo(
</a><a href="#h2-0-4" id="h2-0-4" class="d">-        &amp;self,
</a><a href="#h2-0-5" id="h2-0-5" class="d">-        _: grpc::RequestOptions,
</a><a href="#h2-0-6" id="h2-0-6" class="d">-        req: service::EchoRequest,
</a><a href="#h2-0-7" id="h2-0-7" class="d">-    ) -&gt; grpc::SingleResponse&lt;service::EchoResponse&gt; {
</a><a href="#h2-0-8" id="h2-0-8" class="d">-        let value = req.value.clone();
</a><a href="#h2-0-9" id="h2-0-9" class="d">-        grpc::SingleResponse::completed(service::EchoResponse { value, ..Default::default() })
</a><a href="#h2-0-10" id="h2-0-10" class="d">-    }
</a><a href="#h2-0-11" id="h2-0-11" class="d">-
</a>     fn query(
         &amp;self,
         _: grpc::RequestOptions,
</pre>
</div>
</body>
</html>
