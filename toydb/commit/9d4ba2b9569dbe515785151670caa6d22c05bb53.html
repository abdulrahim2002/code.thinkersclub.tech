<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>sql: support primary keys of any data type - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/9d4ba2b9569dbe515785151670caa6d22c05bb53.html">9d4ba2b9569dbe515785151670caa6d22c05bb53</a>
<b>parent</b> <a href="../commit/34ead6f308dc25dc1999eb396e1aeab92b98791b.html">34ead6f308dc25dc1999eb396e1aeab92b98791b</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Fri, 10 Jan 2020 18:03:56 +0100

sql: support primary keys of any data type

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/sql/engine/kv.rs</a></td><td> | </td><td class="num">6</td><td><span class="i">+++++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/sql/tests/schema.rs</a></td><td> | </td><td class="num">101</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d">--------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">src/sql/tests/schema/insert_pk_boolean</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">src/sql/tests/schema/insert_pk_boolean_conflict</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">src/sql/tests/schema/insert_pk_boolean_null</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h5">src/sql/tests/schema/insert_pk_float</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">src/sql/tests/schema/insert_pk_float_conflict</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">src/sql/tests/schema/insert_pk_float_infinity</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">src/sql/tests/schema/insert_pk_float_nan</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h9">src/sql/tests/schema/insert_pk_float_negative</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h10">src/sql/tests/schema/insert_pk_float_null</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h11">src/sql/tests/schema/insert_pk_float_zero</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h12">src/sql/tests/schema/insert_pk_string</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">src/sql/tests/schema/insert_pk_string_case</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h14">src/sql/tests/schema/insert_pk_string_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h15">src/sql/tests/schema/insert_pk_string_empty</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h16">src/sql/tests/schema/insert_pk_string_null</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h17">src/sql/tests/schema/insert_ref_boolean</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h18">src/sql/tests/schema/insert_ref_boolean_missing</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h19">src/sql/tests/schema/insert_ref_boolean_null</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h20">src/sql/tests/schema/insert_ref_float</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h21">src/sql/tests/schema/insert_ref_float_missing</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h22">src/sql/tests/schema/insert_ref_float_null</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h23">src/sql/tests/schema/insert_ref_integer</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h24">src/sql/tests/schema/insert_ref_integer_missing</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h25">src/sql/tests/schema/insert_ref_integer_null</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++</span><span class="d">--------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h26">src/sql/tests/schema/insert_ref_string</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h27">src/sql/tests/schema/insert_ref_string_case</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h28">src/sql/tests/schema/insert_ref_string_missing</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h29">src/sql/tests/schema/insert_ref_string_null</a></td><td> | </td><td class="num">14</td><td><span class="i">++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h30">src/sql/tests/schema/update_pk_boolean</a></td><td> | </td><td class="num">7</td><td><span class="i">+++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h31">src/sql/tests/schema/update_pk_boolean_null</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h32">src/sql/tests/schema/update_pk_float</a></td><td> | </td><td class="num">10</td><td><span class="i">++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h33">src/sql/tests/schema/update_pk_float_conflict</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h34">src/sql/tests/schema/update_pk_float_conflict_all</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h35">src/sql/tests/schema/update_pk_float_null</a></td><td> | </td><td class="num">11</td><td><span class="i">+++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h36">src/sql/tests/schema/update_pk_string</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h37">src/sql/tests/schema/update_pk_string_case</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h38">src/sql/tests/schema/update_pk_string_conflict</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h39">src/sql/tests/schema/update_pk_string_conflict_all</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h40">src/sql/tests/schema/update_pk_string_null</a></td><td> | </td><td class="num">9</td><td><span class="i">+++++++++</span><span class="d"></span></td></tr>
</table></pre><pre>41 files changed, 497 insertions(+), 42 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/sql/engine/kv.rs.html">src/sql/engine/kv.rs</a> b/<a href="../file/src/sql/engine/kv.rs.html">src/sql/engine/kv.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -317,8 +317,12 @@ impl&lt;&#39;a&gt; Key&lt;&#39;a&gt; {
</a>                 table.as_bytes().to_vec(),
                 vec![0x00],
                 match pk {
<a href="#h0-0-3" id="h0-0-3" class="i">+                    types::Value::Boolean(b) if *b =&gt; vec![0x01],
</a><a href="#h0-0-4" id="h0-0-4" class="i">+                    types::Value::Boolean(_) =&gt; vec![0x00],
</a><a href="#h0-0-5" id="h0-0-5" class="i">+                    types::Value::Float(f) =&gt; f.to_be_bytes().to_vec(),
</a>                     types::Value::Integer(i) =&gt; i.to_be_bytes().to_vec(),
<a href="#h0-0-7" id="h0-0-7" class="d">-                    _ =&gt; unimplemented!(),
</a><a href="#h0-0-8" id="h0-0-8" class="i">+                    types::Value::String(s) =&gt; s.as_bytes().to_vec(),
</a><a href="#h0-0-9" id="h0-0-9" class="i">+                    types::Value::Null =&gt; panic!(&quot;Received NULL primary key&quot;),
</a>                 },
             ]
             .concat(),
<b>diff --git a/<a id="h1" href="../file/src/sql/tests/schema.rs.html">src/sql/tests/schema.rs</a> b/<a href="../file/src/sql/tests/schema.rs.html">src/sql/tests/schema.rs</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -212,15 +212,38 @@ test_schema! { with [
</a> }
 
 test_schema! { with [
<a href="#h1-0-3" id="h1-0-3" class="d">-        // FIXME Support non-integer primary keys
</a><a href="#h1-0-4" id="h1-0-4" class="d">-        //r#&quot;CREATE TABLE &quot;boolean&quot; (pk BOOLEAN PRIMARY KEY)&quot;#,
</a><a href="#h1-0-5" id="h1-0-5" class="d">-        //r#&quot;INSERT INTO &quot;boolean&quot; VALUES (TRUE)&quot;#,
</a><a href="#h1-0-6" id="h1-0-6" class="d">-        //r#&quot;CREATE TABLE &quot;float&quot; (pk FLOAT PRIMARY KEY)&quot;#,
</a><a href="#h1-0-7" id="h1-0-7" class="d">-        //r#&quot;INSERT INTO &quot;float&quot; VALUES (3.14)&quot;#,
</a><a href="#h1-0-8" id="h1-0-8" class="i">+        r#&quot;CREATE TABLE &quot;boolean&quot; (pk BOOLEAN PRIMARY KEY)&quot;#,
</a><a href="#h1-0-9" id="h1-0-9" class="i">+        r#&quot;INSERT INTO &quot;boolean&quot; VALUES (FALSE)&quot;#,
</a><a href="#h1-0-10" id="h1-0-10" class="i">+    ];
</a><a href="#h1-0-11" id="h1-0-11" class="i">+    insert_pk_boolean: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (TRUE)&quot;#,
</a><a href="#h1-0-12" id="h1-0-12" class="i">+    insert_pk_boolean_conflict: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (FALSE)&quot;#,
</a><a href="#h1-0-13" id="h1-0-13" class="i">+    insert_pk_boolean_null: r#&quot;INSERT INTO &quot;boolean&quot; VALUES (NULL)&quot;#,
</a><a href="#h1-0-14" id="h1-0-14" class="i">+
</a><a href="#h1-0-15" id="h1-0-15" class="i">+    update_pk_boolean: r#&quot;UPDATE &quot;boolean&quot; SET pk = TRUE WHERE pk = FALSE&quot;#,
</a><a href="#h1-0-16" id="h1-0-16" class="i">+    update_pk_boolean_null: r#&quot;UPDATE &quot;boolean&quot; SET pk = NULL WHERE pk = FALSE&quot;#,
</a><a href="#h1-0-17" id="h1-0-17" class="i">+}
</a><a href="#h1-0-18" id="h1-0-18" class="i">+
</a><a href="#h1-0-19" id="h1-0-19" class="i">+test_schema! { with [
</a><a href="#h1-0-20" id="h1-0-20" class="i">+        r#&quot;CREATE TABLE &quot;float&quot; (pk FLOAT PRIMARY KEY)&quot;#,
</a><a href="#h1-0-21" id="h1-0-21" class="i">+        r#&quot;INSERT INTO &quot;float&quot; VALUES (3.14), (2.718), (NAN), (INFINITY)&quot;#,
</a><a href="#h1-0-22" id="h1-0-22" class="i">+    ];
</a><a href="#h1-0-23" id="h1-0-23" class="i">+    insert_pk_float: r#&quot;INSERT INTO &quot;float&quot; VALUES (1.618)&quot;#,
</a><a href="#h1-0-24" id="h1-0-24" class="i">+    insert_pk_float_conflict: r#&quot;INSERT INTO &quot;float&quot; VALUES (3.14)&quot;#,
</a><a href="#h1-0-25" id="h1-0-25" class="i">+    insert_pk_float_zero: r#&quot;INSERT INTO &quot;float&quot; VALUES (0.0)&quot;#,
</a><a href="#h1-0-26" id="h1-0-26" class="i">+    insert_pk_float_negative: r#&quot;INSERT INTO &quot;float&quot; VALUES (-3.14)&quot;#,
</a><a href="#h1-0-27" id="h1-0-27" class="i">+    insert_pk_float_nan: r#&quot;INSERT INTO &quot;float&quot; VALUES (NAN)&quot;#,
</a><a href="#h1-0-28" id="h1-0-28" class="i">+    insert_pk_float_infinity: r#&quot;INSERT INTO &quot;float&quot; VALUES (INFINITY)&quot;#,
</a><a href="#h1-0-29" id="h1-0-29" class="i">+    insert_pk_float_null: r#&quot;INSERT INTO &quot;float&quot; VALUES (NULL)&quot;#,
</a><a href="#h1-0-30" id="h1-0-30" class="i">+
</a><a href="#h1-0-31" id="h1-0-31" class="i">+    update_pk_float: r#&quot;UPDATE &quot;float&quot; SET pk = 1.618 WHERE pk = 3.14&quot;#,
</a><a href="#h1-0-32" id="h1-0-32" class="i">+    update_pk_float_conflict: r#&quot;UPDATE &quot;float&quot; SET pk = 2.718 WHERE pk = 3.14&quot;#,
</a><a href="#h1-0-33" id="h1-0-33" class="i">+    update_pk_float_conflict_all: r#&quot;UPDATE &quot;float&quot; SET pk = 3.14&quot;#,
</a><a href="#h1-0-34" id="h1-0-34" class="i">+    update_pk_float_null: r#&quot;UPDATE &quot;float&quot; SET pk = NULL WHERE pk = 3.14&quot;#,
</a><a href="#h1-0-35" id="h1-0-35" class="i">+}
</a><a href="#h1-0-36" id="h1-0-36" class="i">+
</a><a href="#h1-0-37" id="h1-0-37" class="i">+test_schema! { with [
</a>         r#&quot;CREATE TABLE &quot;integer&quot; (pk INTEGER PRIMARY KEY)&quot;#,
         r#&quot;INSERT INTO &quot;integer&quot; VALUES (1), (2)&quot;#,
<a href="#h1-0-40" id="h1-0-40" class="d">-        //r#&quot;CREATE TABLE &quot;string&quot; (pk STRING PRIMARY KEY)&quot;#,
</a><a href="#h1-0-41" id="h1-0-41" class="d">-        //r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;a&#39;)&quot;#,
</a>     ];
     insert_pk_integer: r#&quot;INSERT INTO &quot;integer&quot; VALUES (3)&quot;#,
     insert_pk_integer_conflict: r#&quot;INSERT INTO &quot;integer&quot; VALUES (1)&quot;#,
<a href="#h1-1" id="h1-1" class="h">@@ -235,6 +258,23 @@ test_schema! { with [
</a> }
 
 test_schema! { with [
<a href="#h1-1-3" id="h1-1-3" class="i">+        r#&quot;CREATE TABLE &quot;string&quot; (pk STRING PRIMARY KEY)&quot;#,
</a><a href="#h1-1-4" id="h1-1-4" class="i">+        r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;), (&#39;bar&#39;)&quot;#,
</a><a href="#h1-1-5" id="h1-1-5" class="i">+    ];
</a><a href="#h1-1-6" id="h1-1-6" class="i">+    insert_pk_string: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;baz&#39;)&quot;#,
</a><a href="#h1-1-7" id="h1-1-7" class="i">+    insert_pk_string_case: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;Foo&#39;)&quot;#,
</a><a href="#h1-1-8" id="h1-1-8" class="i">+    insert_pk_string_conflict: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;)&quot;#,
</a><a href="#h1-1-9" id="h1-1-9" class="i">+    insert_pk_string_empty: r#&quot;INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)&quot;#,
</a><a href="#h1-1-10" id="h1-1-10" class="i">+    insert_pk_string_null: r#&quot;INSERT INTO &quot;string&quot; VALUES (NULL)&quot;#,
</a><a href="#h1-1-11" id="h1-1-11" class="i">+
</a><a href="#h1-1-12" id="h1-1-12" class="i">+    update_pk_string: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;baz&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h1-1-13" id="h1-1-13" class="i">+    update_pk_string_case: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;Bar&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h1-1-14" id="h1-1-14" class="i">+    update_pk_string_conflict: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;bar&#39; WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h1-1-15" id="h1-1-15" class="i">+    update_pk_string_conflict_all: r#&quot;UPDATE &quot;string&quot; SET pk = &#39;foo&#39;&quot;#,
</a><a href="#h1-1-16" id="h1-1-16" class="i">+    update_pk_string_null: r#&quot;UPDATE &quot;string&quot; SET pk = NULL WHERE pk = &#39;foo&#39;&quot;#,
</a><a href="#h1-1-17" id="h1-1-17" class="i">+}
</a><a href="#h1-1-18" id="h1-1-18" class="i">+
</a><a href="#h1-1-19" id="h1-1-19" class="i">+test_schema! { with [
</a>     r#&quot;CREATE TABLE nulls (
         id INTEGER PRIMARY KEY,
         &quot;null&quot; BOOLEAN NULL,
<a href="#h1-2" id="h1-2" class="h">@@ -292,17 +332,44 @@ test_schema! { with [
</a> }
 
 test_schema! { with [
<a href="#h1-2-3" id="h1-2-3" class="d">-        // FIXME Test non-integer references as well
</a><a href="#h1-2-4" id="h1-2-4" class="d">-        r#&quot;CREATE TABLE &quot;integer&quot; (id INTEGER PRIMARY KEY)&quot;#,
</a><a href="#h1-2-5" id="h1-2-5" class="d">-        r#&quot;INSERT INTO &quot;integer&quot; VALUES (1), (2), (3)&quot;#,
</a><a href="#h1-2-6" id="h1-2-6" class="d">-        r#&quot;CREATE TABLE source (
</a><a href="#h1-2-7" id="h1-2-7" class="d">-            id INTEGER PRIMARY KEY,
</a><a href="#h1-2-8" id="h1-2-8" class="d">-            integer_id INTEGER REFERENCES &quot;integer&quot;
</a><a href="#h1-2-9" id="h1-2-9" class="d">-        )&quot;#,
</a><a href="#h1-2-10" id="h1-2-10" class="i">+        &quot;CREATE TABLE target (id BOOLEAN PRIMARY KEY)&quot;,
</a><a href="#h1-2-11" id="h1-2-11" class="i">+        &quot;INSERT INTO target VALUES (TRUE)&quot;,
</a><a href="#h1-2-12" id="h1-2-12" class="i">+        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id BOOLEAN REFERENCES target)&quot;,
</a><a href="#h1-2-13" id="h1-2-13" class="i">+    ];
</a><a href="#h1-2-14" id="h1-2-14" class="i">+    insert_ref_boolean: &quot;INSERT INTO source VALUES (1, TRUE)&quot;,
</a><a href="#h1-2-15" id="h1-2-15" class="i">+    insert_ref_boolean_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h1-2-16" id="h1-2-16" class="i">+    insert_ref_boolean_missing: &quot;INSERT INTO source VALUES (1, FALSE)&quot;,
</a><a href="#h1-2-17" id="h1-2-17" class="i">+}
</a><a href="#h1-2-18" id="h1-2-18" class="i">+
</a><a href="#h1-2-19" id="h1-2-19" class="i">+test_schema! { with [
</a><a href="#h1-2-20" id="h1-2-20" class="i">+        &quot;CREATE TABLE target (id FLOAT PRIMARY KEY)&quot;,
</a><a href="#h1-2-21" id="h1-2-21" class="i">+        &quot;INSERT INTO target VALUES (3.14), (2.718)&quot;,
</a><a href="#h1-2-22" id="h1-2-22" class="i">+        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id FLOAT REFERENCES target)&quot;,
</a><a href="#h1-2-23" id="h1-2-23" class="i">+    ];
</a><a href="#h1-2-24" id="h1-2-24" class="i">+    insert_ref_float: &quot;INSERT INTO source VALUES (1, 3.14)&quot;,
</a><a href="#h1-2-25" id="h1-2-25" class="i">+    insert_ref_float_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h1-2-26" id="h1-2-26" class="i">+    insert_ref_float_missing: &quot;INSERT INTO source VALUES (1, 1.618)&quot;,
</a><a href="#h1-2-27" id="h1-2-27" class="i">+}
</a><a href="#h1-2-28" id="h1-2-28" class="i">+
</a><a href="#h1-2-29" id="h1-2-29" class="i">+test_schema! { with [
</a><a href="#h1-2-30" id="h1-2-30" class="i">+        &quot;CREATE TABLE target (id INTEGER PRIMARY KEY)&quot;,
</a><a href="#h1-2-31" id="h1-2-31" class="i">+        &quot;INSERT INTO target VALUES (1), (2), (3)&quot;,
</a><a href="#h1-2-32" id="h1-2-32" class="i">+        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id INTEGER REFERENCES target)&quot;,
</a><a href="#h1-2-33" id="h1-2-33" class="i">+    ];
</a><a href="#h1-2-34" id="h1-2-34" class="i">+    insert_ref_integer: &quot;INSERT INTO source VALUES (1, 1)&quot;,
</a><a href="#h1-2-35" id="h1-2-35" class="i">+    insert_ref_integer_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h1-2-36" id="h1-2-36" class="i">+    insert_ref_integer_missing: &quot;INSERT INTO source VALUES (1, 7)&quot;,
</a><a href="#h1-2-37" id="h1-2-37" class="i">+}
</a><a href="#h1-2-38" id="h1-2-38" class="i">+
</a><a href="#h1-2-39" id="h1-2-39" class="i">+test_schema! { with [
</a><a href="#h1-2-40" id="h1-2-40" class="i">+        &quot;CREATE TABLE target (id STRING PRIMARY KEY)&quot;,
</a><a href="#h1-2-41" id="h1-2-41" class="i">+        &quot;INSERT INTO target VALUES (&#39;foo&#39;), (&#39;bar&#39;)&quot;,
</a><a href="#h1-2-42" id="h1-2-42" class="i">+        &quot;CREATE TABLE source (id INTEGER PRIMARY KEY, target_id STRING REFERENCES target)&quot;,
</a>     ];
<a href="#h1-2-44" id="h1-2-44" class="d">-    insert_ref_integer: &quot;INSERT INTO source (id, integer_id) VALUES (1, 1)&quot;,
</a><a href="#h1-2-45" id="h1-2-45" class="d">-    insert_ref_integer_null: &quot;INSERT INTO source (id, integer_id) VALUES (1, NULL)&quot;,
</a><a href="#h1-2-46" id="h1-2-46" class="d">-    insert_ref_integer_missing: &quot;INSERT INTO source (id, integer_id) VALUES (1, 7)&quot;,
</a><a href="#h1-2-47" id="h1-2-47" class="i">+    insert_ref_string: &quot;INSERT INTO source VALUES (1, &#39;foo&#39;)&quot;,
</a><a href="#h1-2-48" id="h1-2-48" class="i">+    insert_ref_string_case: &quot;INSERT INTO source VALUES (1, &#39;Foo&#39;)&quot;,
</a><a href="#h1-2-49" id="h1-2-49" class="i">+    insert_ref_string_null: &quot;INSERT INTO source VALUES (1, NULL)&quot;,
</a><a href="#h1-2-50" id="h1-2-50" class="i">+    insert_ref_string_missing: &quot;INSERT INTO source VALUES (1, &#39;baz&#39;)&quot;,
</a> }
 
 test_schema! { with [
<b>diff --git a/<a id="h2" href="../file/src/sql/tests/schema/insert_pk_boolean.html">src/sql/tests/schema/insert_pk_boolean</a> b/<a href="../file/src/sql/tests/schema/insert_pk_boolean.html">src/sql/tests/schema/insert_pk_boolean</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+Query: INSERT INTO &quot;boolean&quot; VALUES (TRUE)
</a><a href="#h2-0-1" id="h2-0-1" class="i">+
</a><a href="#h2-0-2" id="h2-0-2" class="i">+Storage:
</a><a href="#h2-0-3" id="h2-0-3" class="i">+CREATE TABLE &quot;boolean&quot; (
</a><a href="#h2-0-4" id="h2-0-4" class="i">+  pk BOOLEAN PRIMARY KEY
</a><a href="#h2-0-5" id="h2-0-5" class="i">+)
</a><a href="#h2-0-6" id="h2-0-6" class="i">+[Boolean(false)]
</a><a href="#h2-0-7" id="h2-0-7" class="i">+[Boolean(true)]
</a><b>diff --git a/<a id="h3" href="../file/src/sql/tests/schema/insert_pk_boolean_conflict.html">src/sql/tests/schema/insert_pk_boolean_conflict</a> b/<a href="../file/src/sql/tests/schema/insert_pk_boolean_conflict.html">src/sql/tests/schema/insert_pk_boolean_conflict</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+Query: INSERT INTO &quot;boolean&quot; VALUES (FALSE)
</a><a href="#h3-0-1" id="h3-0-1" class="i">+Error: Value(&quot;Primary key FALSE already exists for table boolean&quot;)
</a><a href="#h3-0-2" id="h3-0-2" class="i">+
</a><a href="#h3-0-3" id="h3-0-3" class="i">+Storage:
</a><a href="#h3-0-4" id="h3-0-4" class="i">+CREATE TABLE &quot;boolean&quot; (
</a><a href="#h3-0-5" id="h3-0-5" class="i">+  pk BOOLEAN PRIMARY KEY
</a><a href="#h3-0-6" id="h3-0-6" class="i">+)
</a><a href="#h3-0-7" id="h3-0-7" class="i">+[Boolean(false)]
</a><b>diff --git a/<a id="h4" href="../file/src/sql/tests/schema/insert_pk_boolean_null.html">src/sql/tests/schema/insert_pk_boolean_null</a> b/<a href="../file/src/sql/tests/schema/insert_pk_boolean_null.html">src/sql/tests/schema/insert_pk_boolean_null</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+Query: INSERT INTO &quot;boolean&quot; VALUES (NULL)
</a><a href="#h4-0-1" id="h4-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h4-0-2" id="h4-0-2" class="i">+
</a><a href="#h4-0-3" id="h4-0-3" class="i">+Storage:
</a><a href="#h4-0-4" id="h4-0-4" class="i">+CREATE TABLE &quot;boolean&quot; (
</a><a href="#h4-0-5" id="h4-0-5" class="i">+  pk BOOLEAN PRIMARY KEY
</a><a href="#h4-0-6" id="h4-0-6" class="i">+)
</a><a href="#h4-0-7" id="h4-0-7" class="i">+[Boolean(false)]
</a><b>diff --git a/<a id="h5" href="../file/src/sql/tests/schema/insert_pk_float.html">src/sql/tests/schema/insert_pk_float</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float.html">src/sql/tests/schema/insert_pk_float</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h5-0-0" id="h5-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (1.618)
</a><a href="#h5-0-1" id="h5-0-1" class="i">+
</a><a href="#h5-0-2" id="h5-0-2" class="i">+Storage:
</a><a href="#h5-0-3" id="h5-0-3" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h5-0-4" id="h5-0-4" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h5-0-5" id="h5-0-5" class="i">+)
</a><a href="#h5-0-6" id="h5-0-6" class="i">+[Float(1.618)]
</a><a href="#h5-0-7" id="h5-0-7" class="i">+[Float(2.718)]
</a><a href="#h5-0-8" id="h5-0-8" class="i">+[Float(3.14)]
</a><a href="#h5-0-9" id="h5-0-9" class="i">+[Float(inf)]
</a><a href="#h5-0-10" id="h5-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h6" href="../file/src/sql/tests/schema/insert_pk_float_conflict.html">src/sql/tests/schema/insert_pk_float_conflict</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_conflict.html">src/sql/tests/schema/insert_pk_float_conflict</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (3.14)
</a><a href="#h6-0-1" id="h6-0-1" class="i">+Error: Value(&quot;Primary key 3.14 already exists for table float&quot;)
</a><a href="#h6-0-2" id="h6-0-2" class="i">+
</a><a href="#h6-0-3" id="h6-0-3" class="i">+Storage:
</a><a href="#h6-0-4" id="h6-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h6-0-5" id="h6-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h6-0-6" id="h6-0-6" class="i">+)
</a><a href="#h6-0-7" id="h6-0-7" class="i">+[Float(2.718)]
</a><a href="#h6-0-8" id="h6-0-8" class="i">+[Float(3.14)]
</a><a href="#h6-0-9" id="h6-0-9" class="i">+[Float(inf)]
</a><a href="#h6-0-10" id="h6-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h7" href="../file/src/sql/tests/schema/insert_pk_float_infinity.html">src/sql/tests/schema/insert_pk_float_infinity</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_infinity.html">src/sql/tests/schema/insert_pk_float_infinity</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (INFINITY)
</a><a href="#h7-0-1" id="h7-0-1" class="i">+Error: Value(&quot;Primary key inf already exists for table float&quot;)
</a><a href="#h7-0-2" id="h7-0-2" class="i">+
</a><a href="#h7-0-3" id="h7-0-3" class="i">+Storage:
</a><a href="#h7-0-4" id="h7-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h7-0-5" id="h7-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h7-0-6" id="h7-0-6" class="i">+)
</a><a href="#h7-0-7" id="h7-0-7" class="i">+[Float(2.718)]
</a><a href="#h7-0-8" id="h7-0-8" class="i">+[Float(3.14)]
</a><a href="#h7-0-9" id="h7-0-9" class="i">+[Float(inf)]
</a><a href="#h7-0-10" id="h7-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h8" href="../file/src/sql/tests/schema/insert_pk_float_nan.html">src/sql/tests/schema/insert_pk_float_nan</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_nan.html">src/sql/tests/schema/insert_pk_float_nan</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (NAN)
</a><a href="#h8-0-1" id="h8-0-1" class="i">+Error: Value(&quot;Primary key NaN already exists for table float&quot;)
</a><a href="#h8-0-2" id="h8-0-2" class="i">+
</a><a href="#h8-0-3" id="h8-0-3" class="i">+Storage:
</a><a href="#h8-0-4" id="h8-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h8-0-5" id="h8-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h8-0-6" id="h8-0-6" class="i">+)
</a><a href="#h8-0-7" id="h8-0-7" class="i">+[Float(2.718)]
</a><a href="#h8-0-8" id="h8-0-8" class="i">+[Float(3.14)]
</a><a href="#h8-0-9" id="h8-0-9" class="i">+[Float(inf)]
</a><a href="#h8-0-10" id="h8-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h9" href="../file/src/sql/tests/schema/insert_pk_float_negative.html">src/sql/tests/schema/insert_pk_float_negative</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_negative.html">src/sql/tests/schema/insert_pk_float_negative</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h9-0-0" id="h9-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (-3.14)
</a><a href="#h9-0-1" id="h9-0-1" class="i">+
</a><a href="#h9-0-2" id="h9-0-2" class="i">+Storage:
</a><a href="#h9-0-3" id="h9-0-3" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h9-0-4" id="h9-0-4" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h9-0-5" id="h9-0-5" class="i">+)
</a><a href="#h9-0-6" id="h9-0-6" class="i">+[Float(2.718)]
</a><a href="#h9-0-7" id="h9-0-7" class="i">+[Float(3.14)]
</a><a href="#h9-0-8" id="h9-0-8" class="i">+[Float(inf)]
</a><a href="#h9-0-9" id="h9-0-9" class="i">+[Float(NaN)]
</a><a href="#h9-0-10" id="h9-0-10" class="i">+[Float(-3.14)]
</a><b>diff --git a/<a id="h10" href="../file/src/sql/tests/schema/insert_pk_float_null.html">src/sql/tests/schema/insert_pk_float_null</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_null.html">src/sql/tests/schema/insert_pk_float_null</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h10-0-0" id="h10-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (NULL)
</a><a href="#h10-0-1" id="h10-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h10-0-2" id="h10-0-2" class="i">+
</a><a href="#h10-0-3" id="h10-0-3" class="i">+Storage:
</a><a href="#h10-0-4" id="h10-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h10-0-5" id="h10-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h10-0-6" id="h10-0-6" class="i">+)
</a><a href="#h10-0-7" id="h10-0-7" class="i">+[Float(2.718)]
</a><a href="#h10-0-8" id="h10-0-8" class="i">+[Float(3.14)]
</a><a href="#h10-0-9" id="h10-0-9" class="i">+[Float(inf)]
</a><a href="#h10-0-10" id="h10-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h11" href="../file/src/sql/tests/schema/insert_pk_float_zero.html">src/sql/tests/schema/insert_pk_float_zero</a> b/<a href="../file/src/sql/tests/schema/insert_pk_float_zero.html">src/sql/tests/schema/insert_pk_float_zero</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h11-0-0" id="h11-0-0" class="i">+Query: INSERT INTO &quot;float&quot; VALUES (0.0)
</a><a href="#h11-0-1" id="h11-0-1" class="i">+
</a><a href="#h11-0-2" id="h11-0-2" class="i">+Storage:
</a><a href="#h11-0-3" id="h11-0-3" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h11-0-4" id="h11-0-4" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h11-0-5" id="h11-0-5" class="i">+)
</a><a href="#h11-0-6" id="h11-0-6" class="i">+[Float(0.0)]
</a><a href="#h11-0-7" id="h11-0-7" class="i">+[Float(2.718)]
</a><a href="#h11-0-8" id="h11-0-8" class="i">+[Float(3.14)]
</a><a href="#h11-0-9" id="h11-0-9" class="i">+[Float(inf)]
</a><a href="#h11-0-10" id="h11-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h12" href="../file/src/sql/tests/schema/insert_pk_string.html">src/sql/tests/schema/insert_pk_string</a> b/<a href="../file/src/sql/tests/schema/insert_pk_string.html">src/sql/tests/schema/insert_pk_string</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h12-0-0" id="h12-0-0" class="i">+Query: INSERT INTO &quot;string&quot; VALUES (&#39;baz&#39;)
</a><a href="#h12-0-1" id="h12-0-1" class="i">+
</a><a href="#h12-0-2" id="h12-0-2" class="i">+Storage:
</a><a href="#h12-0-3" id="h12-0-3" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h12-0-4" id="h12-0-4" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h12-0-5" id="h12-0-5" class="i">+)
</a><a href="#h12-0-6" id="h12-0-6" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h12-0-7" id="h12-0-7" class="i">+[String(&quot;baz&quot;)]
</a><a href="#h12-0-8" id="h12-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h13" href="../file/src/sql/tests/schema/insert_pk_string_case.html">src/sql/tests/schema/insert_pk_string_case</a> b/<a href="../file/src/sql/tests/schema/insert_pk_string_case.html">src/sql/tests/schema/insert_pk_string_case</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h13-0-0" id="h13-0-0" class="i">+Query: INSERT INTO &quot;string&quot; VALUES (&#39;Foo&#39;)
</a><a href="#h13-0-1" id="h13-0-1" class="i">+
</a><a href="#h13-0-2" id="h13-0-2" class="i">+Storage:
</a><a href="#h13-0-3" id="h13-0-3" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h13-0-4" id="h13-0-4" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h13-0-5" id="h13-0-5" class="i">+)
</a><a href="#h13-0-6" id="h13-0-6" class="i">+[String(&quot;Foo&quot;)]
</a><a href="#h13-0-7" id="h13-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h13-0-8" id="h13-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h14" href="../file/src/sql/tests/schema/insert_pk_string_conflict.html">src/sql/tests/schema/insert_pk_string_conflict</a> b/<a href="../file/src/sql/tests/schema/insert_pk_string_conflict.html">src/sql/tests/schema/insert_pk_string_conflict</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h14-0-0" id="h14-0-0" class="i">+Query: INSERT INTO &quot;string&quot; VALUES (&#39;foo&#39;)
</a><a href="#h14-0-1" id="h14-0-1" class="i">+Error: Value(&quot;Primary key foo already exists for table string&quot;)
</a><a href="#h14-0-2" id="h14-0-2" class="i">+
</a><a href="#h14-0-3" id="h14-0-3" class="i">+Storage:
</a><a href="#h14-0-4" id="h14-0-4" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h14-0-5" id="h14-0-5" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h14-0-6" id="h14-0-6" class="i">+)
</a><a href="#h14-0-7" id="h14-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h14-0-8" id="h14-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h15" href="../file/src/sql/tests/schema/insert_pk_string_empty.html">src/sql/tests/schema/insert_pk_string_empty</a> b/<a href="../file/src/sql/tests/schema/insert_pk_string_empty.html">src/sql/tests/schema/insert_pk_string_empty</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h15-0-0" id="h15-0-0" class="i">+Query: INSERT INTO &quot;string&quot; VALUES (&#39;&#39;)
</a><a href="#h15-0-1" id="h15-0-1" class="i">+
</a><a href="#h15-0-2" id="h15-0-2" class="i">+Storage:
</a><a href="#h15-0-3" id="h15-0-3" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h15-0-4" id="h15-0-4" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h15-0-5" id="h15-0-5" class="i">+)
</a><a href="#h15-0-6" id="h15-0-6" class="i">+[String(&quot;&quot;)]
</a><a href="#h15-0-7" id="h15-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h15-0-8" id="h15-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h16" href="../file/src/sql/tests/schema/insert_pk_string_null.html">src/sql/tests/schema/insert_pk_string_null</a> b/<a href="../file/src/sql/tests/schema/insert_pk_string_null.html">src/sql/tests/schema/insert_pk_string_null</a></b>
<a href="#h16-0" id="h16-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h16-0-0" id="h16-0-0" class="i">+Query: INSERT INTO &quot;string&quot; VALUES (NULL)
</a><a href="#h16-0-1" id="h16-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h16-0-2" id="h16-0-2" class="i">+
</a><a href="#h16-0-3" id="h16-0-3" class="i">+Storage:
</a><a href="#h16-0-4" id="h16-0-4" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h16-0-5" id="h16-0-5" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h16-0-6" id="h16-0-6" class="i">+)
</a><a href="#h16-0-7" id="h16-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h16-0-8" id="h16-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h17" href="../file/src/sql/tests/schema/insert_ref_boolean.html">src/sql/tests/schema/insert_ref_boolean</a> b/<a href="../file/src/sql/tests/schema/insert_ref_boolean.html">src/sql/tests/schema/insert_ref_boolean</a></b>
<a href="#h17-0" id="h17-0" class="h">@@ -0,0 +1,13 @@
</a><a href="#h17-0-0" id="h17-0-0" class="i">+Query: INSERT INTO source VALUES (1, TRUE)
</a><a href="#h17-0-1" id="h17-0-1" class="i">+
</a><a href="#h17-0-2" id="h17-0-2" class="i">+Storage:
</a><a href="#h17-0-3" id="h17-0-3" class="i">+CREATE TABLE source (
</a><a href="#h17-0-4" id="h17-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h17-0-5" id="h17-0-5" class="i">+  target_id BOOLEAN DEFAULT NULL REFERENCES target
</a><a href="#h17-0-6" id="h17-0-6" class="i">+)
</a><a href="#h17-0-7" id="h17-0-7" class="i">+[Integer(1), Boolean(true)]
</a><a href="#h17-0-8" id="h17-0-8" class="i">+
</a><a href="#h17-0-9" id="h17-0-9" class="i">+CREATE TABLE target (
</a><a href="#h17-0-10" id="h17-0-10" class="i">+  id BOOLEAN PRIMARY KEY
</a><a href="#h17-0-11" id="h17-0-11" class="i">+)
</a><a href="#h17-0-12" id="h17-0-12" class="i">+[Boolean(true)]
</a><b>diff --git a/<a id="h18" href="../file/src/sql/tests/schema/insert_ref_boolean_missing.html">src/sql/tests/schema/insert_ref_boolean_missing</a> b/<a href="../file/src/sql/tests/schema/insert_ref_boolean_missing.html">src/sql/tests/schema/insert_ref_boolean_missing</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -0,0 +1,13 @@
</a><a href="#h18-0-0" id="h18-0-0" class="i">+Query: INSERT INTO source VALUES (1, FALSE)
</a><a href="#h18-0-1" id="h18-0-1" class="i">+Error: Value(&quot;Referenced primary key FALSE in table target does not exist&quot;)
</a><a href="#h18-0-2" id="h18-0-2" class="i">+
</a><a href="#h18-0-3" id="h18-0-3" class="i">+Storage:
</a><a href="#h18-0-4" id="h18-0-4" class="i">+CREATE TABLE source (
</a><a href="#h18-0-5" id="h18-0-5" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h18-0-6" id="h18-0-6" class="i">+  target_id BOOLEAN DEFAULT NULL REFERENCES target
</a><a href="#h18-0-7" id="h18-0-7" class="i">+)
</a><a href="#h18-0-8" id="h18-0-8" class="i">+
</a><a href="#h18-0-9" id="h18-0-9" class="i">+CREATE TABLE target (
</a><a href="#h18-0-10" id="h18-0-10" class="i">+  id BOOLEAN PRIMARY KEY
</a><a href="#h18-0-11" id="h18-0-11" class="i">+)
</a><a href="#h18-0-12" id="h18-0-12" class="i">+[Boolean(true)]
</a><b>diff --git a/<a id="h19" href="../file/src/sql/tests/schema/insert_ref_boolean_null.html">src/sql/tests/schema/insert_ref_boolean_null</a> b/<a href="../file/src/sql/tests/schema/insert_ref_boolean_null.html">src/sql/tests/schema/insert_ref_boolean_null</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -0,0 +1,13 @@
</a><a href="#h19-0-0" id="h19-0-0" class="i">+Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h19-0-1" id="h19-0-1" class="i">+
</a><a href="#h19-0-2" id="h19-0-2" class="i">+Storage:
</a><a href="#h19-0-3" id="h19-0-3" class="i">+CREATE TABLE source (
</a><a href="#h19-0-4" id="h19-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h19-0-5" id="h19-0-5" class="i">+  target_id BOOLEAN DEFAULT NULL REFERENCES target
</a><a href="#h19-0-6" id="h19-0-6" class="i">+)
</a><a href="#h19-0-7" id="h19-0-7" class="i">+[Integer(1), Null]
</a><a href="#h19-0-8" id="h19-0-8" class="i">+
</a><a href="#h19-0-9" id="h19-0-9" class="i">+CREATE TABLE target (
</a><a href="#h19-0-10" id="h19-0-10" class="i">+  id BOOLEAN PRIMARY KEY
</a><a href="#h19-0-11" id="h19-0-11" class="i">+)
</a><a href="#h19-0-12" id="h19-0-12" class="i">+[Boolean(true)]
</a><b>diff --git a/<a id="h20" href="../file/src/sql/tests/schema/insert_ref_float.html">src/sql/tests/schema/insert_ref_float</a> b/<a href="../file/src/sql/tests/schema/insert_ref_float.html">src/sql/tests/schema/insert_ref_float</a></b>
<a href="#h20-0" id="h20-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h20-0-0" id="h20-0-0" class="i">+Query: INSERT INTO source VALUES (1, 3.14)
</a><a href="#h20-0-1" id="h20-0-1" class="i">+
</a><a href="#h20-0-2" id="h20-0-2" class="i">+Storage:
</a><a href="#h20-0-3" id="h20-0-3" class="i">+CREATE TABLE source (
</a><a href="#h20-0-4" id="h20-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h20-0-5" id="h20-0-5" class="i">+  target_id FLOAT DEFAULT NULL REFERENCES target
</a><a href="#h20-0-6" id="h20-0-6" class="i">+)
</a><a href="#h20-0-7" id="h20-0-7" class="i">+[Integer(1), Float(3.14)]
</a><a href="#h20-0-8" id="h20-0-8" class="i">+
</a><a href="#h20-0-9" id="h20-0-9" class="i">+CREATE TABLE target (
</a><a href="#h20-0-10" id="h20-0-10" class="i">+  id FLOAT PRIMARY KEY
</a><a href="#h20-0-11" id="h20-0-11" class="i">+)
</a><a href="#h20-0-12" id="h20-0-12" class="i">+[Float(2.718)]
</a><a href="#h20-0-13" id="h20-0-13" class="i">+[Float(3.14)]
</a><b>diff --git a/<a id="h21" href="../file/src/sql/tests/schema/insert_ref_float_missing.html">src/sql/tests/schema/insert_ref_float_missing</a> b/<a href="../file/src/sql/tests/schema/insert_ref_float_missing.html">src/sql/tests/schema/insert_ref_float_missing</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h21-0-0" id="h21-0-0" class="i">+Query: INSERT INTO source VALUES (1, 1.618)
</a><a href="#h21-0-1" id="h21-0-1" class="i">+Error: Value(&quot;Referenced primary key 1.618 in table target does not exist&quot;)
</a><a href="#h21-0-2" id="h21-0-2" class="i">+
</a><a href="#h21-0-3" id="h21-0-3" class="i">+Storage:
</a><a href="#h21-0-4" id="h21-0-4" class="i">+CREATE TABLE source (
</a><a href="#h21-0-5" id="h21-0-5" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h21-0-6" id="h21-0-6" class="i">+  target_id FLOAT DEFAULT NULL REFERENCES target
</a><a href="#h21-0-7" id="h21-0-7" class="i">+)
</a><a href="#h21-0-8" id="h21-0-8" class="i">+
</a><a href="#h21-0-9" id="h21-0-9" class="i">+CREATE TABLE target (
</a><a href="#h21-0-10" id="h21-0-10" class="i">+  id FLOAT PRIMARY KEY
</a><a href="#h21-0-11" id="h21-0-11" class="i">+)
</a><a href="#h21-0-12" id="h21-0-12" class="i">+[Float(2.718)]
</a><a href="#h21-0-13" id="h21-0-13" class="i">+[Float(3.14)]
</a><b>diff --git a/<a id="h22" href="../file/src/sql/tests/schema/insert_ref_float_null.html">src/sql/tests/schema/insert_ref_float_null</a> b/<a href="../file/src/sql/tests/schema/insert_ref_float_null.html">src/sql/tests/schema/insert_ref_float_null</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h22-0-0" id="h22-0-0" class="i">+Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h22-0-1" id="h22-0-1" class="i">+
</a><a href="#h22-0-2" id="h22-0-2" class="i">+Storage:
</a><a href="#h22-0-3" id="h22-0-3" class="i">+CREATE TABLE source (
</a><a href="#h22-0-4" id="h22-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h22-0-5" id="h22-0-5" class="i">+  target_id FLOAT DEFAULT NULL REFERENCES target
</a><a href="#h22-0-6" id="h22-0-6" class="i">+)
</a><a href="#h22-0-7" id="h22-0-7" class="i">+[Integer(1), Null]
</a><a href="#h22-0-8" id="h22-0-8" class="i">+
</a><a href="#h22-0-9" id="h22-0-9" class="i">+CREATE TABLE target (
</a><a href="#h22-0-10" id="h22-0-10" class="i">+  id FLOAT PRIMARY KEY
</a><a href="#h22-0-11" id="h22-0-11" class="i">+)
</a><a href="#h22-0-12" id="h22-0-12" class="i">+[Float(2.718)]
</a><a href="#h22-0-13" id="h22-0-13" class="i">+[Float(3.14)]
</a><b>diff --git a/<a id="h23" href="../file/src/sql/tests/schema/insert_ref_integer.html">src/sql/tests/schema/insert_ref_integer</a> b/<a href="../file/src/sql/tests/schema/insert_ref_integer.html">src/sql/tests/schema/insert_ref_integer</a></b>
<a href="#h23-0" id="h23-0" class="h">@@ -1,15 +1,15 @@
</a><a href="#h23-0-0" id="h23-0-0" class="d">-Query: INSERT INTO source (id, integer_id) VALUES (1, 1)
</a><a href="#h23-0-1" id="h23-0-1" class="i">+Query: INSERT INTO source VALUES (1, 1)
</a> 
 Storage:
<a href="#h23-0-4" id="h23-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h23-0-5" id="h23-0-5" class="i">+CREATE TABLE source (
</a><a href="#h23-0-6" id="h23-0-6" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h23-0-7" id="h23-0-7" class="i">+  target_id INTEGER DEFAULT NULL REFERENCES target
</a><a href="#h23-0-8" id="h23-0-8" class="i">+)
</a><a href="#h23-0-9" id="h23-0-9" class="i">+[Integer(1), Integer(1)]
</a><a href="#h23-0-10" id="h23-0-10" class="i">+
</a><a href="#h23-0-11" id="h23-0-11" class="i">+CREATE TABLE target (
</a>   id INTEGER PRIMARY KEY
 )
 [Integer(1)]
 [Integer(2)]
 [Integer(3)]
<a href="#h23-0-17" id="h23-0-17" class="d">-
</a><a href="#h23-0-18" id="h23-0-18" class="d">-CREATE TABLE source (
</a><a href="#h23-0-19" id="h23-0-19" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h23-0-20" id="h23-0-20" class="d">-  integer_id INTEGER DEFAULT NULL REFERENCES integer
</a><a href="#h23-0-21" id="h23-0-21" class="d">-)
</a><a href="#h23-0-22" id="h23-0-22" class="d">-[Integer(1), Integer(1)]
</a><b>diff --git a/<a id="h24" href="../file/src/sql/tests/schema/insert_ref_integer_missing.html">src/sql/tests/schema/insert_ref_integer_missing</a> b/<a href="../file/src/sql/tests/schema/insert_ref_integer_missing.html">src/sql/tests/schema/insert_ref_integer_missing</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -1,15 +1,15 @@
</a><a href="#h24-0-0" id="h24-0-0" class="d">-Query: INSERT INTO source (id, integer_id) VALUES (1, 7)
</a><a href="#h24-0-1" id="h24-0-1" class="d">-Error: Value(&quot;Referenced primary key 7 in table integer does not exist&quot;)
</a><a href="#h24-0-2" id="h24-0-2" class="i">+Query: INSERT INTO source VALUES (1, 7)
</a><a href="#h24-0-3" id="h24-0-3" class="i">+Error: Value(&quot;Referenced primary key 7 in table target does not exist&quot;)
</a> 
 Storage:
<a href="#h24-0-6" id="h24-0-6" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h24-0-7" id="h24-0-7" class="i">+CREATE TABLE source (
</a><a href="#h24-0-8" id="h24-0-8" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h24-0-9" id="h24-0-9" class="i">+  target_id INTEGER DEFAULT NULL REFERENCES target
</a><a href="#h24-0-10" id="h24-0-10" class="i">+)
</a><a href="#h24-0-11" id="h24-0-11" class="i">+
</a><a href="#h24-0-12" id="h24-0-12" class="i">+CREATE TABLE target (
</a>   id INTEGER PRIMARY KEY
 )
 [Integer(1)]
 [Integer(2)]
 [Integer(3)]
<a href="#h24-0-18" id="h24-0-18" class="d">-
</a><a href="#h24-0-19" id="h24-0-19" class="d">-CREATE TABLE source (
</a><a href="#h24-0-20" id="h24-0-20" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h24-0-21" id="h24-0-21" class="d">-  integer_id INTEGER DEFAULT NULL REFERENCES integer
</a><a href="#h24-0-22" id="h24-0-22" class="d">-)
</a><b>diff --git a/<a id="h25" href="../file/src/sql/tests/schema/insert_ref_integer_null.html">src/sql/tests/schema/insert_ref_integer_null</a> b/<a href="../file/src/sql/tests/schema/insert_ref_integer_null.html">src/sql/tests/schema/insert_ref_integer_null</a></b>
<a href="#h25-0" id="h25-0" class="h">@@ -1,15 +1,15 @@
</a><a href="#h25-0-0" id="h25-0-0" class="d">-Query: INSERT INTO source (id, integer_id) VALUES (1, NULL)
</a><a href="#h25-0-1" id="h25-0-1" class="i">+Query: INSERT INTO source VALUES (1, NULL)
</a> 
 Storage:
<a href="#h25-0-4" id="h25-0-4" class="d">-CREATE TABLE &quot;integer&quot; (
</a><a href="#h25-0-5" id="h25-0-5" class="i">+CREATE TABLE source (
</a><a href="#h25-0-6" id="h25-0-6" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h25-0-7" id="h25-0-7" class="i">+  target_id INTEGER DEFAULT NULL REFERENCES target
</a><a href="#h25-0-8" id="h25-0-8" class="i">+)
</a><a href="#h25-0-9" id="h25-0-9" class="i">+[Integer(1), Null]
</a><a href="#h25-0-10" id="h25-0-10" class="i">+
</a><a href="#h25-0-11" id="h25-0-11" class="i">+CREATE TABLE target (
</a>   id INTEGER PRIMARY KEY
 )
 [Integer(1)]
 [Integer(2)]
 [Integer(3)]
<a href="#h25-0-17" id="h25-0-17" class="d">-
</a><a href="#h25-0-18" id="h25-0-18" class="d">-CREATE TABLE source (
</a><a href="#h25-0-19" id="h25-0-19" class="d">-  id INTEGER PRIMARY KEY,
</a><a href="#h25-0-20" id="h25-0-20" class="d">-  integer_id INTEGER DEFAULT NULL REFERENCES integer
</a><a href="#h25-0-21" id="h25-0-21" class="d">-)
</a><a href="#h25-0-22" id="h25-0-22" class="d">-[Integer(1), Null]
</a><b>diff --git a/<a id="h26" href="../file/src/sql/tests/schema/insert_ref_string.html">src/sql/tests/schema/insert_ref_string</a> b/<a href="../file/src/sql/tests/schema/insert_ref_string.html">src/sql/tests/schema/insert_ref_string</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h26-0-0" id="h26-0-0" class="i">+Query: INSERT INTO source VALUES (1, &#39;foo&#39;)
</a><a href="#h26-0-1" id="h26-0-1" class="i">+
</a><a href="#h26-0-2" id="h26-0-2" class="i">+Storage:
</a><a href="#h26-0-3" id="h26-0-3" class="i">+CREATE TABLE source (
</a><a href="#h26-0-4" id="h26-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h26-0-5" id="h26-0-5" class="i">+  target_id STRING DEFAULT NULL REFERENCES target
</a><a href="#h26-0-6" id="h26-0-6" class="i">+)
</a><a href="#h26-0-7" id="h26-0-7" class="i">+[Integer(1), String(&quot;foo&quot;)]
</a><a href="#h26-0-8" id="h26-0-8" class="i">+
</a><a href="#h26-0-9" id="h26-0-9" class="i">+CREATE TABLE target (
</a><a href="#h26-0-10" id="h26-0-10" class="i">+  id STRING PRIMARY KEY
</a><a href="#h26-0-11" id="h26-0-11" class="i">+)
</a><a href="#h26-0-12" id="h26-0-12" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h26-0-13" id="h26-0-13" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h27" href="../file/src/sql/tests/schema/insert_ref_string_case.html">src/sql/tests/schema/insert_ref_string_case</a> b/<a href="../file/src/sql/tests/schema/insert_ref_string_case.html">src/sql/tests/schema/insert_ref_string_case</a></b>
<a href="#h27-0" id="h27-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h27-0-0" id="h27-0-0" class="i">+Query: INSERT INTO source VALUES (1, &#39;Foo&#39;)
</a><a href="#h27-0-1" id="h27-0-1" class="i">+Error: Value(&quot;Referenced primary key Foo in table target does not exist&quot;)
</a><a href="#h27-0-2" id="h27-0-2" class="i">+
</a><a href="#h27-0-3" id="h27-0-3" class="i">+Storage:
</a><a href="#h27-0-4" id="h27-0-4" class="i">+CREATE TABLE source (
</a><a href="#h27-0-5" id="h27-0-5" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h27-0-6" id="h27-0-6" class="i">+  target_id STRING DEFAULT NULL REFERENCES target
</a><a href="#h27-0-7" id="h27-0-7" class="i">+)
</a><a href="#h27-0-8" id="h27-0-8" class="i">+
</a><a href="#h27-0-9" id="h27-0-9" class="i">+CREATE TABLE target (
</a><a href="#h27-0-10" id="h27-0-10" class="i">+  id STRING PRIMARY KEY
</a><a href="#h27-0-11" id="h27-0-11" class="i">+)
</a><a href="#h27-0-12" id="h27-0-12" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h27-0-13" id="h27-0-13" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h28" href="../file/src/sql/tests/schema/insert_ref_string_missing.html">src/sql/tests/schema/insert_ref_string_missing</a> b/<a href="../file/src/sql/tests/schema/insert_ref_string_missing.html">src/sql/tests/schema/insert_ref_string_missing</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h28-0-0" id="h28-0-0" class="i">+Query: INSERT INTO source VALUES (1, &#39;baz&#39;)
</a><a href="#h28-0-1" id="h28-0-1" class="i">+Error: Value(&quot;Referenced primary key baz in table target does not exist&quot;)
</a><a href="#h28-0-2" id="h28-0-2" class="i">+
</a><a href="#h28-0-3" id="h28-0-3" class="i">+Storage:
</a><a href="#h28-0-4" id="h28-0-4" class="i">+CREATE TABLE source (
</a><a href="#h28-0-5" id="h28-0-5" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h28-0-6" id="h28-0-6" class="i">+  target_id STRING DEFAULT NULL REFERENCES target
</a><a href="#h28-0-7" id="h28-0-7" class="i">+)
</a><a href="#h28-0-8" id="h28-0-8" class="i">+
</a><a href="#h28-0-9" id="h28-0-9" class="i">+CREATE TABLE target (
</a><a href="#h28-0-10" id="h28-0-10" class="i">+  id STRING PRIMARY KEY
</a><a href="#h28-0-11" id="h28-0-11" class="i">+)
</a><a href="#h28-0-12" id="h28-0-12" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h28-0-13" id="h28-0-13" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h29" href="../file/src/sql/tests/schema/insert_ref_string_null.html">src/sql/tests/schema/insert_ref_string_null</a> b/<a href="../file/src/sql/tests/schema/insert_ref_string_null.html">src/sql/tests/schema/insert_ref_string_null</a></b>
<a href="#h29-0" id="h29-0" class="h">@@ -0,0 +1,14 @@
</a><a href="#h29-0-0" id="h29-0-0" class="i">+Query: INSERT INTO source VALUES (1, NULL)
</a><a href="#h29-0-1" id="h29-0-1" class="i">+
</a><a href="#h29-0-2" id="h29-0-2" class="i">+Storage:
</a><a href="#h29-0-3" id="h29-0-3" class="i">+CREATE TABLE source (
</a><a href="#h29-0-4" id="h29-0-4" class="i">+  id INTEGER PRIMARY KEY,
</a><a href="#h29-0-5" id="h29-0-5" class="i">+  target_id STRING DEFAULT NULL REFERENCES target
</a><a href="#h29-0-6" id="h29-0-6" class="i">+)
</a><a href="#h29-0-7" id="h29-0-7" class="i">+[Integer(1), Null]
</a><a href="#h29-0-8" id="h29-0-8" class="i">+
</a><a href="#h29-0-9" id="h29-0-9" class="i">+CREATE TABLE target (
</a><a href="#h29-0-10" id="h29-0-10" class="i">+  id STRING PRIMARY KEY
</a><a href="#h29-0-11" id="h29-0-11" class="i">+)
</a><a href="#h29-0-12" id="h29-0-12" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h29-0-13" id="h29-0-13" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h30" href="../file/src/sql/tests/schema/update_pk_boolean.html">src/sql/tests/schema/update_pk_boolean</a> b/<a href="../file/src/sql/tests/schema/update_pk_boolean.html">src/sql/tests/schema/update_pk_boolean</a></b>
<a href="#h30-0" id="h30-0" class="h">@@ -0,0 +1,7 @@
</a><a href="#h30-0-0" id="h30-0-0" class="i">+Query: UPDATE &quot;boolean&quot; SET pk = TRUE WHERE pk = FALSE
</a><a href="#h30-0-1" id="h30-0-1" class="i">+
</a><a href="#h30-0-2" id="h30-0-2" class="i">+Storage:
</a><a href="#h30-0-3" id="h30-0-3" class="i">+CREATE TABLE &quot;boolean&quot; (
</a><a href="#h30-0-4" id="h30-0-4" class="i">+  pk BOOLEAN PRIMARY KEY
</a><a href="#h30-0-5" id="h30-0-5" class="i">+)
</a><a href="#h30-0-6" id="h30-0-6" class="i">+[Boolean(true)]
</a><b>diff --git a/<a id="h31" href="../file/src/sql/tests/schema/update_pk_boolean_null.html">src/sql/tests/schema/update_pk_boolean_null</a> b/<a href="../file/src/sql/tests/schema/update_pk_boolean_null.html">src/sql/tests/schema/update_pk_boolean_null</a></b>
<a href="#h31-0" id="h31-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h31-0-0" id="h31-0-0" class="i">+Query: UPDATE &quot;boolean&quot; SET pk = NULL WHERE pk = FALSE
</a><a href="#h31-0-1" id="h31-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h31-0-2" id="h31-0-2" class="i">+
</a><a href="#h31-0-3" id="h31-0-3" class="i">+Storage:
</a><a href="#h31-0-4" id="h31-0-4" class="i">+CREATE TABLE &quot;boolean&quot; (
</a><a href="#h31-0-5" id="h31-0-5" class="i">+  pk BOOLEAN PRIMARY KEY
</a><a href="#h31-0-6" id="h31-0-6" class="i">+)
</a><a href="#h31-0-7" id="h31-0-7" class="i">+[Boolean(false)]
</a><b>diff --git a/<a id="h32" href="../file/src/sql/tests/schema/update_pk_float.html">src/sql/tests/schema/update_pk_float</a> b/<a href="../file/src/sql/tests/schema/update_pk_float.html">src/sql/tests/schema/update_pk_float</a></b>
<a href="#h32-0" id="h32-0" class="h">@@ -0,0 +1,10 @@
</a><a href="#h32-0-0" id="h32-0-0" class="i">+Query: UPDATE &quot;float&quot; SET pk = 1.618 WHERE pk = 3.14
</a><a href="#h32-0-1" id="h32-0-1" class="i">+
</a><a href="#h32-0-2" id="h32-0-2" class="i">+Storage:
</a><a href="#h32-0-3" id="h32-0-3" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h32-0-4" id="h32-0-4" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h32-0-5" id="h32-0-5" class="i">+)
</a><a href="#h32-0-6" id="h32-0-6" class="i">+[Float(1.618)]
</a><a href="#h32-0-7" id="h32-0-7" class="i">+[Float(2.718)]
</a><a href="#h32-0-8" id="h32-0-8" class="i">+[Float(inf)]
</a><a href="#h32-0-9" id="h32-0-9" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h33" href="../file/src/sql/tests/schema/update_pk_float_conflict.html">src/sql/tests/schema/update_pk_float_conflict</a> b/<a href="../file/src/sql/tests/schema/update_pk_float_conflict.html">src/sql/tests/schema/update_pk_float_conflict</a></b>
<a href="#h33-0" id="h33-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h33-0-0" id="h33-0-0" class="i">+Query: UPDATE &quot;float&quot; SET pk = 2.718 WHERE pk = 3.14
</a><a href="#h33-0-1" id="h33-0-1" class="i">+Error: Value(&quot;Primary key 2.718 already exists for table float&quot;)
</a><a href="#h33-0-2" id="h33-0-2" class="i">+
</a><a href="#h33-0-3" id="h33-0-3" class="i">+Storage:
</a><a href="#h33-0-4" id="h33-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h33-0-5" id="h33-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h33-0-6" id="h33-0-6" class="i">+)
</a><a href="#h33-0-7" id="h33-0-7" class="i">+[Float(2.718)]
</a><a href="#h33-0-8" id="h33-0-8" class="i">+[Float(3.14)]
</a><a href="#h33-0-9" id="h33-0-9" class="i">+[Float(inf)]
</a><a href="#h33-0-10" id="h33-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h34" href="../file/src/sql/tests/schema/update_pk_float_conflict_all.html">src/sql/tests/schema/update_pk_float_conflict_all</a> b/<a href="../file/src/sql/tests/schema/update_pk_float_conflict_all.html">src/sql/tests/schema/update_pk_float_conflict_all</a></b>
<a href="#h34-0" id="h34-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h34-0-0" id="h34-0-0" class="i">+Query: UPDATE &quot;float&quot; SET pk = 3.14
</a><a href="#h34-0-1" id="h34-0-1" class="i">+Error: Value(&quot;Primary key 3.14 already exists for table float&quot;)
</a><a href="#h34-0-2" id="h34-0-2" class="i">+
</a><a href="#h34-0-3" id="h34-0-3" class="i">+Storage:
</a><a href="#h34-0-4" id="h34-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h34-0-5" id="h34-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h34-0-6" id="h34-0-6" class="i">+)
</a><a href="#h34-0-7" id="h34-0-7" class="i">+[Float(2.718)]
</a><a href="#h34-0-8" id="h34-0-8" class="i">+[Float(3.14)]
</a><a href="#h34-0-9" id="h34-0-9" class="i">+[Float(inf)]
</a><a href="#h34-0-10" id="h34-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h35" href="../file/src/sql/tests/schema/update_pk_float_null.html">src/sql/tests/schema/update_pk_float_null</a> b/<a href="../file/src/sql/tests/schema/update_pk_float_null.html">src/sql/tests/schema/update_pk_float_null</a></b>
<a href="#h35-0" id="h35-0" class="h">@@ -0,0 +1,11 @@
</a><a href="#h35-0-0" id="h35-0-0" class="i">+Query: UPDATE &quot;float&quot; SET pk = NULL WHERE pk = 3.14
</a><a href="#h35-0-1" id="h35-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h35-0-2" id="h35-0-2" class="i">+
</a><a href="#h35-0-3" id="h35-0-3" class="i">+Storage:
</a><a href="#h35-0-4" id="h35-0-4" class="i">+CREATE TABLE &quot;float&quot; (
</a><a href="#h35-0-5" id="h35-0-5" class="i">+  pk FLOAT PRIMARY KEY
</a><a href="#h35-0-6" id="h35-0-6" class="i">+)
</a><a href="#h35-0-7" id="h35-0-7" class="i">+[Float(2.718)]
</a><a href="#h35-0-8" id="h35-0-8" class="i">+[Float(3.14)]
</a><a href="#h35-0-9" id="h35-0-9" class="i">+[Float(inf)]
</a><a href="#h35-0-10" id="h35-0-10" class="i">+[Float(NaN)]
</a><b>diff --git a/<a id="h36" href="../file/src/sql/tests/schema/update_pk_string.html">src/sql/tests/schema/update_pk_string</a> b/<a href="../file/src/sql/tests/schema/update_pk_string.html">src/sql/tests/schema/update_pk_string</a></b>
<a href="#h36-0" id="h36-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h36-0-0" id="h36-0-0" class="i">+Query: UPDATE &quot;string&quot; SET pk = &#39;baz&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h36-0-1" id="h36-0-1" class="i">+
</a><a href="#h36-0-2" id="h36-0-2" class="i">+Storage:
</a><a href="#h36-0-3" id="h36-0-3" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h36-0-4" id="h36-0-4" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h36-0-5" id="h36-0-5" class="i">+)
</a><a href="#h36-0-6" id="h36-0-6" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h36-0-7" id="h36-0-7" class="i">+[String(&quot;baz&quot;)]
</a><b>diff --git a/<a id="h37" href="../file/src/sql/tests/schema/update_pk_string_case.html">src/sql/tests/schema/update_pk_string_case</a> b/<a href="../file/src/sql/tests/schema/update_pk_string_case.html">src/sql/tests/schema/update_pk_string_case</a></b>
<a href="#h37-0" id="h37-0" class="h">@@ -0,0 +1,8 @@
</a><a href="#h37-0-0" id="h37-0-0" class="i">+Query: UPDATE &quot;string&quot; SET pk = &#39;Bar&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h37-0-1" id="h37-0-1" class="i">+
</a><a href="#h37-0-2" id="h37-0-2" class="i">+Storage:
</a><a href="#h37-0-3" id="h37-0-3" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h37-0-4" id="h37-0-4" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h37-0-5" id="h37-0-5" class="i">+)
</a><a href="#h37-0-6" id="h37-0-6" class="i">+[String(&quot;Bar&quot;)]
</a><a href="#h37-0-7" id="h37-0-7" class="i">+[String(&quot;bar&quot;)]
</a><b>diff --git a/<a id="h38" href="../file/src/sql/tests/schema/update_pk_string_conflict.html">src/sql/tests/schema/update_pk_string_conflict</a> b/<a href="../file/src/sql/tests/schema/update_pk_string_conflict.html">src/sql/tests/schema/update_pk_string_conflict</a></b>
<a href="#h38-0" id="h38-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h38-0-0" id="h38-0-0" class="i">+Query: UPDATE &quot;string&quot; SET pk = &#39;bar&#39; WHERE pk = &#39;foo&#39;
</a><a href="#h38-0-1" id="h38-0-1" class="i">+Error: Value(&quot;Primary key bar already exists for table string&quot;)
</a><a href="#h38-0-2" id="h38-0-2" class="i">+
</a><a href="#h38-0-3" id="h38-0-3" class="i">+Storage:
</a><a href="#h38-0-4" id="h38-0-4" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h38-0-5" id="h38-0-5" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h38-0-6" id="h38-0-6" class="i">+)
</a><a href="#h38-0-7" id="h38-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h38-0-8" id="h38-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h39" href="../file/src/sql/tests/schema/update_pk_string_conflict_all.html">src/sql/tests/schema/update_pk_string_conflict_all</a> b/<a href="../file/src/sql/tests/schema/update_pk_string_conflict_all.html">src/sql/tests/schema/update_pk_string_conflict_all</a></b>
<a href="#h39-0" id="h39-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h39-0-0" id="h39-0-0" class="i">+Query: UPDATE &quot;string&quot; SET pk = &#39;foo&#39;
</a><a href="#h39-0-1" id="h39-0-1" class="i">+Error: Value(&quot;Primary key foo already exists for table string&quot;)
</a><a href="#h39-0-2" id="h39-0-2" class="i">+
</a><a href="#h39-0-3" id="h39-0-3" class="i">+Storage:
</a><a href="#h39-0-4" id="h39-0-4" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h39-0-5" id="h39-0-5" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h39-0-6" id="h39-0-6" class="i">+)
</a><a href="#h39-0-7" id="h39-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h39-0-8" id="h39-0-8" class="i">+[String(&quot;foo&quot;)]
</a><b>diff --git a/<a id="h40" href="../file/src/sql/tests/schema/update_pk_string_null.html">src/sql/tests/schema/update_pk_string_null</a> b/<a href="../file/src/sql/tests/schema/update_pk_string_null.html">src/sql/tests/schema/update_pk_string_null</a></b>
<a href="#h40-0" id="h40-0" class="h">@@ -0,0 +1,9 @@
</a><a href="#h40-0-0" id="h40-0-0" class="i">+Query: UPDATE &quot;string&quot; SET pk = NULL WHERE pk = &#39;foo&#39;
</a><a href="#h40-0-1" id="h40-0-1" class="i">+Error: Value(&quot;NULL value not allowed for column pk&quot;)
</a><a href="#h40-0-2" id="h40-0-2" class="i">+
</a><a href="#h40-0-3" id="h40-0-3" class="i">+Storage:
</a><a href="#h40-0-4" id="h40-0-4" class="i">+CREATE TABLE &quot;string&quot; (
</a><a href="#h40-0-5" id="h40-0-5" class="i">+  pk STRING PRIMARY KEY
</a><a href="#h40-0-6" id="h40-0-6" class="i">+)
</a><a href="#h40-0-7" id="h40-0-7" class="i">+[String(&quot;bar&quot;)]
</a><a href="#h40-0-8" id="h40-0-8" class="i">+[String(&quot;foo&quot;)]
</a></pre>
</div>
</body>
</html>
