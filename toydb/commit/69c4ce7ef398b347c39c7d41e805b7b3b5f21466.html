<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SQL: handle multi-character operators - toydb - An SQL engine written in Rust
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="toydb.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>toydb</h1><span class="desc">An SQL engine written in Rust
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/erikgrinaker/toydb">https://github.com/erikgrinaker/toydb</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/69c4ce7ef398b347c39c7d41e805b7b3b5f21466.html">69c4ce7ef398b347c39c7d41e805b7b3b5f21466</a>
<b>parent</b> <a href="../commit/bf7926f39d2b80ae78f6c8f42380bc1773932f4d.html">bf7926f39d2b80ae78f6c8f42380bc1773932f4d</a>
<b>Author:</b> Erik Grinaker &lt;<a href="mailto:erik@grinaker.org">erik@grinaker.org</a>&gt;
<b>Date:</b>   Mon, 26 Aug 2019 19:11:55 +0200

SQL: handle multi-character operators

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">src/sql/parser/ast.rs</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">src/sql/parser/lexer.rs</a></td><td> | </td><td class="num">37</td><td><span class="i">++++++++++++++++++++++++++++++++++++</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">src/sql/parser/mod.rs</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++++++++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">src/sql/plan/expression.rs</a></td><td> | </td><td class="num">31</td><td><span class="i">+++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">src/sql/plan/planner.rs</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
</table></pre><pre>5 files changed, 87 insertions(+), 3 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/src/sql/parser/ast.rs.html">src/sql/parser/ast.rs</a> b/<a href="../file/src/sql/parser/ast.rs.html">src/sql/parser/ast.rs</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -56,11 +56,14 @@ pub enum Operation {
</a>     Exponentiate(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Factorial(Box&lt;Expression&gt;),
     GreaterThan(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h0-0-3" id="h0-0-3" class="i">+    GreaterThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     LesserThan(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h0-0-5" id="h0-0-5" class="i">+    LesserThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     Modulo(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Multiply(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Negate(Box&lt;Expression&gt;),
     Not(Box&lt;Expression&gt;),
<a href="#h0-0-10" id="h0-0-10" class="i">+    NotEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     Or(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Subtract(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 }
<b>diff --git a/<a id="h1" href="../file/src/sql/parser/lexer.rs.html">src/sql/parser/lexer.rs</a> b/<a href="../file/src/sql/parser/lexer.rs.html">src/sql/parser/lexer.rs</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -12,7 +12,10 @@ pub enum Token {
</a>     Period,
     Equals,
     GreaterThan,
<a href="#h1-0-3" id="h1-0-3" class="i">+    GreaterThanOrEqual,
</a>     LessThan,
<a href="#h1-0-5" id="h1-0-5" class="i">+    LessThanOrEqual,
</a><a href="#h1-0-6" id="h1-0-6" class="i">+    LessOrGreaterThan,
</a>     Plus,
     Minus,
     Asterisk,
<a href="#h1-1" id="h1-1" class="h">@@ -20,6 +23,7 @@ pub enum Token {
</a>     Caret,
     Percent,
     Exclamation,
<a href="#h1-1-3" id="h1-1-3" class="i">+    NotEqual,
</a>     Question,
     OpenParen,
     CloseParen,
<a href="#h1-2" id="h1-2" class="h">@@ -36,7 +40,10 @@ impl std::fmt::Display for Token {
</a>             Token::Period =&gt; &quot;.&quot;,
             Token::Equals =&gt; &quot;=&quot;,
             Token::GreaterThan =&gt; &quot;&gt;&quot;,
<a href="#h1-2-3" id="h1-2-3" class="i">+            Token::GreaterThanOrEqual =&gt; &quot;&gt;=&quot;,
</a>             Token::LessThan =&gt; &quot;&lt;&quot;,
<a href="#h1-2-5" id="h1-2-5" class="i">+            Token::LessThanOrEqual =&gt; &quot;&lt;=&quot;,
</a><a href="#h1-2-6" id="h1-2-6" class="i">+            Token::LessOrGreaterThan =&gt; &quot;&lt;&gt;&quot;,
</a>             Token::Plus =&gt; &quot;+&quot;,
             Token::Minus =&gt; &quot;-&quot;,
             Token::Asterisk =&gt; &quot;*&quot;,
<a href="#h1-3" id="h1-3" class="h">@@ -44,6 +51,7 @@ impl std::fmt::Display for Token {
</a>             Token::Caret =&gt; &quot;^&quot;,
             Token::Percent =&gt; &quot;%&quot;,
             Token::Exclamation =&gt; &quot;!&quot;,
<a href="#h1-3-3" id="h1-3-3" class="i">+            Token::NotEqual =&gt; &quot;!=&quot;,
</a>             Token::Question =&gt; &quot;?&quot;,
             Token::OpenParen =&gt; &quot;(&quot;,
             Token::CloseParen =&gt; &quot;)&quot;,
<a href="#h1-4" id="h1-4" class="h">@@ -224,7 +232,8 @@ impl&lt;&#39;a&gt; Lexer&lt;&#39;a&gt; {
</a>         Ok(Some(Token::String(s)))
     }
 
<a href="#h1-4-3" id="h1-4-3" class="d">-    /// Scans the input for the next symbol token, if any
</a><a href="#h1-4-4" id="h1-4-4" class="i">+    /// Scans the input for the next symbol token, if any, and
</a><a href="#h1-4-5" id="h1-4-5" class="i">+    /// handle any multi-symbol tokens
</a>     fn scan_symbol(&amp;mut self) -&gt; Option&lt;Token&gt; {
         self.next_if_token(|c| match c {
             &#39;.&#39; =&gt; Some(Token::Period),
<a href="#h1-5" id="h1-5" class="h">@@ -244,5 +253,31 @@ impl&lt;&#39;a&gt; Lexer&lt;&#39;a&gt; {
</a>             &#39;,&#39; =&gt; Some(Token::Comma),
             _ =&gt; None,
         })
<a href="#h1-5-3" id="h1-5-3" class="i">+        .map(|token| match token {
</a><a href="#h1-5-4" id="h1-5-4" class="i">+            Token::Exclamation =&gt; {
</a><a href="#h1-5-5" id="h1-5-5" class="i">+                if self.next_if(|c| c == &#39;=&#39;).is_some() {
</a><a href="#h1-5-6" id="h1-5-6" class="i">+                    Token::NotEqual
</a><a href="#h1-5-7" id="h1-5-7" class="i">+                } else {
</a><a href="#h1-5-8" id="h1-5-8" class="i">+                    token
</a><a href="#h1-5-9" id="h1-5-9" class="i">+                }
</a><a href="#h1-5-10" id="h1-5-10" class="i">+            }
</a><a href="#h1-5-11" id="h1-5-11" class="i">+            Token::LessThan =&gt; {
</a><a href="#h1-5-12" id="h1-5-12" class="i">+                if self.next_if(|c| c == &#39;&gt;&#39;).is_some() {
</a><a href="#h1-5-13" id="h1-5-13" class="i">+                    Token::LessOrGreaterThan
</a><a href="#h1-5-14" id="h1-5-14" class="i">+                } else if self.next_if(|c| c == &#39;=&#39;).is_some() {
</a><a href="#h1-5-15" id="h1-5-15" class="i">+                    Token::LessThanOrEqual
</a><a href="#h1-5-16" id="h1-5-16" class="i">+                } else {
</a><a href="#h1-5-17" id="h1-5-17" class="i">+                    token
</a><a href="#h1-5-18" id="h1-5-18" class="i">+                }
</a><a href="#h1-5-19" id="h1-5-19" class="i">+            }
</a><a href="#h1-5-20" id="h1-5-20" class="i">+            Token::GreaterThan =&gt; {
</a><a href="#h1-5-21" id="h1-5-21" class="i">+                if self.next_if(|c| c == &#39;=&#39;).is_some() {
</a><a href="#h1-5-22" id="h1-5-22" class="i">+                    Token::GreaterThanOrEqual
</a><a href="#h1-5-23" id="h1-5-23" class="i">+                } else {
</a><a href="#h1-5-24" id="h1-5-24" class="i">+                    token
</a><a href="#h1-5-25" id="h1-5-25" class="i">+                }
</a><a href="#h1-5-26" id="h1-5-26" class="i">+            }
</a><a href="#h1-5-27" id="h1-5-27" class="i">+            _ =&gt; token,
</a><a href="#h1-5-28" id="h1-5-28" class="i">+        })
</a>     }
 }
<b>diff --git a/<a id="h2" href="../file/src/sql/parser/mod.rs.html">src/sql/parser/mod.rs</a> b/<a href="../file/src/sql/parser/mod.rs.html">src/sql/parser/mod.rs</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -214,9 +214,12 @@ enum InfixOperator {
</a>     Equals,
     Exponentiate,
     GreatherThan,
<a href="#h2-0-3" id="h2-0-3" class="i">+    GreatherThanOrEqual,
</a>     LesserThan,
<a href="#h2-0-5" id="h2-0-5" class="i">+    LesserThanOrEqual,
</a>     Modulo,
     Multiply,
<a href="#h2-0-8" id="h2-0-8" class="i">+    NotEqual,
</a>     Or,
     Subtract,
 }
<a href="#h2-1" id="h2-1" class="h">@@ -231,9 +234,12 @@ impl InfixOperator {
</a>             Self::Equals =&gt; ast::Operation::Equals(lhs, rhs),
             Self::Exponentiate =&gt; ast::Operation::Exponentiate(lhs, rhs),
             Self::GreatherThan =&gt; ast::Operation::GreaterThan(lhs, rhs),
<a href="#h2-1-3" id="h2-1-3" class="i">+            Self::GreatherThanOrEqual =&gt; ast::Operation::GreaterThanOrEqual(lhs, rhs),
</a>             Self::LesserThan =&gt; ast::Operation::LesserThan(lhs, rhs),
<a href="#h2-1-5" id="h2-1-5" class="i">+            Self::LesserThanOrEqual =&gt; ast::Operation::LesserThanOrEqual(lhs, rhs),
</a>             Self::Modulo =&gt; ast::Operation::Modulo(lhs, rhs),
             Self::Multiply =&gt; ast::Operation::Multiply(lhs, rhs),
<a href="#h2-1-8" id="h2-1-8" class="i">+            Self::NotEqual =&gt; ast::Operation::NotEqual(lhs, rhs),
</a>             Self::Or =&gt; ast::Operation::Or(lhs, rhs),
             Self::Subtract =&gt; ast::Operation::Subtract(lhs, rhs),
         }
<a href="#h2-2" id="h2-2" class="h">@@ -250,6 +256,12 @@ impl Operator for InfixOperator {
</a>             Token::Slash =&gt; Self::Divide,
             Token::Percent =&gt; Self::Modulo,
             Token::Caret =&gt; Self::Exponentiate,
<a href="#h2-2-3" id="h2-2-3" class="i">+            Token::NotEqual =&gt; Self::NotEqual,
</a><a href="#h2-2-4" id="h2-2-4" class="i">+            Token::LessOrGreaterThan =&gt; Self::NotEqual,
</a><a href="#h2-2-5" id="h2-2-5" class="i">+            Token::GreaterThan =&gt; Self::GreatherThan,
</a><a href="#h2-2-6" id="h2-2-6" class="i">+            Token::GreaterThanOrEqual =&gt; Self::GreatherThanOrEqual,
</a><a href="#h2-2-7" id="h2-2-7" class="i">+            Token::LessThan =&gt; Self::LesserThan,
</a><a href="#h2-2-8" id="h2-2-8" class="i">+            Token::LessThanOrEqual =&gt; Self::LesserThanOrEqual,
</a>             Token::Keyword(Keyword::And) =&gt; Self::And,
             Token::Keyword(Keyword::Or) =&gt; Self::Or,
             _ =&gt; return None,
<a href="#h2-3" id="h2-3" class="h">@@ -267,8 +279,8 @@ impl Operator for InfixOperator {
</a>         match self {
             Self::Or =&gt; 1,
             Self::And =&gt; 2,
<a href="#h2-3-3" id="h2-3-3" class="d">-            Self::Equals =&gt; 3,
</a><a href="#h2-3-4" id="h2-3-4" class="d">-            Self::GreatherThan | Self::LesserThan =&gt; 4,
</a><a href="#h2-3-5" id="h2-3-5" class="i">+            Self::Equals | Self::NotEqual =&gt; 3,
</a><a href="#h2-3-6" id="h2-3-6" class="i">+            Self::GreatherThan | Self::GreatherThanOrEqual | Self::LesserThan | Self::LesserThanOrEqual =&gt; 4,
</a>             Self::Add | Self::Subtract =&gt; 5,
             Self::Multiply | Self::Divide | Self::Modulo =&gt; 6,
             Self::Exponentiate =&gt; 7,
<b>diff --git a/<a id="h3" href="../file/src/sql/plan/expression.rs.html">src/sql/plan/expression.rs</a> b/<a href="../file/src/sql/plan/expression.rs.html">src/sql/plan/expression.rs</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -12,11 +12,14 @@ pub enum Expression {
</a>     Equals(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Factorial(Box&lt;Expression&gt;),
     GreaterThan(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h3-0-3" id="h3-0-3" class="i">+    GreaterThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     LesserThan(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
<a href="#h3-0-5" id="h3-0-5" class="i">+    LesserThanOrEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     Modulo(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Multiply(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Negate(Box&lt;Expression&gt;),
     Not(Box&lt;Expression&gt;),
<a href="#h3-0-10" id="h3-0-10" class="i">+    NotEqual(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
</a>     Or(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
     Subtract(Box&lt;Expression&gt;, Box&lt;Expression&gt;),
 }
<a href="#h3-1" id="h3-1" class="h">@@ -79,6 +82,15 @@ impl Expression {
</a>                     return Err(Error::Value(format!(&quot;Can&#39;t compare {} and {}&quot;, lhs, rhs)))
                 }
             },
<a href="#h3-1-3" id="h3-1-3" class="i">+            Expression::GreaterThanOrEqual(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
</a><a href="#h3-1-4" id="h3-1-4" class="i">+                (Integer(lhs), Integer(rhs)) =&gt; Boolean(lhs &gt;= rhs),
</a><a href="#h3-1-5" id="h3-1-5" class="i">+                (Integer(lhs), Float(rhs)) =&gt; Boolean(lhs as f64 &gt;= rhs),
</a><a href="#h3-1-6" id="h3-1-6" class="i">+                (Float(lhs), Integer(rhs)) =&gt; Boolean(lhs &gt;= rhs as f64),
</a><a href="#h3-1-7" id="h3-1-7" class="i">+                (Float(lhs), Float(rhs)) =&gt; Boolean(lhs &gt;= rhs),
</a><a href="#h3-1-8" id="h3-1-8" class="i">+                (lhs, rhs) =&gt; {
</a><a href="#h3-1-9" id="h3-1-9" class="i">+                    return Err(Error::Value(format!(&quot;Can&#39;t compare {} and {}&quot;, lhs, rhs)))
</a><a href="#h3-1-10" id="h3-1-10" class="i">+                }
</a><a href="#h3-1-11" id="h3-1-11" class="i">+            },
</a>             Expression::LesserThan(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
                 (Integer(lhs), Integer(rhs)) =&gt; Boolean(lhs &lt; rhs),
                 (Integer(lhs), Float(rhs)) =&gt; Boolean((lhs as f64) &lt; rhs),
<a href="#h3-2" id="h3-2" class="h">@@ -88,6 +100,15 @@ impl Expression {
</a>                     return Err(Error::Value(format!(&quot;Can&#39;t compare {} and {}&quot;, lhs, rhs)))
                 }
             },
<a href="#h3-2-3" id="h3-2-3" class="i">+            Expression::LesserThanOrEqual(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
</a><a href="#h3-2-4" id="h3-2-4" class="i">+                (Integer(lhs), Integer(rhs)) =&gt; Boolean(lhs &lt;= rhs),
</a><a href="#h3-2-5" id="h3-2-5" class="i">+                (Integer(lhs), Float(rhs)) =&gt; Boolean((lhs as f64) &lt;= rhs),
</a><a href="#h3-2-6" id="h3-2-6" class="i">+                (Float(lhs), Integer(rhs)) =&gt; Boolean(lhs &lt;= rhs as f64),
</a><a href="#h3-2-7" id="h3-2-7" class="i">+                (Float(lhs), Float(rhs)) =&gt; Boolean(lhs &lt;= rhs),
</a><a href="#h3-2-8" id="h3-2-8" class="i">+                (lhs, rhs) =&gt; {
</a><a href="#h3-2-9" id="h3-2-9" class="i">+                    return Err(Error::Value(format!(&quot;Can&#39;t compare {} and {}&quot;, lhs, rhs)))
</a><a href="#h3-2-10" id="h3-2-10" class="i">+                }
</a><a href="#h3-2-11" id="h3-2-11" class="i">+            },
</a>             Expression::Modulo(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
                 // The % operator in Rust is remainder, not modulo, so we have to do a bit of
                 // acrobatics to make it work right
<a href="#h3-3" id="h3-3" class="h">@@ -117,6 +138,16 @@ impl Expression {
</a>                 Boolean(b) =&gt; Boolean(!b),
                 value =&gt; return Err(Error::Value(format!(&quot;Can&#39;t negate {}&quot;, value))),
             },
<a href="#h3-3-3" id="h3-3-3" class="i">+            #[allow(clippy::float_cmp)] // Up to the user if they want to compare or not
</a><a href="#h3-3-4" id="h3-3-4" class="i">+            Expression::NotEqual(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
</a><a href="#h3-3-5" id="h3-3-5" class="i">+                (Integer(lhs), Integer(rhs)) =&gt; Boolean(lhs != rhs),
</a><a href="#h3-3-6" id="h3-3-6" class="i">+                (Integer(lhs), Float(rhs)) =&gt; Boolean(lhs as f64 != rhs),
</a><a href="#h3-3-7" id="h3-3-7" class="i">+                (Float(lhs), Integer(rhs)) =&gt; Boolean(lhs != rhs as f64),
</a><a href="#h3-3-8" id="h3-3-8" class="i">+                (Float(lhs), Float(rhs)) =&gt; Boolean(lhs != rhs),
</a><a href="#h3-3-9" id="h3-3-9" class="i">+                (lhs, rhs) =&gt; {
</a><a href="#h3-3-10" id="h3-3-10" class="i">+                    return Err(Error::Value(format!(&quot;Can&#39;t compare {} and {}&quot;, lhs, rhs)))
</a><a href="#h3-3-11" id="h3-3-11" class="i">+                }
</a><a href="#h3-3-12" id="h3-3-12" class="i">+            },
</a>             Expression::Or(lhs, rhs) =&gt; match (lhs.evaluate()?, rhs.evaluate()?) {
                 (Boolean(lhs), Boolean(rhs)) =&gt; Boolean(lhs || rhs),
                 (lhs, rhs) =&gt; return Err(Error::Value(format!(&quot;Can&#39;t or {} and {}&quot;, lhs, rhs))),
<b>diff --git a/<a id="h4" href="../file/src/sql/plan/planner.rs.html">src/sql/plan/planner.rs</a> b/<a href="../file/src/sql/plan/planner.rs.html">src/sql/plan/planner.rs</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -66,11 +66,14 @@ impl From&lt;ast::Expression&gt; for Expression {
</a>                 ast::Operation::Equals(lhs, rhs) =&gt; Self::Equals(lhs.into(), rhs.into()),
                 ast::Operation::Factorial(expr) =&gt; Self::Factorial(expr.into()),
                 ast::Operation::GreaterThan(lhs, rhs) =&gt; Self::GreaterThan(lhs.into(), rhs.into()),
<a href="#h4-0-3" id="h4-0-3" class="i">+                ast::Operation::GreaterThanOrEqual(lhs, rhs) =&gt; Self::GreaterThanOrEqual(lhs.into(), rhs.into()),
</a>                 ast::Operation::LesserThan(lhs, rhs) =&gt; Self::LesserThan(lhs.into(), rhs.into()),
<a href="#h4-0-5" id="h4-0-5" class="i">+                ast::Operation::LesserThanOrEqual(lhs, rhs) =&gt; Self::LesserThanOrEqual(lhs.into(), rhs.into()),
</a>                 ast::Operation::Modulo(lhs, rhs) =&gt; Self::Modulo(lhs.into(), rhs.into()),
                 ast::Operation::Multiply(lhs, rhs) =&gt; Self::Multiply(lhs.into(), rhs.into()),
                 ast::Operation::Negate(expr) =&gt; Self::Negate(expr.into()),
                 ast::Operation::Not(expr) =&gt; Self::Not(expr.into()),
<a href="#h4-0-10" id="h4-0-10" class="i">+                ast::Operation::NotEqual(lhs, rhs) =&gt; Self::NotEqual(lhs.into(), rhs.into()),
</a>                 ast::Operation::Or(lhs, rhs) =&gt; Self::Or(lhs.into(), rhs.into()),
                 ast::Operation::Subtract(lhs, rhs) =&gt; Self::Subtract(lhs.into(), rhs.into()),
             },
</pre>
</div>
</body>
</html>
