<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>White space around control verbs. - cgit - Web based git repository viewer
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="cgit.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="cgit.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
<script> hljs.highlightAll() ;</script>
<style>pre code.hljs {display: inline;padding: 0;} code.hljs {padding: 0;} .hljs {background: initial;} .hljs-comment{color: rgb(96, 96, 96);}</style></head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>cgit</h1><span class="desc">Web based git repository viewer
</span></td></tr><tr><td></td><td>
<br>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/.gitmodules.html">Submodules</a> | <a href="../file/README.html">README</a> | <a href="../file/COPYING.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/bdae1d8a8d39206ac75ab86f8e9ef53b2f29432e.html">bdae1d8a8d39206ac75ab86f8e9ef53b2f29432e</a>
<b>parent</b> <a href="../commit/53bc747d311d18642fa3ad0cc0de34f3899ed1f4.html">53bc747d311d18642fa3ad0cc0de34f3899ed1f4</a>
<b>Author:</b> Jason A. Donenfeld &lt;<a href="mailto:Jason@zx2c4.com">Jason@zx2c4.com</a>&gt;
<b>Date:</b>   Sun,  3 Mar 2013 23:21:33 -0500

White space around control verbs.

Signed-off-by: Jason A. Donenfeld &lt;Jason@zx2c4.com&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">cache.c</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">cgit.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h2">cmd.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">configfile.c</a></td><td> | </td><td class="num">6</td><td><span class="i">+++</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">html.c</a></td><td> | </td><td class="num">14</td><td><span class="i">+++++++</span><span class="d">-------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">parsing.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">scan-tree.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h7">shared.c</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h8">ui-blob.c</a></td><td> | </td><td class="num">8</td><td><span class="i">++++</span><span class="d">----</span></td></tr>
<tr><td class="M">M</td><td><a href="#h9">ui-diff.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h10">ui-refs.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h11">ui-repolist.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h12">ui-shared.c</a></td><td> | </td><td class="num">12</td><td><span class="i">++++++</span><span class="d">------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h13">ui-snapshot.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
<tr><td class="M">M</td><td><a href="#h14">ui-stats.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h15">ui-tree.c</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
</table></pre><pre>16 files changed, 42 insertions(+), 42 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/cache.c.html">cache.c</a> b/<a href="../file/cache.c.html">cache.c</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -214,7 +214,7 @@ unsigned long hash_str(const char *str)
</a> 	if (!s)
 		return h;
 
<a href="#h0-0-3" id="h0-0-3" class="d">-	while(*s) {
</a><a href="#h0-0-4" id="h0-0-4" class="i">+	while (*s) {
</a> 		h *= FNV_PRIME;
 		h ^= *s++;
 	}
<a href="#h0-1" id="h0-1" class="h">@@ -342,7 +342,7 @@ int cache_process(int size, const char *path, const char *key, int ttl,
</a> 	strcpy(filename, path);
 	if (filename[len - 1] != &#39;/&#39;)
 		filename[len++] = &#39;/&#39;;
<a href="#h0-1-3" id="h0-1-3" class="d">-	for(i = 0; i &lt; 8; i++) {
</a><a href="#h0-1-4" id="h0-1-4" class="i">+	for (i = 0; i &lt; 8; i++) {
</a> 		sprintf(filename + len++, &quot;%x&quot;,
 			(unsigned char)(hash &amp; 0xf));
 		hash &gt;&gt;= 4;
<a href="#h0-2" id="h0-2" class="h">@@ -407,7 +407,7 @@ int cache_ls(const char *path)
</a> 		*name = &#39;\0&#39;;
 	}
 	slot.cache_name = fullname;
<a href="#h0-2-3" id="h0-2-3" class="d">-	while((ent = readdir(dir)) != NULL) {
</a><a href="#h0-2-4" id="h0-2-4" class="i">+	while ((ent = readdir(dir)) != NULL) {
</a> 		if (strlen(ent-&gt;d_name) != 8)
 			continue;
 		strcpy(name, ent-&gt;d_name);
<b>diff --git a/<a id="h1" href="../file/cgit.c.html">cgit.c</a> b/<a href="../file/cgit.c.html">cgit.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -315,7 +315,7 @@ static void querystring_cb(const char *name, const char *value)
</a> 		ctx.qry.name = xstrdup(value);
 	} else if (!strcmp(name, &quot;mimetype&quot;)) {
 		ctx.qry.mimetype = xstrdup(value);
<a href="#h1-0-3" id="h1-0-3" class="d">-	} else if (!strcmp(name, &quot;s&quot;)){
</a><a href="#h1-0-4" id="h1-0-4" class="i">+	} else if (!strcmp(name, &quot;s&quot;)) {
</a> 		ctx.qry.sort = xstrdup(value);
 	} else if (!strcmp(name, &quot;showmsg&quot;)) {
 		ctx.qry.showmsg = atoi(value);
<a href="#h1-1" id="h1-1" class="h">@@ -653,7 +653,7 @@ void print_repolist(FILE *f, struct cgit_repolist *list, int start)
</a> {
 	int i;
 
<a href="#h1-1-3" id="h1-1-3" class="d">-	for(i = start; i &lt; list-&gt;count; i++)
</a><a href="#h1-1-4" id="h1-1-4" class="i">+	for (i = start; i &lt; list-&gt;count; i++)
</a> 		print_repo(f, &amp;list-&gt;repos[i]);
 }
 
<b>diff --git a/<a id="h2" href="../file/cmd.c.html">cmd.c</a> b/<a href="../file/cmd.c.html">cmd.c</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -166,7 +166,7 @@ struct cgit_cmd *cgit_get_cmd(struct cgit_context *ctx)
</a> 			ctx-&gt;qry.page = &quot;repolist&quot;;
 	}
 
<a href="#h2-0-3" id="h2-0-3" class="d">-	for(i = 0; i &lt; sizeof(cmds)/sizeof(*cmds); i++)
</a><a href="#h2-0-4" id="h2-0-4" class="i">+	for (i = 0; i &lt; sizeof(cmds)/sizeof(*cmds); i++)
</a> 		if (!strcmp(ctx-&gt;qry.page, cmds[i].name))
 			return &amp;cmds[i];
 	return NULL;
<b>diff --git a/<a id="h3" href="../file/configfile.c.html">configfile.c</a> b/<a href="../file/configfile.c.html">configfile.c</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -27,7 +27,7 @@ void skip_line(FILE *f)
</a> {
 	int c;
 
<a href="#h3-0-3" id="h3-0-3" class="d">-	while((c = next_char(f)) &amp;&amp; c != &#39;\n&#39; &amp;&amp; c != EOF)
</a><a href="#h3-0-4" id="h3-0-4" class="i">+	while ((c = next_char(f)) &amp;&amp; c != &#39;\n&#39; &amp;&amp; c != EOF)
</a> 		;
 }
 
<a href="#h3-1" id="h3-1" class="h">@@ -36,7 +36,7 @@ int read_config_line(FILE *f, char *line, const char **value, int bufsize)
</a> 	int i = 0, isname = 0;
 
 	*value = NULL;
<a href="#h3-1-3" id="h3-1-3" class="d">-	while(i &lt; bufsize - 1) {
</a><a href="#h3-1-4" id="h3-1-4" class="i">+	while (i &lt; bufsize - 1) {
</a> 		int c = next_char(f);
 		if (!isname &amp;&amp; (c == &#39;#&#39; || c == &#39;;&#39;)) {
 			skip_line(f);
<a href="#h3-2" id="h3-2" class="h">@@ -78,7 +78,7 @@ int parse_configfile(const char *filename, configfile_value_fn fn)
</a> 	if (!(f = fopen(filename, &quot;r&quot;)))
 		return -1;
 	nesting++;
<a href="#h3-2-3" id="h3-2-3" class="d">-	while((len = read_config_line(f, line, &amp;value, sizeof(line))) &gt; 0)
</a><a href="#h3-2-4" id="h3-2-4" class="i">+	while ((len = read_config_line(f, line, &amp;value, sizeof(line))) &gt; 0)
</a> 		fn(line, value);
 	nesting--;
 	fclose(f);
<b>diff --git a/<a id="h4" href="../file/html.c.html">html.c</a> b/<a href="../file/html.c.html">html.c</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -92,7 +92,7 @@ void html_status(int code, const char *msg, int more_headers)
</a> void html_txt(const char *txt)
 {
 	const char *t = txt;
<a href="#h4-0-3" id="h4-0-3" class="d">-	while(t &amp;&amp; *t){
</a><a href="#h4-0-4" id="h4-0-4" class="i">+	while (t &amp;&amp; *t) {
</a> 		int c = *t;
 		if (c == &#39;&lt;&#39; || c == &#39;&gt;&#39; || c == &#39;&amp;&#39;) {
 			html_raw(txt, t - txt);
<a href="#h4-1" id="h4-1" class="h">@@ -113,7 +113,7 @@ void html_txt(const char *txt)
</a> void html_ntxt(int len, const char *txt)
 {
 	const char *t = txt;
<a href="#h4-1-3" id="h4-1-3" class="d">-	while(t &amp;&amp; *t &amp;&amp; len--){
</a><a href="#h4-1-4" id="h4-1-4" class="i">+	while (t &amp;&amp; *t &amp;&amp; len--) {
</a> 		int c = *t;
 		if (c == &#39;&lt;&#39; || c == &#39;&gt;&#39; || c == &#39;&amp;&#39;) {
 			html_raw(txt, t - txt);
<a href="#h4-2" id="h4-2" class="h">@@ -136,7 +136,7 @@ void html_ntxt(int len, const char *txt)
</a> void html_attr(const char *txt)
 {
 	const char *t = txt;
<a href="#h4-2-3" id="h4-2-3" class="d">-	while(t &amp;&amp; *t){
</a><a href="#h4-2-4" id="h4-2-4" class="i">+	while (t &amp;&amp; *t) {
</a> 		int c = *t;
 		if (c == &#39;&lt;&#39; || c == &#39;&gt;&#39; || c == &#39;\&#39;&#39; || c == &#39;\&quot;&#39; || c == &#39;&amp;&#39;) {
 			html_raw(txt, t - txt);
<a href="#h4-3" id="h4-3" class="h">@@ -161,7 +161,7 @@ void html_attr(const char *txt)
</a> void html_url_path(const char *txt)
 {
 	const char *t = txt;
<a href="#h4-3-3" id="h4-3-3" class="d">-	while(t &amp;&amp; *t){
</a><a href="#h4-3-4" id="h4-3-4" class="i">+	while (t &amp;&amp; *t) {
</a> 		unsigned char c = *t;
 		const char *e = url_escape_table[c];
 		if (e &amp;&amp; c != &#39;+&#39; &amp;&amp; c != &#39;&amp;&#39;) {
<a href="#h4-4" id="h4-4" class="h">@@ -178,7 +178,7 @@ void html_url_path(const char *txt)
</a> void html_url_arg(const char *txt)
 {
 	const char *t = txt;
<a href="#h4-4-3" id="h4-4-3" class="d">-	while(t &amp;&amp; *t){
</a><a href="#h4-4-4" id="h4-4-4" class="i">+	while (t &amp;&amp; *t) {
</a> 		unsigned char c = *t;
 		const char *e = url_escape_table[c];
 		if (c == &#39; &#39;)
<a href="#h4-5" id="h4-5" class="h">@@ -260,7 +260,7 @@ int html_include(const char *filename)
</a> 			filename, strerror(errno), errno);
 		return -1;
 	}
<a href="#h4-5-3" id="h4-5-3" class="d">-	while((len = fread(buf, 1, 4096, f)) &gt; 0)
</a><a href="#h4-5-4" id="h4-5-4" class="i">+	while ((len = fread(buf, 1, 4096, f)) &gt; 0)
</a> 		html_raw(buf, len);
 	fclose(f);
 	return 0;
<a href="#h4-6" id="h4-6" class="h">@@ -310,7 +310,7 @@ int http_parse_querystring(const char *txt_, void (*fn)(const char *name, const 
</a> 		printf(&quot;Out of memory\n&quot;);
 		exit(1);
 	}
<a href="#h4-6-3" id="h4-6-3" class="d">-	while((c=*t) != &#39;\0&#39;) {
</a><a href="#h4-6-4" id="h4-6-4" class="i">+	while ((c=*t) != &#39;\0&#39;) {
</a> 		if (c == &#39;=&#39;) {
 			*t = &#39;\0&#39;;
 			value = t + 1;
<b>diff --git a/<a id="h5" href="../file/parsing.c.html">parsing.c</a> b/<a href="../file/parsing.c.html">parsing.c</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -112,7 +112,7 @@ const char *reencode(char **txt, const char *src_enc, const char *dst_enc)
</a> 		return *txt;
 
 	/* no encoding needed if src_enc equals dst_enc */
<a href="#h5-0-3" id="h5-0-3" class="d">-	if(!strcasecmp(src_enc, dst_enc))
</a><a href="#h5-0-4" id="h5-0-4" class="i">+	if (!strcasecmp(src_enc, dst_enc))
</a> 		return *txt;
 
 	tmp = reencode_string(*txt, dst_enc, src_enc);
<a href="#h5-1" id="h5-1" class="h">@@ -170,7 +170,7 @@ struct commitinfo *cgit_parse_commit(struct commit *commit)
</a> 	}
 
 	/* if no special encoding is found, assume UTF-8 */
<a href="#h5-1-3" id="h5-1-3" class="d">-	if(!ret-&gt;msg_encoding)
</a><a href="#h5-1-4" id="h5-1-4" class="i">+	if (!ret-&gt;msg_encoding)
</a> 		ret-&gt;msg_encoding = xstrdup(&quot;UTF-8&quot;);
 
 	// skip unknown header fields
<b>diff --git a/<a id="h6" href="../file/scan-tree.c.html">scan-tree.c</a> b/<a href="../file/scan-tree.c.html">scan-tree.c</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -185,7 +185,7 @@ static void scan_path(const char *base, const char *path, repo_config_fn fn)
</a> 		add_repo(base, fmt(&quot;%s/.git&quot;, path), fn);
 		goto end;
 	}
<a href="#h6-0-3" id="h6-0-3" class="d">-	while((ent = readdir(dir)) != NULL) {
</a><a href="#h6-0-4" id="h6-0-4" class="i">+	while ((ent = readdir(dir)) != NULL) {
</a> 		if (ent-&gt;d_name[0] == &#39;.&#39;) {
 			if (ent-&gt;d_name[1] == &#39;\0&#39;)
 				continue;
<b>diff --git a/<a id="h7" href="../file/shared.c.html">shared.c</a> b/<a href="../file/shared.c.html">shared.c</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -108,7 +108,7 @@ char *trim_end(const char *str, char c)
</a> 	if (str == NULL)
 		return NULL;
 	len = strlen(str);
<a href="#h7-0-3" id="h7-0-3" class="d">-	while(len &gt; 0 &amp;&amp; str[len - 1] == c)
</a><a href="#h7-0-4" id="h7-0-4" class="i">+	while (len &gt; 0 &amp;&amp; str[len - 1] == c)
</a> 		len--;
 	if (len == 0)
 		return NULL;
<a href="#h7-1" id="h7-1" class="h">@@ -351,16 +351,16 @@ int cgit_parse_snapshots_mask(const char *str)
</a> 	int tl, sl, rv = 0;
 
 	/* favor legacy setting */
<a href="#h7-1-3" id="h7-1-3" class="d">-	if(atoi(str))
</a><a href="#h7-1-4" id="h7-1-4" class="i">+	if (atoi(str))
</a> 		return 1;
<a href="#h7-1-6" id="h7-1-6" class="d">-	for(;;) {
</a><a href="#h7-1-7" id="h7-1-7" class="i">+	for (;;) {
</a> 		str += strspn(str, delim);
 		tl = strcspn(str, delim);
 		if (!tl)
 			break;
 		for (f = cgit_snapshot_formats; f-&gt;suffix; f++) {
 			sl = strlen(f-&gt;suffix);
<a href="#h7-1-14" id="h7-1-14" class="d">-			if((tl == sl &amp;&amp; !strncmp(f-&gt;suffix, str, tl)) ||
</a><a href="#h7-1-15" id="h7-1-15" class="i">+			if ((tl == sl &amp;&amp; !strncmp(f-&gt;suffix, str, tl)) ||
</a> 			   (tl == sl - 1 &amp;&amp; !strncmp(f-&gt;suffix + 1, str, tl - 1))) {
 				rv |= f-&gt;bit;
 				break;
<b>diff --git a/<a id="h8" href="../file/ui-blob.c.html">ui-blob.c</a> b/<a href="../file/ui-blob.c.html">ui-blob.c</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -17,7 +17,7 @@ static int found_path;
</a> 
 static int walk_tree(const unsigned char *sha1, const char *base, int baselen,
 	const char *pathname, unsigned mode, int stage, void *cbdata) {
<a href="#h8-0-3" id="h8-0-3" class="d">-	if(strncmp(base, match_path, baselen)
</a><a href="#h8-0-4" id="h8-0-4" class="i">+	if (strncmp(base, match_path, baselen)
</a> 		|| strcmp(match_path + baselen, pathname))
 		return READ_TREE_RECURSIVE;
 	memmove(matched_sha1, sha1, 20);
<a href="#h8-1" id="h8-1" class="h">@@ -43,7 +43,7 @@ int cgit_print_file(char *path, const char *head)
</a> 	if (get_sha1(head, sha1))
 		return -1;
 	type = sha1_object_info(sha1, &amp;size);
<a href="#h8-1-3" id="h8-1-3" class="d">-	if(type == OBJ_COMMIT &amp;&amp; path) {
</a><a href="#h8-1-4" id="h8-1-4" class="i">+	if (type == OBJ_COMMIT &amp;&amp; path) {
</a> 		commit = lookup_commit_reference(sha1);
 		match_path = path;
 		matched_sha1 = sha1;
<a href="#h8-2" id="h8-2" class="h">@@ -80,7 +80,7 @@ void cgit_print_blob(const char *hex, char *path, const char *head)
</a> 	};
 
 	if (hex) {
<a href="#h8-2-3" id="h8-2-3" class="d">-		if (get_sha1_hex(hex, sha1)){
</a><a href="#h8-2-4" id="h8-2-4" class="i">+		if (get_sha1_hex(hex, sha1)) {
</a> 			cgit_print_error(fmt(&quot;Bad hex value: %s&quot;, hex));
 			return;
 		}
<a href="#h8-3" id="h8-3" class="h">@@ -93,7 +93,7 @@ void cgit_print_blob(const char *hex, char *path, const char *head)
</a> 
 	type = sha1_object_info(sha1, &amp;size);
 
<a href="#h8-3-3" id="h8-3-3" class="d">-	if((!hex) &amp;&amp; type == OBJ_COMMIT &amp;&amp; path) {
</a><a href="#h8-3-4" id="h8-3-4" class="i">+	if ((!hex) &amp;&amp; type == OBJ_COMMIT &amp;&amp; path) {
</a> 		commit = lookup_commit_reference(sha1);
 		match_path = path;
 		matched_sha1 = sha1;
<b>diff --git a/<a id="h9" href="../file/ui-diff.c.html">ui-diff.c</a> b/<a href="../file/ui-diff.c.html">ui-diff.c</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -184,7 +184,7 @@ void cgit_print_diffstat(const unsigned char *old_sha1,
</a> 	max_changes = 0;
 	cgit_diff_tree(old_sha1, new_sha1, inspect_filepair, prefix,
 		       ctx.qry.ignorews);
<a href="#h9-0-3" id="h9-0-3" class="d">-	for(i = 0; i&lt;files; i++)
</a><a href="#h9-0-4" id="h9-0-4" class="i">+	for (i = 0; i&lt;files; i++)
</a> 		print_fileinfo(&amp;items[i]);
 	html(&quot;&lt;/table&gt;&quot;);
 	html(&quot;&lt;div class=&#39;diffstat-summary&#39;&gt;&quot;);
<b>diff --git a/<a id="h10" href="../file/ui-refs.c.html">ui-refs.c</a> b/<a href="../file/ui-refs.c.html">ui-refs.c</a></b>
<a href="#h10-0" id="h10-0" class="h">@@ -200,7 +200,7 @@ void cgit_print_branches(int maxcount)
</a> 		qsort(list.refs, maxcount, sizeof(*list.refs), cmp_ref_name);
 	}
 
<a href="#h10-0-3" id="h10-0-3" class="d">-	for(i = 0; i &lt; maxcount; i++)
</a><a href="#h10-0-4" id="h10-0-4" class="i">+	for (i = 0; i &lt; maxcount; i++)
</a> 		print_branch(list.refs[i]);
 
 	if (maxcount &lt; list.count)
<a href="#h10-1" id="h10-1" class="h">@@ -224,7 +224,7 @@ void cgit_print_tags(int maxcount)
</a> 	else if (maxcount &gt; list.count)
 		maxcount = list.count;
 	print_tag_header();
<a href="#h10-1-3" id="h10-1-3" class="d">-	for(i = 0; i &lt; maxcount; i++)
</a><a href="#h10-1-4" id="h10-1-4" class="i">+	for (i = 0; i &lt; maxcount; i++)
</a> 		print_tag(list.refs[i]);
 
 	if (maxcount &lt; list.count)
<b>diff --git a/<a id="h11" href="../file/ui-repolist.c.html">ui-repolist.c</a> b/<a href="../file/ui-repolist.c.html">ui-repolist.c</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -129,7 +129,7 @@ void print_pager(int items, int pagelen, char *search, char *sort)
</a> 	int i, ofs;
 	char *class = NULL;
 	html(&quot;&lt;div class=&#39;pager&#39;&gt;&quot;);
<a href="#h11-0-3" id="h11-0-3" class="d">-	for(i = 0, ofs = 0; ofs &lt; items; i++, ofs = i * pagelen) {
</a><a href="#h11-0-4" id="h11-0-4" class="i">+	for (i = 0, ofs = 0; ofs &lt; items; i++, ofs = i * pagelen) {
</a> 		class = (ctx.qry.ofs == ofs) ? &quot;current&quot; : NULL;
 		cgit_index_link(fmt(&quot;[%d]&quot;, i + 1), fmt(&quot;Page %d&quot;, i + 1),
 				class, search, sort, ofs);
<a href="#h11-1" id="h11-1" class="h">@@ -258,7 +258,7 @@ void cgit_print_repolist()
</a> 	if (ctx.cfg.index_header)
 		html_include(ctx.cfg.index_header);
 
<a href="#h11-1-3" id="h11-1-3" class="d">-	if(ctx.qry.sort)
</a><a href="#h11-1-4" id="h11-1-4" class="i">+	if (ctx.qry.sort)
</a> 		sorted = sort_repolist(ctx.qry.sort);
 	else if (ctx.cfg.section_sort)
 		sort_repolist(&quot;section&quot;);
<b>diff --git a/<a id="h12" href="../file/ui-shared.c.html">ui-shared.c</a> b/<a href="../file/ui-shared.c.html">ui-shared.c</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -103,20 +103,20 @@ const char *cgit_repobasename(const char *reponame)
</a> 	int p;
 	const char *rv;
 	strncpy(rvbuf, reponame, sizeof(rvbuf));
<a href="#h12-0-3" id="h12-0-3" class="d">-	if(rvbuf[sizeof(rvbuf)-1])
</a><a href="#h12-0-4" id="h12-0-4" class="i">+	if (rvbuf[sizeof(rvbuf)-1])
</a> 		die(&quot;cgit_repobasename: truncated repository name &#39;%s&#39;&quot;, reponame);
 	p = strlen(rvbuf)-1;
 	/* strip trailing slashes */
<a href="#h12-0-8" id="h12-0-8" class="d">-	while(p &amp;&amp; rvbuf[p] == &#39;/&#39;) rvbuf[p--] = 0;
</a><a href="#h12-0-9" id="h12-0-9" class="i">+	while (p &amp;&amp; rvbuf[p] == &#39;/&#39;) rvbuf[p--] = 0;
</a> 	/* strip trailing .git */
<a href="#h12-0-11" id="h12-0-11" class="d">-	if(p &gt;= 3 &amp;&amp; !strncmp(&amp;rvbuf[p-3], &quot;.git&quot;, 4)) {
</a><a href="#h12-0-12" id="h12-0-12" class="i">+	if (p &gt;= 3 &amp;&amp; !strncmp(&amp;rvbuf[p-3], &quot;.git&quot;, 4)) {
</a> 		p -= 3; rvbuf[p--] = 0;
 	}
 	/* strip more trailing slashes if any */
<a href="#h12-0-16" id="h12-0-16" class="d">-	while( p &amp;&amp; rvbuf[p] == &#39;/&#39;) rvbuf[p--] = 0;
</a><a href="#h12-0-17" id="h12-0-17" class="i">+	while ( p &amp;&amp; rvbuf[p] == &#39;/&#39;) rvbuf[p--] = 0;
</a> 	/* find last slash in the remaining string */
 	rv = strrchr(rvbuf,&#39;/&#39;);
<a href="#h12-0-20" id="h12-0-20" class="d">-	if(rv)
</a><a href="#h12-0-21" id="h12-0-21" class="i">+	if (rv)
</a> 		return ++rv;
 	return rvbuf;
 }
<a href="#h12-1" id="h12-1" class="h">@@ -576,7 +576,7 @@ void cgit_print_date(time_t secs, const char *format, int local_time)
</a> 
 	if (!secs)
 		return;
<a href="#h12-1-3" id="h12-1-3" class="d">-	if(local_time)
</a><a href="#h12-1-4" id="h12-1-4" class="i">+	if (local_time)
</a> 		time = localtime(&amp;secs);
 	else
 		time = gmtime(&amp;secs);
<b>diff --git a/<a id="h13" href="../file/ui-snapshot.c.html">ui-snapshot.c</a> b/<a href="../file/ui-snapshot.c.html">ui-snapshot.c</a></b>
<a href="#h13-0" id="h13-0" class="h">@@ -72,7 +72,7 @@ const struct cgit_snapshot_format cgit_snapshot_formats[] = {
</a> 	{ &quot;.tar.bz2&quot;, &quot;application/x-bzip2&quot;, write_tar_bzip2_archive, 0x04 },
 	{ &quot;.tar&quot;, &quot;application/x-tar&quot;, write_tar_archive, 0x08 },
 	{ &quot;.tar.xz&quot;, &quot;application/x-xz&quot;, write_tar_xz_archive, 0x10 },
<a href="#h13-0-3" id="h13-0-3" class="d">-	{}
</a><a href="#h13-0-4" id="h13-0-4" class="i">+	{ NULL }
</a> };
 
 static const struct cgit_snapshot_format *get_format(const char *filename)
<a href="#h13-1" id="h13-1" class="h">@@ -81,7 +81,7 @@ static const struct cgit_snapshot_format *get_format(const char *filename)
</a> 	int fl, sl;
 
 	fl = strlen(filename);
<a href="#h13-1-3" id="h13-1-3" class="d">-	for(fmt = cgit_snapshot_formats; fmt-&gt;suffix; fmt++) {
</a><a href="#h13-1-4" id="h13-1-4" class="i">+	for (fmt = cgit_snapshot_formats; fmt-&gt;suffix; fmt++) {
</a> 		sl = strlen(fmt-&gt;suffix);
 		if (sl &gt;= fl)
 			continue;
<b>diff --git a/<a id="h14" href="../file/ui-stats.c.html">ui-stats.c</a> b/<a href="../file/ui-stats.c.html">ui-stats.c</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -83,7 +83,7 @@ static char *pretty_month(struct tm *tm)
</a> static void trunc_quarter(struct tm *tm)
 {
 	trunc_month(tm);
<a href="#h14-0-3" id="h14-0-3" class="d">-	while(tm-&gt;tm_mon % 3 != 0)
</a><a href="#h14-0-4" id="h14-0-4" class="i">+	while (tm-&gt;tm_mon % 3 != 0)
</a> 		dec_month(tm);
 }
 
<b>diff --git a/<a id="h15" href="../file/ui-tree.c.html">ui-tree.c</a> b/<a href="../file/ui-tree.c.html">ui-tree.c</a></b>
<a href="#h15-0" id="h15-0" class="h">@@ -30,7 +30,7 @@ static void print_text_buffer(const char *name, char *buf, unsigned long size)
</a> 
 		if (size) {
 			htmlf(numberfmt, ++lineno);
<a href="#h15-0-3" id="h15-0-3" class="d">-			while(idx &lt; size - 1) { // skip absolute last newline
</a><a href="#h15-0-4" id="h15-0-4" class="i">+			while (idx &lt; size - 1) { // skip absolute last newline
</a> 				if (buf[idx] == &#39;\n&#39;)
 					htmlf(numberfmt, ++lineno);
 				idx++;
</pre>
</div>
</body>
</html>
