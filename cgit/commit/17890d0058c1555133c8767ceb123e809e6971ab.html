<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Add link to index page from repo header, remove page name - cgit - Web based git repository viewer
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="cgit.git Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="cgit.git Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
<script> hljs.highlightAll() ;</script>
<style>pre code.hljs {display: inline;padding: 0;} code.hljs {padding: 0;} .hljs {background: initial;} .hljs-comment{color: rgb(96, 96, 96);}</style></head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>cgit</h1><span class="desc">Web based git repository viewer
</span></td></tr><tr><td></td><td>
<br>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/.gitmodules.html">Submodules</a> | <a href="../file/README.html">README</a> | <a href="../file/COPYING.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/17890d0058c1555133c8767ceb123e809e6971ab.html">17890d0058c1555133c8767ceb123e809e6971ab</a>
<b>parent</b> <a href="../commit/aa3c4486b41b8b13d0f52477f033837fc8bb9524.html">aa3c4486b41b8b13d0f52477f033837fc8bb9524</a>
<b>Author:</b> Lars Hjemli &lt;<a href="mailto:hjemli@gmail.com">hjemli@gmail.com</a>&gt;
<b>Date:</b>   Sat,  3 May 2008 12:44:20 +0200

Add link to index page from repo header, remove page name

This makes it more obvious how to get back to the index, especially when the
config option `logo-link` is used. And the page name displayed in the header
provided no extra information. It only consumed space and deserved to die.

While at it, make sure that the different parts of the header doesn&#39;t wrap
when horizontal space is limited.

Signed-off-by: Lars Hjemli &lt;hjemli@gmail.com&gt;

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">cgit.css</a></td><td> | </td><td class="num">3</td><td><span class="i">+++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h1">ui-shared.c</a></td><td> | </td><td class="num">4</td><td><span class="i">++</span><span class="d">--</span></td></tr>
</table></pre><pre>2 files changed, 5 insertions(+), 2 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/cgit.css.html">cgit.css</a> b/<a href="../file/cgit.css.html">cgit.css</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -36,6 +36,7 @@ table#header td.logo {
</a> table#header td.main {
 	font-size: 250%;
 	padding-left: 10px;
<a href="#h0-0-3" id="h0-0-3" class="i">+	white-space: nowrap;
</a> }
 
 table#header td.main a {
<a href="#h0-1" id="h0-1" class="h">@@ -47,6 +48,7 @@ table#header td.form {
</a> 	vertical-align: bottom;
 	padding-right: 1em;
 	padding-bottom: 2px;
<a href="#h0-1-3" id="h0-1-3" class="i">+	white-space: nowrap;
</a> }
 
 table#header td.form form,
<a href="#h0-2" id="h0-2" class="h">@@ -92,6 +94,7 @@ table.tabs td.form {
</a> table.tabs td.form form {
 	padding-bottom: 2px;
 	font-size: 90%;
<a href="#h0-2-3" id="h0-2-3" class="i">+	white-space: nowrap;
</a> }
 
 table.tabs td.form input,
<b>diff --git a/<a id="h1" href="../file/ui-shared.c.html">ui-shared.c</a> b/<a href="../file/ui-shared.c.html">ui-shared.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -545,10 +545,10 @@ void cgit_print_pageheader(struct cgit_context *ctx)
</a> 
 	html(&quot;&lt;td class=&#39;main&#39;&gt;&quot;);
 	if (ctx-&gt;repo) {
<a href="#h1-0-3" id="h1-0-3" class="i">+		cgit_index_link(&quot;index&quot;, NULL, NULL, NULL, 0);
</a><a href="#h1-0-4" id="h1-0-4" class="i">+		html(&quot; : &quot;);
</a> 		reporevlink(NULL, ctx-&gt;repo-&gt;name, NULL, hc(cmd, &quot;summary&quot;),
 			    ctx-&gt;qry.head, NULL, NULL);
<a href="#h1-0-7" id="h1-0-7" class="d">-		html(&quot; : &quot;);
</a><a href="#h1-0-8" id="h1-0-8" class="d">-		html_txt(ctx-&gt;qry.page);
</a> 		html(&quot;&lt;/td&gt;&lt;td class=&#39;form&#39;&gt;&quot;);
 		html(&quot;&lt;form method=&#39;get&#39; action=&#39;&#39;&gt;\n&quot;);
 		add_hidden_formfields(0, 1, ctx-&gt;qry.page);
</pre>
</div>
</body>
</html>
