<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Final - Remote-Code-Command-execution - A naive ssh clone
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="Remote-Code-Command-execution Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="Remote-Code-Command-execution Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<script>
const prefersLightTheme = window.matchMedia('(prefers-color-scheme: light)');
if (prefersLightTheme.matches) {
var link = document.createElement('link');
link.rel = 'stylesheet';
link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/xcode.css'; // brown-paper, intellij-light.css
document.head.appendChild(link);
}
else {
var link = document.createElement('link');
link.rel = 'stylesheet';
link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css';
document.head.appendChild(link);
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
<script> hljs.highlightAll() ;</script>
<style>
pre code.hljs {
display: inline;
padding: 0;
font-family: "Source Code Pro", monospace;
font-optical-sizing: auto;
font-weight: 500;
font-style: normal;
}
code.hljs {padding: 0;}
.hljs {background: initial;}
@media (prefers-color-scheme: dark) {
.hljs-comment{color: rgb(100, 100, 100);}
}
</style>
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>Remote-Code-Command-execution</h1><span class="desc">A naive ssh clone
</span></td></tr><tr class="url"><td></td><td>git clone <a href="https://github.com/abdulrahim2002/Remote-Code-Command-execution">https://github.com/abdulrahim2002/Remote-Code-Command-execution</a></td></tr><tr><td></td><td>
<br>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/0b725735c9a88189f81303331195f25c95b210ac.html">0b725735c9a88189f81303331195f25c95b210ac</a>
<b>parent</b> <a href="../commit/c6d32c72998f64f029741416b7dc890748f067f1.html">c6d32c72998f64f029741416b7dc890748f067f1</a>
<b>Author:</b> CO20328 &lt;<a href="mailto:88075157+CO20328@users.noreply.github.com">88075157+CO20328@users.noreply.github.com</a>&gt;
<b>Date:</b>   Thu,  3 Aug 2023 10:48:35 +0530

Final

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">README.md</a></td><td> | </td><td class="num">26</td><td><span class="i">++++++++++++++++</span><span class="d">----------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">__pycache__/utility.cpython-311.pyc</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">instructions.txt</a></td><td> | </td><td class="num">39</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">prog1.c</a></td><td> | </td><td class="num">2</td><td><span class="i">++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">run.exe</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="D">D</td><td><a href="#h5">telnetServer copy.py</a></td><td> | </td><td class="num">140</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">telnetServer.py</a></td><td> | </td><td class="num">5</td><td><span class="i">++</span><span class="d">---</span></td></tr>
</table></pre><pre>7 files changed, 59 insertions(+), 153 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/README.md.html">README.md</a> b/<a href="../file/README.md.html">README.md</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,25 +1,31 @@
</a> 
 # Remote Code and Command Execution
 
<a href="#h0-0-3" id="h0-0-3" class="d">-A python implementation of remote code and command execution. Using the provided code you can connect 2 machines and remotely execute commands from one machine to another. It also features live video streaming/screen sharing. Which means that while executing commands on the remote machine you can see what change those executions are making.
</a><a href="#h0-0-4" id="h0-0-4" class="i">+A python implementation of remote code/command execution. Using the code you can connect 2 machines and remotely execute commands from one machine to another. Initially implemented as telnet client, It also features live video streaming/screen sharing. Which means that while executing commands on the remote machine you can see what change those executions are making. **Batch scripts are used to file programs within programs**.
</a> 
<a href="#h0-0-6" id="h0-0-6" class="i">+# Video Demonstration
</a> 
<a href="#h0-0-8" id="h0-0-8" class="i">+Watch on youtube: [youtube link](https://youtu.be/2l4CWBmEw50)
</a><a href="#h0-0-9" id="h0-0-9" class="i">+
</a><a href="#h0-0-10" id="h0-0-10" class="i">+### Part 1
</a><a href="#h0-0-11" id="h0-0-11" class="i">+https://github.com/abdulrahim2002/Remote-Code-Command-execution/assets/89011337/362e68f7-d01b-483f-99d9-5988dba84b22
</a><a href="#h0-0-12" id="h0-0-12" class="i">+
</a><a href="#h0-0-13" id="h0-0-13" class="i">+### Part 2
</a><a href="#h0-0-14" id="h0-0-14" class="i">+https://github.com/abdulrahim2002/Remote-Code-Command-execution/assets/89011337/18361527-01f2-4a9d-8b83-0edd5ef8cf14
</a> 
 
 ## Features
 
<a href="#h0-0-19" id="h0-0-19" class="d">-* Live screen sharing
</a><a href="#h0-0-20" id="h0-0-20" class="d">-* Remotely use server machine&#39;s keyboard. 
</a><a href="#h0-0-21" id="h0-0-21" class="i">+* **Live screen sharing**
</a><a href="#h0-0-22" id="h0-0-22" class="i">+* Remotely **use** **server machine&#39;s keyboard**. 
</a><a href="#h0-0-23" id="h0-0-23" class="i">+    e.g. usage: you can open a text file on the remote machine. then you can write anything in that text file using !! before your text written in prompt. Once done you can save the file using !ctrl~s Command.
</a> 
<a href="#h0-0-25" id="h0-0-25" class="d">-    e.g. usage: you can open a text file on the remote machine. then you can write anything in that text file using !! before your text written in prompt. Once done you can save the file using !Ctrl + S. Command.
</a><a href="#h0-0-26" id="h0-0-26" class="i">+* Authentication. The server machine is secured by **OTP(one time password)** which is generated at runtime randomly.
</a><a href="#h0-0-27" id="h0-0-27" class="i">+  
</a><a href="#h0-0-28" id="h0-0-28" class="i">+# Working
</a><a href="#h0-0-29" id="h0-0-29" class="i">+The client machine sends commands to server machine, where they get executed, and the result is returned. The client machine can also **write something using server&#39;s keyboard**. The client&#39;s machine can also **send shortcuts** like ctrl+s(save) and win+d(jump to desktop), alt+tab(next program). The possibilities are endless, with what you can do with it.
</a> 
<a href="#h0-0-31" id="h0-0-31" class="d">-* Authentication. The server machine is secured by OTP(one time password) which is generated at runtime randomly.
</a> ## Authors
 
 - [@amrindersingh](co20305@ccet.ac.in)
 - [@abdulrahim2002](co20301@ccet.ac.in)
<a href="#h0-0-36" id="h0-0-36" class="d">-
</a><a href="#h0-0-37" id="h0-0-37" class="d">-
</a><a href="#h0-0-38" id="h0-0-38" class="d">-## Documentation
</a><a href="#h0-0-39" id="h0-0-39" class="d">-
</a><a href="#h0-0-40" id="h0-0-40" class="d">-
</a><b>diff --git a/<a id="h1" href="../file/__pycache__/utility.cpython-311.pyc.html">__pycache__/utility.cpython-311.pyc</a> b/<a href="../file/__pycache__/utility.cpython-311.pyc.html">__pycache__/utility.cpython-311.pyc</a></b>
Binary files differ.
<b>diff --git a/<a id="h2" href="../file/instructions.txt.html">instructions.txt</a> b/<a href="../file/instructions.txt.html">instructions.txt</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,38 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+Instructions:
</a><a href="#h2-0-1" id="h2-0-1" class="i">+
</a><a href="#h2-0-2" id="h2-0-2" class="i">+# add contents
</a><a href="#h2-0-3" id="h2-0-3" class="i">+echo Hello, World! &gt;&gt; my_file.txt
</a><a href="#h2-0-4" id="h2-0-4" class="i">+
</a><a href="#h2-0-5" id="h2-0-5" class="i">+type my_file.txt # display the contents
</a><a href="#h2-0-6" id="h2-0-6" class="i">+
</a><a href="#h2-0-7" id="h2-0-7" class="i">+# make a new file
</a><a href="#h2-0-8" id="h2-0-8" class="i">+echo. &gt; new.txt
</a><a href="#h2-0-9" id="h2-0-9" class="i">+
</a><a href="#h2-0-10" id="h2-0-10" class="i">+# to read contents
</a><a href="#h2-0-11" id="h2-0-11" class="i">+type file.txt 
</a><a href="#h2-0-12" id="h2-0-12" class="i">+
</a><a href="#h2-0-13" id="h2-0-13" class="i">+# notepad commands
</a><a href="#h2-0-14" id="h2-0-14" class="i">+notepad file.txt # opens notepad
</a><a href="#h2-0-15" id="h2-0-15" class="i">+
</a><a href="#h2-0-16" id="h2-0-16" class="i">+# how to write:
</a><a href="#h2-0-17" id="h2-0-17" class="i">+two write, type ! followed by text. To type next line character, type &#39;~&#39;
</a><a href="#h2-0-18" id="h2-0-18" class="i">+
</a><a href="#h2-0-19" id="h2-0-19" class="i">+examples:
</a><a href="#h2-0-20" id="h2-0-20" class="i">+!hi`hi writes &quot;hi\hi&quot;
</a><a href="#h2-0-21" id="h2-0-21" class="i">+
</a><a href="#h2-0-22" id="h2-0-22" class="i">+# how to type shortcuts: 
</a><a href="#h2-0-23" id="h2-0-23" class="i">+start with !! then type keys seprated by ~ for example
</a><a href="#h2-0-24" id="h2-0-24" class="i">+
</a><a href="#h2-0-25" id="h2-0-25" class="i">+!!ctrl~s # save
</a><a href="#h2-0-26" id="h2-0-26" class="i">+!!alt~f4 # close
</a><a href="#h2-0-27" id="h2-0-27" class="i">+
</a><a href="#h2-0-28" id="h2-0-28" class="i">+Note: dont leave any space
</a><a href="#h2-0-29" id="h2-0-29" class="i">+
</a><a href="#h2-0-30" id="h2-0-30" class="i">+keycodes:
</a><a href="#h2-0-31" id="h2-0-31" class="i">+1. windows key: win
</a><a href="#h2-0-32" id="h2-0-32" class="i">+2. control: ctrl
</a><a href="#h2-0-33" id="h2-0-33" class="i">+3. shift: shift
</a><a href="#h2-0-34" id="h2-0-34" class="i">+4. f4: f4
</a><a href="#h2-0-35" id="h2-0-35" class="i">+
</a><a href="#h2-0-36" id="h2-0-36" class="i">+# gcc command to compile code
</a><a href="#h2-0-37" id="h2-0-37" class="i">+gcc -o output input.cd
</a><a href="#h2-0-38" id="h2-0-38" class="i">+\ No newline at end of file
</a><b>diff --git a/<a id="h3" href="../file/prog1.c.html">prog1.c</a> b/<a href="../file/prog1.c.html">prog1.c</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,2 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+ #include &lt;stdio.h&gt; 
</a><a href="#h3-0-1" id="h3-0-1" class="i">+ int main() { printf(&quot;hello&quot;); scanf(&quot;%d&quot;); } 
</a><b>diff --git a/<a id="h4" href="../file/run.exe.html">run.exe</a> b/<a href="../file/run.exe.html">run.exe</a></b>
Binary files differ.
<b>diff --git a/<a id="h5" href="../file/telnetServer%20copy.py.html">telnetServer copy.py</a> b/<a href="../file/telnetServer%20copy.py.html">telnetServer copy.py</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -1,139 +0,0 @@
</a><a href="#h5-0-0" id="h5-0-0" class="d">-import socket
</a><a href="#h5-0-1" id="h5-0-1" class="d">-import threading
</a><a href="#h5-0-2" id="h5-0-2" class="d">-import random
</a><a href="#h5-0-3" id="h5-0-3" class="d">-import os
</a><a href="#h5-0-4" id="h5-0-4" class="d">-import utility
</a><a href="#h5-0-5" id="h5-0-5" class="d">-import subprocess
</a><a href="#h5-0-6" id="h5-0-6" class="d">-
</a><a href="#h5-0-7" id="h5-0-7" class="d">-parentDir = utility.getpath()
</a><a href="#h5-0-8" id="h5-0-8" class="d">-
</a><a href="#h5-0-9" id="h5-0-9" class="d">-# get server IP
</a><a href="#h5-0-10" id="h5-0-10" class="d">-IP = utility.get_ip_address()
</a><a href="#h5-0-11" id="h5-0-11" class="d">-PORT = 5566
</a><a href="#h5-0-12" id="h5-0-12" class="d">-ADDR = (IP, PORT)
</a><a href="#h5-0-13" id="h5-0-13" class="d">-SIZE = 1024
</a><a href="#h5-0-14" id="h5-0-14" class="d">-FORMATmsg = &quot;utf-8&quot;
</a><a href="#h5-0-15" id="h5-0-15" class="d">-
</a><a href="#h5-0-16" id="h5-0-16" class="d">-u_name = []     # list of usernames
</a><a href="#h5-0-17" id="h5-0-17" class="d">-u_addr = []     # list of ip addresses
</a><a href="#h5-0-18" id="h5-0-18" class="d">-u_conn = []     # list of connections
</a><a href="#h5-0-19" id="h5-0-19" class="d">-u_pin = []      # list of pins
</a><a href="#h5-0-20" id="h5-0-20" class="d">-u_port = []     # list of ports
</a><a href="#h5-0-21" id="h5-0-21" class="d">-
</a><a href="#h5-0-22" id="h5-0-22" class="d">-
</a><a href="#h5-0-23" id="h5-0-23" class="d">-# server functions
</a><a href="#h5-0-24" id="h5-0-24" class="d">-def start():
</a><a href="#h5-0-25" id="h5-0-25" class="d">-    global server
</a><a href="#h5-0-26" id="h5-0-26" class="d">-
</a><a href="#h5-0-27" id="h5-0-27" class="d">-    print(f&quot;SERVER IP = {IP}\n&quot;)
</a><a href="#h5-0-28" id="h5-0-28" class="d">-    print(&quot;[STARTING] Server is starting...&quot;)
</a><a href="#h5-0-29" id="h5-0-29" class="d">-    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
</a><a href="#h5-0-30" id="h5-0-30" class="d">-    server.bind(ADDR)
</a><a href="#h5-0-31" id="h5-0-31" class="d">-    server.listen()
</a><a href="#h5-0-32" id="h5-0-32" class="d">-    print(f&quot;[LISTENING] Server is listening on {IP}:{PORT}&quot;)
</a><a href="#h5-0-33" id="h5-0-33" class="d">-
</a><a href="#h5-0-34" id="h5-0-34" class="d">-# broadcast connection list
</a><a href="#h5-0-35" id="h5-0-35" class="d">-def broadcast(message):
</a><a href="#h5-0-36" id="h5-0-36" class="d">-    if message == &#39;LIST&#39;:
</a><a href="#h5-0-37" id="h5-0-37" class="d">-        for addr in u_conn:
</a><a href="#h5-0-38" id="h5-0-38" class="d">-            msg = str(u_name)
</a><a href="#h5-0-39" id="h5-0-39" class="d">-            msg = &quot;[LIST] CONNECTION LIST: &quot; + msg
</a><a href="#h5-0-40" id="h5-0-40" class="d">-            addr.send(msg.encode(FORMATmsg))
</a><a href="#h5-0-41" id="h5-0-41" class="d">-            msg = str(u_port)
</a><a href="#h5-0-42" id="h5-0-42" class="d">-            msg = &quot;[LIST] CONNECTION LIST: &quot; + msg
</a><a href="#h5-0-43" id="h5-0-43" class="d">-            addr.send(msg.encode(FORMATmsg))
</a><a href="#h5-0-44" id="h5-0-44" class="d">-    else:
</a><a href="#h5-0-45" id="h5-0-45" class="d">-        for addr in u_conn:
</a><a href="#h5-0-46" id="h5-0-46" class="d">-            addr.send(message.encode(FORMATmsg))
</a><a href="#h5-0-47" id="h5-0-47" class="d">-
</a><a href="#h5-0-48" id="h5-0-48" class="d">-# handle client connection
</a><a href="#h5-0-49" id="h5-0-49" class="d">-def handle_client(conn, addr, u_name):
</a><a href="#h5-0-50" id="h5-0-50" class="d">-    print(f&quot;[SERVER] [NEW CONNECTION] {u_name}:{addr} connected.&quot;)
</a><a href="#h5-0-51" id="h5-0-51" class="d">-
</a><a href="#h5-0-52" id="h5-0-52" class="d">-    connected = True
</a><a href="#h5-0-53" id="h5-0-53" class="d">-    while connected:
</a><a href="#h5-0-54" id="h5-0-54" class="d">-        msg = conn.recv(SIZE).decode(FORMATmsg)
</a><a href="#h5-0-55" id="h5-0-55" class="d">-
</a><a href="#h5-0-56" id="h5-0-56" class="d">-        print(&#39;[Incoming request]: &#39;)
</a><a href="#h5-0-57" id="h5-0-57" class="d">-        print(f&quot;[{u_name}:{addr}] {msg}&quot;)                   # print msg in server console
</a><a href="#h5-0-58" id="h5-0-58" class="d">-
</a><a href="#h5-0-59" id="h5-0-59" class="d">-        print(&#39;Executing command...&#39;)
</a><a href="#h5-0-60" id="h5-0-60" class="d">-
</a><a href="#h5-0-61" id="h5-0-61" class="d">-        result = executeCommand(msg)
</a><a href="#h5-0-62" id="h5-0-62" class="d">-
</a><a href="#h5-0-63" id="h5-0-63" class="d">-        print(f&#39;Output: {result}&#39;)
</a><a href="#h5-0-64" id="h5-0-64" class="d">-        broadcast(result)
</a><a href="#h5-0-65" id="h5-0-65" class="d">-     
</a><a href="#h5-0-66" id="h5-0-66" class="d">-    conn.close()
</a><a href="#h5-0-67" id="h5-0-67" class="d">-
</a><a href="#h5-0-68" id="h5-0-68" class="d">-# execute command and return output
</a><a href="#h5-0-69" id="h5-0-69" class="d">-def executeCommand(command):
</a><a href="#h5-0-70" id="h5-0-70" class="d">-    result = os.popen(command).read()
</a><a href="#h5-0-71" id="h5-0-71" class="d">-    return result
</a><a href="#h5-0-72" id="h5-0-72" class="d">-
</a><a href="#h5-0-73" id="h5-0-73" class="d">-def startVideoStream():
</a><a href="#h5-0-74" id="h5-0-74" class="d">-    print(&#39;\nStarting video stream...&#39;)
</a><a href="#h5-0-75" id="h5-0-75" class="d">-        
</a><a href="#h5-0-76" id="h5-0-76" class="d">-    process = subprocess.Popen([&#39;cmd&#39;, &#39;/C&#39;, &#39;streamVideo.bat&#39;], creationflags= subprocess.CREATE_NEW_CONSOLE)
</a><a href="#h5-0-77" id="h5-0-77" class="d">-    # exit_code = process.wait()
</a><a href="#h5-0-78" id="h5-0-78" class="d">-
</a><a href="#h5-0-79" id="h5-0-79" class="d">-    print(f&#39;Video Stream: Path: http://{IP}:5000&#39;)
</a><a href="#h5-0-80" id="h5-0-80" class="d">-
</a><a href="#h5-0-81" id="h5-0-81" class="d">-def main():
</a><a href="#h5-0-82" id="h5-0-82" class="d">-    utility.printUI()
</a><a href="#h5-0-83" id="h5-0-83" class="d">-    start()
</a><a href="#h5-0-84" id="h5-0-84" class="d">-    startVideoStream()
</a><a href="#h5-0-85" id="h5-0-85" class="d">-
</a><a href="#h5-0-86" id="h5-0-86" class="d">-    temp_port = PORT+1
</a><a href="#h5-0-87" id="h5-0-87" class="d">-    while True:
</a><a href="#h5-0-88" id="h5-0-88" class="d">-        conn, addr = server.accept()
</a><a href="#h5-0-89" id="h5-0-89" class="d">-        while True:
</a><a href="#h5-0-90" id="h5-0-90" class="d">-            temp_name = conn.recv(SIZE).decode(FORMATmsg)
</a><a href="#h5-0-91" id="h5-0-91" class="d">-            print(f&quot;[CLIENT] Username: {temp_name}&quot;)
</a><a href="#h5-0-92" id="h5-0-92" class="d">-            if temp_name in u_name:
</a><a href="#h5-0-93" id="h5-0-93" class="d">-                print(&quot;[SERVER] Username not accepted&quot;)
</a><a href="#h5-0-94" id="h5-0-94" class="d">-                conn.send(&quot;NOTACCEPTED!&quot;.encode(FORMATmsg))
</a><a href="#h5-0-95" id="h5-0-95" class="d">-            else:
</a><a href="#h5-0-96" id="h5-0-96" class="d">-                print(&quot;[SERVER] Username accepted&quot;)
</a><a href="#h5-0-97" id="h5-0-97" class="d">-                conn.send(temp_name.encode(FORMATmsg))
</a><a href="#h5-0-98" id="h5-0-98" class="d">-                break
</a><a href="#h5-0-99" id="h5-0-99" class="d">-        
</a><a href="#h5-0-100" id="h5-0-100" class="d">-        temp_pin = str(random.randint(1000, 9999))
</a><a href="#h5-0-101" id="h5-0-101" class="d">-        print(f&quot;[AUTHENTICATING] Current Pin: {temp_pin}&quot;)
</a><a href="#h5-0-102" id="h5-0-102" class="d">-        msg_pin = conn.recv(SIZE).decode(FORMATmsg)
</a><a href="#h5-0-103" id="h5-0-103" class="d">-        
</a><a href="#h5-0-104" id="h5-0-104" class="d">-        if msg_pin != temp_pin:
</a><a href="#h5-0-105" id="h5-0-105" class="d">-            print(&quot;[SERVER] PIN not accepted&quot;)
</a><a href="#h5-0-106" id="h5-0-106" class="d">-            conn.send(&quot;try again&quot;.encode(FORMATmsg))
</a><a href="#h5-0-107" id="h5-0-107" class="d">-            continue
</a><a href="#h5-0-108" id="h5-0-108" class="d">-        else:
</a><a href="#h5-0-109" id="h5-0-109" class="d">-            print(&quot;[SERVER] PIN accepted&quot;)
</a><a href="#h5-0-110" id="h5-0-110" class="d">-            conn.send(&quot;!ACCEPTED&quot;.encode(FORMATmsg))
</a><a href="#h5-0-111" id="h5-0-111" class="d">-        
</a><a href="#h5-0-112" id="h5-0-112" class="d">-        
</a><a href="#h5-0-113" id="h5-0-113" class="d">-        conn.recv(SIZE).decode(FORMATmsg)
</a><a href="#h5-0-114" id="h5-0-114" class="d">-        conn.send(str(temp_port).encode(FORMATmsg))
</a><a href="#h5-0-115" id="h5-0-115" class="d">-
</a><a href="#h5-0-116" id="h5-0-116" class="d">-        print(f&quot;[SERVER] {temp_name} added to network&quot;)
</a><a href="#h5-0-117" id="h5-0-117" class="d">-        
</a><a href="#h5-0-118" id="h5-0-118" class="d">-        
</a><a href="#h5-0-119" id="h5-0-119" class="d">-        clientThread = threading.Thread(target=handle_client, args=(conn, addr, temp_name))
</a><a href="#h5-0-120" id="h5-0-120" class="d">-        clientThread.start()
</a><a href="#h5-0-121" id="h5-0-121" class="d">-
</a><a href="#h5-0-122" id="h5-0-122" class="d">-
</a><a href="#h5-0-123" id="h5-0-123" class="d">-        u_pin.append(temp_pin)
</a><a href="#h5-0-124" id="h5-0-124" class="d">-        u_name.append(temp_name)
</a><a href="#h5-0-125" id="h5-0-125" class="d">-        u_addr.append(addr)
</a><a href="#h5-0-126" id="h5-0-126" class="d">-        u_conn.append(conn)
</a><a href="#h5-0-127" id="h5-0-127" class="d">-        u_port.append(temp_port)
</a><a href="#h5-0-128" id="h5-0-128" class="d">-        temp_port += 1
</a><a href="#h5-0-129" id="h5-0-129" class="d">-
</a><a href="#h5-0-130" id="h5-0-130" class="d">-        # broadcast connection list
</a><a href="#h5-0-131" id="h5-0-131" class="d">-        broadcast(&#39;LIST&#39;)
</a><a href="#h5-0-132" id="h5-0-132" class="d">-
</a><a href="#h5-0-133" id="h5-0-133" class="d">-        print(f&quot;\n[SERVER][ACTIVE CONNECTIONS] {threading.active_count() - 2}&quot;)
</a><a href="#h5-0-134" id="h5-0-134" class="d">-    pass
</a><a href="#h5-0-135" id="h5-0-135" class="d">-
</a><a href="#h5-0-136" id="h5-0-136" class="d">-
</a><a href="#h5-0-137" id="h5-0-137" class="d">-if __name__ == &quot;__main__&quot;:
</a><a href="#h5-0-138" id="h5-0-138" class="d">-    main()
</a><a href="#h5-0-139" id="h5-0-139" class="d">-\ No newline at end of file
</a><b>diff --git a/<a id="h6" href="../file/telnetServer.py.html">telnetServer.py</a> b/<a href="../file/telnetServer.py.html">telnetServer.py</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -6,8 +6,6 @@ import utility
</a> import subprocess
 import pyautogui
 
<a href="#h6-0-3" id="h6-0-3" class="d">-
</a><a href="#h6-0-4" id="h6-0-4" class="d">-
</a> parentDir = utility.getpath()
 
 # get server IP
<a href="#h6-1" id="h6-1" class="h">@@ -72,6 +70,7 @@ def handle_client(conn, addr, u_name):
</a>         # if str == &quot;exit()&quot;:
         #     exit()
         if str[0]==&quot;!&quot; and str[1]!=&quot;!&quot;:
<a href="#h6-1-3" id="h6-1-3" class="i">+                str = str.replace(&quot;`&quot;, &quot;\n&quot;)
</a>                 pyautogui.write(str[1:], interval = 0.05)
                 continue
         if str[0]== &#39;!&#39; and str[1 == &#39;!&#39;]:
<a href="#h6-2" id="h6-2" class="h">@@ -82,7 +81,7 @@ def handle_client(conn, addr, u_name):
</a>             if len(spl)==2:
                 pyautogui.hotkey(spl[0], spl[1])
                 continue
<a href="#h6-2-3" id="h6-2-3" class="d">-            
</a><a href="#h6-2-4" id="h6-2-4" class="i">+        # The effect is that calling hotkey(&#39;ctrl&#39;, &#39;shift&#39;, &#39;c&#39;) would perform a &quot;Ctrl-Shift-C&quot; hotkey/keyboard shortcut press
</a> 
         # result = executeCommand(msg)
         Thr = threading.Thread(target=exec_cmd, args=(msg,))
</pre>
</div>
</body>
</html>
