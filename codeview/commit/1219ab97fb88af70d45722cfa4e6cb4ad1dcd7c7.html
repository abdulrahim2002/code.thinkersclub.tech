<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>update - codeview - A light and fast web based git repository viewer
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="codeview Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="codeview Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<script>
const prefersLightTheme = window.matchMedia('(prefers-color-scheme: light)');
if (prefersLightTheme.matches) {
var link = document.createElement('link');
link.rel = 'stylesheet';
link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/xcode.css'; // brown-paper, intellij-light.css
document.head.appendChild(link);
}
else {
var link = document.createElement('link');
link.rel = 'stylesheet';
link.href = 'https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css';
document.head.appendChild(link);
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
<script> hljs.highlightAll() ;</script>
<style>
pre code.hljs {
display: inline;
padding: 0;
font-family: "Source Code Pro", monospace;
font-optical-sizing: auto;
font-weight: 500;
font-style: normal;
}
code.hljs {padding: 0;}
.hljs {background: initial;}
@media (prefers-color-scheme: dark) {
.hljs-comment{color: rgb(100, 100, 100);}
}
</style>
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>codeview</h1><span class="desc">A light and fast web based git repository viewer
</span></td></tr><tr><td></td><td>
<br>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/1219ab97fb88af70d45722cfa4e6cb4ad1dcd7c7.html">1219ab97fb88af70d45722cfa4e6cb4ad1dcd7c7</a>
<b>parent</b> <a href="../commit/f7e55c3523642ff457b43dfcaf3928b6b837d7af.html">f7e55c3523642ff457b43dfcaf3928b6b837d7af</a>
<b>Author:</b> Abdul Rahim &lt;<a href="mailto:abdul.rahim@myyahoo.com">abdul.rahim@myyahoo.com</a>&gt;
<b>Date:</b>   Tue,  1 Oct 2024 01:11:03 +0530

update

<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">Makefile</a></td><td> | </td><td class="num">8</td><td><span class="i">++++++</span><span class="d">--</span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">cJSON.c</a></td><td> | </td><td class="num">3166</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">cJSON.h</a></td><td> | </td><td class="num">307</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">get_lang.c</a></td><td> | </td><td class="num">189</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">get_lang.h</a></td><td> | </td><td class="num">2</td><td><span class="i">++</span><span class="d"></span></td></tr>
</table></pre><pre>5 files changed, 3670 insertions(+), 2 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/Makefile.html">Makefile</a> b/<a href="../file/Makefile.html">Makefile</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -26,7 +26,9 @@ stagit-index.c
</a> COMPATSRC = \
 reallocarray.c\
 strlcat.c\
<a href="#h0-0-3" id="h0-0-3" class="d">-strlcpy.c
</a><a href="#h0-0-4" id="h0-0-4" class="i">+strlcpy.c\
</a><a href="#h0-0-5" id="h0-0-5" class="i">+get_lang.c\
</a><a href="#h0-0-6" id="h0-0-6" class="i">+cJSON.c
</a> 
 BIN = \
 stagit\
<a href="#h0-1" id="h0-1" class="h">@@ -46,7 +48,9 @@ compat.h
</a> COMPATOBJ = \
 reallocarray.o\
 strlcat.o\
<a href="#h0-1-3" id="h0-1-3" class="d">-strlcpy.o
</a><a href="#h0-1-4" id="h0-1-4" class="i">+strlcpy.o\
</a><a href="#h0-1-5" id="h0-1-5" class="i">+get_lang.o\
</a><a href="#h0-1-6" id="h0-1-6" class="i">+cJSON.o
</a> 
 OBJ = ${SRC:.c=.o} ${COMPATOBJ}
 
<b>diff --git a/<a id="h1" href="../file/cJSON.c.html">cJSON.c</a> b/<a href="../file/cJSON.c.html">cJSON.c</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -0,0 +1,3166 @@
</a><a href="#h1-0-0" id="h1-0-0" class="i">+const char *json_string = &quot;{\&quot;abap\&quot;:[\&quot;abap\&quot;],\&quot;ags script\&quot;:[\&quot;asc\&quot;,\&quot;ash\&quot;],\&quot;ampl\&quot;:[\&quot;ampl\&quot;],\&quot;antlr\&quot;:[\&quot;g4\&quot;],\&quot;apl\&quot;:[\&quot;apl\&quot;,\&quot;dyalog\&quot;],\&quot;asp\&quot;:[\&quot;asp\&quot;,\&quot;asax\&quot;,\&quot;ascx\&quot;,\&quot;ashx\&quot;,\&quot;asmx\&quot;,\&quot;aspx\&quot;,\&quot;axd\&quot;],\&quot;ats\&quot;:[\&quot;dats\&quot;,\&quot;hats\&quot;,\&quot;sats\&quot;],\&quot;actionscript\&quot;:[\&quot;as\&quot;],\&quot;ada\&quot;:[\&quot;adb\&quot;,\&quot;ada\&quot;,\&quot;ads\&quot;],\&quot;agda\&quot;:[\&quot;agda\&quot;],\&quot;alloy\&quot;:[\&quot;als\&quot;],\&quot;apacheconf\&quot;:[\&quot;apacheconf\&quot;],\&quot;apex\&quot;:[\&quot;cls\&quot;],\&quot;applescript\&quot;:[\&quot;applescript\&quot;,\&quot;scpt\&quot;],\&quot;arc\&quot;:[\&quot;arc\&quot;],\&quot;arduino\&quot;:[\&quot;ino\&quot;],\&quot;asciidoc\&quot;:[\&quot;asciidoc\&quot;,\&quot;adoc\&quot;,\&quot;asc\&quot;],\&quot;aspectj\&quot;:[\&quot;aj\&quot;],\&quot;assembly\&quot;:[\&quot;asm\&quot;,\&quot;a51\&quot;,\&quot;nasm\&quot;],\&quot;augeas\&quot;:[\&quot;aug\&quot;],\&quot;autohotkey\&quot;:[\&quot;ahk\&quot;,\&quot;ahkl\&quot;],\&quot;autoit\&quot;:[\&quot;au3\&quot;],\&quot;awk\&quot;:[\&quot;awk\&quot;,\&quot;auk\&quot;,\&quot;gawk\&quot;,\&quot;mawk\&quot;,\&quot;nawk\&quot;],\&quot;batchfile\&quot;:[\&quot;bat\&quot;,\&quot;cmd\&quot;],\&quot;befunge\&quot;:[\&quot;befunge\&quot;],\&quot;bison\&quot;:[\&quot;y\&quot;],\&quot;bitbake\&quot;:[\&quot;bb\&quot;],\&quot;blitzbasic\&quot;:[\&quot;bb\&quot;,\&quot;decls\&quot;],\&quot;blitzmax\&quot;:[\&quot;bmx\&quot;],\&quot;bluespec\&quot;:[\&quot;bsv\&quot;],\&quot;boo\&quot;:[\&quot;boo\&quot;],\&quot;brainfuck\&quot;:[\&quot;b\&quot;,\&quot;bf\&quot;],\&quot;brightscript\&quot;:[\&quot;brs\&quot;],\&quot;bro\&quot;:[\&quot;bro\&quot;],\&quot;c\&quot;:[\&quot;c\&quot;,\&quot;cats\&quot;,\&quot;h\&quot;,\&quot;idc\&quot;,\&quot;w\&quot;],\&quot;c#\&quot;:[\&quot;cs\&quot;,\&quot;cshtml\&quot;,\&quot;csx\&quot;],\&quot;c++\&quot;:[\&quot;cpp\&quot;,\&quot;c++\&quot;,\&quot;cc\&quot;,\&quot;cp\&quot;,\&quot;cxx\&quot;,\&quot;h\&quot;,\&quot;h++\&quot;,\&quot;hh\&quot;,\&quot;hpp\&quot;,\&quot;hxx\&quot;,\&quot;inl\&quot;,\&quot;ipp\&quot;,\&quot;tcc\&quot;,\&quot;tpp\&quot;],\&quot;c-objdump\&quot;:[\&quot;c-objdump\&quot;],\&quot;c2hs haskell\&quot;:[\&quot;chs\&quot;],\&quot;clips\&quot;:[\&quot;clp\&quot;],\&quot;cmake\&quot;:[\&quot;cmake\&quot;,\&quot;cmake.in\&quot;],\&quot;cobol\&quot;:[\&quot;cob\&quot;,\&quot;cbl\&quot;,\&quot;ccp\&quot;,\&quot;cobol\&quot;,\&quot;cpy\&quot;],\&quot;css\&quot;:[\&quot;css\&quot;],\&quot;cap&#39;n proto\&quot;:[\&quot;capnp\&quot;],\&quot;cartocss\&quot;:[\&quot;mss\&quot;],\&quot;ceylon\&quot;:[\&quot;ceylon\&quot;],\&quot;chapel\&quot;:[\&quot;chpl\&quot;],\&quot;chuck\&quot;:[\&quot;ck\&quot;],\&quot;cirru\&quot;:[\&quot;cirru\&quot;],\&quot;clarion\&quot;:[\&quot;clw\&quot;],\&quot;clean\&quot;:[\&quot;icl\&quot;,\&quot;dcl\&quot;],\&quot;clojure\&quot;:[\&quot;clj\&quot;,\&quot;boot\&quot;,\&quot;cl2\&quot;,\&quot;cljc\&quot;,\&quot;cljs\&quot;,\&quot;cljs.hl\&quot;,\&quot;cljscm\&quot;,\&quot;cljx\&quot;,\&quot;hic\&quot;],\&quot;coffeescript\&quot;:[\&quot;coffee\&quot;,\&quot;_coffee\&quot;,\&quot;cjsx\&quot;,\&quot;cson\&quot;,\&quot;iced\&quot;],\&quot;coldfusion\&quot;:[\&quot;cfm\&quot;,\&quot;cfml\&quot;],\&quot;coldfusion cfc\&quot;:[\&quot;cfc\&quot;],\&quot;common lisp\&quot;:[\&quot;lisp\&quot;,\&quot;asd\&quot;,\&quot;cl\&quot;,\&quot;lsp\&quot;,\&quot;ny\&quot;,\&quot;podsl\&quot;],\&quot;component pascal\&quot;:[\&quot;cp\&quot;,\&quot;cps\&quot;],\&quot;cool\&quot;:[\&quot;cl\&quot;],\&quot;coq\&quot;:[\&quot;coq\&quot;,\&quot;v\&quot;],\&quot;cpp-objdump\&quot;:[\&quot;cppobjdump\&quot;,\&quot;c++-objdump\&quot;,\&quot;c++objdump\&quot;,\&quot;cpp-objdump\&quot;,\&quot;cxx-objdump\&quot;],\&quot;creole\&quot;:[\&quot;creole\&quot;],\&quot;crystal\&quot;:[\&quot;cr\&quot;],\&quot;cucumber\&quot;:[\&quot;feature\&quot;],\&quot;cuda\&quot;:[\&quot;cu\&quot;,\&quot;cuh\&quot;],\&quot;cycript\&quot;:[\&quot;cy\&quot;],\&quot;cython\&quot;:[\&quot;pyx\&quot;,\&quot;pxd\&quot;,\&quot;pxi\&quot;],\&quot;d\&quot;:[\&quot;d\&quot;,\&quot;di\&quot;],\&quot;d-objdump\&quot;:[\&quot;d-objdump\&quot;],\&quot;digital command language\&quot;:[\&quot;com\&quot;],\&quot;dm\&quot;:[\&quot;dm\&quot;],\&quot;dtrace\&quot;:[\&quot;d\&quot;],\&quot;darcs patch\&quot;:[\&quot;darcspatch\&quot;,\&quot;dpatch\&quot;],\&quot;dart\&quot;:[\&quot;dart\&quot;],\&quot;diff\&quot;:[\&quot;diff\&quot;,\&quot;patch\&quot;],\&quot;dockerfile\&quot;:[\&quot;dockerfile\&quot;],\&quot;dogescript\&quot;:[\&quot;djs\&quot;],\&quot;dylan\&quot;:[\&quot;dylan\&quot;,\&quot;dyl\&quot;,\&quot;intr\&quot;,\&quot;lid\&quot;],\&quot;e\&quot;:[\&quot;E\&quot;],\&quot;ecl\&quot;:[\&quot;ecl\&quot;,\&quot;eclxml\&quot;],\&quot;eagle\&quot;:[\&quot;sch\&quot;,\&quot;brd\&quot;],\&quot;ecere projects\&quot;:[\&quot;epj\&quot;],\&quot;eiffel\&quot;:[\&quot;e\&quot;],\&quot;elixir\&quot;:[\&quot;ex\&quot;,\&quot;exs\&quot;],\&quot;elm\&quot;:[\&quot;elm\&quot;],\&quot;emacs lisp\&quot;:[\&quot;el\&quot;,\&quot;emacs\&quot;,\&quot;emacs.desktop\&quot;],\&quot;emberscript\&quot;:[\&quot;em\&quot;,\&quot;emberscript\&quot;],\&quot;erlang\&quot;:[\&quot;erl\&quot;,\&quot;es\&quot;,\&quot;escript\&quot;,\&quot;hrl\&quot;],\&quot;f#\&quot;:[\&quot;fs\&quot;,\&quot;fsi\&quot;,\&quot;fsx\&quot;],\&quot;flux\&quot;:[\&quot;fx\&quot;,\&quot;flux\&quot;],\&quot;fortran\&quot;:[\&quot;f90\&quot;,\&quot;f\&quot;,\&quot;f03\&quot;,\&quot;f08\&quot;,\&quot;f77\&quot;,\&quot;f95\&quot;,\&quot;for\&quot;,\&quot;fpp\&quot;],\&quot;factor\&quot;:[\&quot;factor\&quot;],\&quot;fancy\&quot;:[\&quot;fy\&quot;,\&quot;fancypack\&quot;],\&quot;fantom\&quot;:[\&quot;fan\&quot;],\&quot;filterscript\&quot;:[\&quot;fs\&quot;],\&quot;formatted\&quot;:[\&quot;for\&quot;],\&quot;forth\&quot;:[\&quot;fth\&quot;,\&quot;4th\&quot;,\&quot;f\&quot;,\&quot;for\&quot;,\&quot;forth\&quot;,\&quot;fr\&quot;,\&quot;frt\&quot;,\&quot;fs\&quot;],\&quot;frege\&quot;:[\&quot;fr\&quot;],\&quot;g-code\&quot;:[\&quot;g\&quot;,\&quot;gco\&quot;,\&quot;gcode\&quot;],\&quot;gams\&quot;:[\&quot;gms\&quot;],\&quot;gap\&quot;:[\&quot;g\&quot;,\&quot;gap\&quot;,\&quot;gd\&quot;,\&quot;gi\&quot;,\&quot;tst\&quot;],\&quot;gas\&quot;:[\&quot;s\&quot;],\&quot;gdscript\&quot;:[\&quot;gd\&quot;],\&quot;glsl\&quot;:[\&quot;glsl\&quot;,\&quot;fp\&quot;,\&quot;frag\&quot;,\&quot;frg\&quot;,\&quot;fs\&quot;,\&quot;fshader\&quot;,\&quot;geo\&quot;,\&quot;geom\&quot;,\&quot;glslv\&quot;,\&quot;gshader\&quot;,\&quot;shader\&quot;,\&quot;vert\&quot;,\&quot;vrx\&quot;,\&quot;vshader\&quot;],\&quot;game maker language\&quot;:[\&quot;gml\&quot;],\&quot;genshi\&quot;:[\&quot;kid\&quot;],\&quot;gentoo ebuild\&quot;:[\&quot;ebuild\&quot;],\&quot;gentoo eclass\&quot;:[\&quot;eclass\&quot;],\&quot;gettext catalog\&quot;:[\&quot;po\&quot;,\&quot;pot\&quot;],\&quot;glyph\&quot;:[\&quot;glf\&quot;],\&quot;gnuplot\&quot;:[\&quot;gp\&quot;,\&quot;gnu\&quot;,\&quot;gnuplot\&quot;,\&quot;plot\&quot;,\&quot;plt\&quot;],\&quot;go\&quot;:[\&quot;go\&quot;],\&quot;golo\&quot;:[\&quot;golo\&quot;],\&quot;gosu\&quot;:[\&quot;gs\&quot;,\&quot;gst\&quot;,\&quot;gsx\&quot;,\&quot;vark\&quot;],\&quot;grace\&quot;:[\&quot;grace\&quot;],\&quot;gradle\&quot;:[\&quot;gradle\&quot;],\&quot;grammatical framework\&quot;:[\&quot;gf\&quot;],\&quot;graph modeling language\&quot;:[\&quot;gml\&quot;],\&quot;graphviz (dot)\&quot;:[\&quot;dot\&quot;,\&quot;gv\&quot;],\&quot;groff\&quot;:[\&quot;man\&quot;,\&quot;1\&quot;,\&quot;2\&quot;,\&quot;3\&quot;,\&quot;4\&quot;,\&quot;5\&quot;,\&quot;6\&quot;,\&quot;7\&quot;],\&quot;groovy\&quot;:[\&quot;groovy\&quot;,\&quot;grt\&quot;,\&quot;gtpl\&quot;,\&quot;gvy\&quot;],\&quot;groovy server pages\&quot;:[\&quot;gsp\&quot;],\&quot;html\&quot;:[\&quot;html\&quot;,\&quot;htm\&quot;,\&quot;html.hl\&quot;,\&quot;st\&quot;,\&quot;xht\&quot;,\&quot;xhtml\&quot;],\&quot;html+django\&quot;:[\&quot;mustache\&quot;,\&quot;jinja\&quot;],\&quot;html+erb\&quot;:[\&quot;erb\&quot;,\&quot;erb.deface\&quot;],\&quot;html+php\&quot;:[\&quot;phtml\&quot;],\&quot;http\&quot;:[\&quot;http\&quot;],\&quot;hack\&quot;:[\&quot;hh\&quot;,\&quot;php\&quot;],\&quot;haml\&quot;:[\&quot;haml\&quot;,\&quot;haml.deface\&quot;],\&quot;handlebars\&quot;:[\&quot;handlebars\&quot;,\&quot;hbs\&quot;],\&quot;harbour\&quot;:[\&quot;hb\&quot;],\&quot;haskell\&quot;:[\&quot;hs\&quot;,\&quot;hsc\&quot;],\&quot;haxe\&quot;:[\&quot;hx\&quot;,\&quot;hxsl\&quot;],\&quot;hy\&quot;:[\&quot;hy\&quot;],\&quot;idl\&quot;:[\&quot;pro\&quot;,\&quot;dlm\&quot;],\&quot;igor pro\&quot;:[\&quot;ipf\&quot;],\&quot;ini\&quot;:[\&quot;ini\&quot;,\&quot;cfg\&quot;,\&quot;prefs\&quot;,\&quot;pro\&quot;,\&quot;properties\&quot;],\&quot;irc log\&quot;:[\&quot;irclog\&quot;,\&quot;weechatlog\&quot;],\&quot;idris\&quot;:[\&quot;idr\&quot;,\&quot;lidr\&quot;],\&quot;inform 7\&quot;:[\&quot;ni\&quot;,\&quot;i7x\&quot;],\&quot;inno setup\&quot;:[\&quot;iss\&quot;],\&quot;io\&quot;:[\&quot;io\&quot;],\&quot;ioke\&quot;:[\&quot;ik\&quot;],\&quot;isabelle\&quot;:[\&quot;thy\&quot;],\&quot;j\&quot;:[\&quot;ijs\&quot;],\&quot;jflex\&quot;:[\&quot;flex\&quot;,\&quot;jflex\&quot;],\&quot;json\&quot;:[\&quot;json\&quot;,\&quot;lock\&quot;],\&quot;json5\&quot;:[\&quot;json5\&quot;],\&quot;jsonld\&quot;:[\&quot;jsonld\&quot;],\&quot;jsoniq\&quot;:[\&quot;jq\&quot;],\&quot;jade\&quot;:[\&quot;jade\&quot;],\&quot;jasmin\&quot;:[\&quot;j\&quot;],\&quot;java\&quot;:[\&quot;java\&quot;],\&quot;java server pages\&quot;:[\&quot;jsp\&quot;],\&quot;javascript\&quot;:[\&quot;js\&quot;,\&quot;_js\&quot;,\&quot;bones\&quot;,\&quot;es6\&quot;,\&quot;frag\&quot;,\&quot;gs\&quot;,\&quot;jake\&quot;,\&quot;jsb\&quot;,\&quot;jsfl\&quot;,\&quot;jsm\&quot;,\&quot;jss\&quot;,\&quot;jsx\&quot;,\&quot;njs\&quot;,\&quot;pac\&quot;,\&quot;sjs\&quot;,\&quot;ssjs\&quot;,\&quot;sublime-build\&quot;,\&quot;sublime-commands\&quot;,\&quot;sublime-completions\&quot;,\&quot;sublime-keymap\&quot;,\&quot;sublime-macro\&quot;,\&quot;sublime-menu\&quot;,\&quot;sublime-mousemap\&quot;,\&quot;sublime-project\&quot;,\&quot;sublime-settings\&quot;,\&quot;sublime-theme\&quot;,\&quot;sublime-workspace\&quot;,\&quot;sublime_metrics\&quot;,\&quot;sublime_session\&quot;,\&quot;xsjs\&quot;,\&quot;xsjslib\&quot;],\&quot;julia\&quot;:[\&quot;jl\&quot;],\&quot;krl\&quot;:[\&quot;krl\&quot;],\&quot;kicad\&quot;:[\&quot;sch\&quot;],\&quot;kit\&quot;:[\&quot;kit\&quot;],\&quot;kotlin\&quot;:[\&quot;kt\&quot;,\&quot;ktm\&quot;,\&quot;kts\&quot;],\&quot;lfe\&quot;:[\&quot;lfe\&quot;],\&quot;llvm\&quot;:[\&quot;ll\&quot;],\&quot;lolcode\&quot;:[\&quot;lol\&quot;],\&quot;lsl\&quot;:[\&quot;lsl\&quot;],\&quot;labview\&quot;:[\&quot;lvproj\&quot;],\&quot;lasso\&quot;:[\&quot;lasso\&quot;,\&quot;las\&quot;,\&quot;lasso8\&quot;,\&quot;lasso9\&quot;,\&quot;ldml\&quot;],\&quot;latte\&quot;:[\&quot;latte\&quot;],\&quot;lean\&quot;:[\&quot;lean\&quot;,\&quot;hlean\&quot;],\&quot;less\&quot;:[\&quot;less\&quot;],\&quot;lilypond\&quot;:[\&quot;ly\&quot;,\&quot;ily\&quot;],\&quot;limbo\&quot;:[\&quot;b\&quot;,\&quot;m\&quot;],\&quot;linker script\&quot;:[\&quot;ld\&quot;,\&quot;lds\&quot;],\&quot;liquid\&quot;:[\&quot;liquid\&quot;],\&quot;literate agda\&quot;:[\&quot;lagda\&quot;],\&quot;literate coffeescript\&quot;:[\&quot;litcoffee\&quot;],\&quot;literate haskell\&quot;:[\&quot;lhs\&quot;],\&quot;livescript\&quot;:[\&quot;ls\&quot;,\&quot;_ls\&quot;],\&quot;logos\&quot;:[\&quot;xm\&quot;,\&quot;x\&quot;,\&quot;xi\&quot;],\&quot;logtalk\&quot;:[\&quot;lgt\&quot;,\&quot;logtalk\&quot;],\&quot;lookml\&quot;:[\&quot;lookml\&quot;],\&quot;loomscript\&quot;:[\&quot;ls\&quot;],\&quot;lua\&quot;:[\&quot;lua\&quot;,\&quot;fcgi\&quot;,\&quot;nse\&quot;,\&quot;pd_lua\&quot;,\&quot;rbxs\&quot;,\&quot;wlua\&quot;],\&quot;m\&quot;:[\&quot;mumps\&quot;,\&quot;m\&quot;],\&quot;mtml\&quot;:[\&quot;mtml\&quot;],\&quot;muf\&quot;:[\&quot;muf\&quot;,\&quot;m\&quot;],\&quot;makefile\&quot;:[\&quot;mak\&quot;,\&quot;d\&quot;,\&quot;mk\&quot;],\&quot;mako\&quot;:[\&quot;mako\&quot;,\&quot;mao\&quot;],\&quot;markdown\&quot;:[\&quot;md\&quot;,\&quot;markdown\&quot;,\&quot;mkd\&quot;,\&quot;mkdn\&quot;,\&quot;mkdown\&quot;,\&quot;ron\&quot;],\&quot;mask\&quot;:[\&quot;mask\&quot;],\&quot;mathematica\&quot;:[\&quot;mathematica\&quot;,\&quot;cdf\&quot;,\&quot;m\&quot;,\&quot;ma\&quot;,\&quot;nb\&quot;,\&quot;nbp\&quot;,\&quot;wl\&quot;,\&quot;wlt\&quot;],\&quot;matlab\&quot;:[\&quot;matlab\&quot;,\&quot;m\&quot;],\&quot;max\&quot;:[\&quot;maxpat\&quot;,\&quot;maxhelp\&quot;,\&quot;maxproj\&quot;,\&quot;mxt\&quot;,\&quot;pat\&quot;],\&quot;mediawiki\&quot;:[\&quot;mediawiki\&quot;],\&quot;mercury\&quot;:[\&quot;m\&quot;,\&quot;moo\&quot;],\&quot;minid\&quot;:[\&quot;minid\&quot;],\&quot;mirah\&quot;:[\&quot;druby\&quot;,\&quot;duby\&quot;,\&quot;mir\&quot;,\&quot;mirah\&quot;],\&quot;modelica\&quot;:[\&quot;mo\&quot;],\&quot;module management system\&quot;:[\&quot;mms\&quot;,\&quot;mmk\&quot;],\&quot;monkey\&quot;:[\&quot;monkey\&quot;],\&quot;moocode\&quot;:[\&quot;moo\&quot;],\&quot;moonscript\&quot;:[\&quot;moon\&quot;],\&quot;myghty\&quot;:[\&quot;myt\&quot;],\&quot;nl\&quot;:[\&quot;nl\&quot;],\&quot;nsis\&quot;:[\&quot;nsi\&quot;,\&quot;nsh\&quot;],\&quot;nemerle\&quot;:[\&quot;n\&quot;],\&quot;netlinx\&quot;:[\&quot;axs\&quot;,\&quot;axi\&quot;],\&quot;netlinx+erb\&quot;:[\&quot;axs.erb\&quot;,\&quot;axi.erb\&quot;],\&quot;netlogo\&quot;:[\&quot;nlogo\&quot;],\&quot;newlisp\&quot;:[\&quot;nl\&quot;,\&quot;lisp\&quot;,\&quot;lsp\&quot;],\&quot;nginx\&quot;:[\&quot;nginxconf\&quot;],\&quot;nimrod\&quot;:[\&quot;nim\&quot;,\&quot;nimrod\&quot;],\&quot;ninja\&quot;:[\&quot;ninja\&quot;],\&quot;nit\&quot;:[\&quot;nit\&quot;],\&quot;nix\&quot;:[\&quot;nix\&quot;],\&quot;nu\&quot;:[\&quot;nu\&quot;],\&quot;numpy\&quot;:[\&quot;numpy\&quot;,\&quot;numpyw\&quot;,\&quot;numsc\&quot;],\&quot;ocaml\&quot;:[\&quot;ml\&quot;,\&quot;eliom\&quot;,\&quot;eliomi\&quot;,\&quot;ml4\&quot;,\&quot;mli\&quot;,\&quot;mll\&quot;,\&quot;mly\&quot;],\&quot;objdump\&quot;:[\&quot;objdump\&quot;],\&quot;objective-c\&quot;:[\&quot;m\&quot;,\&quot;h\&quot;],\&quot;objective-c++\&quot;:[\&quot;mm\&quot;],\&quot;objective-j\&quot;:[\&quot;j\&quot;,\&quot;sj\&quot;],\&quot;omgrofl\&quot;:[\&quot;omgrofl\&quot;],\&quot;opa\&quot;:[\&quot;opa\&quot;],\&quot;opal\&quot;:[\&quot;opal\&quot;],\&quot;opencl\&quot;:[\&quot;cl\&quot;,\&quot;opencl\&quot;],\&quot;openedge abl\&quot;:[\&quot;p\&quot;,\&quot;cls\&quot;],\&quot;openscad\&quot;:[\&quot;scad\&quot;],\&quot;org\&quot;:[\&quot;org\&quot;],\&quot;ox\&quot;:[\&quot;ox\&quot;,\&quot;oxh\&quot;,\&quot;oxo\&quot;],\&quot;oxygene\&quot;:[\&quot;oxygene\&quot;],\&quot;oz\&quot;:[\&quot;oz\&quot;],\&quot;pawn\&quot;:[\&quot;pwn\&quot;],\&quot;php\&quot;:[\&quot;php\&quot;,\&quot;aw\&quot;,\&quot;ctp\&quot;,\&quot;fcgi\&quot;,\&quot;php3\&quot;,\&quot;php4\&quot;,\&quot;php5\&quot;,\&quot;phpt\&quot;],\&quot;plsql\&quot;:[\&quot;pls\&quot;,\&quot;pkb\&quot;,\&quot;pks\&quot;,\&quot;plb\&quot;,\&quot;plsql\&quot;,\&quot;sql\&quot;],\&quot;plpgsql\&quot;:[\&quot;sql\&quot;],\&quot;pan\&quot;:[\&quot;pan\&quot;],\&quot;papyrus\&quot;:[\&quot;psc\&quot;],\&quot;parrot\&quot;:[\&quot;parrot\&quot;],\&quot;parrot assembly\&quot;:[\&quot;pasm\&quot;],\&quot;parrot internal representation\&quot;:[\&quot;pir\&quot;],\&quot;pascal\&quot;:[\&quot;pas\&quot;,\&quot;dfm\&quot;,\&quot;dpr\&quot;,\&quot;lpr\&quot;,\&quot;pp\&quot;],\&quot;perl\&quot;:[\&quot;pl\&quot;,\&quot;cgi\&quot;,\&quot;fcgi\&quot;,\&quot;perl\&quot;,\&quot;ph\&quot;,\&quot;plx\&quot;,\&quot;pm\&quot;,\&quot;pod\&quot;,\&quot;psgi\&quot;,\&quot;t\&quot;],\&quot;perl6\&quot;:[\&quot;6pl\&quot;,\&quot;6pm\&quot;,\&quot;nqp\&quot;,\&quot;p6\&quot;,\&quot;p6l\&quot;,\&quot;p6m\&quot;,\&quot;pl\&quot;,\&quot;pl6\&quot;,\&quot;pm\&quot;,\&quot;pm6\&quot;,\&quot;t\&quot;],\&quot;piglatin\&quot;:[\&quot;pig\&quot;],\&quot;pike\&quot;:[\&quot;pike\&quot;,\&quot;pmod\&quot;],\&quot;pod\&quot;:[\&quot;pod\&quot;],\&quot;pogoscript\&quot;:[\&quot;pogo\&quot;],\&quot;postscript\&quot;:[\&quot;ps\&quot;,\&quot;eps\&quot;],\&quot;powershell\&quot;:[\&quot;ps1\&quot;,\&quot;psd1\&quot;,\&quot;psm1\&quot;],\&quot;processing\&quot;:[\&quot;pde\&quot;],\&quot;prolog\&quot;:[\&quot;pl\&quot;,\&quot;ecl\&quot;,\&quot;pro\&quot;,\&quot;prolog\&quot;],\&quot;propeller spin\&quot;:[\&quot;spin\&quot;],\&quot;protocol buffer\&quot;:[\&quot;proto\&quot;],\&quot;public key\&quot;:[\&quot;asc\&quot;,\&quot;pub\&quot;],\&quot;puppet\&quot;:[\&quot;pp\&quot;],\&quot;pure data\&quot;:[\&quot;pd\&quot;],\&quot;purebasic\&quot;:[\&quot;pb\&quot;,\&quot;pbi\&quot;],\&quot;purescript\&quot;:[\&quot;purs\&quot;],\&quot;python\&quot;:[\&quot;py\&quot;,\&quot;cgi\&quot;,\&quot;fcgi\&quot;,\&quot;gyp\&quot;,\&quot;lmi\&quot;,\&quot;pyde\&quot;,\&quot;pyp\&quot;,\&quot;pyt\&quot;,\&quot;pyw\&quot;,\&quot;tac\&quot;,\&quot;wsgi\&quot;,\&quot;xpy\&quot;],\&quot;python traceback\&quot;:[\&quot;pytb\&quot;],\&quot;qml\&quot;:[\&quot;qml\&quot;],\&quot;qmake\&quot;:[\&quot;pro\&quot;,\&quot;pri\&quot;],\&quot;r\&quot;:[\&quot;r\&quot;,\&quot;rd\&quot;,\&quot;rsx\&quot;],\&quot;raml\&quot;:[\&quot;raml\&quot;],\&quot;rdoc\&quot;:[\&quot;rdoc\&quot;],\&quot;realbasic\&quot;:[\&quot;rbbas\&quot;,\&quot;rbfrm\&quot;,\&quot;rbmnu\&quot;,\&quot;rbres\&quot;,\&quot;rbtbar\&quot;,\&quot;rbuistate\&quot;],\&quot;rhtml\&quot;:[\&quot;rhtml\&quot;],\&quot;rmarkdown\&quot;:[\&quot;rmd\&quot;],\&quot;racket\&quot;:[\&quot;rkt\&quot;,\&quot;rktd\&quot;,\&quot;rktl\&quot;,\&quot;scrbl\&quot;],\&quot;ragel in ruby host\&quot;:[\&quot;rl\&quot;],\&quot;raw token data\&quot;:[\&quot;raw\&quot;],\&quot;rebol\&quot;:[\&quot;reb\&quot;,\&quot;r\&quot;,\&quot;r2\&quot;,\&quot;r3\&quot;,\&quot;rebol\&quot;],\&quot;red\&quot;:[\&quot;red\&quot;,\&quot;reds\&quot;],\&quot;redcode\&quot;:[\&quot;cw\&quot;],\&quot;robotframework\&quot;:[\&quot;robot\&quot;],\&quot;rouge\&quot;:[\&quot;rg\&quot;],\&quot;ruby\&quot;:[\&quot;rb\&quot;,\&quot;builder\&quot;,\&quot;fcgi\&quot;,\&quot;gemspec\&quot;,\&quot;god\&quot;,\&quot;irbrc\&quot;,\&quot;jbuilder\&quot;,\&quot;mspec\&quot;,\&quot;pluginspec\&quot;,\&quot;podspec\&quot;,\&quot;rabl\&quot;,\&quot;rake\&quot;,\&quot;rbuild\&quot;,\&quot;rbw\&quot;,\&quot;rbx\&quot;,\&quot;ru\&quot;,\&quot;ruby\&quot;,\&quot;thor\&quot;,\&quot;watchr\&quot;],\&quot;rust\&quot;:[\&quot;rs\&quot;],\&quot;sas\&quot;:[\&quot;sas\&quot;],\&quot;scss\&quot;:[\&quot;scss\&quot;],\&quot;sparql\&quot;:[\&quot;sparql\&quot;,\&quot;rq\&quot;],\&quot;sqf\&quot;:[\&quot;sqf\&quot;,\&quot;hqf\&quot;],\&quot;sql\&quot;:[\&quot;sql\&quot;,\&quot;cql\&quot;,\&quot;ddl\&quot;,\&quot;prc\&quot;,\&quot;tab\&quot;,\&quot;udf\&quot;,\&quot;viw\&quot;],\&quot;sqlpl\&quot;:[\&quot;sql\&quot;,\&quot;db2\&quot;],\&quot;ston\&quot;:[\&quot;ston\&quot;],\&quot;svg\&quot;:[\&quot;svg\&quot;],\&quot;sage\&quot;:[\&quot;sage\&quot;,\&quot;sagews\&quot;],\&quot;saltstack\&quot;:[\&quot;sls\&quot;],\&quot;sass\&quot;:[\&quot;sass\&quot;],\&quot;scala\&quot;:[\&quot;scala\&quot;,\&quot;sbt\&quot;,\&quot;sc\&quot;],\&quot;scaml\&quot;:[\&quot;scaml\&quot;],\&quot;scheme\&quot;:[\&quot;scm\&quot;,\&quot;sld\&quot;,\&quot;sls\&quot;,\&quot;sps\&quot;,\&quot;ss\&quot;],\&quot;scilab\&quot;:[\&quot;sci\&quot;,\&quot;sce\&quot;,\&quot;tst\&quot;],\&quot;self\&quot;:[\&quot;self\&quot;],\&quot;shell\&quot;:[\&quot;sh\&quot;,\&quot;bash\&quot;,\&quot;bats\&quot;,\&quot;cgi\&quot;,\&quot;command\&quot;,\&quot;fcgi\&quot;,\&quot;ksh\&quot;,\&quot;tmux\&quot;,\&quot;tool\&quot;,\&quot;zsh\&quot;],\&quot;shellsession\&quot;:[\&quot;sh-session\&quot;],\&quot;shen\&quot;:[\&quot;shen\&quot;],\&quot;slash\&quot;:[\&quot;sl\&quot;],\&quot;slim\&quot;:[\&quot;slim\&quot;],\&quot;smalltalk\&quot;:[\&quot;st\&quot;,\&quot;cs\&quot;],\&quot;smarty\&quot;:[\&quot;tpl\&quot;],\&quot;sourcepawn\&quot;:[\&quot;sp\&quot;,\&quot;sma\&quot;],\&quot;squirrel\&quot;:[\&quot;nut\&quot;],\&quot;standard ml\&quot;:[\&quot;ML\&quot;,\&quot;fun\&quot;,\&quot;sig\&quot;,\&quot;sml\&quot;],\&quot;stata\&quot;:[\&quot;do\&quot;,\&quot;ado\&quot;,\&quot;doh\&quot;,\&quot;ihlp\&quot;,\&quot;mata\&quot;,\&quot;matah\&quot;,\&quot;sthlp\&quot;],\&quot;stylus\&quot;:[\&quot;styl\&quot;],\&quot;supercollider\&quot;:[\&quot;scd\&quot;,\&quot;sc\&quot;],\&quot;swift\&quot;:[\&quot;swift\&quot;],\&quot;systemverilog\&quot;:[\&quot;sv\&quot;,\&quot;svh\&quot;,\&quot;vh\&quot;],\&quot;toml\&quot;:[\&quot;toml\&quot;],\&quot;txl\&quot;:[\&quot;txl\&quot;],\&quot;tcl\&quot;:[\&quot;tcl\&quot;,\&quot;adp\&quot;,\&quot;tm\&quot;],\&quot;tcsh\&quot;:[\&quot;tcsh\&quot;,\&quot;csh\&quot;],\&quot;tex\&quot;:[\&quot;tex\&quot;,\&quot;aux\&quot;,\&quot;bbx\&quot;,\&quot;bib\&quot;,\&quot;cbx\&quot;,\&quot;cls\&quot;,\&quot;dtx\&quot;,\&quot;ins\&quot;,\&quot;lbx\&quot;,\&quot;ltx\&quot;,\&quot;mkii\&quot;,\&quot;mkiv\&quot;,\&quot;mkvi\&quot;,\&quot;sty\&quot;,\&quot;toc\&quot;],\&quot;tea\&quot;:[\&quot;tea\&quot;],\&quot;text\&quot;:[\&quot;txt\&quot;,\&quot;fr\&quot;],\&quot;textile\&quot;:[\&quot;textile\&quot;],\&quot;thrift\&quot;:[\&quot;thrift\&quot;],\&quot;turing\&quot;:[\&quot;t\&quot;,\&quot;tu\&quot;],\&quot;turtle\&quot;:[\&quot;ttl\&quot;],\&quot;twig\&quot;:[\&quot;twig\&quot;],\&quot;typescript\&quot;:[\&quot;ts\&quot;],\&quot;unified parallel c\&quot;:[\&quot;upc\&quot;],\&quot;unrealscript\&quot;:[\&quot;uc\&quot;],\&quot;vcl\&quot;:[\&quot;vcl\&quot;],\&quot;vhdl\&quot;:[\&quot;vhdl\&quot;,\&quot;vhd\&quot;,\&quot;vhf\&quot;,\&quot;vhi\&quot;,\&quot;vho\&quot;,\&quot;vhs\&quot;,\&quot;vht\&quot;,\&quot;vhw\&quot;],\&quot;vala\&quot;:[\&quot;vala\&quot;,\&quot;vapi\&quot;],\&quot;verilog\&quot;:[\&quot;v\&quot;,\&quot;veo\&quot;],\&quot;viml\&quot;:[\&quot;vim\&quot;],\&quot;visual basic\&quot;:[\&quot;vb\&quot;,\&quot;bas\&quot;,\&quot;cls\&quot;,\&quot;frm\&quot;,\&quot;frx\&quot;,\&quot;vba\&quot;,\&quot;vbhtml\&quot;,\&quot;vbs\&quot;],\&quot;volt\&quot;:[\&quot;volt\&quot;],\&quot;web ontology language\&quot;:[\&quot;owl\&quot;],\&quot;webidl\&quot;:[\&quot;webidl\&quot;],\&quot;xc\&quot;:[\&quot;xc\&quot;],\&quot;xml\&quot;:[\&quot;xml\&quot;,\&quot;ant\&quot;,\&quot;axml\&quot;,\&quot;ccxml\&quot;,\&quot;clixml\&quot;,\&quot;cproject\&quot;,\&quot;csproj\&quot;,\&quot;ct\&quot;,\&quot;dita\&quot;,\&quot;ditamap\&quot;,\&quot;ditaval\&quot;,\&quot;dll.config\&quot;,\&quot;filters\&quot;,\&quot;fsproj\&quot;,\&quot;fxml\&quot;,\&quot;glade\&quot;,\&quot;grxml\&quot;,\&quot;ivy\&quot;,\&quot;jelly\&quot;,\&quot;kml\&quot;,\&quot;launch\&quot;,\&quot;mm\&quot;,\&quot;mxml\&quot;,\&quot;nproj\&quot;,\&quot;nuspec\&quot;,\&quot;odd\&quot;,\&quot;osm\&quot;,\&quot;plist\&quot;,\&quot;pluginspec\&quot;,\&quot;ps1xml\&quot;,\&quot;psc1\&quot;,\&quot;pt\&quot;,\&quot;rdf\&quot;,\&quot;rss\&quot;,\&quot;scxml\&quot;,\&quot;srdf\&quot;,\&quot;storyboard\&quot;,\&quot;stTheme\&quot;,\&quot;sublime-snippet\&quot;,\&quot;targets\&quot;,\&quot;tmCommand\&quot;,\&quot;tml\&quot;,\&quot;tmLanguage\&quot;,\&quot;tmPreferences\&quot;,\&quot;tmSnippet\&quot;,\&quot;tmTheme\&quot;,\&quot;ts\&quot;,\&quot;ui\&quot;,\&quot;urdf\&quot;,\&quot;vbproj\&quot;,\&quot;vcxproj\&quot;,\&quot;vxml\&quot;,\&quot;wsdl\&quot;,\&quot;wsf\&quot;,\&quot;wxi\&quot;,\&quot;wxl\&quot;,\&quot;wxs\&quot;,\&quot;x3d\&quot;,\&quot;xacro\&quot;,\&quot;xaml\&quot;,\&quot;xib\&quot;,\&quot;xlf\&quot;,\&quot;xliff\&quot;,\&quot;xmi\&quot;,\&quot;xml.dist\&quot;,\&quot;xsd\&quot;,\&quot;xul\&quot;,\&quot;zcml\&quot;],\&quot;xproc\&quot;:[\&quot;xpl\&quot;,\&quot;xproc\&quot;],\&quot;xquery\&quot;:[\&quot;xquery\&quot;,\&quot;xq\&quot;,\&quot;xql\&quot;,\&quot;xqm\&quot;,\&quot;xqy\&quot;],\&quot;xs\&quot;:[\&quot;xs\&quot;],\&quot;xslt\&quot;:[\&quot;xslt\&quot;,\&quot;xsl\&quot;],\&quot;xojo\&quot;:[\&quot;xojo_code\&quot;,\&quot;xojo_menu\&quot;,\&quot;xojo_report\&quot;,\&quot;xojo_script\&quot;,\&quot;xojo_toolbar\&quot;,\&quot;xojo_window\&quot;],\&quot;xtend\&quot;:[\&quot;xtend\&quot;],\&quot;yaml\&quot;:[\&quot;yml\&quot;,\&quot;reek\&quot;,\&quot;rviz\&quot;,\&quot;yaml\&quot;],\&quot;zephir\&quot;:[\&quot;zep\&quot;],\&quot;zimpl\&quot;:[\&quot;zimpl\&quot;,\&quot;zmpl\&quot;,\&quot;zpl\&quot;],\&quot;desktop\&quot;:[\&quot;desktop\&quot;,\&quot;desktop.in\&quot;],\&quot;ec\&quot;:[\&quot;ec\&quot;,\&quot;eh\&quot;],\&quot;edn\&quot;:[\&quot;edn\&quot;],\&quot;fish\&quot;:[\&quot;fish\&quot;],\&quot;mupad\&quot;:[\&quot;mu\&quot;],\&quot;nesc\&quot;:[\&quot;nc\&quot;],\&quot;ooc\&quot;:[\&quot;ooc\&quot;],\&quot;restructuredtext\&quot;:[\&quot;rst\&quot;,\&quot;rest\&quot;],\&quot;wisp\&quot;:[\&quot;wisp\&quot;],\&quot;xbase\&quot;:[\&quot;prg\&quot;]}&quot;;
</a><a href="#h1-0-1" id="h1-0-1" class="i">+
</a><a href="#h1-0-2" id="h1-0-2" class="i">+/*
</a><a href="#h1-0-3" id="h1-0-3" class="i">+  Copyright (c) 2009-2017 Dave Gamble and cJSON contributors
</a><a href="#h1-0-4" id="h1-0-4" class="i">+
</a><a href="#h1-0-5" id="h1-0-5" class="i">+  Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h1-0-6" id="h1-0-6" class="i">+  of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h1-0-7" id="h1-0-7" class="i">+  in the Software without restriction, including without limitation the rights
</a><a href="#h1-0-8" id="h1-0-8" class="i">+  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h1-0-9" id="h1-0-9" class="i">+  copies of the Software, and to permit persons to whom the Software is
</a><a href="#h1-0-10" id="h1-0-10" class="i">+  furnished to do so, subject to the following conditions:
</a><a href="#h1-0-11" id="h1-0-11" class="i">+
</a><a href="#h1-0-12" id="h1-0-12" class="i">+  The above copyright notice and this permission notice shall be included in
</a><a href="#h1-0-13" id="h1-0-13" class="i">+  all copies or substantial portions of the Software.
</a><a href="#h1-0-14" id="h1-0-14" class="i">+
</a><a href="#h1-0-15" id="h1-0-15" class="i">+  THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h1-0-16" id="h1-0-16" class="i">+  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h1-0-17" id="h1-0-17" class="i">+  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h1-0-18" id="h1-0-18" class="i">+  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h1-0-19" id="h1-0-19" class="i">+  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h1-0-20" id="h1-0-20" class="i">+  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</a><a href="#h1-0-21" id="h1-0-21" class="i">+  THE SOFTWARE.
</a><a href="#h1-0-22" id="h1-0-22" class="i">+*/
</a><a href="#h1-0-23" id="h1-0-23" class="i">+
</a><a href="#h1-0-24" id="h1-0-24" class="i">+/* cJSON */
</a><a href="#h1-0-25" id="h1-0-25" class="i">+/* JSON parser in C. */
</a><a href="#h1-0-26" id="h1-0-26" class="i">+
</a><a href="#h1-0-27" id="h1-0-27" class="i">+/* disable warnings about old C89 functions in MSVC */
</a><a href="#h1-0-28" id="h1-0-28" class="i">+#if !defined(_CRT_SECURE_NO_DEPRECATE) &amp;&amp; defined(_MSC_VER)
</a><a href="#h1-0-29" id="h1-0-29" class="i">+#define _CRT_SECURE_NO_DEPRECATE
</a><a href="#h1-0-30" id="h1-0-30" class="i">+#endif
</a><a href="#h1-0-31" id="h1-0-31" class="i">+
</a><a href="#h1-0-32" id="h1-0-32" class="i">+#ifdef __GNUC__
</a><a href="#h1-0-33" id="h1-0-33" class="i">+#pragma GCC visibility push(default)
</a><a href="#h1-0-34" id="h1-0-34" class="i">+#endif
</a><a href="#h1-0-35" id="h1-0-35" class="i">+#if defined(_MSC_VER)
</a><a href="#h1-0-36" id="h1-0-36" class="i">+#pragma warning (push)
</a><a href="#h1-0-37" id="h1-0-37" class="i">+/* disable warning about single line comments in system headers */
</a><a href="#h1-0-38" id="h1-0-38" class="i">+#pragma warning (disable : 4001)
</a><a href="#h1-0-39" id="h1-0-39" class="i">+#endif
</a><a href="#h1-0-40" id="h1-0-40" class="i">+
</a><a href="#h1-0-41" id="h1-0-41" class="i">+#include &lt;string.h&gt;
</a><a href="#h1-0-42" id="h1-0-42" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h1-0-43" id="h1-0-43" class="i">+#include &lt;math.h&gt;
</a><a href="#h1-0-44" id="h1-0-44" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h1-0-45" id="h1-0-45" class="i">+#include &lt;limits.h&gt;
</a><a href="#h1-0-46" id="h1-0-46" class="i">+#include &lt;ctype.h&gt;
</a><a href="#h1-0-47" id="h1-0-47" class="i">+#include &lt;float.h&gt;
</a><a href="#h1-0-48" id="h1-0-48" class="i">+
</a><a href="#h1-0-49" id="h1-0-49" class="i">+#ifdef ENABLE_LOCALES
</a><a href="#h1-0-50" id="h1-0-50" class="i">+#include &lt;locale.h&gt;
</a><a href="#h1-0-51" id="h1-0-51" class="i">+#endif
</a><a href="#h1-0-52" id="h1-0-52" class="i">+
</a><a href="#h1-0-53" id="h1-0-53" class="i">+#if defined(_MSC_VER)
</a><a href="#h1-0-54" id="h1-0-54" class="i">+#pragma warning (pop)
</a><a href="#h1-0-55" id="h1-0-55" class="i">+#endif
</a><a href="#h1-0-56" id="h1-0-56" class="i">+#ifdef __GNUC__
</a><a href="#h1-0-57" id="h1-0-57" class="i">+#pragma GCC visibility pop
</a><a href="#h1-0-58" id="h1-0-58" class="i">+#endif
</a><a href="#h1-0-59" id="h1-0-59" class="i">+
</a><a href="#h1-0-60" id="h1-0-60" class="i">+#include &quot;cJSON.h&quot;
</a><a href="#h1-0-61" id="h1-0-61" class="i">+
</a><a href="#h1-0-62" id="h1-0-62" class="i">+/* define our own boolean type */
</a><a href="#h1-0-63" id="h1-0-63" class="i">+#ifdef true
</a><a href="#h1-0-64" id="h1-0-64" class="i">+#undef true
</a><a href="#h1-0-65" id="h1-0-65" class="i">+#endif
</a><a href="#h1-0-66" id="h1-0-66" class="i">+#define true ((cJSON_bool)1)
</a><a href="#h1-0-67" id="h1-0-67" class="i">+
</a><a href="#h1-0-68" id="h1-0-68" class="i">+#ifdef false
</a><a href="#h1-0-69" id="h1-0-69" class="i">+#undef false
</a><a href="#h1-0-70" id="h1-0-70" class="i">+#endif
</a><a href="#h1-0-71" id="h1-0-71" class="i">+#define false ((cJSON_bool)0)
</a><a href="#h1-0-72" id="h1-0-72" class="i">+
</a><a href="#h1-0-73" id="h1-0-73" class="i">+/* define isnan and isinf for ANSI C, if in C99 or above, isnan and isinf has been defined in math.h */
</a><a href="#h1-0-74" id="h1-0-74" class="i">+#ifndef isinf
</a><a href="#h1-0-75" id="h1-0-75" class="i">+#define isinf(d) (isnan((d - d)) &amp;&amp; !isnan(d))
</a><a href="#h1-0-76" id="h1-0-76" class="i">+#endif
</a><a href="#h1-0-77" id="h1-0-77" class="i">+#ifndef isnan
</a><a href="#h1-0-78" id="h1-0-78" class="i">+#define isnan(d) (d != d)
</a><a href="#h1-0-79" id="h1-0-79" class="i">+#endif
</a><a href="#h1-0-80" id="h1-0-80" class="i">+
</a><a href="#h1-0-81" id="h1-0-81" class="i">+#ifndef NAN
</a><a href="#h1-0-82" id="h1-0-82" class="i">+#ifdef _WIN32
</a><a href="#h1-0-83" id="h1-0-83" class="i">+#define NAN sqrt(-1.0)
</a><a href="#h1-0-84" id="h1-0-84" class="i">+#else
</a><a href="#h1-0-85" id="h1-0-85" class="i">+#define NAN 0.0/0.0
</a><a href="#h1-0-86" id="h1-0-86" class="i">+#endif
</a><a href="#h1-0-87" id="h1-0-87" class="i">+#endif
</a><a href="#h1-0-88" id="h1-0-88" class="i">+
</a><a href="#h1-0-89" id="h1-0-89" class="i">+typedef struct {
</a><a href="#h1-0-90" id="h1-0-90" class="i">+    const unsigned char *json;
</a><a href="#h1-0-91" id="h1-0-91" class="i">+    size_t position;
</a><a href="#h1-0-92" id="h1-0-92" class="i">+} error;
</a><a href="#h1-0-93" id="h1-0-93" class="i">+static error global_error = { NULL, 0 };
</a><a href="#h1-0-94" id="h1-0-94" class="i">+
</a><a href="#h1-0-95" id="h1-0-95" class="i">+CJSON_PUBLIC(const char *) cJSON_GetErrorPtr(void)
</a><a href="#h1-0-96" id="h1-0-96" class="i">+{
</a><a href="#h1-0-97" id="h1-0-97" class="i">+    return (const char*) (global_error.json + global_error.position);
</a><a href="#h1-0-98" id="h1-0-98" class="i">+}
</a><a href="#h1-0-99" id="h1-0-99" class="i">+
</a><a href="#h1-0-100" id="h1-0-100" class="i">+CJSON_PUBLIC(char *) cJSON_GetStringValue(const cJSON * const item)
</a><a href="#h1-0-101" id="h1-0-101" class="i">+{
</a><a href="#h1-0-102" id="h1-0-102" class="i">+    if (!cJSON_IsString(item))
</a><a href="#h1-0-103" id="h1-0-103" class="i">+    {
</a><a href="#h1-0-104" id="h1-0-104" class="i">+        return NULL;
</a><a href="#h1-0-105" id="h1-0-105" class="i">+    }
</a><a href="#h1-0-106" id="h1-0-106" class="i">+
</a><a href="#h1-0-107" id="h1-0-107" class="i">+    return item-&gt;valuestring;
</a><a href="#h1-0-108" id="h1-0-108" class="i">+}
</a><a href="#h1-0-109" id="h1-0-109" class="i">+
</a><a href="#h1-0-110" id="h1-0-110" class="i">+CJSON_PUBLIC(double) cJSON_GetNumberValue(const cJSON * const item)
</a><a href="#h1-0-111" id="h1-0-111" class="i">+{
</a><a href="#h1-0-112" id="h1-0-112" class="i">+    if (!cJSON_IsNumber(item))
</a><a href="#h1-0-113" id="h1-0-113" class="i">+    {
</a><a href="#h1-0-114" id="h1-0-114" class="i">+        return (double) NAN;
</a><a href="#h1-0-115" id="h1-0-115" class="i">+    }
</a><a href="#h1-0-116" id="h1-0-116" class="i">+
</a><a href="#h1-0-117" id="h1-0-117" class="i">+    return item-&gt;valuedouble;
</a><a href="#h1-0-118" id="h1-0-118" class="i">+}
</a><a href="#h1-0-119" id="h1-0-119" class="i">+
</a><a href="#h1-0-120" id="h1-0-120" class="i">+/* This is a safeguard to prevent copy-pasters from using incompatible C and header files */
</a><a href="#h1-0-121" id="h1-0-121" class="i">+#if (CJSON_VERSION_MAJOR != 1) || (CJSON_VERSION_MINOR != 7) || (CJSON_VERSION_PATCH != 18)
</a><a href="#h1-0-122" id="h1-0-122" class="i">+    #error cJSON.h and cJSON.c have different versions. Make sure that both have the same.
</a><a href="#h1-0-123" id="h1-0-123" class="i">+#endif
</a><a href="#h1-0-124" id="h1-0-124" class="i">+
</a><a href="#h1-0-125" id="h1-0-125" class="i">+CJSON_PUBLIC(const char*) cJSON_Version(void)
</a><a href="#h1-0-126" id="h1-0-126" class="i">+{
</a><a href="#h1-0-127" id="h1-0-127" class="i">+    static char version[15];
</a><a href="#h1-0-128" id="h1-0-128" class="i">+    sprintf(version, &quot;%i.%i.%i&quot;, CJSON_VERSION_MAJOR, CJSON_VERSION_MINOR, CJSON_VERSION_PATCH);
</a><a href="#h1-0-129" id="h1-0-129" class="i">+
</a><a href="#h1-0-130" id="h1-0-130" class="i">+    return version;
</a><a href="#h1-0-131" id="h1-0-131" class="i">+}
</a><a href="#h1-0-132" id="h1-0-132" class="i">+
</a><a href="#h1-0-133" id="h1-0-133" class="i">+/* Case insensitive string comparison, doesn&#39;t consider two NULL pointers equal though */
</a><a href="#h1-0-134" id="h1-0-134" class="i">+static int case_insensitive_strcmp(const unsigned char *string1, const unsigned char *string2)
</a><a href="#h1-0-135" id="h1-0-135" class="i">+{
</a><a href="#h1-0-136" id="h1-0-136" class="i">+    if ((string1 == NULL) || (string2 == NULL))
</a><a href="#h1-0-137" id="h1-0-137" class="i">+    {
</a><a href="#h1-0-138" id="h1-0-138" class="i">+        return 1;
</a><a href="#h1-0-139" id="h1-0-139" class="i">+    }
</a><a href="#h1-0-140" id="h1-0-140" class="i">+
</a><a href="#h1-0-141" id="h1-0-141" class="i">+    if (string1 == string2)
</a><a href="#h1-0-142" id="h1-0-142" class="i">+    {
</a><a href="#h1-0-143" id="h1-0-143" class="i">+        return 0;
</a><a href="#h1-0-144" id="h1-0-144" class="i">+    }
</a><a href="#h1-0-145" id="h1-0-145" class="i">+
</a><a href="#h1-0-146" id="h1-0-146" class="i">+    for(; tolower(*string1) == tolower(*string2); (void)string1++, string2++)
</a><a href="#h1-0-147" id="h1-0-147" class="i">+    {
</a><a href="#h1-0-148" id="h1-0-148" class="i">+        if (*string1 == &#39;\0&#39;)
</a><a href="#h1-0-149" id="h1-0-149" class="i">+        {
</a><a href="#h1-0-150" id="h1-0-150" class="i">+            return 0;
</a><a href="#h1-0-151" id="h1-0-151" class="i">+        }
</a><a href="#h1-0-152" id="h1-0-152" class="i">+    }
</a><a href="#h1-0-153" id="h1-0-153" class="i">+
</a><a href="#h1-0-154" id="h1-0-154" class="i">+    return tolower(*string1) - tolower(*string2);
</a><a href="#h1-0-155" id="h1-0-155" class="i">+}
</a><a href="#h1-0-156" id="h1-0-156" class="i">+
</a><a href="#h1-0-157" id="h1-0-157" class="i">+typedef struct internal_hooks
</a><a href="#h1-0-158" id="h1-0-158" class="i">+{
</a><a href="#h1-0-159" id="h1-0-159" class="i">+    void *(CJSON_CDECL *allocate)(size_t size);
</a><a href="#h1-0-160" id="h1-0-160" class="i">+    void (CJSON_CDECL *deallocate)(void *pointer);
</a><a href="#h1-0-161" id="h1-0-161" class="i">+    void *(CJSON_CDECL *reallocate)(void *pointer, size_t size);
</a><a href="#h1-0-162" id="h1-0-162" class="i">+} internal_hooks;
</a><a href="#h1-0-163" id="h1-0-163" class="i">+
</a><a href="#h1-0-164" id="h1-0-164" class="i">+#if defined(_MSC_VER)
</a><a href="#h1-0-165" id="h1-0-165" class="i">+/* work around MSVC error C2322: &#39;...&#39; address of dllimport &#39;...&#39; is not static */
</a><a href="#h1-0-166" id="h1-0-166" class="i">+static void * CJSON_CDECL internal_malloc(size_t size)
</a><a href="#h1-0-167" id="h1-0-167" class="i">+{
</a><a href="#h1-0-168" id="h1-0-168" class="i">+    return malloc(size);
</a><a href="#h1-0-169" id="h1-0-169" class="i">+}
</a><a href="#h1-0-170" id="h1-0-170" class="i">+static void CJSON_CDECL internal_free(void *pointer)
</a><a href="#h1-0-171" id="h1-0-171" class="i">+{
</a><a href="#h1-0-172" id="h1-0-172" class="i">+    free(pointer);
</a><a href="#h1-0-173" id="h1-0-173" class="i">+}
</a><a href="#h1-0-174" id="h1-0-174" class="i">+static void * CJSON_CDECL internal_realloc(void *pointer, size_t size)
</a><a href="#h1-0-175" id="h1-0-175" class="i">+{
</a><a href="#h1-0-176" id="h1-0-176" class="i">+    return realloc(pointer, size);
</a><a href="#h1-0-177" id="h1-0-177" class="i">+}
</a><a href="#h1-0-178" id="h1-0-178" class="i">+#else
</a><a href="#h1-0-179" id="h1-0-179" class="i">+#define internal_malloc malloc
</a><a href="#h1-0-180" id="h1-0-180" class="i">+#define internal_free free
</a><a href="#h1-0-181" id="h1-0-181" class="i">+#define internal_realloc realloc
</a><a href="#h1-0-182" id="h1-0-182" class="i">+#endif
</a><a href="#h1-0-183" id="h1-0-183" class="i">+
</a><a href="#h1-0-184" id="h1-0-184" class="i">+/* strlen of character literals resolved at compile time */
</a><a href="#h1-0-185" id="h1-0-185" class="i">+#define static_strlen(string_literal) (sizeof(string_literal) - sizeof(&quot;&quot;))
</a><a href="#h1-0-186" id="h1-0-186" class="i">+
</a><a href="#h1-0-187" id="h1-0-187" class="i">+static internal_hooks global_hooks = { internal_malloc, internal_free, internal_realloc };
</a><a href="#h1-0-188" id="h1-0-188" class="i">+
</a><a href="#h1-0-189" id="h1-0-189" class="i">+static unsigned char* cJSON_strdup(const unsigned char* string, const internal_hooks * const hooks)
</a><a href="#h1-0-190" id="h1-0-190" class="i">+{
</a><a href="#h1-0-191" id="h1-0-191" class="i">+    size_t length = 0;
</a><a href="#h1-0-192" id="h1-0-192" class="i">+    unsigned char *copy = NULL;
</a><a href="#h1-0-193" id="h1-0-193" class="i">+
</a><a href="#h1-0-194" id="h1-0-194" class="i">+    if (string == NULL)
</a><a href="#h1-0-195" id="h1-0-195" class="i">+    {
</a><a href="#h1-0-196" id="h1-0-196" class="i">+        return NULL;
</a><a href="#h1-0-197" id="h1-0-197" class="i">+    }
</a><a href="#h1-0-198" id="h1-0-198" class="i">+
</a><a href="#h1-0-199" id="h1-0-199" class="i">+    length = strlen((const char*)string) + sizeof(&quot;&quot;);
</a><a href="#h1-0-200" id="h1-0-200" class="i">+    copy = (unsigned char*)hooks-&gt;allocate(length);
</a><a href="#h1-0-201" id="h1-0-201" class="i">+    if (copy == NULL)
</a><a href="#h1-0-202" id="h1-0-202" class="i">+    {
</a><a href="#h1-0-203" id="h1-0-203" class="i">+        return NULL;
</a><a href="#h1-0-204" id="h1-0-204" class="i">+    }
</a><a href="#h1-0-205" id="h1-0-205" class="i">+    memcpy(copy, string, length);
</a><a href="#h1-0-206" id="h1-0-206" class="i">+
</a><a href="#h1-0-207" id="h1-0-207" class="i">+    return copy;
</a><a href="#h1-0-208" id="h1-0-208" class="i">+}
</a><a href="#h1-0-209" id="h1-0-209" class="i">+
</a><a href="#h1-0-210" id="h1-0-210" class="i">+CJSON_PUBLIC(void) cJSON_InitHooks(cJSON_Hooks* hooks)
</a><a href="#h1-0-211" id="h1-0-211" class="i">+{
</a><a href="#h1-0-212" id="h1-0-212" class="i">+    if (hooks == NULL)
</a><a href="#h1-0-213" id="h1-0-213" class="i">+    {
</a><a href="#h1-0-214" id="h1-0-214" class="i">+        /* Reset hooks */
</a><a href="#h1-0-215" id="h1-0-215" class="i">+        global_hooks.allocate = malloc;
</a><a href="#h1-0-216" id="h1-0-216" class="i">+        global_hooks.deallocate = free;
</a><a href="#h1-0-217" id="h1-0-217" class="i">+        global_hooks.reallocate = realloc;
</a><a href="#h1-0-218" id="h1-0-218" class="i">+        return;
</a><a href="#h1-0-219" id="h1-0-219" class="i">+    }
</a><a href="#h1-0-220" id="h1-0-220" class="i">+
</a><a href="#h1-0-221" id="h1-0-221" class="i">+    global_hooks.allocate = malloc;
</a><a href="#h1-0-222" id="h1-0-222" class="i">+    if (hooks-&gt;malloc_fn != NULL)
</a><a href="#h1-0-223" id="h1-0-223" class="i">+    {
</a><a href="#h1-0-224" id="h1-0-224" class="i">+        global_hooks.allocate = hooks-&gt;malloc_fn;
</a><a href="#h1-0-225" id="h1-0-225" class="i">+    }
</a><a href="#h1-0-226" id="h1-0-226" class="i">+
</a><a href="#h1-0-227" id="h1-0-227" class="i">+    global_hooks.deallocate = free;
</a><a href="#h1-0-228" id="h1-0-228" class="i">+    if (hooks-&gt;free_fn != NULL)
</a><a href="#h1-0-229" id="h1-0-229" class="i">+    {
</a><a href="#h1-0-230" id="h1-0-230" class="i">+        global_hooks.deallocate = hooks-&gt;free_fn;
</a><a href="#h1-0-231" id="h1-0-231" class="i">+    }
</a><a href="#h1-0-232" id="h1-0-232" class="i">+
</a><a href="#h1-0-233" id="h1-0-233" class="i">+    /* use realloc only if both free and malloc are used */
</a><a href="#h1-0-234" id="h1-0-234" class="i">+    global_hooks.reallocate = NULL;
</a><a href="#h1-0-235" id="h1-0-235" class="i">+    if ((global_hooks.allocate == malloc) &amp;&amp; (global_hooks.deallocate == free))
</a><a href="#h1-0-236" id="h1-0-236" class="i">+    {
</a><a href="#h1-0-237" id="h1-0-237" class="i">+        global_hooks.reallocate = realloc;
</a><a href="#h1-0-238" id="h1-0-238" class="i">+    }
</a><a href="#h1-0-239" id="h1-0-239" class="i">+}
</a><a href="#h1-0-240" id="h1-0-240" class="i">+
</a><a href="#h1-0-241" id="h1-0-241" class="i">+/* Internal constructor. */
</a><a href="#h1-0-242" id="h1-0-242" class="i">+static cJSON *cJSON_New_Item(const internal_hooks * const hooks)
</a><a href="#h1-0-243" id="h1-0-243" class="i">+{
</a><a href="#h1-0-244" id="h1-0-244" class="i">+    cJSON* node = (cJSON*)hooks-&gt;allocate(sizeof(cJSON));
</a><a href="#h1-0-245" id="h1-0-245" class="i">+    if (node)
</a><a href="#h1-0-246" id="h1-0-246" class="i">+    {
</a><a href="#h1-0-247" id="h1-0-247" class="i">+        memset(node, &#39;\0&#39;, sizeof(cJSON));
</a><a href="#h1-0-248" id="h1-0-248" class="i">+    }
</a><a href="#h1-0-249" id="h1-0-249" class="i">+
</a><a href="#h1-0-250" id="h1-0-250" class="i">+    return node;
</a><a href="#h1-0-251" id="h1-0-251" class="i">+}
</a><a href="#h1-0-252" id="h1-0-252" class="i">+
</a><a href="#h1-0-253" id="h1-0-253" class="i">+/* Delete a cJSON structure. */
</a><a href="#h1-0-254" id="h1-0-254" class="i">+CJSON_PUBLIC(void) cJSON_Delete(cJSON *item)
</a><a href="#h1-0-255" id="h1-0-255" class="i">+{
</a><a href="#h1-0-256" id="h1-0-256" class="i">+    cJSON *next = NULL;
</a><a href="#h1-0-257" id="h1-0-257" class="i">+    while (item != NULL)
</a><a href="#h1-0-258" id="h1-0-258" class="i">+    {
</a><a href="#h1-0-259" id="h1-0-259" class="i">+        next = item-&gt;next;
</a><a href="#h1-0-260" id="h1-0-260" class="i">+        if (!(item-&gt;type &amp; cJSON_IsReference) &amp;&amp; (item-&gt;child != NULL))
</a><a href="#h1-0-261" id="h1-0-261" class="i">+        {
</a><a href="#h1-0-262" id="h1-0-262" class="i">+            cJSON_Delete(item-&gt;child);
</a><a href="#h1-0-263" id="h1-0-263" class="i">+        }
</a><a href="#h1-0-264" id="h1-0-264" class="i">+        if (!(item-&gt;type &amp; cJSON_IsReference) &amp;&amp; (item-&gt;valuestring != NULL))
</a><a href="#h1-0-265" id="h1-0-265" class="i">+        {
</a><a href="#h1-0-266" id="h1-0-266" class="i">+            global_hooks.deallocate(item-&gt;valuestring);
</a><a href="#h1-0-267" id="h1-0-267" class="i">+            item-&gt;valuestring = NULL;
</a><a href="#h1-0-268" id="h1-0-268" class="i">+        }
</a><a href="#h1-0-269" id="h1-0-269" class="i">+        if (!(item-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (item-&gt;string != NULL))
</a><a href="#h1-0-270" id="h1-0-270" class="i">+        {
</a><a href="#h1-0-271" id="h1-0-271" class="i">+            global_hooks.deallocate(item-&gt;string);
</a><a href="#h1-0-272" id="h1-0-272" class="i">+            item-&gt;string = NULL;
</a><a href="#h1-0-273" id="h1-0-273" class="i">+        }
</a><a href="#h1-0-274" id="h1-0-274" class="i">+        global_hooks.deallocate(item);
</a><a href="#h1-0-275" id="h1-0-275" class="i">+        item = next;
</a><a href="#h1-0-276" id="h1-0-276" class="i">+    }
</a><a href="#h1-0-277" id="h1-0-277" class="i">+}
</a><a href="#h1-0-278" id="h1-0-278" class="i">+
</a><a href="#h1-0-279" id="h1-0-279" class="i">+/* get the decimal point character of the current locale */
</a><a href="#h1-0-280" id="h1-0-280" class="i">+static unsigned char get_decimal_point(void)
</a><a href="#h1-0-281" id="h1-0-281" class="i">+{
</a><a href="#h1-0-282" id="h1-0-282" class="i">+#ifdef ENABLE_LOCALES
</a><a href="#h1-0-283" id="h1-0-283" class="i">+    struct lconv *lconv = localeconv();
</a><a href="#h1-0-284" id="h1-0-284" class="i">+    return (unsigned char) lconv-&gt;decimal_point[0];
</a><a href="#h1-0-285" id="h1-0-285" class="i">+#else
</a><a href="#h1-0-286" id="h1-0-286" class="i">+    return &#39;.&#39;;
</a><a href="#h1-0-287" id="h1-0-287" class="i">+#endif
</a><a href="#h1-0-288" id="h1-0-288" class="i">+}
</a><a href="#h1-0-289" id="h1-0-289" class="i">+
</a><a href="#h1-0-290" id="h1-0-290" class="i">+typedef struct
</a><a href="#h1-0-291" id="h1-0-291" class="i">+{
</a><a href="#h1-0-292" id="h1-0-292" class="i">+    const unsigned char *content;
</a><a href="#h1-0-293" id="h1-0-293" class="i">+    size_t length;
</a><a href="#h1-0-294" id="h1-0-294" class="i">+    size_t offset;
</a><a href="#h1-0-295" id="h1-0-295" class="i">+    size_t depth; /* How deeply nested (in arrays/objects) is the input at the current offset. */
</a><a href="#h1-0-296" id="h1-0-296" class="i">+    internal_hooks hooks;
</a><a href="#h1-0-297" id="h1-0-297" class="i">+} parse_buffer;
</a><a href="#h1-0-298" id="h1-0-298" class="i">+
</a><a href="#h1-0-299" id="h1-0-299" class="i">+/* check if the given size is left to read in a given parse buffer (starting with 1) */
</a><a href="#h1-0-300" id="h1-0-300" class="i">+#define can_read(buffer, size) ((buffer != NULL) &amp;&amp; (((buffer)-&gt;offset + size) &lt;= (buffer)-&gt;length))
</a><a href="#h1-0-301" id="h1-0-301" class="i">+/* check if the buffer can be accessed at the given index (starting with 0) */
</a><a href="#h1-0-302" id="h1-0-302" class="i">+#define can_access_at_index(buffer, index) ((buffer != NULL) &amp;&amp; (((buffer)-&gt;offset + index) &lt; (buffer)-&gt;length))
</a><a href="#h1-0-303" id="h1-0-303" class="i">+#define cannot_access_at_index(buffer, index) (!can_access_at_index(buffer, index))
</a><a href="#h1-0-304" id="h1-0-304" class="i">+/* get a pointer to the buffer at the position */
</a><a href="#h1-0-305" id="h1-0-305" class="i">+#define buffer_at_offset(buffer) ((buffer)-&gt;content + (buffer)-&gt;offset)
</a><a href="#h1-0-306" id="h1-0-306" class="i">+
</a><a href="#h1-0-307" id="h1-0-307" class="i">+/* Parse the input text to generate a number, and populate the result into item. */
</a><a href="#h1-0-308" id="h1-0-308" class="i">+static cJSON_bool parse_number(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h1-0-309" id="h1-0-309" class="i">+{
</a><a href="#h1-0-310" id="h1-0-310" class="i">+    double number = 0;
</a><a href="#h1-0-311" id="h1-0-311" class="i">+    unsigned char *after_end = NULL;
</a><a href="#h1-0-312" id="h1-0-312" class="i">+    unsigned char number_c_string[64];
</a><a href="#h1-0-313" id="h1-0-313" class="i">+    unsigned char decimal_point = get_decimal_point();
</a><a href="#h1-0-314" id="h1-0-314" class="i">+    size_t i = 0;
</a><a href="#h1-0-315" id="h1-0-315" class="i">+
</a><a href="#h1-0-316" id="h1-0-316" class="i">+    if ((input_buffer == NULL) || (input_buffer-&gt;content == NULL))
</a><a href="#h1-0-317" id="h1-0-317" class="i">+    {
</a><a href="#h1-0-318" id="h1-0-318" class="i">+        return false;
</a><a href="#h1-0-319" id="h1-0-319" class="i">+    }
</a><a href="#h1-0-320" id="h1-0-320" class="i">+
</a><a href="#h1-0-321" id="h1-0-321" class="i">+    /* copy the number into a temporary buffer and replace &#39;.&#39; with the decimal point
</a><a href="#h1-0-322" id="h1-0-322" class="i">+     * of the current locale (for strtod)
</a><a href="#h1-0-323" id="h1-0-323" class="i">+     * This also takes care of &#39;\0&#39; not necessarily being available for marking the end of the input */
</a><a href="#h1-0-324" id="h1-0-324" class="i">+    for (i = 0; (i &lt; (sizeof(number_c_string) - 1)) &amp;&amp; can_access_at_index(input_buffer, i); i++)
</a><a href="#h1-0-325" id="h1-0-325" class="i">+    {
</a><a href="#h1-0-326" id="h1-0-326" class="i">+        switch (buffer_at_offset(input_buffer)[i])
</a><a href="#h1-0-327" id="h1-0-327" class="i">+        {
</a><a href="#h1-0-328" id="h1-0-328" class="i">+            case &#39;0&#39;:
</a><a href="#h1-0-329" id="h1-0-329" class="i">+            case &#39;1&#39;:
</a><a href="#h1-0-330" id="h1-0-330" class="i">+            case &#39;2&#39;:
</a><a href="#h1-0-331" id="h1-0-331" class="i">+            case &#39;3&#39;:
</a><a href="#h1-0-332" id="h1-0-332" class="i">+            case &#39;4&#39;:
</a><a href="#h1-0-333" id="h1-0-333" class="i">+            case &#39;5&#39;:
</a><a href="#h1-0-334" id="h1-0-334" class="i">+            case &#39;6&#39;:
</a><a href="#h1-0-335" id="h1-0-335" class="i">+            case &#39;7&#39;:
</a><a href="#h1-0-336" id="h1-0-336" class="i">+            case &#39;8&#39;:
</a><a href="#h1-0-337" id="h1-0-337" class="i">+            case &#39;9&#39;:
</a><a href="#h1-0-338" id="h1-0-338" class="i">+            case &#39;+&#39;:
</a><a href="#h1-0-339" id="h1-0-339" class="i">+            case &#39;-&#39;:
</a><a href="#h1-0-340" id="h1-0-340" class="i">+            case &#39;e&#39;:
</a><a href="#h1-0-341" id="h1-0-341" class="i">+            case &#39;E&#39;:
</a><a href="#h1-0-342" id="h1-0-342" class="i">+                number_c_string[i] = buffer_at_offset(input_buffer)[i];
</a><a href="#h1-0-343" id="h1-0-343" class="i">+                break;
</a><a href="#h1-0-344" id="h1-0-344" class="i">+
</a><a href="#h1-0-345" id="h1-0-345" class="i">+            case &#39;.&#39;:
</a><a href="#h1-0-346" id="h1-0-346" class="i">+                number_c_string[i] = decimal_point;
</a><a href="#h1-0-347" id="h1-0-347" class="i">+                break;
</a><a href="#h1-0-348" id="h1-0-348" class="i">+
</a><a href="#h1-0-349" id="h1-0-349" class="i">+            default:
</a><a href="#h1-0-350" id="h1-0-350" class="i">+                goto loop_end;
</a><a href="#h1-0-351" id="h1-0-351" class="i">+        }
</a><a href="#h1-0-352" id="h1-0-352" class="i">+    }
</a><a href="#h1-0-353" id="h1-0-353" class="i">+loop_end:
</a><a href="#h1-0-354" id="h1-0-354" class="i">+    number_c_string[i] = &#39;\0&#39;;
</a><a href="#h1-0-355" id="h1-0-355" class="i">+
</a><a href="#h1-0-356" id="h1-0-356" class="i">+    number = strtod((const char*)number_c_string, (char**)&amp;after_end);
</a><a href="#h1-0-357" id="h1-0-357" class="i">+    if (number_c_string == after_end)
</a><a href="#h1-0-358" id="h1-0-358" class="i">+    {
</a><a href="#h1-0-359" id="h1-0-359" class="i">+        return false; /* parse_error */
</a><a href="#h1-0-360" id="h1-0-360" class="i">+    }
</a><a href="#h1-0-361" id="h1-0-361" class="i">+
</a><a href="#h1-0-362" id="h1-0-362" class="i">+    item-&gt;valuedouble = number;
</a><a href="#h1-0-363" id="h1-0-363" class="i">+
</a><a href="#h1-0-364" id="h1-0-364" class="i">+    /* use saturation in case of overflow */
</a><a href="#h1-0-365" id="h1-0-365" class="i">+    if (number &gt;= INT_MAX)
</a><a href="#h1-0-366" id="h1-0-366" class="i">+    {
</a><a href="#h1-0-367" id="h1-0-367" class="i">+        item-&gt;valueint = INT_MAX;
</a><a href="#h1-0-368" id="h1-0-368" class="i">+    }
</a><a href="#h1-0-369" id="h1-0-369" class="i">+    else if (number &lt;= (double)INT_MIN)
</a><a href="#h1-0-370" id="h1-0-370" class="i">+    {
</a><a href="#h1-0-371" id="h1-0-371" class="i">+        item-&gt;valueint = INT_MIN;
</a><a href="#h1-0-372" id="h1-0-372" class="i">+    }
</a><a href="#h1-0-373" id="h1-0-373" class="i">+    else
</a><a href="#h1-0-374" id="h1-0-374" class="i">+    {
</a><a href="#h1-0-375" id="h1-0-375" class="i">+        item-&gt;valueint = (int)number;
</a><a href="#h1-0-376" id="h1-0-376" class="i">+    }
</a><a href="#h1-0-377" id="h1-0-377" class="i">+
</a><a href="#h1-0-378" id="h1-0-378" class="i">+    item-&gt;type = cJSON_Number;
</a><a href="#h1-0-379" id="h1-0-379" class="i">+
</a><a href="#h1-0-380" id="h1-0-380" class="i">+    input_buffer-&gt;offset += (size_t)(after_end - number_c_string);
</a><a href="#h1-0-381" id="h1-0-381" class="i">+    return true;
</a><a href="#h1-0-382" id="h1-0-382" class="i">+}
</a><a href="#h1-0-383" id="h1-0-383" class="i">+
</a><a href="#h1-0-384" id="h1-0-384" class="i">+/* don&#39;t ask me, but the original cJSON_SetNumberValue returns an integer or double */
</a><a href="#h1-0-385" id="h1-0-385" class="i">+CJSON_PUBLIC(double) cJSON_SetNumberHelper(cJSON *object, double number)
</a><a href="#h1-0-386" id="h1-0-386" class="i">+{
</a><a href="#h1-0-387" id="h1-0-387" class="i">+    if (number &gt;= INT_MAX)
</a><a href="#h1-0-388" id="h1-0-388" class="i">+    {
</a><a href="#h1-0-389" id="h1-0-389" class="i">+        object-&gt;valueint = INT_MAX;
</a><a href="#h1-0-390" id="h1-0-390" class="i">+    }
</a><a href="#h1-0-391" id="h1-0-391" class="i">+    else if (number &lt;= (double)INT_MIN)
</a><a href="#h1-0-392" id="h1-0-392" class="i">+    {
</a><a href="#h1-0-393" id="h1-0-393" class="i">+        object-&gt;valueint = INT_MIN;
</a><a href="#h1-0-394" id="h1-0-394" class="i">+    }
</a><a href="#h1-0-395" id="h1-0-395" class="i">+    else
</a><a href="#h1-0-396" id="h1-0-396" class="i">+    {
</a><a href="#h1-0-397" id="h1-0-397" class="i">+        object-&gt;valueint = (int)number;
</a><a href="#h1-0-398" id="h1-0-398" class="i">+    }
</a><a href="#h1-0-399" id="h1-0-399" class="i">+
</a><a href="#h1-0-400" id="h1-0-400" class="i">+    return object-&gt;valuedouble = number;
</a><a href="#h1-0-401" id="h1-0-401" class="i">+}
</a><a href="#h1-0-402" id="h1-0-402" class="i">+
</a><a href="#h1-0-403" id="h1-0-403" class="i">+/* Note: when passing a NULL valuestring, cJSON_SetValuestring treats this as an error and return NULL */
</a><a href="#h1-0-404" id="h1-0-404" class="i">+CJSON_PUBLIC(char*) cJSON_SetValuestring(cJSON *object, const char *valuestring)
</a><a href="#h1-0-405" id="h1-0-405" class="i">+{
</a><a href="#h1-0-406" id="h1-0-406" class="i">+    char *copy = NULL;
</a><a href="#h1-0-407" id="h1-0-407" class="i">+    size_t v1_len;
</a><a href="#h1-0-408" id="h1-0-408" class="i">+    size_t v2_len;
</a><a href="#h1-0-409" id="h1-0-409" class="i">+    /* if object&#39;s type is not cJSON_String or is cJSON_IsReference, it should not set valuestring */
</a><a href="#h1-0-410" id="h1-0-410" class="i">+    if ((object == NULL) || !(object-&gt;type &amp; cJSON_String) || (object-&gt;type &amp; cJSON_IsReference))
</a><a href="#h1-0-411" id="h1-0-411" class="i">+    {
</a><a href="#h1-0-412" id="h1-0-412" class="i">+        return NULL;
</a><a href="#h1-0-413" id="h1-0-413" class="i">+    }
</a><a href="#h1-0-414" id="h1-0-414" class="i">+    /* return NULL if the object is corrupted or valuestring is NULL */
</a><a href="#h1-0-415" id="h1-0-415" class="i">+    if (object-&gt;valuestring == NULL || valuestring == NULL)
</a><a href="#h1-0-416" id="h1-0-416" class="i">+    {
</a><a href="#h1-0-417" id="h1-0-417" class="i">+        return NULL;
</a><a href="#h1-0-418" id="h1-0-418" class="i">+    }
</a><a href="#h1-0-419" id="h1-0-419" class="i">+
</a><a href="#h1-0-420" id="h1-0-420" class="i">+    v1_len = strlen(valuestring);
</a><a href="#h1-0-421" id="h1-0-421" class="i">+    v2_len = strlen(object-&gt;valuestring);
</a><a href="#h1-0-422" id="h1-0-422" class="i">+
</a><a href="#h1-0-423" id="h1-0-423" class="i">+    if (v1_len &lt;= v2_len)
</a><a href="#h1-0-424" id="h1-0-424" class="i">+    {
</a><a href="#h1-0-425" id="h1-0-425" class="i">+        /* strcpy does not handle overlapping string: [X1, X2] [Y1, Y2] =&gt; X2 &lt; Y1 or Y2 &lt; X1 */
</a><a href="#h1-0-426" id="h1-0-426" class="i">+        if (!( valuestring + v1_len &lt; object-&gt;valuestring || object-&gt;valuestring + v2_len &lt; valuestring ))
</a><a href="#h1-0-427" id="h1-0-427" class="i">+        {
</a><a href="#h1-0-428" id="h1-0-428" class="i">+            return NULL;
</a><a href="#h1-0-429" id="h1-0-429" class="i">+        }
</a><a href="#h1-0-430" id="h1-0-430" class="i">+        strcpy(object-&gt;valuestring, valuestring);
</a><a href="#h1-0-431" id="h1-0-431" class="i">+        return object-&gt;valuestring;
</a><a href="#h1-0-432" id="h1-0-432" class="i">+    }
</a><a href="#h1-0-433" id="h1-0-433" class="i">+    copy = (char*) cJSON_strdup((const unsigned char*)valuestring, &amp;global_hooks);
</a><a href="#h1-0-434" id="h1-0-434" class="i">+    if (copy == NULL)
</a><a href="#h1-0-435" id="h1-0-435" class="i">+    {
</a><a href="#h1-0-436" id="h1-0-436" class="i">+        return NULL;
</a><a href="#h1-0-437" id="h1-0-437" class="i">+    }
</a><a href="#h1-0-438" id="h1-0-438" class="i">+    if (object-&gt;valuestring != NULL)
</a><a href="#h1-0-439" id="h1-0-439" class="i">+    {
</a><a href="#h1-0-440" id="h1-0-440" class="i">+        cJSON_free(object-&gt;valuestring);
</a><a href="#h1-0-441" id="h1-0-441" class="i">+    }
</a><a href="#h1-0-442" id="h1-0-442" class="i">+    object-&gt;valuestring = copy;
</a><a href="#h1-0-443" id="h1-0-443" class="i">+
</a><a href="#h1-0-444" id="h1-0-444" class="i">+    return copy;
</a><a href="#h1-0-445" id="h1-0-445" class="i">+}
</a><a href="#h1-0-446" id="h1-0-446" class="i">+
</a><a href="#h1-0-447" id="h1-0-447" class="i">+typedef struct
</a><a href="#h1-0-448" id="h1-0-448" class="i">+{
</a><a href="#h1-0-449" id="h1-0-449" class="i">+    unsigned char *buffer;
</a><a href="#h1-0-450" id="h1-0-450" class="i">+    size_t length;
</a><a href="#h1-0-451" id="h1-0-451" class="i">+    size_t offset;
</a><a href="#h1-0-452" id="h1-0-452" class="i">+    size_t depth; /* current nesting depth (for formatted printing) */
</a><a href="#h1-0-453" id="h1-0-453" class="i">+    cJSON_bool noalloc;
</a><a href="#h1-0-454" id="h1-0-454" class="i">+    cJSON_bool format; /* is this print a formatted print */
</a><a href="#h1-0-455" id="h1-0-455" class="i">+    internal_hooks hooks;
</a><a href="#h1-0-456" id="h1-0-456" class="i">+} printbuffer;
</a><a href="#h1-0-457" id="h1-0-457" class="i">+
</a><a href="#h1-0-458" id="h1-0-458" class="i">+/* realloc printbuffer if necessary to have at least &quot;needed&quot; bytes more */
</a><a href="#h1-0-459" id="h1-0-459" class="i">+static unsigned char* ensure(printbuffer * const p, size_t needed)
</a><a href="#h1-0-460" id="h1-0-460" class="i">+{
</a><a href="#h1-0-461" id="h1-0-461" class="i">+    unsigned char *newbuffer = NULL;
</a><a href="#h1-0-462" id="h1-0-462" class="i">+    size_t newsize = 0;
</a><a href="#h1-0-463" id="h1-0-463" class="i">+
</a><a href="#h1-0-464" id="h1-0-464" class="i">+    if ((p == NULL) || (p-&gt;buffer == NULL))
</a><a href="#h1-0-465" id="h1-0-465" class="i">+    {
</a><a href="#h1-0-466" id="h1-0-466" class="i">+        return NULL;
</a><a href="#h1-0-467" id="h1-0-467" class="i">+    }
</a><a href="#h1-0-468" id="h1-0-468" class="i">+
</a><a href="#h1-0-469" id="h1-0-469" class="i">+    if ((p-&gt;length &gt; 0) &amp;&amp; (p-&gt;offset &gt;= p-&gt;length))
</a><a href="#h1-0-470" id="h1-0-470" class="i">+    {
</a><a href="#h1-0-471" id="h1-0-471" class="i">+        /* make sure that offset is valid */
</a><a href="#h1-0-472" id="h1-0-472" class="i">+        return NULL;
</a><a href="#h1-0-473" id="h1-0-473" class="i">+    }
</a><a href="#h1-0-474" id="h1-0-474" class="i">+
</a><a href="#h1-0-475" id="h1-0-475" class="i">+    if (needed &gt; INT_MAX)
</a><a href="#h1-0-476" id="h1-0-476" class="i">+    {
</a><a href="#h1-0-477" id="h1-0-477" class="i">+        /* sizes bigger than INT_MAX are currently not supported */
</a><a href="#h1-0-478" id="h1-0-478" class="i">+        return NULL;
</a><a href="#h1-0-479" id="h1-0-479" class="i">+    }
</a><a href="#h1-0-480" id="h1-0-480" class="i">+
</a><a href="#h1-0-481" id="h1-0-481" class="i">+    needed += p-&gt;offset + 1;
</a><a href="#h1-0-482" id="h1-0-482" class="i">+    if (needed &lt;= p-&gt;length)
</a><a href="#h1-0-483" id="h1-0-483" class="i">+    {
</a><a href="#h1-0-484" id="h1-0-484" class="i">+        return p-&gt;buffer + p-&gt;offset;
</a><a href="#h1-0-485" id="h1-0-485" class="i">+    }
</a><a href="#h1-0-486" id="h1-0-486" class="i">+
</a><a href="#h1-0-487" id="h1-0-487" class="i">+    if (p-&gt;noalloc) {
</a><a href="#h1-0-488" id="h1-0-488" class="i">+        return NULL;
</a><a href="#h1-0-489" id="h1-0-489" class="i">+    }
</a><a href="#h1-0-490" id="h1-0-490" class="i">+
</a><a href="#h1-0-491" id="h1-0-491" class="i">+    /* calculate new buffer size */
</a><a href="#h1-0-492" id="h1-0-492" class="i">+    if (needed &gt; (INT_MAX / 2))
</a><a href="#h1-0-493" id="h1-0-493" class="i">+    {
</a><a href="#h1-0-494" id="h1-0-494" class="i">+        /* overflow of int, use INT_MAX if possible */
</a><a href="#h1-0-495" id="h1-0-495" class="i">+        if (needed &lt;= INT_MAX)
</a><a href="#h1-0-496" id="h1-0-496" class="i">+        {
</a><a href="#h1-0-497" id="h1-0-497" class="i">+            newsize = INT_MAX;
</a><a href="#h1-0-498" id="h1-0-498" class="i">+        }
</a><a href="#h1-0-499" id="h1-0-499" class="i">+        else
</a><a href="#h1-0-500" id="h1-0-500" class="i">+        {
</a><a href="#h1-0-501" id="h1-0-501" class="i">+            return NULL;
</a><a href="#h1-0-502" id="h1-0-502" class="i">+        }
</a><a href="#h1-0-503" id="h1-0-503" class="i">+    }
</a><a href="#h1-0-504" id="h1-0-504" class="i">+    else
</a><a href="#h1-0-505" id="h1-0-505" class="i">+    {
</a><a href="#h1-0-506" id="h1-0-506" class="i">+        newsize = needed * 2;
</a><a href="#h1-0-507" id="h1-0-507" class="i">+    }
</a><a href="#h1-0-508" id="h1-0-508" class="i">+
</a><a href="#h1-0-509" id="h1-0-509" class="i">+    if (p-&gt;hooks.reallocate != NULL)
</a><a href="#h1-0-510" id="h1-0-510" class="i">+    {
</a><a href="#h1-0-511" id="h1-0-511" class="i">+        /* reallocate with realloc if available */
</a><a href="#h1-0-512" id="h1-0-512" class="i">+        newbuffer = (unsigned char*)p-&gt;hooks.reallocate(p-&gt;buffer, newsize);
</a><a href="#h1-0-513" id="h1-0-513" class="i">+        if (newbuffer == NULL)
</a><a href="#h1-0-514" id="h1-0-514" class="i">+        {
</a><a href="#h1-0-515" id="h1-0-515" class="i">+            p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h1-0-516" id="h1-0-516" class="i">+            p-&gt;length = 0;
</a><a href="#h1-0-517" id="h1-0-517" class="i">+            p-&gt;buffer = NULL;
</a><a href="#h1-0-518" id="h1-0-518" class="i">+
</a><a href="#h1-0-519" id="h1-0-519" class="i">+            return NULL;
</a><a href="#h1-0-520" id="h1-0-520" class="i">+        }
</a><a href="#h1-0-521" id="h1-0-521" class="i">+    }
</a><a href="#h1-0-522" id="h1-0-522" class="i">+    else
</a><a href="#h1-0-523" id="h1-0-523" class="i">+    {
</a><a href="#h1-0-524" id="h1-0-524" class="i">+        /* otherwise reallocate manually */
</a><a href="#h1-0-525" id="h1-0-525" class="i">+        newbuffer = (unsigned char*)p-&gt;hooks.allocate(newsize);
</a><a href="#h1-0-526" id="h1-0-526" class="i">+        if (!newbuffer)
</a><a href="#h1-0-527" id="h1-0-527" class="i">+        {
</a><a href="#h1-0-528" id="h1-0-528" class="i">+            p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h1-0-529" id="h1-0-529" class="i">+            p-&gt;length = 0;
</a><a href="#h1-0-530" id="h1-0-530" class="i">+            p-&gt;buffer = NULL;
</a><a href="#h1-0-531" id="h1-0-531" class="i">+
</a><a href="#h1-0-532" id="h1-0-532" class="i">+            return NULL;
</a><a href="#h1-0-533" id="h1-0-533" class="i">+        }
</a><a href="#h1-0-534" id="h1-0-534" class="i">+
</a><a href="#h1-0-535" id="h1-0-535" class="i">+        memcpy(newbuffer, p-&gt;buffer, p-&gt;offset + 1);
</a><a href="#h1-0-536" id="h1-0-536" class="i">+        p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h1-0-537" id="h1-0-537" class="i">+    }
</a><a href="#h1-0-538" id="h1-0-538" class="i">+    p-&gt;length = newsize;
</a><a href="#h1-0-539" id="h1-0-539" class="i">+    p-&gt;buffer = newbuffer;
</a><a href="#h1-0-540" id="h1-0-540" class="i">+
</a><a href="#h1-0-541" id="h1-0-541" class="i">+    return newbuffer + p-&gt;offset;
</a><a href="#h1-0-542" id="h1-0-542" class="i">+}
</a><a href="#h1-0-543" id="h1-0-543" class="i">+
</a><a href="#h1-0-544" id="h1-0-544" class="i">+/* calculate the new length of the string in a printbuffer and update the offset */
</a><a href="#h1-0-545" id="h1-0-545" class="i">+static void update_offset(printbuffer * const buffer)
</a><a href="#h1-0-546" id="h1-0-546" class="i">+{
</a><a href="#h1-0-547" id="h1-0-547" class="i">+    const unsigned char *buffer_pointer = NULL;
</a><a href="#h1-0-548" id="h1-0-548" class="i">+    if ((buffer == NULL) || (buffer-&gt;buffer == NULL))
</a><a href="#h1-0-549" id="h1-0-549" class="i">+    {
</a><a href="#h1-0-550" id="h1-0-550" class="i">+        return;
</a><a href="#h1-0-551" id="h1-0-551" class="i">+    }
</a><a href="#h1-0-552" id="h1-0-552" class="i">+    buffer_pointer = buffer-&gt;buffer + buffer-&gt;offset;
</a><a href="#h1-0-553" id="h1-0-553" class="i">+
</a><a href="#h1-0-554" id="h1-0-554" class="i">+    buffer-&gt;offset += strlen((const char*)buffer_pointer);
</a><a href="#h1-0-555" id="h1-0-555" class="i">+}
</a><a href="#h1-0-556" id="h1-0-556" class="i">+
</a><a href="#h1-0-557" id="h1-0-557" class="i">+/* securely comparison of floating-point variables */
</a><a href="#h1-0-558" id="h1-0-558" class="i">+static cJSON_bool compare_double(double a, double b)
</a><a href="#h1-0-559" id="h1-0-559" class="i">+{
</a><a href="#h1-0-560" id="h1-0-560" class="i">+    double maxVal = fabs(a) &gt; fabs(b) ? fabs(a) : fabs(b);
</a><a href="#h1-0-561" id="h1-0-561" class="i">+    return (fabs(a - b) &lt;= maxVal * DBL_EPSILON);
</a><a href="#h1-0-562" id="h1-0-562" class="i">+}
</a><a href="#h1-0-563" id="h1-0-563" class="i">+
</a><a href="#h1-0-564" id="h1-0-564" class="i">+/* Render the number nicely from the given item into a string. */
</a><a href="#h1-0-565" id="h1-0-565" class="i">+static cJSON_bool print_number(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h1-0-566" id="h1-0-566" class="i">+{
</a><a href="#h1-0-567" id="h1-0-567" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h1-0-568" id="h1-0-568" class="i">+    double d = item-&gt;valuedouble;
</a><a href="#h1-0-569" id="h1-0-569" class="i">+    int length = 0;
</a><a href="#h1-0-570" id="h1-0-570" class="i">+    size_t i = 0;
</a><a href="#h1-0-571" id="h1-0-571" class="i">+    unsigned char number_buffer[26] = {0}; /* temporary buffer to print the number into */
</a><a href="#h1-0-572" id="h1-0-572" class="i">+    unsigned char decimal_point = get_decimal_point();
</a><a href="#h1-0-573" id="h1-0-573" class="i">+    double test = 0.0;
</a><a href="#h1-0-574" id="h1-0-574" class="i">+
</a><a href="#h1-0-575" id="h1-0-575" class="i">+    if (output_buffer == NULL)
</a><a href="#h1-0-576" id="h1-0-576" class="i">+    {
</a><a href="#h1-0-577" id="h1-0-577" class="i">+        return false;
</a><a href="#h1-0-578" id="h1-0-578" class="i">+    }
</a><a href="#h1-0-579" id="h1-0-579" class="i">+
</a><a href="#h1-0-580" id="h1-0-580" class="i">+    /* This checks for NaN and Infinity */
</a><a href="#h1-0-581" id="h1-0-581" class="i">+    if (isnan(d) || isinf(d))
</a><a href="#h1-0-582" id="h1-0-582" class="i">+    {
</a><a href="#h1-0-583" id="h1-0-583" class="i">+        length = sprintf((char*)number_buffer, &quot;null&quot;);
</a><a href="#h1-0-584" id="h1-0-584" class="i">+    }
</a><a href="#h1-0-585" id="h1-0-585" class="i">+    else if(d == (double)item-&gt;valueint)
</a><a href="#h1-0-586" id="h1-0-586" class="i">+    {
</a><a href="#h1-0-587" id="h1-0-587" class="i">+        length = sprintf((char*)number_buffer, &quot;%d&quot;, item-&gt;valueint);
</a><a href="#h1-0-588" id="h1-0-588" class="i">+    }
</a><a href="#h1-0-589" id="h1-0-589" class="i">+    else
</a><a href="#h1-0-590" id="h1-0-590" class="i">+    {
</a><a href="#h1-0-591" id="h1-0-591" class="i">+        /* Try 15 decimal places of precision to avoid nonsignificant nonzero digits */
</a><a href="#h1-0-592" id="h1-0-592" class="i">+        length = sprintf((char*)number_buffer, &quot;%1.15g&quot;, d);
</a><a href="#h1-0-593" id="h1-0-593" class="i">+
</a><a href="#h1-0-594" id="h1-0-594" class="i">+        /* Check whether the original double can be recovered */
</a><a href="#h1-0-595" id="h1-0-595" class="i">+        if ((sscanf((char*)number_buffer, &quot;%lg&quot;, &amp;test) != 1) || !compare_double((double)test, d))
</a><a href="#h1-0-596" id="h1-0-596" class="i">+        {
</a><a href="#h1-0-597" id="h1-0-597" class="i">+            /* If not, print with 17 decimal places of precision */
</a><a href="#h1-0-598" id="h1-0-598" class="i">+            length = sprintf((char*)number_buffer, &quot;%1.17g&quot;, d);
</a><a href="#h1-0-599" id="h1-0-599" class="i">+        }
</a><a href="#h1-0-600" id="h1-0-600" class="i">+    }
</a><a href="#h1-0-601" id="h1-0-601" class="i">+
</a><a href="#h1-0-602" id="h1-0-602" class="i">+    /* sprintf failed or buffer overrun occurred */
</a><a href="#h1-0-603" id="h1-0-603" class="i">+    if ((length &lt; 0) || (length &gt; (int)(sizeof(number_buffer) - 1)))
</a><a href="#h1-0-604" id="h1-0-604" class="i">+    {
</a><a href="#h1-0-605" id="h1-0-605" class="i">+        return false;
</a><a href="#h1-0-606" id="h1-0-606" class="i">+    }
</a><a href="#h1-0-607" id="h1-0-607" class="i">+
</a><a href="#h1-0-608" id="h1-0-608" class="i">+    /* reserve appropriate space in the output */
</a><a href="#h1-0-609" id="h1-0-609" class="i">+    output_pointer = ensure(output_buffer, (size_t)length + sizeof(&quot;&quot;));
</a><a href="#h1-0-610" id="h1-0-610" class="i">+    if (output_pointer == NULL)
</a><a href="#h1-0-611" id="h1-0-611" class="i">+    {
</a><a href="#h1-0-612" id="h1-0-612" class="i">+        return false;
</a><a href="#h1-0-613" id="h1-0-613" class="i">+    }
</a><a href="#h1-0-614" id="h1-0-614" class="i">+
</a><a href="#h1-0-615" id="h1-0-615" class="i">+    /* copy the printed number to the output and replace locale
</a><a href="#h1-0-616" id="h1-0-616" class="i">+     * dependent decimal point with &#39;.&#39; */
</a><a href="#h1-0-617" id="h1-0-617" class="i">+    for (i = 0; i &lt; ((size_t)length); i++)
</a><a href="#h1-0-618" id="h1-0-618" class="i">+    {
</a><a href="#h1-0-619" id="h1-0-619" class="i">+        if (number_buffer[i] == decimal_point)
</a><a href="#h1-0-620" id="h1-0-620" class="i">+        {
</a><a href="#h1-0-621" id="h1-0-621" class="i">+            output_pointer[i] = &#39;.&#39;;
</a><a href="#h1-0-622" id="h1-0-622" class="i">+            continue;
</a><a href="#h1-0-623" id="h1-0-623" class="i">+        }
</a><a href="#h1-0-624" id="h1-0-624" class="i">+
</a><a href="#h1-0-625" id="h1-0-625" class="i">+        output_pointer[i] = number_buffer[i];
</a><a href="#h1-0-626" id="h1-0-626" class="i">+    }
</a><a href="#h1-0-627" id="h1-0-627" class="i">+    output_pointer[i] = &#39;\0&#39;;
</a><a href="#h1-0-628" id="h1-0-628" class="i">+
</a><a href="#h1-0-629" id="h1-0-629" class="i">+    output_buffer-&gt;offset += (size_t)length;
</a><a href="#h1-0-630" id="h1-0-630" class="i">+
</a><a href="#h1-0-631" id="h1-0-631" class="i">+    return true;
</a><a href="#h1-0-632" id="h1-0-632" class="i">+}
</a><a href="#h1-0-633" id="h1-0-633" class="i">+
</a><a href="#h1-0-634" id="h1-0-634" class="i">+/* parse 4 digit hexadecimal number */
</a><a href="#h1-0-635" id="h1-0-635" class="i">+static unsigned parse_hex4(const unsigned char * const input)
</a><a href="#h1-0-636" id="h1-0-636" class="i">+{
</a><a href="#h1-0-637" id="h1-0-637" class="i">+    unsigned int h = 0;
</a><a href="#h1-0-638" id="h1-0-638" class="i">+    size_t i = 0;
</a><a href="#h1-0-639" id="h1-0-639" class="i">+
</a><a href="#h1-0-640" id="h1-0-640" class="i">+    for (i = 0; i &lt; 4; i++)
</a><a href="#h1-0-641" id="h1-0-641" class="i">+    {
</a><a href="#h1-0-642" id="h1-0-642" class="i">+        /* parse digit */
</a><a href="#h1-0-643" id="h1-0-643" class="i">+        if ((input[i] &gt;= &#39;0&#39;) &amp;&amp; (input[i] &lt;= &#39;9&#39;))
</a><a href="#h1-0-644" id="h1-0-644" class="i">+        {
</a><a href="#h1-0-645" id="h1-0-645" class="i">+            h += (unsigned int) input[i] - &#39;0&#39;;
</a><a href="#h1-0-646" id="h1-0-646" class="i">+        }
</a><a href="#h1-0-647" id="h1-0-647" class="i">+        else if ((input[i] &gt;= &#39;A&#39;) &amp;&amp; (input[i] &lt;= &#39;F&#39;))
</a><a href="#h1-0-648" id="h1-0-648" class="i">+        {
</a><a href="#h1-0-649" id="h1-0-649" class="i">+            h += (unsigned int) 10 + input[i] - &#39;A&#39;;
</a><a href="#h1-0-650" id="h1-0-650" class="i">+        }
</a><a href="#h1-0-651" id="h1-0-651" class="i">+        else if ((input[i] &gt;= &#39;a&#39;) &amp;&amp; (input[i] &lt;= &#39;f&#39;))
</a><a href="#h1-0-652" id="h1-0-652" class="i">+        {
</a><a href="#h1-0-653" id="h1-0-653" class="i">+            h += (unsigned int) 10 + input[i] - &#39;a&#39;;
</a><a href="#h1-0-654" id="h1-0-654" class="i">+        }
</a><a href="#h1-0-655" id="h1-0-655" class="i">+        else /* invalid */
</a><a href="#h1-0-656" id="h1-0-656" class="i">+        {
</a><a href="#h1-0-657" id="h1-0-657" class="i">+            return 0;
</a><a href="#h1-0-658" id="h1-0-658" class="i">+        }
</a><a href="#h1-0-659" id="h1-0-659" class="i">+
</a><a href="#h1-0-660" id="h1-0-660" class="i">+        if (i &lt; 3)
</a><a href="#h1-0-661" id="h1-0-661" class="i">+        {
</a><a href="#h1-0-662" id="h1-0-662" class="i">+            /* shift left to make place for the next nibble */
</a><a href="#h1-0-663" id="h1-0-663" class="i">+            h = h &lt;&lt; 4;
</a><a href="#h1-0-664" id="h1-0-664" class="i">+        }
</a><a href="#h1-0-665" id="h1-0-665" class="i">+    }
</a><a href="#h1-0-666" id="h1-0-666" class="i">+
</a><a href="#h1-0-667" id="h1-0-667" class="i">+    return h;
</a><a href="#h1-0-668" id="h1-0-668" class="i">+}
</a><a href="#h1-0-669" id="h1-0-669" class="i">+
</a><a href="#h1-0-670" id="h1-0-670" class="i">+/* converts a UTF-16 literal to UTF-8
</a><a href="#h1-0-671" id="h1-0-671" class="i">+ * A literal can be one or two sequences of the form \uXXXX */
</a><a href="#h1-0-672" id="h1-0-672" class="i">+static unsigned char utf16_literal_to_utf8(const unsigned char * const input_pointer, const unsigned char * const input_end, unsigned char **output_pointer)
</a><a href="#h1-0-673" id="h1-0-673" class="i">+{
</a><a href="#h1-0-674" id="h1-0-674" class="i">+    long unsigned int codepoint = 0;
</a><a href="#h1-0-675" id="h1-0-675" class="i">+    unsigned int first_code = 0;
</a><a href="#h1-0-676" id="h1-0-676" class="i">+    const unsigned char *first_sequence = input_pointer;
</a><a href="#h1-0-677" id="h1-0-677" class="i">+    unsigned char utf8_length = 0;
</a><a href="#h1-0-678" id="h1-0-678" class="i">+    unsigned char utf8_position = 0;
</a><a href="#h1-0-679" id="h1-0-679" class="i">+    unsigned char sequence_length = 0;
</a><a href="#h1-0-680" id="h1-0-680" class="i">+    unsigned char first_byte_mark = 0;
</a><a href="#h1-0-681" id="h1-0-681" class="i">+
</a><a href="#h1-0-682" id="h1-0-682" class="i">+    if ((input_end - first_sequence) &lt; 6)
</a><a href="#h1-0-683" id="h1-0-683" class="i">+    {
</a><a href="#h1-0-684" id="h1-0-684" class="i">+        /* input ends unexpectedly */
</a><a href="#h1-0-685" id="h1-0-685" class="i">+        goto fail;
</a><a href="#h1-0-686" id="h1-0-686" class="i">+    }
</a><a href="#h1-0-687" id="h1-0-687" class="i">+
</a><a href="#h1-0-688" id="h1-0-688" class="i">+    /* get the first utf16 sequence */
</a><a href="#h1-0-689" id="h1-0-689" class="i">+    first_code = parse_hex4(first_sequence + 2);
</a><a href="#h1-0-690" id="h1-0-690" class="i">+
</a><a href="#h1-0-691" id="h1-0-691" class="i">+    /* check that the code is valid */
</a><a href="#h1-0-692" id="h1-0-692" class="i">+    if (((first_code &gt;= 0xDC00) &amp;&amp; (first_code &lt;= 0xDFFF)))
</a><a href="#h1-0-693" id="h1-0-693" class="i">+    {
</a><a href="#h1-0-694" id="h1-0-694" class="i">+        goto fail;
</a><a href="#h1-0-695" id="h1-0-695" class="i">+    }
</a><a href="#h1-0-696" id="h1-0-696" class="i">+
</a><a href="#h1-0-697" id="h1-0-697" class="i">+    /* UTF16 surrogate pair */
</a><a href="#h1-0-698" id="h1-0-698" class="i">+    if ((first_code &gt;= 0xD800) &amp;&amp; (first_code &lt;= 0xDBFF))
</a><a href="#h1-0-699" id="h1-0-699" class="i">+    {
</a><a href="#h1-0-700" id="h1-0-700" class="i">+        const unsigned char *second_sequence = first_sequence + 6;
</a><a href="#h1-0-701" id="h1-0-701" class="i">+        unsigned int second_code = 0;
</a><a href="#h1-0-702" id="h1-0-702" class="i">+        sequence_length = 12; /* \uXXXX\uXXXX */
</a><a href="#h1-0-703" id="h1-0-703" class="i">+
</a><a href="#h1-0-704" id="h1-0-704" class="i">+        if ((input_end - second_sequence) &lt; 6)
</a><a href="#h1-0-705" id="h1-0-705" class="i">+        {
</a><a href="#h1-0-706" id="h1-0-706" class="i">+            /* input ends unexpectedly */
</a><a href="#h1-0-707" id="h1-0-707" class="i">+            goto fail;
</a><a href="#h1-0-708" id="h1-0-708" class="i">+        }
</a><a href="#h1-0-709" id="h1-0-709" class="i">+
</a><a href="#h1-0-710" id="h1-0-710" class="i">+        if ((second_sequence[0] != &#39;\\&#39;) || (second_sequence[1] != &#39;u&#39;))
</a><a href="#h1-0-711" id="h1-0-711" class="i">+        {
</a><a href="#h1-0-712" id="h1-0-712" class="i">+            /* missing second half of the surrogate pair */
</a><a href="#h1-0-713" id="h1-0-713" class="i">+            goto fail;
</a><a href="#h1-0-714" id="h1-0-714" class="i">+        }
</a><a href="#h1-0-715" id="h1-0-715" class="i">+
</a><a href="#h1-0-716" id="h1-0-716" class="i">+        /* get the second utf16 sequence */
</a><a href="#h1-0-717" id="h1-0-717" class="i">+        second_code = parse_hex4(second_sequence + 2);
</a><a href="#h1-0-718" id="h1-0-718" class="i">+        /* check that the code is valid */
</a><a href="#h1-0-719" id="h1-0-719" class="i">+        if ((second_code &lt; 0xDC00) || (second_code &gt; 0xDFFF))
</a><a href="#h1-0-720" id="h1-0-720" class="i">+        {
</a><a href="#h1-0-721" id="h1-0-721" class="i">+            /* invalid second half of the surrogate pair */
</a><a href="#h1-0-722" id="h1-0-722" class="i">+            goto fail;
</a><a href="#h1-0-723" id="h1-0-723" class="i">+        }
</a><a href="#h1-0-724" id="h1-0-724" class="i">+
</a><a href="#h1-0-725" id="h1-0-725" class="i">+
</a><a href="#h1-0-726" id="h1-0-726" class="i">+        /* calculate the unicode codepoint from the surrogate pair */
</a><a href="#h1-0-727" id="h1-0-727" class="i">+        codepoint = 0x10000 + (((first_code &amp; 0x3FF) &lt;&lt; 10) | (second_code &amp; 0x3FF));
</a><a href="#h1-0-728" id="h1-0-728" class="i">+    }
</a><a href="#h1-0-729" id="h1-0-729" class="i">+    else
</a><a href="#h1-0-730" id="h1-0-730" class="i">+    {
</a><a href="#h1-0-731" id="h1-0-731" class="i">+        sequence_length = 6; /* \uXXXX */
</a><a href="#h1-0-732" id="h1-0-732" class="i">+        codepoint = first_code;
</a><a href="#h1-0-733" id="h1-0-733" class="i">+    }
</a><a href="#h1-0-734" id="h1-0-734" class="i">+
</a><a href="#h1-0-735" id="h1-0-735" class="i">+    /* encode as UTF-8
</a><a href="#h1-0-736" id="h1-0-736" class="i">+     * takes at maximum 4 bytes to encode:
</a><a href="#h1-0-737" id="h1-0-737" class="i">+     * 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx */
</a><a href="#h1-0-738" id="h1-0-738" class="i">+    if (codepoint &lt; 0x80)
</a><a href="#h1-0-739" id="h1-0-739" class="i">+    {
</a><a href="#h1-0-740" id="h1-0-740" class="i">+        /* normal ascii, encoding 0xxxxxxx */
</a><a href="#h1-0-741" id="h1-0-741" class="i">+        utf8_length = 1;
</a><a href="#h1-0-742" id="h1-0-742" class="i">+    }
</a><a href="#h1-0-743" id="h1-0-743" class="i">+    else if (codepoint &lt; 0x800)
</a><a href="#h1-0-744" id="h1-0-744" class="i">+    {
</a><a href="#h1-0-745" id="h1-0-745" class="i">+        /* two bytes, encoding 110xxxxx 10xxxxxx */
</a><a href="#h1-0-746" id="h1-0-746" class="i">+        utf8_length = 2;
</a><a href="#h1-0-747" id="h1-0-747" class="i">+        first_byte_mark = 0xC0; /* 11000000 */
</a><a href="#h1-0-748" id="h1-0-748" class="i">+    }
</a><a href="#h1-0-749" id="h1-0-749" class="i">+    else if (codepoint &lt; 0x10000)
</a><a href="#h1-0-750" id="h1-0-750" class="i">+    {
</a><a href="#h1-0-751" id="h1-0-751" class="i">+        /* three bytes, encoding 1110xxxx 10xxxxxx 10xxxxxx */
</a><a href="#h1-0-752" id="h1-0-752" class="i">+        utf8_length = 3;
</a><a href="#h1-0-753" id="h1-0-753" class="i">+        first_byte_mark = 0xE0; /* 11100000 */
</a><a href="#h1-0-754" id="h1-0-754" class="i">+    }
</a><a href="#h1-0-755" id="h1-0-755" class="i">+    else if (codepoint &lt;= 0x10FFFF)
</a><a href="#h1-0-756" id="h1-0-756" class="i">+    {
</a><a href="#h1-0-757" id="h1-0-757" class="i">+        /* four bytes, encoding 1110xxxx 10xxxxxx 10xxxxxx 10xxxxxx */
</a><a href="#h1-0-758" id="h1-0-758" class="i">+        utf8_length = 4;
</a><a href="#h1-0-759" id="h1-0-759" class="i">+        first_byte_mark = 0xF0; /* 11110000 */
</a><a href="#h1-0-760" id="h1-0-760" class="i">+    }
</a><a href="#h1-0-761" id="h1-0-761" class="i">+    else
</a><a href="#h1-0-762" id="h1-0-762" class="i">+    {
</a><a href="#h1-0-763" id="h1-0-763" class="i">+        /* invalid unicode codepoint */
</a><a href="#h1-0-764" id="h1-0-764" class="i">+        goto fail;
</a><a href="#h1-0-765" id="h1-0-765" class="i">+    }
</a><a href="#h1-0-766" id="h1-0-766" class="i">+
</a><a href="#h1-0-767" id="h1-0-767" class="i">+    /* encode as utf8 */
</a><a href="#h1-0-768" id="h1-0-768" class="i">+    for (utf8_position = (unsigned char)(utf8_length - 1); utf8_position &gt; 0; utf8_position--)
</a><a href="#h1-0-769" id="h1-0-769" class="i">+    {
</a><a href="#h1-0-770" id="h1-0-770" class="i">+        /* 10xxxxxx */
</a><a href="#h1-0-771" id="h1-0-771" class="i">+        (*output_pointer)[utf8_position] = (unsigned char)((codepoint | 0x80) &amp; 0xBF);
</a><a href="#h1-0-772" id="h1-0-772" class="i">+        codepoint &gt;&gt;= 6;
</a><a href="#h1-0-773" id="h1-0-773" class="i">+    }
</a><a href="#h1-0-774" id="h1-0-774" class="i">+    /* encode first byte */
</a><a href="#h1-0-775" id="h1-0-775" class="i">+    if (utf8_length &gt; 1)
</a><a href="#h1-0-776" id="h1-0-776" class="i">+    {
</a><a href="#h1-0-777" id="h1-0-777" class="i">+        (*output_pointer)[0] = (unsigned char)((codepoint | first_byte_mark) &amp; 0xFF);
</a><a href="#h1-0-778" id="h1-0-778" class="i">+    }
</a><a href="#h1-0-779" id="h1-0-779" class="i">+    else
</a><a href="#h1-0-780" id="h1-0-780" class="i">+    {
</a><a href="#h1-0-781" id="h1-0-781" class="i">+        (*output_pointer)[0] = (unsigned char)(codepoint &amp; 0x7F);
</a><a href="#h1-0-782" id="h1-0-782" class="i">+    }
</a><a href="#h1-0-783" id="h1-0-783" class="i">+
</a><a href="#h1-0-784" id="h1-0-784" class="i">+    *output_pointer += utf8_length;
</a><a href="#h1-0-785" id="h1-0-785" class="i">+
</a><a href="#h1-0-786" id="h1-0-786" class="i">+    return sequence_length;
</a><a href="#h1-0-787" id="h1-0-787" class="i">+
</a><a href="#h1-0-788" id="h1-0-788" class="i">+fail:
</a><a href="#h1-0-789" id="h1-0-789" class="i">+    return 0;
</a><a href="#h1-0-790" id="h1-0-790" class="i">+}
</a><a href="#h1-0-791" id="h1-0-791" class="i">+
</a><a href="#h1-0-792" id="h1-0-792" class="i">+/* Parse the input text into an unescaped cinput, and populate item. */
</a><a href="#h1-0-793" id="h1-0-793" class="i">+static cJSON_bool parse_string(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h1-0-794" id="h1-0-794" class="i">+{
</a><a href="#h1-0-795" id="h1-0-795" class="i">+    const unsigned char *input_pointer = buffer_at_offset(input_buffer) + 1;
</a><a href="#h1-0-796" id="h1-0-796" class="i">+    const unsigned char *input_end = buffer_at_offset(input_buffer) + 1;
</a><a href="#h1-0-797" id="h1-0-797" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h1-0-798" id="h1-0-798" class="i">+    unsigned char *output = NULL;
</a><a href="#h1-0-799" id="h1-0-799" class="i">+
</a><a href="#h1-0-800" id="h1-0-800" class="i">+    /* not a string */
</a><a href="#h1-0-801" id="h1-0-801" class="i">+    if (buffer_at_offset(input_buffer)[0] != &#39;\&quot;&#39;)
</a><a href="#h1-0-802" id="h1-0-802" class="i">+    {
</a><a href="#h1-0-803" id="h1-0-803" class="i">+        goto fail;
</a><a href="#h1-0-804" id="h1-0-804" class="i">+    }
</a><a href="#h1-0-805" id="h1-0-805" class="i">+
</a><a href="#h1-0-806" id="h1-0-806" class="i">+    {
</a><a href="#h1-0-807" id="h1-0-807" class="i">+        /* calculate approximate size of the output (overestimate) */
</a><a href="#h1-0-808" id="h1-0-808" class="i">+        size_t allocation_length = 0;
</a><a href="#h1-0-809" id="h1-0-809" class="i">+        size_t skipped_bytes = 0;
</a><a href="#h1-0-810" id="h1-0-810" class="i">+        while (((size_t)(input_end - input_buffer-&gt;content) &lt; input_buffer-&gt;length) &amp;&amp; (*input_end != &#39;\&quot;&#39;))
</a><a href="#h1-0-811" id="h1-0-811" class="i">+        {
</a><a href="#h1-0-812" id="h1-0-812" class="i">+            /* is escape sequence */
</a><a href="#h1-0-813" id="h1-0-813" class="i">+            if (input_end[0] == &#39;\\&#39;)
</a><a href="#h1-0-814" id="h1-0-814" class="i">+            {
</a><a href="#h1-0-815" id="h1-0-815" class="i">+                if ((size_t)(input_end + 1 - input_buffer-&gt;content) &gt;= input_buffer-&gt;length)
</a><a href="#h1-0-816" id="h1-0-816" class="i">+                {
</a><a href="#h1-0-817" id="h1-0-817" class="i">+                    /* prevent buffer overflow when last input character is a backslash */
</a><a href="#h1-0-818" id="h1-0-818" class="i">+                    goto fail;
</a><a href="#h1-0-819" id="h1-0-819" class="i">+                }
</a><a href="#h1-0-820" id="h1-0-820" class="i">+                skipped_bytes++;
</a><a href="#h1-0-821" id="h1-0-821" class="i">+                input_end++;
</a><a href="#h1-0-822" id="h1-0-822" class="i">+            }
</a><a href="#h1-0-823" id="h1-0-823" class="i">+            input_end++;
</a><a href="#h1-0-824" id="h1-0-824" class="i">+        }
</a><a href="#h1-0-825" id="h1-0-825" class="i">+        if (((size_t)(input_end - input_buffer-&gt;content) &gt;= input_buffer-&gt;length) || (*input_end != &#39;\&quot;&#39;))
</a><a href="#h1-0-826" id="h1-0-826" class="i">+        {
</a><a href="#h1-0-827" id="h1-0-827" class="i">+            goto fail; /* string ended unexpectedly */
</a><a href="#h1-0-828" id="h1-0-828" class="i">+        }
</a><a href="#h1-0-829" id="h1-0-829" class="i">+
</a><a href="#h1-0-830" id="h1-0-830" class="i">+        /* This is at most how much we need for the output */
</a><a href="#h1-0-831" id="h1-0-831" class="i">+        allocation_length = (size_t) (input_end - buffer_at_offset(input_buffer)) - skipped_bytes;
</a><a href="#h1-0-832" id="h1-0-832" class="i">+        output = (unsigned char*)input_buffer-&gt;hooks.allocate(allocation_length + sizeof(&quot;&quot;));
</a><a href="#h1-0-833" id="h1-0-833" class="i">+        if (output == NULL)
</a><a href="#h1-0-834" id="h1-0-834" class="i">+        {
</a><a href="#h1-0-835" id="h1-0-835" class="i">+            goto fail; /* allocation failure */
</a><a href="#h1-0-836" id="h1-0-836" class="i">+        }
</a><a href="#h1-0-837" id="h1-0-837" class="i">+    }
</a><a href="#h1-0-838" id="h1-0-838" class="i">+
</a><a href="#h1-0-839" id="h1-0-839" class="i">+    output_pointer = output;
</a><a href="#h1-0-840" id="h1-0-840" class="i">+    /* loop through the string literal */
</a><a href="#h1-0-841" id="h1-0-841" class="i">+    while (input_pointer &lt; input_end)
</a><a href="#h1-0-842" id="h1-0-842" class="i">+    {
</a><a href="#h1-0-843" id="h1-0-843" class="i">+        if (*input_pointer != &#39;\\&#39;)
</a><a href="#h1-0-844" id="h1-0-844" class="i">+        {
</a><a href="#h1-0-845" id="h1-0-845" class="i">+            *output_pointer++ = *input_pointer++;
</a><a href="#h1-0-846" id="h1-0-846" class="i">+        }
</a><a href="#h1-0-847" id="h1-0-847" class="i">+        /* escape sequence */
</a><a href="#h1-0-848" id="h1-0-848" class="i">+        else
</a><a href="#h1-0-849" id="h1-0-849" class="i">+        {
</a><a href="#h1-0-850" id="h1-0-850" class="i">+            unsigned char sequence_length = 2;
</a><a href="#h1-0-851" id="h1-0-851" class="i">+            if ((input_end - input_pointer) &lt; 1)
</a><a href="#h1-0-852" id="h1-0-852" class="i">+            {
</a><a href="#h1-0-853" id="h1-0-853" class="i">+                goto fail;
</a><a href="#h1-0-854" id="h1-0-854" class="i">+            }
</a><a href="#h1-0-855" id="h1-0-855" class="i">+
</a><a href="#h1-0-856" id="h1-0-856" class="i">+            switch (input_pointer[1])
</a><a href="#h1-0-857" id="h1-0-857" class="i">+            {
</a><a href="#h1-0-858" id="h1-0-858" class="i">+                case &#39;b&#39;:
</a><a href="#h1-0-859" id="h1-0-859" class="i">+                    *output_pointer++ = &#39;\b&#39;;
</a><a href="#h1-0-860" id="h1-0-860" class="i">+                    break;
</a><a href="#h1-0-861" id="h1-0-861" class="i">+                case &#39;f&#39;:
</a><a href="#h1-0-862" id="h1-0-862" class="i">+                    *output_pointer++ = &#39;\f&#39;;
</a><a href="#h1-0-863" id="h1-0-863" class="i">+                    break;
</a><a href="#h1-0-864" id="h1-0-864" class="i">+                case &#39;n&#39;:
</a><a href="#h1-0-865" id="h1-0-865" class="i">+                    *output_pointer++ = &#39;\n&#39;;
</a><a href="#h1-0-866" id="h1-0-866" class="i">+                    break;
</a><a href="#h1-0-867" id="h1-0-867" class="i">+                case &#39;r&#39;:
</a><a href="#h1-0-868" id="h1-0-868" class="i">+                    *output_pointer++ = &#39;\r&#39;;
</a><a href="#h1-0-869" id="h1-0-869" class="i">+                    break;
</a><a href="#h1-0-870" id="h1-0-870" class="i">+                case &#39;t&#39;:
</a><a href="#h1-0-871" id="h1-0-871" class="i">+                    *output_pointer++ = &#39;\t&#39;;
</a><a href="#h1-0-872" id="h1-0-872" class="i">+                    break;
</a><a href="#h1-0-873" id="h1-0-873" class="i">+                case &#39;\&quot;&#39;:
</a><a href="#h1-0-874" id="h1-0-874" class="i">+                case &#39;\\&#39;:
</a><a href="#h1-0-875" id="h1-0-875" class="i">+                case &#39;/&#39;:
</a><a href="#h1-0-876" id="h1-0-876" class="i">+                    *output_pointer++ = input_pointer[1];
</a><a href="#h1-0-877" id="h1-0-877" class="i">+                    break;
</a><a href="#h1-0-878" id="h1-0-878" class="i">+
</a><a href="#h1-0-879" id="h1-0-879" class="i">+                /* UTF-16 literal */
</a><a href="#h1-0-880" id="h1-0-880" class="i">+                case &#39;u&#39;:
</a><a href="#h1-0-881" id="h1-0-881" class="i">+                    sequence_length = utf16_literal_to_utf8(input_pointer, input_end, &amp;output_pointer);
</a><a href="#h1-0-882" id="h1-0-882" class="i">+                    if (sequence_length == 0)
</a><a href="#h1-0-883" id="h1-0-883" class="i">+                    {
</a><a href="#h1-0-884" id="h1-0-884" class="i">+                        /* failed to convert UTF16-literal to UTF-8 */
</a><a href="#h1-0-885" id="h1-0-885" class="i">+                        goto fail;
</a><a href="#h1-0-886" id="h1-0-886" class="i">+                    }
</a><a href="#h1-0-887" id="h1-0-887" class="i">+                    break;
</a><a href="#h1-0-888" id="h1-0-888" class="i">+
</a><a href="#h1-0-889" id="h1-0-889" class="i">+                default:
</a><a href="#h1-0-890" id="h1-0-890" class="i">+                    goto fail;
</a><a href="#h1-0-891" id="h1-0-891" class="i">+            }
</a><a href="#h1-0-892" id="h1-0-892" class="i">+            input_pointer += sequence_length;
</a><a href="#h1-0-893" id="h1-0-893" class="i">+        }
</a><a href="#h1-0-894" id="h1-0-894" class="i">+    }
</a><a href="#h1-0-895" id="h1-0-895" class="i">+
</a><a href="#h1-0-896" id="h1-0-896" class="i">+    /* zero terminate the output */
</a><a href="#h1-0-897" id="h1-0-897" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h1-0-898" id="h1-0-898" class="i">+
</a><a href="#h1-0-899" id="h1-0-899" class="i">+    item-&gt;type = cJSON_String;
</a><a href="#h1-0-900" id="h1-0-900" class="i">+    item-&gt;valuestring = (char*)output;
</a><a href="#h1-0-901" id="h1-0-901" class="i">+
</a><a href="#h1-0-902" id="h1-0-902" class="i">+    input_buffer-&gt;offset = (size_t) (input_end - input_buffer-&gt;content);
</a><a href="#h1-0-903" id="h1-0-903" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h1-0-904" id="h1-0-904" class="i">+
</a><a href="#h1-0-905" id="h1-0-905" class="i">+    return true;
</a><a href="#h1-0-906" id="h1-0-906" class="i">+
</a><a href="#h1-0-907" id="h1-0-907" class="i">+fail:
</a><a href="#h1-0-908" id="h1-0-908" class="i">+    if (output != NULL)
</a><a href="#h1-0-909" id="h1-0-909" class="i">+    {
</a><a href="#h1-0-910" id="h1-0-910" class="i">+        input_buffer-&gt;hooks.deallocate(output);
</a><a href="#h1-0-911" id="h1-0-911" class="i">+        output = NULL;
</a><a href="#h1-0-912" id="h1-0-912" class="i">+    }
</a><a href="#h1-0-913" id="h1-0-913" class="i">+
</a><a href="#h1-0-914" id="h1-0-914" class="i">+    if (input_pointer != NULL)
</a><a href="#h1-0-915" id="h1-0-915" class="i">+    {
</a><a href="#h1-0-916" id="h1-0-916" class="i">+        input_buffer-&gt;offset = (size_t)(input_pointer - input_buffer-&gt;content);
</a><a href="#h1-0-917" id="h1-0-917" class="i">+    }
</a><a href="#h1-0-918" id="h1-0-918" class="i">+
</a><a href="#h1-0-919" id="h1-0-919" class="i">+    return false;
</a><a href="#h1-0-920" id="h1-0-920" class="i">+}
</a><a href="#h1-0-921" id="h1-0-921" class="i">+
</a><a href="#h1-0-922" id="h1-0-922" class="i">+/* Render the cstring provided to an escaped version that can be printed. */
</a><a href="#h1-0-923" id="h1-0-923" class="i">+static cJSON_bool print_string_ptr(const unsigned char * const input, printbuffer * const output_buffer)
</a><a href="#h1-0-924" id="h1-0-924" class="i">+{
</a><a href="#h1-0-925" id="h1-0-925" class="i">+    const unsigned char *input_pointer = NULL;
</a><a href="#h1-0-926" id="h1-0-926" class="i">+    unsigned char *output = NULL;
</a><a href="#h1-0-927" id="h1-0-927" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h1-0-928" id="h1-0-928" class="i">+    size_t output_length = 0;
</a><a href="#h1-0-929" id="h1-0-929" class="i">+    /* numbers of additional characters needed for escaping */
</a><a href="#h1-0-930" id="h1-0-930" class="i">+    size_t escape_characters = 0;
</a><a href="#h1-0-931" id="h1-0-931" class="i">+
</a><a href="#h1-0-932" id="h1-0-932" class="i">+    if (output_buffer == NULL)
</a><a href="#h1-0-933" id="h1-0-933" class="i">+    {
</a><a href="#h1-0-934" id="h1-0-934" class="i">+        return false;
</a><a href="#h1-0-935" id="h1-0-935" class="i">+    }
</a><a href="#h1-0-936" id="h1-0-936" class="i">+
</a><a href="#h1-0-937" id="h1-0-937" class="i">+    /* empty string */
</a><a href="#h1-0-938" id="h1-0-938" class="i">+    if (input == NULL)
</a><a href="#h1-0-939" id="h1-0-939" class="i">+    {
</a><a href="#h1-0-940" id="h1-0-940" class="i">+        output = ensure(output_buffer, sizeof(&quot;\&quot;\&quot;&quot;));
</a><a href="#h1-0-941" id="h1-0-941" class="i">+        if (output == NULL)
</a><a href="#h1-0-942" id="h1-0-942" class="i">+        {
</a><a href="#h1-0-943" id="h1-0-943" class="i">+            return false;
</a><a href="#h1-0-944" id="h1-0-944" class="i">+        }
</a><a href="#h1-0-945" id="h1-0-945" class="i">+        strcpy((char*)output, &quot;\&quot;\&quot;&quot;);
</a><a href="#h1-0-946" id="h1-0-946" class="i">+
</a><a href="#h1-0-947" id="h1-0-947" class="i">+        return true;
</a><a href="#h1-0-948" id="h1-0-948" class="i">+    }
</a><a href="#h1-0-949" id="h1-0-949" class="i">+
</a><a href="#h1-0-950" id="h1-0-950" class="i">+    /* set &quot;flag&quot; to 1 if something needs to be escaped */
</a><a href="#h1-0-951" id="h1-0-951" class="i">+    for (input_pointer = input; *input_pointer; input_pointer++)
</a><a href="#h1-0-952" id="h1-0-952" class="i">+    {
</a><a href="#h1-0-953" id="h1-0-953" class="i">+        switch (*input_pointer)
</a><a href="#h1-0-954" id="h1-0-954" class="i">+        {
</a><a href="#h1-0-955" id="h1-0-955" class="i">+            case &#39;\&quot;&#39;:
</a><a href="#h1-0-956" id="h1-0-956" class="i">+            case &#39;\\&#39;:
</a><a href="#h1-0-957" id="h1-0-957" class="i">+            case &#39;\b&#39;:
</a><a href="#h1-0-958" id="h1-0-958" class="i">+            case &#39;\f&#39;:
</a><a href="#h1-0-959" id="h1-0-959" class="i">+            case &#39;\n&#39;:
</a><a href="#h1-0-960" id="h1-0-960" class="i">+            case &#39;\r&#39;:
</a><a href="#h1-0-961" id="h1-0-961" class="i">+            case &#39;\t&#39;:
</a><a href="#h1-0-962" id="h1-0-962" class="i">+                /* one character escape sequence */
</a><a href="#h1-0-963" id="h1-0-963" class="i">+                escape_characters++;
</a><a href="#h1-0-964" id="h1-0-964" class="i">+                break;
</a><a href="#h1-0-965" id="h1-0-965" class="i">+            default:
</a><a href="#h1-0-966" id="h1-0-966" class="i">+                if (*input_pointer &lt; 32)
</a><a href="#h1-0-967" id="h1-0-967" class="i">+                {
</a><a href="#h1-0-968" id="h1-0-968" class="i">+                    /* UTF-16 escape sequence uXXXX */
</a><a href="#h1-0-969" id="h1-0-969" class="i">+                    escape_characters += 5;
</a><a href="#h1-0-970" id="h1-0-970" class="i">+                }
</a><a href="#h1-0-971" id="h1-0-971" class="i">+                break;
</a><a href="#h1-0-972" id="h1-0-972" class="i">+        }
</a><a href="#h1-0-973" id="h1-0-973" class="i">+    }
</a><a href="#h1-0-974" id="h1-0-974" class="i">+    output_length = (size_t)(input_pointer - input) + escape_characters;
</a><a href="#h1-0-975" id="h1-0-975" class="i">+
</a><a href="#h1-0-976" id="h1-0-976" class="i">+    output = ensure(output_buffer, output_length + sizeof(&quot;\&quot;\&quot;&quot;));
</a><a href="#h1-0-977" id="h1-0-977" class="i">+    if (output == NULL)
</a><a href="#h1-0-978" id="h1-0-978" class="i">+    {
</a><a href="#h1-0-979" id="h1-0-979" class="i">+        return false;
</a><a href="#h1-0-980" id="h1-0-980" class="i">+    }
</a><a href="#h1-0-981" id="h1-0-981" class="i">+
</a><a href="#h1-0-982" id="h1-0-982" class="i">+    /* no characters have to be escaped */
</a><a href="#h1-0-983" id="h1-0-983" class="i">+    if (escape_characters == 0)
</a><a href="#h1-0-984" id="h1-0-984" class="i">+    {
</a><a href="#h1-0-985" id="h1-0-985" class="i">+        output[0] = &#39;\&quot;&#39;;
</a><a href="#h1-0-986" id="h1-0-986" class="i">+        memcpy(output + 1, input, output_length);
</a><a href="#h1-0-987" id="h1-0-987" class="i">+        output[output_length + 1] = &#39;\&quot;&#39;;
</a><a href="#h1-0-988" id="h1-0-988" class="i">+        output[output_length + 2] = &#39;\0&#39;;
</a><a href="#h1-0-989" id="h1-0-989" class="i">+
</a><a href="#h1-0-990" id="h1-0-990" class="i">+        return true;
</a><a href="#h1-0-991" id="h1-0-991" class="i">+    }
</a><a href="#h1-0-992" id="h1-0-992" class="i">+
</a><a href="#h1-0-993" id="h1-0-993" class="i">+    output[0] = &#39;\&quot;&#39;;
</a><a href="#h1-0-994" id="h1-0-994" class="i">+    output_pointer = output + 1;
</a><a href="#h1-0-995" id="h1-0-995" class="i">+    /* copy the string */
</a><a href="#h1-0-996" id="h1-0-996" class="i">+    for (input_pointer = input; *input_pointer != &#39;\0&#39;; (void)input_pointer++, output_pointer++)
</a><a href="#h1-0-997" id="h1-0-997" class="i">+    {
</a><a href="#h1-0-998" id="h1-0-998" class="i">+        if ((*input_pointer &gt; 31) &amp;&amp; (*input_pointer != &#39;\&quot;&#39;) &amp;&amp; (*input_pointer != &#39;\\&#39;))
</a><a href="#h1-0-999" id="h1-0-999" class="i">+        {
</a><a href="#h1-0-1000" id="h1-0-1000" class="i">+            /* normal character, copy */
</a><a href="#h1-0-1001" id="h1-0-1001" class="i">+            *output_pointer = *input_pointer;
</a><a href="#h1-0-1002" id="h1-0-1002" class="i">+        }
</a><a href="#h1-0-1003" id="h1-0-1003" class="i">+        else
</a><a href="#h1-0-1004" id="h1-0-1004" class="i">+        {
</a><a href="#h1-0-1005" id="h1-0-1005" class="i">+            /* character needs to be escaped */
</a><a href="#h1-0-1006" id="h1-0-1006" class="i">+            *output_pointer++ = &#39;\\&#39;;
</a><a href="#h1-0-1007" id="h1-0-1007" class="i">+            switch (*input_pointer)
</a><a href="#h1-0-1008" id="h1-0-1008" class="i">+            {
</a><a href="#h1-0-1009" id="h1-0-1009" class="i">+                case &#39;\\&#39;:
</a><a href="#h1-0-1010" id="h1-0-1010" class="i">+                    *output_pointer = &#39;\\&#39;;
</a><a href="#h1-0-1011" id="h1-0-1011" class="i">+                    break;
</a><a href="#h1-0-1012" id="h1-0-1012" class="i">+                case &#39;\&quot;&#39;:
</a><a href="#h1-0-1013" id="h1-0-1013" class="i">+                    *output_pointer = &#39;\&quot;&#39;;
</a><a href="#h1-0-1014" id="h1-0-1014" class="i">+                    break;
</a><a href="#h1-0-1015" id="h1-0-1015" class="i">+                case &#39;\b&#39;:
</a><a href="#h1-0-1016" id="h1-0-1016" class="i">+                    *output_pointer = &#39;b&#39;;
</a><a href="#h1-0-1017" id="h1-0-1017" class="i">+                    break;
</a><a href="#h1-0-1018" id="h1-0-1018" class="i">+                case &#39;\f&#39;:
</a><a href="#h1-0-1019" id="h1-0-1019" class="i">+                    *output_pointer = &#39;f&#39;;
</a><a href="#h1-0-1020" id="h1-0-1020" class="i">+                    break;
</a><a href="#h1-0-1021" id="h1-0-1021" class="i">+                case &#39;\n&#39;:
</a><a href="#h1-0-1022" id="h1-0-1022" class="i">+                    *output_pointer = &#39;n&#39;;
</a><a href="#h1-0-1023" id="h1-0-1023" class="i">+                    break;
</a><a href="#h1-0-1024" id="h1-0-1024" class="i">+                case &#39;\r&#39;:
</a><a href="#h1-0-1025" id="h1-0-1025" class="i">+                    *output_pointer = &#39;r&#39;;
</a><a href="#h1-0-1026" id="h1-0-1026" class="i">+                    break;
</a><a href="#h1-0-1027" id="h1-0-1027" class="i">+                case &#39;\t&#39;:
</a><a href="#h1-0-1028" id="h1-0-1028" class="i">+                    *output_pointer = &#39;t&#39;;
</a><a href="#h1-0-1029" id="h1-0-1029" class="i">+                    break;
</a><a href="#h1-0-1030" id="h1-0-1030" class="i">+                default:
</a><a href="#h1-0-1031" id="h1-0-1031" class="i">+                    /* escape and print as unicode codepoint */
</a><a href="#h1-0-1032" id="h1-0-1032" class="i">+                    sprintf((char*)output_pointer, &quot;u%04x&quot;, *input_pointer);
</a><a href="#h1-0-1033" id="h1-0-1033" class="i">+                    output_pointer += 4;
</a><a href="#h1-0-1034" id="h1-0-1034" class="i">+                    break;
</a><a href="#h1-0-1035" id="h1-0-1035" class="i">+            }
</a><a href="#h1-0-1036" id="h1-0-1036" class="i">+        }
</a><a href="#h1-0-1037" id="h1-0-1037" class="i">+    }
</a><a href="#h1-0-1038" id="h1-0-1038" class="i">+    output[output_length + 1] = &#39;\&quot;&#39;;
</a><a href="#h1-0-1039" id="h1-0-1039" class="i">+    output[output_length + 2] = &#39;\0&#39;;
</a><a href="#h1-0-1040" id="h1-0-1040" class="i">+
</a><a href="#h1-0-1041" id="h1-0-1041" class="i">+    return true;
</a><a href="#h1-0-1042" id="h1-0-1042" class="i">+}
</a><a href="#h1-0-1043" id="h1-0-1043" class="i">+
</a><a href="#h1-0-1044" id="h1-0-1044" class="i">+/* Invoke print_string_ptr (which is useful) on an item. */
</a><a href="#h1-0-1045" id="h1-0-1045" class="i">+static cJSON_bool print_string(const cJSON * const item, printbuffer * const p)
</a><a href="#h1-0-1046" id="h1-0-1046" class="i">+{
</a><a href="#h1-0-1047" id="h1-0-1047" class="i">+    return print_string_ptr((unsigned char*)item-&gt;valuestring, p);
</a><a href="#h1-0-1048" id="h1-0-1048" class="i">+}
</a><a href="#h1-0-1049" id="h1-0-1049" class="i">+
</a><a href="#h1-0-1050" id="h1-0-1050" class="i">+/* Predeclare these prototypes. */
</a><a href="#h1-0-1051" id="h1-0-1051" class="i">+static cJSON_bool parse_value(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h1-0-1052" id="h1-0-1052" class="i">+static cJSON_bool print_value(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h1-0-1053" id="h1-0-1053" class="i">+static cJSON_bool parse_array(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h1-0-1054" id="h1-0-1054" class="i">+static cJSON_bool print_array(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h1-0-1055" id="h1-0-1055" class="i">+static cJSON_bool parse_object(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h1-0-1056" id="h1-0-1056" class="i">+static cJSON_bool print_object(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h1-0-1057" id="h1-0-1057" class="i">+
</a><a href="#h1-0-1058" id="h1-0-1058" class="i">+/* Utility to jump whitespace and cr/lf */
</a><a href="#h1-0-1059" id="h1-0-1059" class="i">+static parse_buffer *buffer_skip_whitespace(parse_buffer * const buffer)
</a><a href="#h1-0-1060" id="h1-0-1060" class="i">+{
</a><a href="#h1-0-1061" id="h1-0-1061" class="i">+    if ((buffer == NULL) || (buffer-&gt;content == NULL))
</a><a href="#h1-0-1062" id="h1-0-1062" class="i">+    {
</a><a href="#h1-0-1063" id="h1-0-1063" class="i">+        return NULL;
</a><a href="#h1-0-1064" id="h1-0-1064" class="i">+    }
</a><a href="#h1-0-1065" id="h1-0-1065" class="i">+
</a><a href="#h1-0-1066" id="h1-0-1066" class="i">+    if (cannot_access_at_index(buffer, 0))
</a><a href="#h1-0-1067" id="h1-0-1067" class="i">+    {
</a><a href="#h1-0-1068" id="h1-0-1068" class="i">+        return buffer;
</a><a href="#h1-0-1069" id="h1-0-1069" class="i">+    }
</a><a href="#h1-0-1070" id="h1-0-1070" class="i">+
</a><a href="#h1-0-1071" id="h1-0-1071" class="i">+    while (can_access_at_index(buffer, 0) &amp;&amp; (buffer_at_offset(buffer)[0] &lt;= 32))
</a><a href="#h1-0-1072" id="h1-0-1072" class="i">+    {
</a><a href="#h1-0-1073" id="h1-0-1073" class="i">+       buffer-&gt;offset++;
</a><a href="#h1-0-1074" id="h1-0-1074" class="i">+    }
</a><a href="#h1-0-1075" id="h1-0-1075" class="i">+
</a><a href="#h1-0-1076" id="h1-0-1076" class="i">+    if (buffer-&gt;offset == buffer-&gt;length)
</a><a href="#h1-0-1077" id="h1-0-1077" class="i">+    {
</a><a href="#h1-0-1078" id="h1-0-1078" class="i">+        buffer-&gt;offset--;
</a><a href="#h1-0-1079" id="h1-0-1079" class="i">+    }
</a><a href="#h1-0-1080" id="h1-0-1080" class="i">+
</a><a href="#h1-0-1081" id="h1-0-1081" class="i">+    return buffer;
</a><a href="#h1-0-1082" id="h1-0-1082" class="i">+}
</a><a href="#h1-0-1083" id="h1-0-1083" class="i">+
</a><a href="#h1-0-1084" id="h1-0-1084" class="i">+/* skip the UTF-8 BOM (byte order mark) if it is at the beginning of a buffer */
</a><a href="#h1-0-1085" id="h1-0-1085" class="i">+static parse_buffer *skip_utf8_bom(parse_buffer * const buffer)
</a><a href="#h1-0-1086" id="h1-0-1086" class="i">+{
</a><a href="#h1-0-1087" id="h1-0-1087" class="i">+    if ((buffer == NULL) || (buffer-&gt;content == NULL) || (buffer-&gt;offset != 0))
</a><a href="#h1-0-1088" id="h1-0-1088" class="i">+    {
</a><a href="#h1-0-1089" id="h1-0-1089" class="i">+        return NULL;
</a><a href="#h1-0-1090" id="h1-0-1090" class="i">+    }
</a><a href="#h1-0-1091" id="h1-0-1091" class="i">+
</a><a href="#h1-0-1092" id="h1-0-1092" class="i">+    if (can_access_at_index(buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(buffer), &quot;\xEF\xBB\xBF&quot;, 3) == 0))
</a><a href="#h1-0-1093" id="h1-0-1093" class="i">+    {
</a><a href="#h1-0-1094" id="h1-0-1094" class="i">+        buffer-&gt;offset += 3;
</a><a href="#h1-0-1095" id="h1-0-1095" class="i">+    }
</a><a href="#h1-0-1096" id="h1-0-1096" class="i">+
</a><a href="#h1-0-1097" id="h1-0-1097" class="i">+    return buffer;
</a><a href="#h1-0-1098" id="h1-0-1098" class="i">+}
</a><a href="#h1-0-1099" id="h1-0-1099" class="i">+
</a><a href="#h1-0-1100" id="h1-0-1100" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithOpts(const char *value, const char **return_parse_end, cJSON_bool require_null_terminated)
</a><a href="#h1-0-1101" id="h1-0-1101" class="i">+{
</a><a href="#h1-0-1102" id="h1-0-1102" class="i">+    size_t buffer_length;
</a><a href="#h1-0-1103" id="h1-0-1103" class="i">+
</a><a href="#h1-0-1104" id="h1-0-1104" class="i">+    if (NULL == value)
</a><a href="#h1-0-1105" id="h1-0-1105" class="i">+    {
</a><a href="#h1-0-1106" id="h1-0-1106" class="i">+        return NULL;
</a><a href="#h1-0-1107" id="h1-0-1107" class="i">+    }
</a><a href="#h1-0-1108" id="h1-0-1108" class="i">+
</a><a href="#h1-0-1109" id="h1-0-1109" class="i">+    /* Adding null character size due to require_null_terminated. */
</a><a href="#h1-0-1110" id="h1-0-1110" class="i">+    buffer_length = strlen(value) + sizeof(&quot;&quot;);
</a><a href="#h1-0-1111" id="h1-0-1111" class="i">+
</a><a href="#h1-0-1112" id="h1-0-1112" class="i">+    return cJSON_ParseWithLengthOpts(value, buffer_length, return_parse_end, require_null_terminated);
</a><a href="#h1-0-1113" id="h1-0-1113" class="i">+}
</a><a href="#h1-0-1114" id="h1-0-1114" class="i">+
</a><a href="#h1-0-1115" id="h1-0-1115" class="i">+/* Parse an object - create a new root, and populate. */
</a><a href="#h1-0-1116" id="h1-0-1116" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLengthOpts(const char *value, size_t buffer_length, const char **return_parse_end, cJSON_bool require_null_terminated)
</a><a href="#h1-0-1117" id="h1-0-1117" class="i">+{
</a><a href="#h1-0-1118" id="h1-0-1118" class="i">+    parse_buffer buffer = { 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h1-0-1119" id="h1-0-1119" class="i">+    cJSON *item = NULL;
</a><a href="#h1-0-1120" id="h1-0-1120" class="i">+
</a><a href="#h1-0-1121" id="h1-0-1121" class="i">+    /* reset error position */
</a><a href="#h1-0-1122" id="h1-0-1122" class="i">+    global_error.json = NULL;
</a><a href="#h1-0-1123" id="h1-0-1123" class="i">+    global_error.position = 0;
</a><a href="#h1-0-1124" id="h1-0-1124" class="i">+
</a><a href="#h1-0-1125" id="h1-0-1125" class="i">+    if (value == NULL || 0 == buffer_length)
</a><a href="#h1-0-1126" id="h1-0-1126" class="i">+    {
</a><a href="#h1-0-1127" id="h1-0-1127" class="i">+        goto fail;
</a><a href="#h1-0-1128" id="h1-0-1128" class="i">+    }
</a><a href="#h1-0-1129" id="h1-0-1129" class="i">+
</a><a href="#h1-0-1130" id="h1-0-1130" class="i">+    buffer.content = (const unsigned char*)value;
</a><a href="#h1-0-1131" id="h1-0-1131" class="i">+    buffer.length = buffer_length;
</a><a href="#h1-0-1132" id="h1-0-1132" class="i">+    buffer.offset = 0;
</a><a href="#h1-0-1133" id="h1-0-1133" class="i">+    buffer.hooks = global_hooks;
</a><a href="#h1-0-1134" id="h1-0-1134" class="i">+
</a><a href="#h1-0-1135" id="h1-0-1135" class="i">+    item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-1136" id="h1-0-1136" class="i">+    if (item == NULL) /* memory fail */
</a><a href="#h1-0-1137" id="h1-0-1137" class="i">+    {
</a><a href="#h1-0-1138" id="h1-0-1138" class="i">+        goto fail;
</a><a href="#h1-0-1139" id="h1-0-1139" class="i">+    }
</a><a href="#h1-0-1140" id="h1-0-1140" class="i">+
</a><a href="#h1-0-1141" id="h1-0-1141" class="i">+    if (!parse_value(item, buffer_skip_whitespace(skip_utf8_bom(&amp;buffer))))
</a><a href="#h1-0-1142" id="h1-0-1142" class="i">+    {
</a><a href="#h1-0-1143" id="h1-0-1143" class="i">+        /* parse failure. ep is set. */
</a><a href="#h1-0-1144" id="h1-0-1144" class="i">+        goto fail;
</a><a href="#h1-0-1145" id="h1-0-1145" class="i">+    }
</a><a href="#h1-0-1146" id="h1-0-1146" class="i">+
</a><a href="#h1-0-1147" id="h1-0-1147" class="i">+    /* if we require null-terminated JSON without appended garbage, skip and then check for a null terminator */
</a><a href="#h1-0-1148" id="h1-0-1148" class="i">+    if (require_null_terminated)
</a><a href="#h1-0-1149" id="h1-0-1149" class="i">+    {
</a><a href="#h1-0-1150" id="h1-0-1150" class="i">+        buffer_skip_whitespace(&amp;buffer);
</a><a href="#h1-0-1151" id="h1-0-1151" class="i">+        if ((buffer.offset &gt;= buffer.length) || buffer_at_offset(&amp;buffer)[0] != &#39;\0&#39;)
</a><a href="#h1-0-1152" id="h1-0-1152" class="i">+        {
</a><a href="#h1-0-1153" id="h1-0-1153" class="i">+            goto fail;
</a><a href="#h1-0-1154" id="h1-0-1154" class="i">+        }
</a><a href="#h1-0-1155" id="h1-0-1155" class="i">+    }
</a><a href="#h1-0-1156" id="h1-0-1156" class="i">+    if (return_parse_end)
</a><a href="#h1-0-1157" id="h1-0-1157" class="i">+    {
</a><a href="#h1-0-1158" id="h1-0-1158" class="i">+        *return_parse_end = (const char*)buffer_at_offset(&amp;buffer);
</a><a href="#h1-0-1159" id="h1-0-1159" class="i">+    }
</a><a href="#h1-0-1160" id="h1-0-1160" class="i">+
</a><a href="#h1-0-1161" id="h1-0-1161" class="i">+    return item;
</a><a href="#h1-0-1162" id="h1-0-1162" class="i">+
</a><a href="#h1-0-1163" id="h1-0-1163" class="i">+fail:
</a><a href="#h1-0-1164" id="h1-0-1164" class="i">+    if (item != NULL)
</a><a href="#h1-0-1165" id="h1-0-1165" class="i">+    {
</a><a href="#h1-0-1166" id="h1-0-1166" class="i">+        cJSON_Delete(item);
</a><a href="#h1-0-1167" id="h1-0-1167" class="i">+    }
</a><a href="#h1-0-1168" id="h1-0-1168" class="i">+
</a><a href="#h1-0-1169" id="h1-0-1169" class="i">+    if (value != NULL)
</a><a href="#h1-0-1170" id="h1-0-1170" class="i">+    {
</a><a href="#h1-0-1171" id="h1-0-1171" class="i">+        error local_error;
</a><a href="#h1-0-1172" id="h1-0-1172" class="i">+        local_error.json = (const unsigned char*)value;
</a><a href="#h1-0-1173" id="h1-0-1173" class="i">+        local_error.position = 0;
</a><a href="#h1-0-1174" id="h1-0-1174" class="i">+
</a><a href="#h1-0-1175" id="h1-0-1175" class="i">+        if (buffer.offset &lt; buffer.length)
</a><a href="#h1-0-1176" id="h1-0-1176" class="i">+        {
</a><a href="#h1-0-1177" id="h1-0-1177" class="i">+            local_error.position = buffer.offset;
</a><a href="#h1-0-1178" id="h1-0-1178" class="i">+        }
</a><a href="#h1-0-1179" id="h1-0-1179" class="i">+        else if (buffer.length &gt; 0)
</a><a href="#h1-0-1180" id="h1-0-1180" class="i">+        {
</a><a href="#h1-0-1181" id="h1-0-1181" class="i">+            local_error.position = buffer.length - 1;
</a><a href="#h1-0-1182" id="h1-0-1182" class="i">+        }
</a><a href="#h1-0-1183" id="h1-0-1183" class="i">+
</a><a href="#h1-0-1184" id="h1-0-1184" class="i">+        if (return_parse_end != NULL)
</a><a href="#h1-0-1185" id="h1-0-1185" class="i">+        {
</a><a href="#h1-0-1186" id="h1-0-1186" class="i">+            *return_parse_end = (const char*)local_error.json + local_error.position;
</a><a href="#h1-0-1187" id="h1-0-1187" class="i">+        }
</a><a href="#h1-0-1188" id="h1-0-1188" class="i">+
</a><a href="#h1-0-1189" id="h1-0-1189" class="i">+        global_error = local_error;
</a><a href="#h1-0-1190" id="h1-0-1190" class="i">+    }
</a><a href="#h1-0-1191" id="h1-0-1191" class="i">+
</a><a href="#h1-0-1192" id="h1-0-1192" class="i">+    return NULL;
</a><a href="#h1-0-1193" id="h1-0-1193" class="i">+}
</a><a href="#h1-0-1194" id="h1-0-1194" class="i">+
</a><a href="#h1-0-1195" id="h1-0-1195" class="i">+/* Default options for cJSON_Parse */
</a><a href="#h1-0-1196" id="h1-0-1196" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Parse(const char *value)
</a><a href="#h1-0-1197" id="h1-0-1197" class="i">+{
</a><a href="#h1-0-1198" id="h1-0-1198" class="i">+    return cJSON_ParseWithOpts(value, 0, 0);
</a><a href="#h1-0-1199" id="h1-0-1199" class="i">+}
</a><a href="#h1-0-1200" id="h1-0-1200" class="i">+
</a><a href="#h1-0-1201" id="h1-0-1201" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLength(const char *value, size_t buffer_length)
</a><a href="#h1-0-1202" id="h1-0-1202" class="i">+{
</a><a href="#h1-0-1203" id="h1-0-1203" class="i">+    return cJSON_ParseWithLengthOpts(value, buffer_length, 0, 0);
</a><a href="#h1-0-1204" id="h1-0-1204" class="i">+}
</a><a href="#h1-0-1205" id="h1-0-1205" class="i">+
</a><a href="#h1-0-1206" id="h1-0-1206" class="i">+#define cjson_min(a, b) (((a) &lt; (b)) ? (a) : (b))
</a><a href="#h1-0-1207" id="h1-0-1207" class="i">+
</a><a href="#h1-0-1208" id="h1-0-1208" class="i">+static unsigned char *print(const cJSON * const item, cJSON_bool format, const internal_hooks * const hooks)
</a><a href="#h1-0-1209" id="h1-0-1209" class="i">+{
</a><a href="#h1-0-1210" id="h1-0-1210" class="i">+    static const size_t default_buffer_size = 256;
</a><a href="#h1-0-1211" id="h1-0-1211" class="i">+    printbuffer buffer[1];
</a><a href="#h1-0-1212" id="h1-0-1212" class="i">+    unsigned char *printed = NULL;
</a><a href="#h1-0-1213" id="h1-0-1213" class="i">+
</a><a href="#h1-0-1214" id="h1-0-1214" class="i">+    memset(buffer, 0, sizeof(buffer));
</a><a href="#h1-0-1215" id="h1-0-1215" class="i">+
</a><a href="#h1-0-1216" id="h1-0-1216" class="i">+    /* create buffer */
</a><a href="#h1-0-1217" id="h1-0-1217" class="i">+    buffer-&gt;buffer = (unsigned char*) hooks-&gt;allocate(default_buffer_size);
</a><a href="#h1-0-1218" id="h1-0-1218" class="i">+    buffer-&gt;length = default_buffer_size;
</a><a href="#h1-0-1219" id="h1-0-1219" class="i">+    buffer-&gt;format = format;
</a><a href="#h1-0-1220" id="h1-0-1220" class="i">+    buffer-&gt;hooks = *hooks;
</a><a href="#h1-0-1221" id="h1-0-1221" class="i">+    if (buffer-&gt;buffer == NULL)
</a><a href="#h1-0-1222" id="h1-0-1222" class="i">+    {
</a><a href="#h1-0-1223" id="h1-0-1223" class="i">+        goto fail;
</a><a href="#h1-0-1224" id="h1-0-1224" class="i">+    }
</a><a href="#h1-0-1225" id="h1-0-1225" class="i">+
</a><a href="#h1-0-1226" id="h1-0-1226" class="i">+    /* print the value */
</a><a href="#h1-0-1227" id="h1-0-1227" class="i">+    if (!print_value(item, buffer))
</a><a href="#h1-0-1228" id="h1-0-1228" class="i">+    {
</a><a href="#h1-0-1229" id="h1-0-1229" class="i">+        goto fail;
</a><a href="#h1-0-1230" id="h1-0-1230" class="i">+    }
</a><a href="#h1-0-1231" id="h1-0-1231" class="i">+    update_offset(buffer);
</a><a href="#h1-0-1232" id="h1-0-1232" class="i">+
</a><a href="#h1-0-1233" id="h1-0-1233" class="i">+    /* check if reallocate is available */
</a><a href="#h1-0-1234" id="h1-0-1234" class="i">+    if (hooks-&gt;reallocate != NULL)
</a><a href="#h1-0-1235" id="h1-0-1235" class="i">+    {
</a><a href="#h1-0-1236" id="h1-0-1236" class="i">+        printed = (unsigned char*) hooks-&gt;reallocate(buffer-&gt;buffer, buffer-&gt;offset + 1);
</a><a href="#h1-0-1237" id="h1-0-1237" class="i">+        if (printed == NULL) {
</a><a href="#h1-0-1238" id="h1-0-1238" class="i">+            goto fail;
</a><a href="#h1-0-1239" id="h1-0-1239" class="i">+        }
</a><a href="#h1-0-1240" id="h1-0-1240" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h1-0-1241" id="h1-0-1241" class="i">+    }
</a><a href="#h1-0-1242" id="h1-0-1242" class="i">+    else /* otherwise copy the JSON over to a new buffer */
</a><a href="#h1-0-1243" id="h1-0-1243" class="i">+    {
</a><a href="#h1-0-1244" id="h1-0-1244" class="i">+        printed = (unsigned char*) hooks-&gt;allocate(buffer-&gt;offset + 1);
</a><a href="#h1-0-1245" id="h1-0-1245" class="i">+        if (printed == NULL)
</a><a href="#h1-0-1246" id="h1-0-1246" class="i">+        {
</a><a href="#h1-0-1247" id="h1-0-1247" class="i">+            goto fail;
</a><a href="#h1-0-1248" id="h1-0-1248" class="i">+        }
</a><a href="#h1-0-1249" id="h1-0-1249" class="i">+        memcpy(printed, buffer-&gt;buffer, cjson_min(buffer-&gt;length, buffer-&gt;offset + 1));
</a><a href="#h1-0-1250" id="h1-0-1250" class="i">+        printed[buffer-&gt;offset] = &#39;\0&#39;; /* just to be sure */
</a><a href="#h1-0-1251" id="h1-0-1251" class="i">+
</a><a href="#h1-0-1252" id="h1-0-1252" class="i">+        /* free the buffer */
</a><a href="#h1-0-1253" id="h1-0-1253" class="i">+        hooks-&gt;deallocate(buffer-&gt;buffer);
</a><a href="#h1-0-1254" id="h1-0-1254" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h1-0-1255" id="h1-0-1255" class="i">+    }
</a><a href="#h1-0-1256" id="h1-0-1256" class="i">+
</a><a href="#h1-0-1257" id="h1-0-1257" class="i">+    return printed;
</a><a href="#h1-0-1258" id="h1-0-1258" class="i">+
</a><a href="#h1-0-1259" id="h1-0-1259" class="i">+fail:
</a><a href="#h1-0-1260" id="h1-0-1260" class="i">+    if (buffer-&gt;buffer != NULL)
</a><a href="#h1-0-1261" id="h1-0-1261" class="i">+    {
</a><a href="#h1-0-1262" id="h1-0-1262" class="i">+        hooks-&gt;deallocate(buffer-&gt;buffer);
</a><a href="#h1-0-1263" id="h1-0-1263" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h1-0-1264" id="h1-0-1264" class="i">+    }
</a><a href="#h1-0-1265" id="h1-0-1265" class="i">+
</a><a href="#h1-0-1266" id="h1-0-1266" class="i">+    if (printed != NULL)
</a><a href="#h1-0-1267" id="h1-0-1267" class="i">+    {
</a><a href="#h1-0-1268" id="h1-0-1268" class="i">+        hooks-&gt;deallocate(printed);
</a><a href="#h1-0-1269" id="h1-0-1269" class="i">+        printed = NULL;
</a><a href="#h1-0-1270" id="h1-0-1270" class="i">+    }
</a><a href="#h1-0-1271" id="h1-0-1271" class="i">+
</a><a href="#h1-0-1272" id="h1-0-1272" class="i">+    return NULL;
</a><a href="#h1-0-1273" id="h1-0-1273" class="i">+}
</a><a href="#h1-0-1274" id="h1-0-1274" class="i">+
</a><a href="#h1-0-1275" id="h1-0-1275" class="i">+/* Render a cJSON item/entity/structure to text. */
</a><a href="#h1-0-1276" id="h1-0-1276" class="i">+CJSON_PUBLIC(char *) cJSON_Print(const cJSON *item)
</a><a href="#h1-0-1277" id="h1-0-1277" class="i">+{
</a><a href="#h1-0-1278" id="h1-0-1278" class="i">+    return (char*)print(item, true, &amp;global_hooks);
</a><a href="#h1-0-1279" id="h1-0-1279" class="i">+}
</a><a href="#h1-0-1280" id="h1-0-1280" class="i">+
</a><a href="#h1-0-1281" id="h1-0-1281" class="i">+CJSON_PUBLIC(char *) cJSON_PrintUnformatted(const cJSON *item)
</a><a href="#h1-0-1282" id="h1-0-1282" class="i">+{
</a><a href="#h1-0-1283" id="h1-0-1283" class="i">+    return (char*)print(item, false, &amp;global_hooks);
</a><a href="#h1-0-1284" id="h1-0-1284" class="i">+}
</a><a href="#h1-0-1285" id="h1-0-1285" class="i">+
</a><a href="#h1-0-1286" id="h1-0-1286" class="i">+CJSON_PUBLIC(char *) cJSON_PrintBuffered(const cJSON *item, int prebuffer, cJSON_bool fmt)
</a><a href="#h1-0-1287" id="h1-0-1287" class="i">+{
</a><a href="#h1-0-1288" id="h1-0-1288" class="i">+    printbuffer p = { 0, 0, 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h1-0-1289" id="h1-0-1289" class="i">+
</a><a href="#h1-0-1290" id="h1-0-1290" class="i">+    if (prebuffer &lt; 0)
</a><a href="#h1-0-1291" id="h1-0-1291" class="i">+    {
</a><a href="#h1-0-1292" id="h1-0-1292" class="i">+        return NULL;
</a><a href="#h1-0-1293" id="h1-0-1293" class="i">+    }
</a><a href="#h1-0-1294" id="h1-0-1294" class="i">+
</a><a href="#h1-0-1295" id="h1-0-1295" class="i">+    p.buffer = (unsigned char*)global_hooks.allocate((size_t)prebuffer);
</a><a href="#h1-0-1296" id="h1-0-1296" class="i">+    if (!p.buffer)
</a><a href="#h1-0-1297" id="h1-0-1297" class="i">+    {
</a><a href="#h1-0-1298" id="h1-0-1298" class="i">+        return NULL;
</a><a href="#h1-0-1299" id="h1-0-1299" class="i">+    }
</a><a href="#h1-0-1300" id="h1-0-1300" class="i">+
</a><a href="#h1-0-1301" id="h1-0-1301" class="i">+    p.length = (size_t)prebuffer;
</a><a href="#h1-0-1302" id="h1-0-1302" class="i">+    p.offset = 0;
</a><a href="#h1-0-1303" id="h1-0-1303" class="i">+    p.noalloc = false;
</a><a href="#h1-0-1304" id="h1-0-1304" class="i">+    p.format = fmt;
</a><a href="#h1-0-1305" id="h1-0-1305" class="i">+    p.hooks = global_hooks;
</a><a href="#h1-0-1306" id="h1-0-1306" class="i">+
</a><a href="#h1-0-1307" id="h1-0-1307" class="i">+    if (!print_value(item, &amp;p))
</a><a href="#h1-0-1308" id="h1-0-1308" class="i">+    {
</a><a href="#h1-0-1309" id="h1-0-1309" class="i">+        global_hooks.deallocate(p.buffer);
</a><a href="#h1-0-1310" id="h1-0-1310" class="i">+        p.buffer = NULL;
</a><a href="#h1-0-1311" id="h1-0-1311" class="i">+        return NULL;
</a><a href="#h1-0-1312" id="h1-0-1312" class="i">+    }
</a><a href="#h1-0-1313" id="h1-0-1313" class="i">+
</a><a href="#h1-0-1314" id="h1-0-1314" class="i">+    return (char*)p.buffer;
</a><a href="#h1-0-1315" id="h1-0-1315" class="i">+}
</a><a href="#h1-0-1316" id="h1-0-1316" class="i">+
</a><a href="#h1-0-1317" id="h1-0-1317" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_PrintPreallocated(cJSON *item, char *buffer, const int length, const cJSON_bool format)
</a><a href="#h1-0-1318" id="h1-0-1318" class="i">+{
</a><a href="#h1-0-1319" id="h1-0-1319" class="i">+    printbuffer p = { 0, 0, 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h1-0-1320" id="h1-0-1320" class="i">+
</a><a href="#h1-0-1321" id="h1-0-1321" class="i">+    if ((length &lt; 0) || (buffer == NULL))
</a><a href="#h1-0-1322" id="h1-0-1322" class="i">+    {
</a><a href="#h1-0-1323" id="h1-0-1323" class="i">+        return false;
</a><a href="#h1-0-1324" id="h1-0-1324" class="i">+    }
</a><a href="#h1-0-1325" id="h1-0-1325" class="i">+
</a><a href="#h1-0-1326" id="h1-0-1326" class="i">+    p.buffer = (unsigned char*)buffer;
</a><a href="#h1-0-1327" id="h1-0-1327" class="i">+    p.length = (size_t)length;
</a><a href="#h1-0-1328" id="h1-0-1328" class="i">+    p.offset = 0;
</a><a href="#h1-0-1329" id="h1-0-1329" class="i">+    p.noalloc = true;
</a><a href="#h1-0-1330" id="h1-0-1330" class="i">+    p.format = format;
</a><a href="#h1-0-1331" id="h1-0-1331" class="i">+    p.hooks = global_hooks;
</a><a href="#h1-0-1332" id="h1-0-1332" class="i">+
</a><a href="#h1-0-1333" id="h1-0-1333" class="i">+    return print_value(item, &amp;p);
</a><a href="#h1-0-1334" id="h1-0-1334" class="i">+}
</a><a href="#h1-0-1335" id="h1-0-1335" class="i">+
</a><a href="#h1-0-1336" id="h1-0-1336" class="i">+/* Parser core - when encountering text, process appropriately. */
</a><a href="#h1-0-1337" id="h1-0-1337" class="i">+static cJSON_bool parse_value(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h1-0-1338" id="h1-0-1338" class="i">+{
</a><a href="#h1-0-1339" id="h1-0-1339" class="i">+    if ((input_buffer == NULL) || (input_buffer-&gt;content == NULL))
</a><a href="#h1-0-1340" id="h1-0-1340" class="i">+    {
</a><a href="#h1-0-1341" id="h1-0-1341" class="i">+        return false; /* no input */
</a><a href="#h1-0-1342" id="h1-0-1342" class="i">+    }
</a><a href="#h1-0-1343" id="h1-0-1343" class="i">+
</a><a href="#h1-0-1344" id="h1-0-1344" class="i">+    /* parse the different types of values */
</a><a href="#h1-0-1345" id="h1-0-1345" class="i">+    /* null */
</a><a href="#h1-0-1346" id="h1-0-1346" class="i">+    if (can_read(input_buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;null&quot;, 4) == 0))
</a><a href="#h1-0-1347" id="h1-0-1347" class="i">+    {
</a><a href="#h1-0-1348" id="h1-0-1348" class="i">+        item-&gt;type = cJSON_NULL;
</a><a href="#h1-0-1349" id="h1-0-1349" class="i">+        input_buffer-&gt;offset += 4;
</a><a href="#h1-0-1350" id="h1-0-1350" class="i">+        return true;
</a><a href="#h1-0-1351" id="h1-0-1351" class="i">+    }
</a><a href="#h1-0-1352" id="h1-0-1352" class="i">+    /* false */
</a><a href="#h1-0-1353" id="h1-0-1353" class="i">+    if (can_read(input_buffer, 5) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;false&quot;, 5) == 0))
</a><a href="#h1-0-1354" id="h1-0-1354" class="i">+    {
</a><a href="#h1-0-1355" id="h1-0-1355" class="i">+        item-&gt;type = cJSON_False;
</a><a href="#h1-0-1356" id="h1-0-1356" class="i">+        input_buffer-&gt;offset += 5;
</a><a href="#h1-0-1357" id="h1-0-1357" class="i">+        return true;
</a><a href="#h1-0-1358" id="h1-0-1358" class="i">+    }
</a><a href="#h1-0-1359" id="h1-0-1359" class="i">+    /* true */
</a><a href="#h1-0-1360" id="h1-0-1360" class="i">+    if (can_read(input_buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;true&quot;, 4) == 0))
</a><a href="#h1-0-1361" id="h1-0-1361" class="i">+    {
</a><a href="#h1-0-1362" id="h1-0-1362" class="i">+        item-&gt;type = cJSON_True;
</a><a href="#h1-0-1363" id="h1-0-1363" class="i">+        item-&gt;valueint = 1;
</a><a href="#h1-0-1364" id="h1-0-1364" class="i">+        input_buffer-&gt;offset += 4;
</a><a href="#h1-0-1365" id="h1-0-1365" class="i">+        return true;
</a><a href="#h1-0-1366" id="h1-0-1366" class="i">+    }
</a><a href="#h1-0-1367" id="h1-0-1367" class="i">+    /* string */
</a><a href="#h1-0-1368" id="h1-0-1368" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;\&quot;&#39;))
</a><a href="#h1-0-1369" id="h1-0-1369" class="i">+    {
</a><a href="#h1-0-1370" id="h1-0-1370" class="i">+        return parse_string(item, input_buffer);
</a><a href="#h1-0-1371" id="h1-0-1371" class="i">+    }
</a><a href="#h1-0-1372" id="h1-0-1372" class="i">+    /* number */
</a><a href="#h1-0-1373" id="h1-0-1373" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; ((buffer_at_offset(input_buffer)[0] == &#39;-&#39;) || ((buffer_at_offset(input_buffer)[0] &gt;= &#39;0&#39;) &amp;&amp; (buffer_at_offset(input_buffer)[0] &lt;= &#39;9&#39;))))
</a><a href="#h1-0-1374" id="h1-0-1374" class="i">+    {
</a><a href="#h1-0-1375" id="h1-0-1375" class="i">+        return parse_number(item, input_buffer);
</a><a href="#h1-0-1376" id="h1-0-1376" class="i">+    }
</a><a href="#h1-0-1377" id="h1-0-1377" class="i">+    /* array */
</a><a href="#h1-0-1378" id="h1-0-1378" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;[&#39;))
</a><a href="#h1-0-1379" id="h1-0-1379" class="i">+    {
</a><a href="#h1-0-1380" id="h1-0-1380" class="i">+        return parse_array(item, input_buffer);
</a><a href="#h1-0-1381" id="h1-0-1381" class="i">+    }
</a><a href="#h1-0-1382" id="h1-0-1382" class="i">+    /* object */
</a><a href="#h1-0-1383" id="h1-0-1383" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;{&#39;))
</a><a href="#h1-0-1384" id="h1-0-1384" class="i">+    {
</a><a href="#h1-0-1385" id="h1-0-1385" class="i">+        return parse_object(item, input_buffer);
</a><a href="#h1-0-1386" id="h1-0-1386" class="i">+    }
</a><a href="#h1-0-1387" id="h1-0-1387" class="i">+
</a><a href="#h1-0-1388" id="h1-0-1388" class="i">+    return false;
</a><a href="#h1-0-1389" id="h1-0-1389" class="i">+}
</a><a href="#h1-0-1390" id="h1-0-1390" class="i">+
</a><a href="#h1-0-1391" id="h1-0-1391" class="i">+/* Render a value to text. */
</a><a href="#h1-0-1392" id="h1-0-1392" class="i">+static cJSON_bool print_value(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h1-0-1393" id="h1-0-1393" class="i">+{
</a><a href="#h1-0-1394" id="h1-0-1394" class="i">+    unsigned char *output = NULL;
</a><a href="#h1-0-1395" id="h1-0-1395" class="i">+
</a><a href="#h1-0-1396" id="h1-0-1396" class="i">+    if ((item == NULL) || (output_buffer == NULL))
</a><a href="#h1-0-1397" id="h1-0-1397" class="i">+    {
</a><a href="#h1-0-1398" id="h1-0-1398" class="i">+        return false;
</a><a href="#h1-0-1399" id="h1-0-1399" class="i">+    }
</a><a href="#h1-0-1400" id="h1-0-1400" class="i">+
</a><a href="#h1-0-1401" id="h1-0-1401" class="i">+    switch ((item-&gt;type) &amp; 0xFF)
</a><a href="#h1-0-1402" id="h1-0-1402" class="i">+    {
</a><a href="#h1-0-1403" id="h1-0-1403" class="i">+        case cJSON_NULL:
</a><a href="#h1-0-1404" id="h1-0-1404" class="i">+            output = ensure(output_buffer, 5);
</a><a href="#h1-0-1405" id="h1-0-1405" class="i">+            if (output == NULL)
</a><a href="#h1-0-1406" id="h1-0-1406" class="i">+            {
</a><a href="#h1-0-1407" id="h1-0-1407" class="i">+                return false;
</a><a href="#h1-0-1408" id="h1-0-1408" class="i">+            }
</a><a href="#h1-0-1409" id="h1-0-1409" class="i">+            strcpy((char*)output, &quot;null&quot;);
</a><a href="#h1-0-1410" id="h1-0-1410" class="i">+            return true;
</a><a href="#h1-0-1411" id="h1-0-1411" class="i">+
</a><a href="#h1-0-1412" id="h1-0-1412" class="i">+        case cJSON_False:
</a><a href="#h1-0-1413" id="h1-0-1413" class="i">+            output = ensure(output_buffer, 6);
</a><a href="#h1-0-1414" id="h1-0-1414" class="i">+            if (output == NULL)
</a><a href="#h1-0-1415" id="h1-0-1415" class="i">+            {
</a><a href="#h1-0-1416" id="h1-0-1416" class="i">+                return false;
</a><a href="#h1-0-1417" id="h1-0-1417" class="i">+            }
</a><a href="#h1-0-1418" id="h1-0-1418" class="i">+            strcpy((char*)output, &quot;false&quot;);
</a><a href="#h1-0-1419" id="h1-0-1419" class="i">+            return true;
</a><a href="#h1-0-1420" id="h1-0-1420" class="i">+
</a><a href="#h1-0-1421" id="h1-0-1421" class="i">+        case cJSON_True:
</a><a href="#h1-0-1422" id="h1-0-1422" class="i">+            output = ensure(output_buffer, 5);
</a><a href="#h1-0-1423" id="h1-0-1423" class="i">+            if (output == NULL)
</a><a href="#h1-0-1424" id="h1-0-1424" class="i">+            {
</a><a href="#h1-0-1425" id="h1-0-1425" class="i">+                return false;
</a><a href="#h1-0-1426" id="h1-0-1426" class="i">+            }
</a><a href="#h1-0-1427" id="h1-0-1427" class="i">+            strcpy((char*)output, &quot;true&quot;);
</a><a href="#h1-0-1428" id="h1-0-1428" class="i">+            return true;
</a><a href="#h1-0-1429" id="h1-0-1429" class="i">+
</a><a href="#h1-0-1430" id="h1-0-1430" class="i">+        case cJSON_Number:
</a><a href="#h1-0-1431" id="h1-0-1431" class="i">+            return print_number(item, output_buffer);
</a><a href="#h1-0-1432" id="h1-0-1432" class="i">+
</a><a href="#h1-0-1433" id="h1-0-1433" class="i">+        case cJSON_Raw:
</a><a href="#h1-0-1434" id="h1-0-1434" class="i">+        {
</a><a href="#h1-0-1435" id="h1-0-1435" class="i">+            size_t raw_length = 0;
</a><a href="#h1-0-1436" id="h1-0-1436" class="i">+            if (item-&gt;valuestring == NULL)
</a><a href="#h1-0-1437" id="h1-0-1437" class="i">+            {
</a><a href="#h1-0-1438" id="h1-0-1438" class="i">+                return false;
</a><a href="#h1-0-1439" id="h1-0-1439" class="i">+            }
</a><a href="#h1-0-1440" id="h1-0-1440" class="i">+
</a><a href="#h1-0-1441" id="h1-0-1441" class="i">+            raw_length = strlen(item-&gt;valuestring) + sizeof(&quot;&quot;);
</a><a href="#h1-0-1442" id="h1-0-1442" class="i">+            output = ensure(output_buffer, raw_length);
</a><a href="#h1-0-1443" id="h1-0-1443" class="i">+            if (output == NULL)
</a><a href="#h1-0-1444" id="h1-0-1444" class="i">+            {
</a><a href="#h1-0-1445" id="h1-0-1445" class="i">+                return false;
</a><a href="#h1-0-1446" id="h1-0-1446" class="i">+            }
</a><a href="#h1-0-1447" id="h1-0-1447" class="i">+            memcpy(output, item-&gt;valuestring, raw_length);
</a><a href="#h1-0-1448" id="h1-0-1448" class="i">+            return true;
</a><a href="#h1-0-1449" id="h1-0-1449" class="i">+        }
</a><a href="#h1-0-1450" id="h1-0-1450" class="i">+
</a><a href="#h1-0-1451" id="h1-0-1451" class="i">+        case cJSON_String:
</a><a href="#h1-0-1452" id="h1-0-1452" class="i">+            return print_string(item, output_buffer);
</a><a href="#h1-0-1453" id="h1-0-1453" class="i">+
</a><a href="#h1-0-1454" id="h1-0-1454" class="i">+        case cJSON_Array:
</a><a href="#h1-0-1455" id="h1-0-1455" class="i">+            return print_array(item, output_buffer);
</a><a href="#h1-0-1456" id="h1-0-1456" class="i">+
</a><a href="#h1-0-1457" id="h1-0-1457" class="i">+        case cJSON_Object:
</a><a href="#h1-0-1458" id="h1-0-1458" class="i">+            return print_object(item, output_buffer);
</a><a href="#h1-0-1459" id="h1-0-1459" class="i">+
</a><a href="#h1-0-1460" id="h1-0-1460" class="i">+        default:
</a><a href="#h1-0-1461" id="h1-0-1461" class="i">+            return false;
</a><a href="#h1-0-1462" id="h1-0-1462" class="i">+    }
</a><a href="#h1-0-1463" id="h1-0-1463" class="i">+}
</a><a href="#h1-0-1464" id="h1-0-1464" class="i">+
</a><a href="#h1-0-1465" id="h1-0-1465" class="i">+/* Build an array from input text. */
</a><a href="#h1-0-1466" id="h1-0-1466" class="i">+static cJSON_bool parse_array(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h1-0-1467" id="h1-0-1467" class="i">+{
</a><a href="#h1-0-1468" id="h1-0-1468" class="i">+    cJSON *head = NULL; /* head of the linked list */
</a><a href="#h1-0-1469" id="h1-0-1469" class="i">+    cJSON *current_item = NULL;
</a><a href="#h1-0-1470" id="h1-0-1470" class="i">+
</a><a href="#h1-0-1471" id="h1-0-1471" class="i">+    if (input_buffer-&gt;depth &gt;= CJSON_NESTING_LIMIT)
</a><a href="#h1-0-1472" id="h1-0-1472" class="i">+    {
</a><a href="#h1-0-1473" id="h1-0-1473" class="i">+        return false; /* to deeply nested */
</a><a href="#h1-0-1474" id="h1-0-1474" class="i">+    }
</a><a href="#h1-0-1475" id="h1-0-1475" class="i">+    input_buffer-&gt;depth++;
</a><a href="#h1-0-1476" id="h1-0-1476" class="i">+
</a><a href="#h1-0-1477" id="h1-0-1477" class="i">+    if (buffer_at_offset(input_buffer)[0] != &#39;[&#39;)
</a><a href="#h1-0-1478" id="h1-0-1478" class="i">+    {
</a><a href="#h1-0-1479" id="h1-0-1479" class="i">+        /* not an array */
</a><a href="#h1-0-1480" id="h1-0-1480" class="i">+        goto fail;
</a><a href="#h1-0-1481" id="h1-0-1481" class="i">+    }
</a><a href="#h1-0-1482" id="h1-0-1482" class="i">+
</a><a href="#h1-0-1483" id="h1-0-1483" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h1-0-1484" id="h1-0-1484" class="i">+    buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1485" id="h1-0-1485" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;]&#39;))
</a><a href="#h1-0-1486" id="h1-0-1486" class="i">+    {
</a><a href="#h1-0-1487" id="h1-0-1487" class="i">+        /* empty array */
</a><a href="#h1-0-1488" id="h1-0-1488" class="i">+        goto success;
</a><a href="#h1-0-1489" id="h1-0-1489" class="i">+    }
</a><a href="#h1-0-1490" id="h1-0-1490" class="i">+
</a><a href="#h1-0-1491" id="h1-0-1491" class="i">+    /* check if we skipped to the end of the buffer */
</a><a href="#h1-0-1492" id="h1-0-1492" class="i">+    if (cannot_access_at_index(input_buffer, 0))
</a><a href="#h1-0-1493" id="h1-0-1493" class="i">+    {
</a><a href="#h1-0-1494" id="h1-0-1494" class="i">+        input_buffer-&gt;offset--;
</a><a href="#h1-0-1495" id="h1-0-1495" class="i">+        goto fail;
</a><a href="#h1-0-1496" id="h1-0-1496" class="i">+    }
</a><a href="#h1-0-1497" id="h1-0-1497" class="i">+
</a><a href="#h1-0-1498" id="h1-0-1498" class="i">+    /* step back to character in front of the first element */
</a><a href="#h1-0-1499" id="h1-0-1499" class="i">+    input_buffer-&gt;offset--;
</a><a href="#h1-0-1500" id="h1-0-1500" class="i">+    /* loop through the comma separated array elements */
</a><a href="#h1-0-1501" id="h1-0-1501" class="i">+    do
</a><a href="#h1-0-1502" id="h1-0-1502" class="i">+    {
</a><a href="#h1-0-1503" id="h1-0-1503" class="i">+        /* allocate next item */
</a><a href="#h1-0-1504" id="h1-0-1504" class="i">+        cJSON *new_item = cJSON_New_Item(&amp;(input_buffer-&gt;hooks));
</a><a href="#h1-0-1505" id="h1-0-1505" class="i">+        if (new_item == NULL)
</a><a href="#h1-0-1506" id="h1-0-1506" class="i">+        {
</a><a href="#h1-0-1507" id="h1-0-1507" class="i">+            goto fail; /* allocation failure */
</a><a href="#h1-0-1508" id="h1-0-1508" class="i">+        }
</a><a href="#h1-0-1509" id="h1-0-1509" class="i">+
</a><a href="#h1-0-1510" id="h1-0-1510" class="i">+        /* attach next item to list */
</a><a href="#h1-0-1511" id="h1-0-1511" class="i">+        if (head == NULL)
</a><a href="#h1-0-1512" id="h1-0-1512" class="i">+        {
</a><a href="#h1-0-1513" id="h1-0-1513" class="i">+            /* start the linked list */
</a><a href="#h1-0-1514" id="h1-0-1514" class="i">+            current_item = head = new_item;
</a><a href="#h1-0-1515" id="h1-0-1515" class="i">+        }
</a><a href="#h1-0-1516" id="h1-0-1516" class="i">+        else
</a><a href="#h1-0-1517" id="h1-0-1517" class="i">+        {
</a><a href="#h1-0-1518" id="h1-0-1518" class="i">+            /* add to the end and advance */
</a><a href="#h1-0-1519" id="h1-0-1519" class="i">+            current_item-&gt;next = new_item;
</a><a href="#h1-0-1520" id="h1-0-1520" class="i">+            new_item-&gt;prev = current_item;
</a><a href="#h1-0-1521" id="h1-0-1521" class="i">+            current_item = new_item;
</a><a href="#h1-0-1522" id="h1-0-1522" class="i">+        }
</a><a href="#h1-0-1523" id="h1-0-1523" class="i">+
</a><a href="#h1-0-1524" id="h1-0-1524" class="i">+        /* parse next value */
</a><a href="#h1-0-1525" id="h1-0-1525" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h1-0-1526" id="h1-0-1526" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1527" id="h1-0-1527" class="i">+        if (!parse_value(current_item, input_buffer))
</a><a href="#h1-0-1528" id="h1-0-1528" class="i">+        {
</a><a href="#h1-0-1529" id="h1-0-1529" class="i">+            goto fail; /* failed to parse value */
</a><a href="#h1-0-1530" id="h1-0-1530" class="i">+        }
</a><a href="#h1-0-1531" id="h1-0-1531" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1532" id="h1-0-1532" class="i">+    }
</a><a href="#h1-0-1533" id="h1-0-1533" class="i">+    while (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;,&#39;));
</a><a href="#h1-0-1534" id="h1-0-1534" class="i">+
</a><a href="#h1-0-1535" id="h1-0-1535" class="i">+    if (cannot_access_at_index(input_buffer, 0) || buffer_at_offset(input_buffer)[0] != &#39;]&#39;)
</a><a href="#h1-0-1536" id="h1-0-1536" class="i">+    {
</a><a href="#h1-0-1537" id="h1-0-1537" class="i">+        goto fail; /* expected end of array */
</a><a href="#h1-0-1538" id="h1-0-1538" class="i">+    }
</a><a href="#h1-0-1539" id="h1-0-1539" class="i">+
</a><a href="#h1-0-1540" id="h1-0-1540" class="i">+success:
</a><a href="#h1-0-1541" id="h1-0-1541" class="i">+    input_buffer-&gt;depth--;
</a><a href="#h1-0-1542" id="h1-0-1542" class="i">+
</a><a href="#h1-0-1543" id="h1-0-1543" class="i">+    if (head != NULL) {
</a><a href="#h1-0-1544" id="h1-0-1544" class="i">+        head-&gt;prev = current_item;
</a><a href="#h1-0-1545" id="h1-0-1545" class="i">+    }
</a><a href="#h1-0-1546" id="h1-0-1546" class="i">+
</a><a href="#h1-0-1547" id="h1-0-1547" class="i">+    item-&gt;type = cJSON_Array;
</a><a href="#h1-0-1548" id="h1-0-1548" class="i">+    item-&gt;child = head;
</a><a href="#h1-0-1549" id="h1-0-1549" class="i">+
</a><a href="#h1-0-1550" id="h1-0-1550" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h1-0-1551" id="h1-0-1551" class="i">+
</a><a href="#h1-0-1552" id="h1-0-1552" class="i">+    return true;
</a><a href="#h1-0-1553" id="h1-0-1553" class="i">+
</a><a href="#h1-0-1554" id="h1-0-1554" class="i">+fail:
</a><a href="#h1-0-1555" id="h1-0-1555" class="i">+    if (head != NULL)
</a><a href="#h1-0-1556" id="h1-0-1556" class="i">+    {
</a><a href="#h1-0-1557" id="h1-0-1557" class="i">+        cJSON_Delete(head);
</a><a href="#h1-0-1558" id="h1-0-1558" class="i">+    }
</a><a href="#h1-0-1559" id="h1-0-1559" class="i">+
</a><a href="#h1-0-1560" id="h1-0-1560" class="i">+    return false;
</a><a href="#h1-0-1561" id="h1-0-1561" class="i">+}
</a><a href="#h1-0-1562" id="h1-0-1562" class="i">+
</a><a href="#h1-0-1563" id="h1-0-1563" class="i">+/* Render an array to text */
</a><a href="#h1-0-1564" id="h1-0-1564" class="i">+static cJSON_bool print_array(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h1-0-1565" id="h1-0-1565" class="i">+{
</a><a href="#h1-0-1566" id="h1-0-1566" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h1-0-1567" id="h1-0-1567" class="i">+    size_t length = 0;
</a><a href="#h1-0-1568" id="h1-0-1568" class="i">+    cJSON *current_element = item-&gt;child;
</a><a href="#h1-0-1569" id="h1-0-1569" class="i">+
</a><a href="#h1-0-1570" id="h1-0-1570" class="i">+    if (output_buffer == NULL)
</a><a href="#h1-0-1571" id="h1-0-1571" class="i">+    {
</a><a href="#h1-0-1572" id="h1-0-1572" class="i">+        return false;
</a><a href="#h1-0-1573" id="h1-0-1573" class="i">+    }
</a><a href="#h1-0-1574" id="h1-0-1574" class="i">+
</a><a href="#h1-0-1575" id="h1-0-1575" class="i">+    /* Compose the output array. */
</a><a href="#h1-0-1576" id="h1-0-1576" class="i">+    /* opening square bracket */
</a><a href="#h1-0-1577" id="h1-0-1577" class="i">+    output_pointer = ensure(output_buffer, 1);
</a><a href="#h1-0-1578" id="h1-0-1578" class="i">+    if (output_pointer == NULL)
</a><a href="#h1-0-1579" id="h1-0-1579" class="i">+    {
</a><a href="#h1-0-1580" id="h1-0-1580" class="i">+        return false;
</a><a href="#h1-0-1581" id="h1-0-1581" class="i">+    }
</a><a href="#h1-0-1582" id="h1-0-1582" class="i">+
</a><a href="#h1-0-1583" id="h1-0-1583" class="i">+    *output_pointer = &#39;[&#39;;
</a><a href="#h1-0-1584" id="h1-0-1584" class="i">+    output_buffer-&gt;offset++;
</a><a href="#h1-0-1585" id="h1-0-1585" class="i">+    output_buffer-&gt;depth++;
</a><a href="#h1-0-1586" id="h1-0-1586" class="i">+
</a><a href="#h1-0-1587" id="h1-0-1587" class="i">+    while (current_element != NULL)
</a><a href="#h1-0-1588" id="h1-0-1588" class="i">+    {
</a><a href="#h1-0-1589" id="h1-0-1589" class="i">+        if (!print_value(current_element, output_buffer))
</a><a href="#h1-0-1590" id="h1-0-1590" class="i">+        {
</a><a href="#h1-0-1591" id="h1-0-1591" class="i">+            return false;
</a><a href="#h1-0-1592" id="h1-0-1592" class="i">+        }
</a><a href="#h1-0-1593" id="h1-0-1593" class="i">+        update_offset(output_buffer);
</a><a href="#h1-0-1594" id="h1-0-1594" class="i">+        if (current_element-&gt;next)
</a><a href="#h1-0-1595" id="h1-0-1595" class="i">+        {
</a><a href="#h1-0-1596" id="h1-0-1596" class="i">+            length = (size_t) (output_buffer-&gt;format ? 2 : 1);
</a><a href="#h1-0-1597" id="h1-0-1597" class="i">+            output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h1-0-1598" id="h1-0-1598" class="i">+            if (output_pointer == NULL)
</a><a href="#h1-0-1599" id="h1-0-1599" class="i">+            {
</a><a href="#h1-0-1600" id="h1-0-1600" class="i">+                return false;
</a><a href="#h1-0-1601" id="h1-0-1601" class="i">+            }
</a><a href="#h1-0-1602" id="h1-0-1602" class="i">+            *output_pointer++ = &#39;,&#39;;
</a><a href="#h1-0-1603" id="h1-0-1603" class="i">+            if(output_buffer-&gt;format)
</a><a href="#h1-0-1604" id="h1-0-1604" class="i">+            {
</a><a href="#h1-0-1605" id="h1-0-1605" class="i">+                *output_pointer++ = &#39; &#39;;
</a><a href="#h1-0-1606" id="h1-0-1606" class="i">+            }
</a><a href="#h1-0-1607" id="h1-0-1607" class="i">+            *output_pointer = &#39;\0&#39;;
</a><a href="#h1-0-1608" id="h1-0-1608" class="i">+            output_buffer-&gt;offset += length;
</a><a href="#h1-0-1609" id="h1-0-1609" class="i">+        }
</a><a href="#h1-0-1610" id="h1-0-1610" class="i">+        current_element = current_element-&gt;next;
</a><a href="#h1-0-1611" id="h1-0-1611" class="i">+    }
</a><a href="#h1-0-1612" id="h1-0-1612" class="i">+
</a><a href="#h1-0-1613" id="h1-0-1613" class="i">+    output_pointer = ensure(output_buffer, 2);
</a><a href="#h1-0-1614" id="h1-0-1614" class="i">+    if (output_pointer == NULL)
</a><a href="#h1-0-1615" id="h1-0-1615" class="i">+    {
</a><a href="#h1-0-1616" id="h1-0-1616" class="i">+        return false;
</a><a href="#h1-0-1617" id="h1-0-1617" class="i">+    }
</a><a href="#h1-0-1618" id="h1-0-1618" class="i">+    *output_pointer++ = &#39;]&#39;;
</a><a href="#h1-0-1619" id="h1-0-1619" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h1-0-1620" id="h1-0-1620" class="i">+    output_buffer-&gt;depth--;
</a><a href="#h1-0-1621" id="h1-0-1621" class="i">+
</a><a href="#h1-0-1622" id="h1-0-1622" class="i">+    return true;
</a><a href="#h1-0-1623" id="h1-0-1623" class="i">+}
</a><a href="#h1-0-1624" id="h1-0-1624" class="i">+
</a><a href="#h1-0-1625" id="h1-0-1625" class="i">+/* Build an object from the text. */
</a><a href="#h1-0-1626" id="h1-0-1626" class="i">+static cJSON_bool parse_object(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h1-0-1627" id="h1-0-1627" class="i">+{
</a><a href="#h1-0-1628" id="h1-0-1628" class="i">+    cJSON *head = NULL; /* linked list head */
</a><a href="#h1-0-1629" id="h1-0-1629" class="i">+    cJSON *current_item = NULL;
</a><a href="#h1-0-1630" id="h1-0-1630" class="i">+
</a><a href="#h1-0-1631" id="h1-0-1631" class="i">+    if (input_buffer-&gt;depth &gt;= CJSON_NESTING_LIMIT)
</a><a href="#h1-0-1632" id="h1-0-1632" class="i">+    {
</a><a href="#h1-0-1633" id="h1-0-1633" class="i">+        return false; /* to deeply nested */
</a><a href="#h1-0-1634" id="h1-0-1634" class="i">+    }
</a><a href="#h1-0-1635" id="h1-0-1635" class="i">+    input_buffer-&gt;depth++;
</a><a href="#h1-0-1636" id="h1-0-1636" class="i">+
</a><a href="#h1-0-1637" id="h1-0-1637" class="i">+    if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;{&#39;))
</a><a href="#h1-0-1638" id="h1-0-1638" class="i">+    {
</a><a href="#h1-0-1639" id="h1-0-1639" class="i">+        goto fail; /* not an object */
</a><a href="#h1-0-1640" id="h1-0-1640" class="i">+    }
</a><a href="#h1-0-1641" id="h1-0-1641" class="i">+
</a><a href="#h1-0-1642" id="h1-0-1642" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h1-0-1643" id="h1-0-1643" class="i">+    buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1644" id="h1-0-1644" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;}&#39;))
</a><a href="#h1-0-1645" id="h1-0-1645" class="i">+    {
</a><a href="#h1-0-1646" id="h1-0-1646" class="i">+        goto success; /* empty object */
</a><a href="#h1-0-1647" id="h1-0-1647" class="i">+    }
</a><a href="#h1-0-1648" id="h1-0-1648" class="i">+
</a><a href="#h1-0-1649" id="h1-0-1649" class="i">+    /* check if we skipped to the end of the buffer */
</a><a href="#h1-0-1650" id="h1-0-1650" class="i">+    if (cannot_access_at_index(input_buffer, 0))
</a><a href="#h1-0-1651" id="h1-0-1651" class="i">+    {
</a><a href="#h1-0-1652" id="h1-0-1652" class="i">+        input_buffer-&gt;offset--;
</a><a href="#h1-0-1653" id="h1-0-1653" class="i">+        goto fail;
</a><a href="#h1-0-1654" id="h1-0-1654" class="i">+    }
</a><a href="#h1-0-1655" id="h1-0-1655" class="i">+
</a><a href="#h1-0-1656" id="h1-0-1656" class="i">+    /* step back to character in front of the first element */
</a><a href="#h1-0-1657" id="h1-0-1657" class="i">+    input_buffer-&gt;offset--;
</a><a href="#h1-0-1658" id="h1-0-1658" class="i">+    /* loop through the comma separated array elements */
</a><a href="#h1-0-1659" id="h1-0-1659" class="i">+    do
</a><a href="#h1-0-1660" id="h1-0-1660" class="i">+    {
</a><a href="#h1-0-1661" id="h1-0-1661" class="i">+        /* allocate next item */
</a><a href="#h1-0-1662" id="h1-0-1662" class="i">+        cJSON *new_item = cJSON_New_Item(&amp;(input_buffer-&gt;hooks));
</a><a href="#h1-0-1663" id="h1-0-1663" class="i">+        if (new_item == NULL)
</a><a href="#h1-0-1664" id="h1-0-1664" class="i">+        {
</a><a href="#h1-0-1665" id="h1-0-1665" class="i">+            goto fail; /* allocation failure */
</a><a href="#h1-0-1666" id="h1-0-1666" class="i">+        }
</a><a href="#h1-0-1667" id="h1-0-1667" class="i">+
</a><a href="#h1-0-1668" id="h1-0-1668" class="i">+        /* attach next item to list */
</a><a href="#h1-0-1669" id="h1-0-1669" class="i">+        if (head == NULL)
</a><a href="#h1-0-1670" id="h1-0-1670" class="i">+        {
</a><a href="#h1-0-1671" id="h1-0-1671" class="i">+            /* start the linked list */
</a><a href="#h1-0-1672" id="h1-0-1672" class="i">+            current_item = head = new_item;
</a><a href="#h1-0-1673" id="h1-0-1673" class="i">+        }
</a><a href="#h1-0-1674" id="h1-0-1674" class="i">+        else
</a><a href="#h1-0-1675" id="h1-0-1675" class="i">+        {
</a><a href="#h1-0-1676" id="h1-0-1676" class="i">+            /* add to the end and advance */
</a><a href="#h1-0-1677" id="h1-0-1677" class="i">+            current_item-&gt;next = new_item;
</a><a href="#h1-0-1678" id="h1-0-1678" class="i">+            new_item-&gt;prev = current_item;
</a><a href="#h1-0-1679" id="h1-0-1679" class="i">+            current_item = new_item;
</a><a href="#h1-0-1680" id="h1-0-1680" class="i">+        }
</a><a href="#h1-0-1681" id="h1-0-1681" class="i">+
</a><a href="#h1-0-1682" id="h1-0-1682" class="i">+        if (cannot_access_at_index(input_buffer, 1))
</a><a href="#h1-0-1683" id="h1-0-1683" class="i">+        {
</a><a href="#h1-0-1684" id="h1-0-1684" class="i">+            goto fail; /* nothing comes after the comma */
</a><a href="#h1-0-1685" id="h1-0-1685" class="i">+        }
</a><a href="#h1-0-1686" id="h1-0-1686" class="i">+
</a><a href="#h1-0-1687" id="h1-0-1687" class="i">+        /* parse the name of the child */
</a><a href="#h1-0-1688" id="h1-0-1688" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h1-0-1689" id="h1-0-1689" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1690" id="h1-0-1690" class="i">+        if (!parse_string(current_item, input_buffer))
</a><a href="#h1-0-1691" id="h1-0-1691" class="i">+        {
</a><a href="#h1-0-1692" id="h1-0-1692" class="i">+            goto fail; /* failed to parse name */
</a><a href="#h1-0-1693" id="h1-0-1693" class="i">+        }
</a><a href="#h1-0-1694" id="h1-0-1694" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1695" id="h1-0-1695" class="i">+
</a><a href="#h1-0-1696" id="h1-0-1696" class="i">+        /* swap valuestring and string, because we parsed the name */
</a><a href="#h1-0-1697" id="h1-0-1697" class="i">+        current_item-&gt;string = current_item-&gt;valuestring;
</a><a href="#h1-0-1698" id="h1-0-1698" class="i">+        current_item-&gt;valuestring = NULL;
</a><a href="#h1-0-1699" id="h1-0-1699" class="i">+
</a><a href="#h1-0-1700" id="h1-0-1700" class="i">+        if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;:&#39;))
</a><a href="#h1-0-1701" id="h1-0-1701" class="i">+        {
</a><a href="#h1-0-1702" id="h1-0-1702" class="i">+            goto fail; /* invalid object */
</a><a href="#h1-0-1703" id="h1-0-1703" class="i">+        }
</a><a href="#h1-0-1704" id="h1-0-1704" class="i">+
</a><a href="#h1-0-1705" id="h1-0-1705" class="i">+        /* parse the value */
</a><a href="#h1-0-1706" id="h1-0-1706" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h1-0-1707" id="h1-0-1707" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1708" id="h1-0-1708" class="i">+        if (!parse_value(current_item, input_buffer))
</a><a href="#h1-0-1709" id="h1-0-1709" class="i">+        {
</a><a href="#h1-0-1710" id="h1-0-1710" class="i">+            goto fail; /* failed to parse value */
</a><a href="#h1-0-1711" id="h1-0-1711" class="i">+        }
</a><a href="#h1-0-1712" id="h1-0-1712" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h1-0-1713" id="h1-0-1713" class="i">+    }
</a><a href="#h1-0-1714" id="h1-0-1714" class="i">+    while (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;,&#39;));
</a><a href="#h1-0-1715" id="h1-0-1715" class="i">+
</a><a href="#h1-0-1716" id="h1-0-1716" class="i">+    if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;}&#39;))
</a><a href="#h1-0-1717" id="h1-0-1717" class="i">+    {
</a><a href="#h1-0-1718" id="h1-0-1718" class="i">+        goto fail; /* expected end of object */
</a><a href="#h1-0-1719" id="h1-0-1719" class="i">+    }
</a><a href="#h1-0-1720" id="h1-0-1720" class="i">+
</a><a href="#h1-0-1721" id="h1-0-1721" class="i">+success:
</a><a href="#h1-0-1722" id="h1-0-1722" class="i">+    input_buffer-&gt;depth--;
</a><a href="#h1-0-1723" id="h1-0-1723" class="i">+
</a><a href="#h1-0-1724" id="h1-0-1724" class="i">+    if (head != NULL) {
</a><a href="#h1-0-1725" id="h1-0-1725" class="i">+        head-&gt;prev = current_item;
</a><a href="#h1-0-1726" id="h1-0-1726" class="i">+    }
</a><a href="#h1-0-1727" id="h1-0-1727" class="i">+
</a><a href="#h1-0-1728" id="h1-0-1728" class="i">+    item-&gt;type = cJSON_Object;
</a><a href="#h1-0-1729" id="h1-0-1729" class="i">+    item-&gt;child = head;
</a><a href="#h1-0-1730" id="h1-0-1730" class="i">+
</a><a href="#h1-0-1731" id="h1-0-1731" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h1-0-1732" id="h1-0-1732" class="i">+    return true;
</a><a href="#h1-0-1733" id="h1-0-1733" class="i">+
</a><a href="#h1-0-1734" id="h1-0-1734" class="i">+fail:
</a><a href="#h1-0-1735" id="h1-0-1735" class="i">+    if (head != NULL)
</a><a href="#h1-0-1736" id="h1-0-1736" class="i">+    {
</a><a href="#h1-0-1737" id="h1-0-1737" class="i">+        cJSON_Delete(head);
</a><a href="#h1-0-1738" id="h1-0-1738" class="i">+    }
</a><a href="#h1-0-1739" id="h1-0-1739" class="i">+
</a><a href="#h1-0-1740" id="h1-0-1740" class="i">+    return false;
</a><a href="#h1-0-1741" id="h1-0-1741" class="i">+}
</a><a href="#h1-0-1742" id="h1-0-1742" class="i">+
</a><a href="#h1-0-1743" id="h1-0-1743" class="i">+/* Render an object to text. */
</a><a href="#h1-0-1744" id="h1-0-1744" class="i">+static cJSON_bool print_object(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h1-0-1745" id="h1-0-1745" class="i">+{
</a><a href="#h1-0-1746" id="h1-0-1746" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h1-0-1747" id="h1-0-1747" class="i">+    size_t length = 0;
</a><a href="#h1-0-1748" id="h1-0-1748" class="i">+    cJSON *current_item = item-&gt;child;
</a><a href="#h1-0-1749" id="h1-0-1749" class="i">+
</a><a href="#h1-0-1750" id="h1-0-1750" class="i">+    if (output_buffer == NULL)
</a><a href="#h1-0-1751" id="h1-0-1751" class="i">+    {
</a><a href="#h1-0-1752" id="h1-0-1752" class="i">+        return false;
</a><a href="#h1-0-1753" id="h1-0-1753" class="i">+    }
</a><a href="#h1-0-1754" id="h1-0-1754" class="i">+
</a><a href="#h1-0-1755" id="h1-0-1755" class="i">+    /* Compose the output: */
</a><a href="#h1-0-1756" id="h1-0-1756" class="i">+    length = (size_t) (output_buffer-&gt;format ? 2 : 1); /* fmt: {\n */
</a><a href="#h1-0-1757" id="h1-0-1757" class="i">+    output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h1-0-1758" id="h1-0-1758" class="i">+    if (output_pointer == NULL)
</a><a href="#h1-0-1759" id="h1-0-1759" class="i">+    {
</a><a href="#h1-0-1760" id="h1-0-1760" class="i">+        return false;
</a><a href="#h1-0-1761" id="h1-0-1761" class="i">+    }
</a><a href="#h1-0-1762" id="h1-0-1762" class="i">+
</a><a href="#h1-0-1763" id="h1-0-1763" class="i">+    *output_pointer++ = &#39;{&#39;;
</a><a href="#h1-0-1764" id="h1-0-1764" class="i">+    output_buffer-&gt;depth++;
</a><a href="#h1-0-1765" id="h1-0-1765" class="i">+    if (output_buffer-&gt;format)
</a><a href="#h1-0-1766" id="h1-0-1766" class="i">+    {
</a><a href="#h1-0-1767" id="h1-0-1767" class="i">+        *output_pointer++ = &#39;\n&#39;;
</a><a href="#h1-0-1768" id="h1-0-1768" class="i">+    }
</a><a href="#h1-0-1769" id="h1-0-1769" class="i">+    output_buffer-&gt;offset += length;
</a><a href="#h1-0-1770" id="h1-0-1770" class="i">+
</a><a href="#h1-0-1771" id="h1-0-1771" class="i">+    while (current_item)
</a><a href="#h1-0-1772" id="h1-0-1772" class="i">+    {
</a><a href="#h1-0-1773" id="h1-0-1773" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h1-0-1774" id="h1-0-1774" class="i">+        {
</a><a href="#h1-0-1775" id="h1-0-1775" class="i">+            size_t i;
</a><a href="#h1-0-1776" id="h1-0-1776" class="i">+            output_pointer = ensure(output_buffer, output_buffer-&gt;depth);
</a><a href="#h1-0-1777" id="h1-0-1777" class="i">+            if (output_pointer == NULL)
</a><a href="#h1-0-1778" id="h1-0-1778" class="i">+            {
</a><a href="#h1-0-1779" id="h1-0-1779" class="i">+                return false;
</a><a href="#h1-0-1780" id="h1-0-1780" class="i">+            }
</a><a href="#h1-0-1781" id="h1-0-1781" class="i">+            for (i = 0; i &lt; output_buffer-&gt;depth; i++)
</a><a href="#h1-0-1782" id="h1-0-1782" class="i">+            {
</a><a href="#h1-0-1783" id="h1-0-1783" class="i">+                *output_pointer++ = &#39;\t&#39;;
</a><a href="#h1-0-1784" id="h1-0-1784" class="i">+            }
</a><a href="#h1-0-1785" id="h1-0-1785" class="i">+            output_buffer-&gt;offset += output_buffer-&gt;depth;
</a><a href="#h1-0-1786" id="h1-0-1786" class="i">+        }
</a><a href="#h1-0-1787" id="h1-0-1787" class="i">+
</a><a href="#h1-0-1788" id="h1-0-1788" class="i">+        /* print key */
</a><a href="#h1-0-1789" id="h1-0-1789" class="i">+        if (!print_string_ptr((unsigned char*)current_item-&gt;string, output_buffer))
</a><a href="#h1-0-1790" id="h1-0-1790" class="i">+        {
</a><a href="#h1-0-1791" id="h1-0-1791" class="i">+            return false;
</a><a href="#h1-0-1792" id="h1-0-1792" class="i">+        }
</a><a href="#h1-0-1793" id="h1-0-1793" class="i">+        update_offset(output_buffer);
</a><a href="#h1-0-1794" id="h1-0-1794" class="i">+
</a><a href="#h1-0-1795" id="h1-0-1795" class="i">+        length = (size_t) (output_buffer-&gt;format ? 2 : 1);
</a><a href="#h1-0-1796" id="h1-0-1796" class="i">+        output_pointer = ensure(output_buffer, length);
</a><a href="#h1-0-1797" id="h1-0-1797" class="i">+        if (output_pointer == NULL)
</a><a href="#h1-0-1798" id="h1-0-1798" class="i">+        {
</a><a href="#h1-0-1799" id="h1-0-1799" class="i">+            return false;
</a><a href="#h1-0-1800" id="h1-0-1800" class="i">+        }
</a><a href="#h1-0-1801" id="h1-0-1801" class="i">+        *output_pointer++ = &#39;:&#39;;
</a><a href="#h1-0-1802" id="h1-0-1802" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h1-0-1803" id="h1-0-1803" class="i">+        {
</a><a href="#h1-0-1804" id="h1-0-1804" class="i">+            *output_pointer++ = &#39;\t&#39;;
</a><a href="#h1-0-1805" id="h1-0-1805" class="i">+        }
</a><a href="#h1-0-1806" id="h1-0-1806" class="i">+        output_buffer-&gt;offset += length;
</a><a href="#h1-0-1807" id="h1-0-1807" class="i">+
</a><a href="#h1-0-1808" id="h1-0-1808" class="i">+        /* print value */
</a><a href="#h1-0-1809" id="h1-0-1809" class="i">+        if (!print_value(current_item, output_buffer))
</a><a href="#h1-0-1810" id="h1-0-1810" class="i">+        {
</a><a href="#h1-0-1811" id="h1-0-1811" class="i">+            return false;
</a><a href="#h1-0-1812" id="h1-0-1812" class="i">+        }
</a><a href="#h1-0-1813" id="h1-0-1813" class="i">+        update_offset(output_buffer);
</a><a href="#h1-0-1814" id="h1-0-1814" class="i">+
</a><a href="#h1-0-1815" id="h1-0-1815" class="i">+        /* print comma if not last */
</a><a href="#h1-0-1816" id="h1-0-1816" class="i">+        length = ((size_t)(output_buffer-&gt;format ? 1 : 0) + (size_t)(current_item-&gt;next ? 1 : 0));
</a><a href="#h1-0-1817" id="h1-0-1817" class="i">+        output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h1-0-1818" id="h1-0-1818" class="i">+        if (output_pointer == NULL)
</a><a href="#h1-0-1819" id="h1-0-1819" class="i">+        {
</a><a href="#h1-0-1820" id="h1-0-1820" class="i">+            return false;
</a><a href="#h1-0-1821" id="h1-0-1821" class="i">+        }
</a><a href="#h1-0-1822" id="h1-0-1822" class="i">+        if (current_item-&gt;next)
</a><a href="#h1-0-1823" id="h1-0-1823" class="i">+        {
</a><a href="#h1-0-1824" id="h1-0-1824" class="i">+            *output_pointer++ = &#39;,&#39;;
</a><a href="#h1-0-1825" id="h1-0-1825" class="i">+        }
</a><a href="#h1-0-1826" id="h1-0-1826" class="i">+
</a><a href="#h1-0-1827" id="h1-0-1827" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h1-0-1828" id="h1-0-1828" class="i">+        {
</a><a href="#h1-0-1829" id="h1-0-1829" class="i">+            *output_pointer++ = &#39;\n&#39;;
</a><a href="#h1-0-1830" id="h1-0-1830" class="i">+        }
</a><a href="#h1-0-1831" id="h1-0-1831" class="i">+        *output_pointer = &#39;\0&#39;;
</a><a href="#h1-0-1832" id="h1-0-1832" class="i">+        output_buffer-&gt;offset += length;
</a><a href="#h1-0-1833" id="h1-0-1833" class="i">+
</a><a href="#h1-0-1834" id="h1-0-1834" class="i">+        current_item = current_item-&gt;next;
</a><a href="#h1-0-1835" id="h1-0-1835" class="i">+    }
</a><a href="#h1-0-1836" id="h1-0-1836" class="i">+
</a><a href="#h1-0-1837" id="h1-0-1837" class="i">+    output_pointer = ensure(output_buffer, output_buffer-&gt;format ? (output_buffer-&gt;depth + 1) : 2);
</a><a href="#h1-0-1838" id="h1-0-1838" class="i">+    if (output_pointer == NULL)
</a><a href="#h1-0-1839" id="h1-0-1839" class="i">+    {
</a><a href="#h1-0-1840" id="h1-0-1840" class="i">+        return false;
</a><a href="#h1-0-1841" id="h1-0-1841" class="i">+    }
</a><a href="#h1-0-1842" id="h1-0-1842" class="i">+    if (output_buffer-&gt;format)
</a><a href="#h1-0-1843" id="h1-0-1843" class="i">+    {
</a><a href="#h1-0-1844" id="h1-0-1844" class="i">+        size_t i;
</a><a href="#h1-0-1845" id="h1-0-1845" class="i">+        for (i = 0; i &lt; (output_buffer-&gt;depth - 1); i++)
</a><a href="#h1-0-1846" id="h1-0-1846" class="i">+        {
</a><a href="#h1-0-1847" id="h1-0-1847" class="i">+            *output_pointer++ = &#39;\t&#39;;
</a><a href="#h1-0-1848" id="h1-0-1848" class="i">+        }
</a><a href="#h1-0-1849" id="h1-0-1849" class="i">+    }
</a><a href="#h1-0-1850" id="h1-0-1850" class="i">+    *output_pointer++ = &#39;}&#39;;
</a><a href="#h1-0-1851" id="h1-0-1851" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h1-0-1852" id="h1-0-1852" class="i">+    output_buffer-&gt;depth--;
</a><a href="#h1-0-1853" id="h1-0-1853" class="i">+
</a><a href="#h1-0-1854" id="h1-0-1854" class="i">+    return true;
</a><a href="#h1-0-1855" id="h1-0-1855" class="i">+}
</a><a href="#h1-0-1856" id="h1-0-1856" class="i">+
</a><a href="#h1-0-1857" id="h1-0-1857" class="i">+/* Get Array size/item / object item. */
</a><a href="#h1-0-1858" id="h1-0-1858" class="i">+CJSON_PUBLIC(int) cJSON_GetArraySize(const cJSON *array)
</a><a href="#h1-0-1859" id="h1-0-1859" class="i">+{
</a><a href="#h1-0-1860" id="h1-0-1860" class="i">+    cJSON *child = NULL;
</a><a href="#h1-0-1861" id="h1-0-1861" class="i">+    size_t size = 0;
</a><a href="#h1-0-1862" id="h1-0-1862" class="i">+
</a><a href="#h1-0-1863" id="h1-0-1863" class="i">+    if (array == NULL)
</a><a href="#h1-0-1864" id="h1-0-1864" class="i">+    {
</a><a href="#h1-0-1865" id="h1-0-1865" class="i">+        return 0;
</a><a href="#h1-0-1866" id="h1-0-1866" class="i">+    }
</a><a href="#h1-0-1867" id="h1-0-1867" class="i">+
</a><a href="#h1-0-1868" id="h1-0-1868" class="i">+    child = array-&gt;child;
</a><a href="#h1-0-1869" id="h1-0-1869" class="i">+
</a><a href="#h1-0-1870" id="h1-0-1870" class="i">+    while(child != NULL)
</a><a href="#h1-0-1871" id="h1-0-1871" class="i">+    {
</a><a href="#h1-0-1872" id="h1-0-1872" class="i">+        size++;
</a><a href="#h1-0-1873" id="h1-0-1873" class="i">+        child = child-&gt;next;
</a><a href="#h1-0-1874" id="h1-0-1874" class="i">+    }
</a><a href="#h1-0-1875" id="h1-0-1875" class="i">+
</a><a href="#h1-0-1876" id="h1-0-1876" class="i">+    /* FIXME: Can overflow here. Cannot be fixed without breaking the API */
</a><a href="#h1-0-1877" id="h1-0-1877" class="i">+
</a><a href="#h1-0-1878" id="h1-0-1878" class="i">+    return (int)size;
</a><a href="#h1-0-1879" id="h1-0-1879" class="i">+}
</a><a href="#h1-0-1880" id="h1-0-1880" class="i">+
</a><a href="#h1-0-1881" id="h1-0-1881" class="i">+static cJSON* get_array_item(const cJSON *array, size_t index)
</a><a href="#h1-0-1882" id="h1-0-1882" class="i">+{
</a><a href="#h1-0-1883" id="h1-0-1883" class="i">+    cJSON *current_child = NULL;
</a><a href="#h1-0-1884" id="h1-0-1884" class="i">+
</a><a href="#h1-0-1885" id="h1-0-1885" class="i">+    if (array == NULL)
</a><a href="#h1-0-1886" id="h1-0-1886" class="i">+    {
</a><a href="#h1-0-1887" id="h1-0-1887" class="i">+        return NULL;
</a><a href="#h1-0-1888" id="h1-0-1888" class="i">+    }
</a><a href="#h1-0-1889" id="h1-0-1889" class="i">+
</a><a href="#h1-0-1890" id="h1-0-1890" class="i">+    current_child = array-&gt;child;
</a><a href="#h1-0-1891" id="h1-0-1891" class="i">+    while ((current_child != NULL) &amp;&amp; (index &gt; 0))
</a><a href="#h1-0-1892" id="h1-0-1892" class="i">+    {
</a><a href="#h1-0-1893" id="h1-0-1893" class="i">+        index--;
</a><a href="#h1-0-1894" id="h1-0-1894" class="i">+        current_child = current_child-&gt;next;
</a><a href="#h1-0-1895" id="h1-0-1895" class="i">+    }
</a><a href="#h1-0-1896" id="h1-0-1896" class="i">+
</a><a href="#h1-0-1897" id="h1-0-1897" class="i">+    return current_child;
</a><a href="#h1-0-1898" id="h1-0-1898" class="i">+}
</a><a href="#h1-0-1899" id="h1-0-1899" class="i">+
</a><a href="#h1-0-1900" id="h1-0-1900" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetArrayItem(const cJSON *array, int index)
</a><a href="#h1-0-1901" id="h1-0-1901" class="i">+{
</a><a href="#h1-0-1902" id="h1-0-1902" class="i">+    if (index &lt; 0)
</a><a href="#h1-0-1903" id="h1-0-1903" class="i">+    {
</a><a href="#h1-0-1904" id="h1-0-1904" class="i">+        return NULL;
</a><a href="#h1-0-1905" id="h1-0-1905" class="i">+    }
</a><a href="#h1-0-1906" id="h1-0-1906" class="i">+
</a><a href="#h1-0-1907" id="h1-0-1907" class="i">+    return get_array_item(array, (size_t)index);
</a><a href="#h1-0-1908" id="h1-0-1908" class="i">+}
</a><a href="#h1-0-1909" id="h1-0-1909" class="i">+
</a><a href="#h1-0-1910" id="h1-0-1910" class="i">+static cJSON *get_object_item(const cJSON * const object, const char * const name, const cJSON_bool case_sensitive)
</a><a href="#h1-0-1911" id="h1-0-1911" class="i">+{
</a><a href="#h1-0-1912" id="h1-0-1912" class="i">+    cJSON *current_element = NULL;
</a><a href="#h1-0-1913" id="h1-0-1913" class="i">+
</a><a href="#h1-0-1914" id="h1-0-1914" class="i">+    if ((object == NULL) || (name == NULL))
</a><a href="#h1-0-1915" id="h1-0-1915" class="i">+    {
</a><a href="#h1-0-1916" id="h1-0-1916" class="i">+        return NULL;
</a><a href="#h1-0-1917" id="h1-0-1917" class="i">+    }
</a><a href="#h1-0-1918" id="h1-0-1918" class="i">+
</a><a href="#h1-0-1919" id="h1-0-1919" class="i">+    current_element = object-&gt;child;
</a><a href="#h1-0-1920" id="h1-0-1920" class="i">+    if (case_sensitive)
</a><a href="#h1-0-1921" id="h1-0-1921" class="i">+    {
</a><a href="#h1-0-1922" id="h1-0-1922" class="i">+        while ((current_element != NULL) &amp;&amp; (current_element-&gt;string != NULL) &amp;&amp; (strcmp(name, current_element-&gt;string) != 0))
</a><a href="#h1-0-1923" id="h1-0-1923" class="i">+        {
</a><a href="#h1-0-1924" id="h1-0-1924" class="i">+            current_element = current_element-&gt;next;
</a><a href="#h1-0-1925" id="h1-0-1925" class="i">+        }
</a><a href="#h1-0-1926" id="h1-0-1926" class="i">+    }
</a><a href="#h1-0-1927" id="h1-0-1927" class="i">+    else
</a><a href="#h1-0-1928" id="h1-0-1928" class="i">+    {
</a><a href="#h1-0-1929" id="h1-0-1929" class="i">+        while ((current_element != NULL) &amp;&amp; (case_insensitive_strcmp((const unsigned char*)name, (const unsigned char*)(current_element-&gt;string)) != 0))
</a><a href="#h1-0-1930" id="h1-0-1930" class="i">+        {
</a><a href="#h1-0-1931" id="h1-0-1931" class="i">+            current_element = current_element-&gt;next;
</a><a href="#h1-0-1932" id="h1-0-1932" class="i">+        }
</a><a href="#h1-0-1933" id="h1-0-1933" class="i">+    }
</a><a href="#h1-0-1934" id="h1-0-1934" class="i">+
</a><a href="#h1-0-1935" id="h1-0-1935" class="i">+    if ((current_element == NULL) || (current_element-&gt;string == NULL)) {
</a><a href="#h1-0-1936" id="h1-0-1936" class="i">+        return NULL;
</a><a href="#h1-0-1937" id="h1-0-1937" class="i">+    }
</a><a href="#h1-0-1938" id="h1-0-1938" class="i">+
</a><a href="#h1-0-1939" id="h1-0-1939" class="i">+    return current_element;
</a><a href="#h1-0-1940" id="h1-0-1940" class="i">+}
</a><a href="#h1-0-1941" id="h1-0-1941" class="i">+
</a><a href="#h1-0-1942" id="h1-0-1942" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItem(const cJSON * const object, const char * const string)
</a><a href="#h1-0-1943" id="h1-0-1943" class="i">+{
</a><a href="#h1-0-1944" id="h1-0-1944" class="i">+    return get_object_item(object, string, false);
</a><a href="#h1-0-1945" id="h1-0-1945" class="i">+}
</a><a href="#h1-0-1946" id="h1-0-1946" class="i">+
</a><a href="#h1-0-1947" id="h1-0-1947" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItemCaseSensitive(const cJSON * const object, const char * const string)
</a><a href="#h1-0-1948" id="h1-0-1948" class="i">+{
</a><a href="#h1-0-1949" id="h1-0-1949" class="i">+    return get_object_item(object, string, true);
</a><a href="#h1-0-1950" id="h1-0-1950" class="i">+}
</a><a href="#h1-0-1951" id="h1-0-1951" class="i">+
</a><a href="#h1-0-1952" id="h1-0-1952" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_HasObjectItem(const cJSON *object, const char *string)
</a><a href="#h1-0-1953" id="h1-0-1953" class="i">+{
</a><a href="#h1-0-1954" id="h1-0-1954" class="i">+    return cJSON_GetObjectItem(object, string) ? 1 : 0;
</a><a href="#h1-0-1955" id="h1-0-1955" class="i">+}
</a><a href="#h1-0-1956" id="h1-0-1956" class="i">+
</a><a href="#h1-0-1957" id="h1-0-1957" class="i">+/* Utility for array list handling. */
</a><a href="#h1-0-1958" id="h1-0-1958" class="i">+static void suffix_object(cJSON *prev, cJSON *item)
</a><a href="#h1-0-1959" id="h1-0-1959" class="i">+{
</a><a href="#h1-0-1960" id="h1-0-1960" class="i">+    prev-&gt;next = item;
</a><a href="#h1-0-1961" id="h1-0-1961" class="i">+    item-&gt;prev = prev;
</a><a href="#h1-0-1962" id="h1-0-1962" class="i">+}
</a><a href="#h1-0-1963" id="h1-0-1963" class="i">+
</a><a href="#h1-0-1964" id="h1-0-1964" class="i">+/* Utility for handling references. */
</a><a href="#h1-0-1965" id="h1-0-1965" class="i">+static cJSON *create_reference(const cJSON *item, const internal_hooks * const hooks)
</a><a href="#h1-0-1966" id="h1-0-1966" class="i">+{
</a><a href="#h1-0-1967" id="h1-0-1967" class="i">+    cJSON *reference = NULL;
</a><a href="#h1-0-1968" id="h1-0-1968" class="i">+    if (item == NULL)
</a><a href="#h1-0-1969" id="h1-0-1969" class="i">+    {
</a><a href="#h1-0-1970" id="h1-0-1970" class="i">+        return NULL;
</a><a href="#h1-0-1971" id="h1-0-1971" class="i">+    }
</a><a href="#h1-0-1972" id="h1-0-1972" class="i">+
</a><a href="#h1-0-1973" id="h1-0-1973" class="i">+    reference = cJSON_New_Item(hooks);
</a><a href="#h1-0-1974" id="h1-0-1974" class="i">+    if (reference == NULL)
</a><a href="#h1-0-1975" id="h1-0-1975" class="i">+    {
</a><a href="#h1-0-1976" id="h1-0-1976" class="i">+        return NULL;
</a><a href="#h1-0-1977" id="h1-0-1977" class="i">+    }
</a><a href="#h1-0-1978" id="h1-0-1978" class="i">+
</a><a href="#h1-0-1979" id="h1-0-1979" class="i">+    memcpy(reference, item, sizeof(cJSON));
</a><a href="#h1-0-1980" id="h1-0-1980" class="i">+    reference-&gt;string = NULL;
</a><a href="#h1-0-1981" id="h1-0-1981" class="i">+    reference-&gt;type |= cJSON_IsReference;
</a><a href="#h1-0-1982" id="h1-0-1982" class="i">+    reference-&gt;next = reference-&gt;prev = NULL;
</a><a href="#h1-0-1983" id="h1-0-1983" class="i">+    return reference;
</a><a href="#h1-0-1984" id="h1-0-1984" class="i">+}
</a><a href="#h1-0-1985" id="h1-0-1985" class="i">+
</a><a href="#h1-0-1986" id="h1-0-1986" class="i">+static cJSON_bool add_item_to_array(cJSON *array, cJSON *item)
</a><a href="#h1-0-1987" id="h1-0-1987" class="i">+{
</a><a href="#h1-0-1988" id="h1-0-1988" class="i">+    cJSON *child = NULL;
</a><a href="#h1-0-1989" id="h1-0-1989" class="i">+
</a><a href="#h1-0-1990" id="h1-0-1990" class="i">+    if ((item == NULL) || (array == NULL) || (array == item))
</a><a href="#h1-0-1991" id="h1-0-1991" class="i">+    {
</a><a href="#h1-0-1992" id="h1-0-1992" class="i">+        return false;
</a><a href="#h1-0-1993" id="h1-0-1993" class="i">+    }
</a><a href="#h1-0-1994" id="h1-0-1994" class="i">+
</a><a href="#h1-0-1995" id="h1-0-1995" class="i">+    child = array-&gt;child;
</a><a href="#h1-0-1996" id="h1-0-1996" class="i">+    /*
</a><a href="#h1-0-1997" id="h1-0-1997" class="i">+     * To find the last item in array quickly, we use prev in array
</a><a href="#h1-0-1998" id="h1-0-1998" class="i">+     */
</a><a href="#h1-0-1999" id="h1-0-1999" class="i">+    if (child == NULL)
</a><a href="#h1-0-2000" id="h1-0-2000" class="i">+    {
</a><a href="#h1-0-2001" id="h1-0-2001" class="i">+        /* list is empty, start new one */
</a><a href="#h1-0-2002" id="h1-0-2002" class="i">+        array-&gt;child = item;
</a><a href="#h1-0-2003" id="h1-0-2003" class="i">+        item-&gt;prev = item;
</a><a href="#h1-0-2004" id="h1-0-2004" class="i">+        item-&gt;next = NULL;
</a><a href="#h1-0-2005" id="h1-0-2005" class="i">+    }
</a><a href="#h1-0-2006" id="h1-0-2006" class="i">+    else
</a><a href="#h1-0-2007" id="h1-0-2007" class="i">+    {
</a><a href="#h1-0-2008" id="h1-0-2008" class="i">+        /* append to the end */
</a><a href="#h1-0-2009" id="h1-0-2009" class="i">+        if (child-&gt;prev)
</a><a href="#h1-0-2010" id="h1-0-2010" class="i">+        {
</a><a href="#h1-0-2011" id="h1-0-2011" class="i">+            suffix_object(child-&gt;prev, item);
</a><a href="#h1-0-2012" id="h1-0-2012" class="i">+            array-&gt;child-&gt;prev = item;
</a><a href="#h1-0-2013" id="h1-0-2013" class="i">+        }
</a><a href="#h1-0-2014" id="h1-0-2014" class="i">+    }
</a><a href="#h1-0-2015" id="h1-0-2015" class="i">+
</a><a href="#h1-0-2016" id="h1-0-2016" class="i">+    return true;
</a><a href="#h1-0-2017" id="h1-0-2017" class="i">+}
</a><a href="#h1-0-2018" id="h1-0-2018" class="i">+
</a><a href="#h1-0-2019" id="h1-0-2019" class="i">+/* Add item to array/object. */
</a><a href="#h1-0-2020" id="h1-0-2020" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToArray(cJSON *array, cJSON *item)
</a><a href="#h1-0-2021" id="h1-0-2021" class="i">+{
</a><a href="#h1-0-2022" id="h1-0-2022" class="i">+    return add_item_to_array(array, item);
</a><a href="#h1-0-2023" id="h1-0-2023" class="i">+}
</a><a href="#h1-0-2024" id="h1-0-2024" class="i">+
</a><a href="#h1-0-2025" id="h1-0-2025" class="i">+#if defined(__clang__) || (defined(__GNUC__)  &amp;&amp; ((__GNUC__ &gt; 4) || ((__GNUC__ == 4) &amp;&amp; (__GNUC_MINOR__ &gt; 5))))
</a><a href="#h1-0-2026" id="h1-0-2026" class="i">+    #pragma GCC diagnostic push
</a><a href="#h1-0-2027" id="h1-0-2027" class="i">+#endif
</a><a href="#h1-0-2028" id="h1-0-2028" class="i">+#ifdef __GNUC__
</a><a href="#h1-0-2029" id="h1-0-2029" class="i">+#pragma GCC diagnostic ignored &quot;-Wcast-qual&quot;
</a><a href="#h1-0-2030" id="h1-0-2030" class="i">+#endif
</a><a href="#h1-0-2031" id="h1-0-2031" class="i">+/* helper function to cast away const */
</a><a href="#h1-0-2032" id="h1-0-2032" class="i">+static void* cast_away_const(const void* string)
</a><a href="#h1-0-2033" id="h1-0-2033" class="i">+{
</a><a href="#h1-0-2034" id="h1-0-2034" class="i">+    return (void*)string;
</a><a href="#h1-0-2035" id="h1-0-2035" class="i">+}
</a><a href="#h1-0-2036" id="h1-0-2036" class="i">+#if defined(__clang__) || (defined(__GNUC__)  &amp;&amp; ((__GNUC__ &gt; 4) || ((__GNUC__ == 4) &amp;&amp; (__GNUC_MINOR__ &gt; 5))))
</a><a href="#h1-0-2037" id="h1-0-2037" class="i">+    #pragma GCC diagnostic pop
</a><a href="#h1-0-2038" id="h1-0-2038" class="i">+#endif
</a><a href="#h1-0-2039" id="h1-0-2039" class="i">+
</a><a href="#h1-0-2040" id="h1-0-2040" class="i">+
</a><a href="#h1-0-2041" id="h1-0-2041" class="i">+static cJSON_bool add_item_to_object(cJSON * const object, const char * const string, cJSON * const item, const internal_hooks * const hooks, const cJSON_bool constant_key)
</a><a href="#h1-0-2042" id="h1-0-2042" class="i">+{
</a><a href="#h1-0-2043" id="h1-0-2043" class="i">+    char *new_key = NULL;
</a><a href="#h1-0-2044" id="h1-0-2044" class="i">+    int new_type = cJSON_Invalid;
</a><a href="#h1-0-2045" id="h1-0-2045" class="i">+
</a><a href="#h1-0-2046" id="h1-0-2046" class="i">+    if ((object == NULL) || (string == NULL) || (item == NULL) || (object == item))
</a><a href="#h1-0-2047" id="h1-0-2047" class="i">+    {
</a><a href="#h1-0-2048" id="h1-0-2048" class="i">+        return false;
</a><a href="#h1-0-2049" id="h1-0-2049" class="i">+    }
</a><a href="#h1-0-2050" id="h1-0-2050" class="i">+
</a><a href="#h1-0-2051" id="h1-0-2051" class="i">+    if (constant_key)
</a><a href="#h1-0-2052" id="h1-0-2052" class="i">+    {
</a><a href="#h1-0-2053" id="h1-0-2053" class="i">+        new_key = (char*)cast_away_const(string);
</a><a href="#h1-0-2054" id="h1-0-2054" class="i">+        new_type = item-&gt;type | cJSON_StringIsConst;
</a><a href="#h1-0-2055" id="h1-0-2055" class="i">+    }
</a><a href="#h1-0-2056" id="h1-0-2056" class="i">+    else
</a><a href="#h1-0-2057" id="h1-0-2057" class="i">+    {
</a><a href="#h1-0-2058" id="h1-0-2058" class="i">+        new_key = (char*)cJSON_strdup((const unsigned char*)string, hooks);
</a><a href="#h1-0-2059" id="h1-0-2059" class="i">+        if (new_key == NULL)
</a><a href="#h1-0-2060" id="h1-0-2060" class="i">+        {
</a><a href="#h1-0-2061" id="h1-0-2061" class="i">+            return false;
</a><a href="#h1-0-2062" id="h1-0-2062" class="i">+        }
</a><a href="#h1-0-2063" id="h1-0-2063" class="i">+
</a><a href="#h1-0-2064" id="h1-0-2064" class="i">+        new_type = item-&gt;type &amp; ~cJSON_StringIsConst;
</a><a href="#h1-0-2065" id="h1-0-2065" class="i">+    }
</a><a href="#h1-0-2066" id="h1-0-2066" class="i">+
</a><a href="#h1-0-2067" id="h1-0-2067" class="i">+    if (!(item-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (item-&gt;string != NULL))
</a><a href="#h1-0-2068" id="h1-0-2068" class="i">+    {
</a><a href="#h1-0-2069" id="h1-0-2069" class="i">+        hooks-&gt;deallocate(item-&gt;string);
</a><a href="#h1-0-2070" id="h1-0-2070" class="i">+    }
</a><a href="#h1-0-2071" id="h1-0-2071" class="i">+
</a><a href="#h1-0-2072" id="h1-0-2072" class="i">+    item-&gt;string = new_key;
</a><a href="#h1-0-2073" id="h1-0-2073" class="i">+    item-&gt;type = new_type;
</a><a href="#h1-0-2074" id="h1-0-2074" class="i">+
</a><a href="#h1-0-2075" id="h1-0-2075" class="i">+    return add_item_to_array(object, item);
</a><a href="#h1-0-2076" id="h1-0-2076" class="i">+}
</a><a href="#h1-0-2077" id="h1-0-2077" class="i">+
</a><a href="#h1-0-2078" id="h1-0-2078" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObject(cJSON *object, const char *string, cJSON *item)
</a><a href="#h1-0-2079" id="h1-0-2079" class="i">+{
</a><a href="#h1-0-2080" id="h1-0-2080" class="i">+    return add_item_to_object(object, string, item, &amp;global_hooks, false);
</a><a href="#h1-0-2081" id="h1-0-2081" class="i">+}
</a><a href="#h1-0-2082" id="h1-0-2082" class="i">+
</a><a href="#h1-0-2083" id="h1-0-2083" class="i">+/* Add an item to an object with constant string as key */
</a><a href="#h1-0-2084" id="h1-0-2084" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObjectCS(cJSON *object, const char *string, cJSON *item)
</a><a href="#h1-0-2085" id="h1-0-2085" class="i">+{
</a><a href="#h1-0-2086" id="h1-0-2086" class="i">+    return add_item_to_object(object, string, item, &amp;global_hooks, true);
</a><a href="#h1-0-2087" id="h1-0-2087" class="i">+}
</a><a href="#h1-0-2088" id="h1-0-2088" class="i">+
</a><a href="#h1-0-2089" id="h1-0-2089" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToArray(cJSON *array, cJSON *item)
</a><a href="#h1-0-2090" id="h1-0-2090" class="i">+{
</a><a href="#h1-0-2091" id="h1-0-2091" class="i">+    if (array == NULL)
</a><a href="#h1-0-2092" id="h1-0-2092" class="i">+    {
</a><a href="#h1-0-2093" id="h1-0-2093" class="i">+        return false;
</a><a href="#h1-0-2094" id="h1-0-2094" class="i">+    }
</a><a href="#h1-0-2095" id="h1-0-2095" class="i">+
</a><a href="#h1-0-2096" id="h1-0-2096" class="i">+    return add_item_to_array(array, create_reference(item, &amp;global_hooks));
</a><a href="#h1-0-2097" id="h1-0-2097" class="i">+}
</a><a href="#h1-0-2098" id="h1-0-2098" class="i">+
</a><a href="#h1-0-2099" id="h1-0-2099" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToObject(cJSON *object, const char *string, cJSON *item)
</a><a href="#h1-0-2100" id="h1-0-2100" class="i">+{
</a><a href="#h1-0-2101" id="h1-0-2101" class="i">+    if ((object == NULL) || (string == NULL))
</a><a href="#h1-0-2102" id="h1-0-2102" class="i">+    {
</a><a href="#h1-0-2103" id="h1-0-2103" class="i">+        return false;
</a><a href="#h1-0-2104" id="h1-0-2104" class="i">+    }
</a><a href="#h1-0-2105" id="h1-0-2105" class="i">+
</a><a href="#h1-0-2106" id="h1-0-2106" class="i">+    return add_item_to_object(object, string, create_reference(item, &amp;global_hooks), &amp;global_hooks, false);
</a><a href="#h1-0-2107" id="h1-0-2107" class="i">+}
</a><a href="#h1-0-2108" id="h1-0-2108" class="i">+
</a><a href="#h1-0-2109" id="h1-0-2109" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNullToObject(cJSON * const object, const char * const name)
</a><a href="#h1-0-2110" id="h1-0-2110" class="i">+{
</a><a href="#h1-0-2111" id="h1-0-2111" class="i">+    cJSON *null = cJSON_CreateNull();
</a><a href="#h1-0-2112" id="h1-0-2112" class="i">+    if (add_item_to_object(object, name, null, &amp;global_hooks, false))
</a><a href="#h1-0-2113" id="h1-0-2113" class="i">+    {
</a><a href="#h1-0-2114" id="h1-0-2114" class="i">+        return null;
</a><a href="#h1-0-2115" id="h1-0-2115" class="i">+    }
</a><a href="#h1-0-2116" id="h1-0-2116" class="i">+
</a><a href="#h1-0-2117" id="h1-0-2117" class="i">+    cJSON_Delete(null);
</a><a href="#h1-0-2118" id="h1-0-2118" class="i">+    return NULL;
</a><a href="#h1-0-2119" id="h1-0-2119" class="i">+}
</a><a href="#h1-0-2120" id="h1-0-2120" class="i">+
</a><a href="#h1-0-2121" id="h1-0-2121" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddTrueToObject(cJSON * const object, const char * const name)
</a><a href="#h1-0-2122" id="h1-0-2122" class="i">+{
</a><a href="#h1-0-2123" id="h1-0-2123" class="i">+    cJSON *true_item = cJSON_CreateTrue();
</a><a href="#h1-0-2124" id="h1-0-2124" class="i">+    if (add_item_to_object(object, name, true_item, &amp;global_hooks, false))
</a><a href="#h1-0-2125" id="h1-0-2125" class="i">+    {
</a><a href="#h1-0-2126" id="h1-0-2126" class="i">+        return true_item;
</a><a href="#h1-0-2127" id="h1-0-2127" class="i">+    }
</a><a href="#h1-0-2128" id="h1-0-2128" class="i">+
</a><a href="#h1-0-2129" id="h1-0-2129" class="i">+    cJSON_Delete(true_item);
</a><a href="#h1-0-2130" id="h1-0-2130" class="i">+    return NULL;
</a><a href="#h1-0-2131" id="h1-0-2131" class="i">+}
</a><a href="#h1-0-2132" id="h1-0-2132" class="i">+
</a><a href="#h1-0-2133" id="h1-0-2133" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddFalseToObject(cJSON * const object, const char * const name)
</a><a href="#h1-0-2134" id="h1-0-2134" class="i">+{
</a><a href="#h1-0-2135" id="h1-0-2135" class="i">+    cJSON *false_item = cJSON_CreateFalse();
</a><a href="#h1-0-2136" id="h1-0-2136" class="i">+    if (add_item_to_object(object, name, false_item, &amp;global_hooks, false))
</a><a href="#h1-0-2137" id="h1-0-2137" class="i">+    {
</a><a href="#h1-0-2138" id="h1-0-2138" class="i">+        return false_item;
</a><a href="#h1-0-2139" id="h1-0-2139" class="i">+    }
</a><a href="#h1-0-2140" id="h1-0-2140" class="i">+
</a><a href="#h1-0-2141" id="h1-0-2141" class="i">+    cJSON_Delete(false_item);
</a><a href="#h1-0-2142" id="h1-0-2142" class="i">+    return NULL;
</a><a href="#h1-0-2143" id="h1-0-2143" class="i">+}
</a><a href="#h1-0-2144" id="h1-0-2144" class="i">+
</a><a href="#h1-0-2145" id="h1-0-2145" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddBoolToObject(cJSON * const object, const char * const name, const cJSON_bool boolean)
</a><a href="#h1-0-2146" id="h1-0-2146" class="i">+{
</a><a href="#h1-0-2147" id="h1-0-2147" class="i">+    cJSON *bool_item = cJSON_CreateBool(boolean);
</a><a href="#h1-0-2148" id="h1-0-2148" class="i">+    if (add_item_to_object(object, name, bool_item, &amp;global_hooks, false))
</a><a href="#h1-0-2149" id="h1-0-2149" class="i">+    {
</a><a href="#h1-0-2150" id="h1-0-2150" class="i">+        return bool_item;
</a><a href="#h1-0-2151" id="h1-0-2151" class="i">+    }
</a><a href="#h1-0-2152" id="h1-0-2152" class="i">+
</a><a href="#h1-0-2153" id="h1-0-2153" class="i">+    cJSON_Delete(bool_item);
</a><a href="#h1-0-2154" id="h1-0-2154" class="i">+    return NULL;
</a><a href="#h1-0-2155" id="h1-0-2155" class="i">+}
</a><a href="#h1-0-2156" id="h1-0-2156" class="i">+
</a><a href="#h1-0-2157" id="h1-0-2157" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNumberToObject(cJSON * const object, const char * const name, const double number)
</a><a href="#h1-0-2158" id="h1-0-2158" class="i">+{
</a><a href="#h1-0-2159" id="h1-0-2159" class="i">+    cJSON *number_item = cJSON_CreateNumber(number);
</a><a href="#h1-0-2160" id="h1-0-2160" class="i">+    if (add_item_to_object(object, name, number_item, &amp;global_hooks, false))
</a><a href="#h1-0-2161" id="h1-0-2161" class="i">+    {
</a><a href="#h1-0-2162" id="h1-0-2162" class="i">+        return number_item;
</a><a href="#h1-0-2163" id="h1-0-2163" class="i">+    }
</a><a href="#h1-0-2164" id="h1-0-2164" class="i">+
</a><a href="#h1-0-2165" id="h1-0-2165" class="i">+    cJSON_Delete(number_item);
</a><a href="#h1-0-2166" id="h1-0-2166" class="i">+    return NULL;
</a><a href="#h1-0-2167" id="h1-0-2167" class="i">+}
</a><a href="#h1-0-2168" id="h1-0-2168" class="i">+
</a><a href="#h1-0-2169" id="h1-0-2169" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddStringToObject(cJSON * const object, const char * const name, const char * const string)
</a><a href="#h1-0-2170" id="h1-0-2170" class="i">+{
</a><a href="#h1-0-2171" id="h1-0-2171" class="i">+    cJSON *string_item = cJSON_CreateString(string);
</a><a href="#h1-0-2172" id="h1-0-2172" class="i">+    if (add_item_to_object(object, name, string_item, &amp;global_hooks, false))
</a><a href="#h1-0-2173" id="h1-0-2173" class="i">+    {
</a><a href="#h1-0-2174" id="h1-0-2174" class="i">+        return string_item;
</a><a href="#h1-0-2175" id="h1-0-2175" class="i">+    }
</a><a href="#h1-0-2176" id="h1-0-2176" class="i">+
</a><a href="#h1-0-2177" id="h1-0-2177" class="i">+    cJSON_Delete(string_item);
</a><a href="#h1-0-2178" id="h1-0-2178" class="i">+    return NULL;
</a><a href="#h1-0-2179" id="h1-0-2179" class="i">+}
</a><a href="#h1-0-2180" id="h1-0-2180" class="i">+
</a><a href="#h1-0-2181" id="h1-0-2181" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddRawToObject(cJSON * const object, const char * const name, const char * const raw)
</a><a href="#h1-0-2182" id="h1-0-2182" class="i">+{
</a><a href="#h1-0-2183" id="h1-0-2183" class="i">+    cJSON *raw_item = cJSON_CreateRaw(raw);
</a><a href="#h1-0-2184" id="h1-0-2184" class="i">+    if (add_item_to_object(object, name, raw_item, &amp;global_hooks, false))
</a><a href="#h1-0-2185" id="h1-0-2185" class="i">+    {
</a><a href="#h1-0-2186" id="h1-0-2186" class="i">+        return raw_item;
</a><a href="#h1-0-2187" id="h1-0-2187" class="i">+    }
</a><a href="#h1-0-2188" id="h1-0-2188" class="i">+
</a><a href="#h1-0-2189" id="h1-0-2189" class="i">+    cJSON_Delete(raw_item);
</a><a href="#h1-0-2190" id="h1-0-2190" class="i">+    return NULL;
</a><a href="#h1-0-2191" id="h1-0-2191" class="i">+}
</a><a href="#h1-0-2192" id="h1-0-2192" class="i">+
</a><a href="#h1-0-2193" id="h1-0-2193" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddObjectToObject(cJSON * const object, const char * const name)
</a><a href="#h1-0-2194" id="h1-0-2194" class="i">+{
</a><a href="#h1-0-2195" id="h1-0-2195" class="i">+    cJSON *object_item = cJSON_CreateObject();
</a><a href="#h1-0-2196" id="h1-0-2196" class="i">+    if (add_item_to_object(object, name, object_item, &amp;global_hooks, false))
</a><a href="#h1-0-2197" id="h1-0-2197" class="i">+    {
</a><a href="#h1-0-2198" id="h1-0-2198" class="i">+        return object_item;
</a><a href="#h1-0-2199" id="h1-0-2199" class="i">+    }
</a><a href="#h1-0-2200" id="h1-0-2200" class="i">+
</a><a href="#h1-0-2201" id="h1-0-2201" class="i">+    cJSON_Delete(object_item);
</a><a href="#h1-0-2202" id="h1-0-2202" class="i">+    return NULL;
</a><a href="#h1-0-2203" id="h1-0-2203" class="i">+}
</a><a href="#h1-0-2204" id="h1-0-2204" class="i">+
</a><a href="#h1-0-2205" id="h1-0-2205" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddArrayToObject(cJSON * const object, const char * const name)
</a><a href="#h1-0-2206" id="h1-0-2206" class="i">+{
</a><a href="#h1-0-2207" id="h1-0-2207" class="i">+    cJSON *array = cJSON_CreateArray();
</a><a href="#h1-0-2208" id="h1-0-2208" class="i">+    if (add_item_to_object(object, name, array, &amp;global_hooks, false))
</a><a href="#h1-0-2209" id="h1-0-2209" class="i">+    {
</a><a href="#h1-0-2210" id="h1-0-2210" class="i">+        return array;
</a><a href="#h1-0-2211" id="h1-0-2211" class="i">+    }
</a><a href="#h1-0-2212" id="h1-0-2212" class="i">+
</a><a href="#h1-0-2213" id="h1-0-2213" class="i">+    cJSON_Delete(array);
</a><a href="#h1-0-2214" id="h1-0-2214" class="i">+    return NULL;
</a><a href="#h1-0-2215" id="h1-0-2215" class="i">+}
</a><a href="#h1-0-2216" id="h1-0-2216" class="i">+
</a><a href="#h1-0-2217" id="h1-0-2217" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemViaPointer(cJSON *parent, cJSON * const item)
</a><a href="#h1-0-2218" id="h1-0-2218" class="i">+{
</a><a href="#h1-0-2219" id="h1-0-2219" class="i">+    if ((parent == NULL) || (item == NULL) || (item != parent-&gt;child &amp;&amp; item-&gt;prev == NULL))
</a><a href="#h1-0-2220" id="h1-0-2220" class="i">+    {
</a><a href="#h1-0-2221" id="h1-0-2221" class="i">+        return NULL;
</a><a href="#h1-0-2222" id="h1-0-2222" class="i">+    }
</a><a href="#h1-0-2223" id="h1-0-2223" class="i">+
</a><a href="#h1-0-2224" id="h1-0-2224" class="i">+    if (item != parent-&gt;child)
</a><a href="#h1-0-2225" id="h1-0-2225" class="i">+    {
</a><a href="#h1-0-2226" id="h1-0-2226" class="i">+        /* not the first element */
</a><a href="#h1-0-2227" id="h1-0-2227" class="i">+        item-&gt;prev-&gt;next = item-&gt;next;
</a><a href="#h1-0-2228" id="h1-0-2228" class="i">+    }
</a><a href="#h1-0-2229" id="h1-0-2229" class="i">+    if (item-&gt;next != NULL)
</a><a href="#h1-0-2230" id="h1-0-2230" class="i">+    {
</a><a href="#h1-0-2231" id="h1-0-2231" class="i">+        /* not the last element */
</a><a href="#h1-0-2232" id="h1-0-2232" class="i">+        item-&gt;next-&gt;prev = item-&gt;prev;
</a><a href="#h1-0-2233" id="h1-0-2233" class="i">+    }
</a><a href="#h1-0-2234" id="h1-0-2234" class="i">+
</a><a href="#h1-0-2235" id="h1-0-2235" class="i">+    if (item == parent-&gt;child)
</a><a href="#h1-0-2236" id="h1-0-2236" class="i">+    {
</a><a href="#h1-0-2237" id="h1-0-2237" class="i">+        /* first element */
</a><a href="#h1-0-2238" id="h1-0-2238" class="i">+        parent-&gt;child = item-&gt;next;
</a><a href="#h1-0-2239" id="h1-0-2239" class="i">+    }
</a><a href="#h1-0-2240" id="h1-0-2240" class="i">+    else if (item-&gt;next == NULL)
</a><a href="#h1-0-2241" id="h1-0-2241" class="i">+    {
</a><a href="#h1-0-2242" id="h1-0-2242" class="i">+        /* last element */
</a><a href="#h1-0-2243" id="h1-0-2243" class="i">+        parent-&gt;child-&gt;prev = item-&gt;prev;
</a><a href="#h1-0-2244" id="h1-0-2244" class="i">+    }
</a><a href="#h1-0-2245" id="h1-0-2245" class="i">+
</a><a href="#h1-0-2246" id="h1-0-2246" class="i">+    /* make sure the detached item doesn&#39;t point anywhere anymore */
</a><a href="#h1-0-2247" id="h1-0-2247" class="i">+    item-&gt;prev = NULL;
</a><a href="#h1-0-2248" id="h1-0-2248" class="i">+    item-&gt;next = NULL;
</a><a href="#h1-0-2249" id="h1-0-2249" class="i">+
</a><a href="#h1-0-2250" id="h1-0-2250" class="i">+    return item;
</a><a href="#h1-0-2251" id="h1-0-2251" class="i">+}
</a><a href="#h1-0-2252" id="h1-0-2252" class="i">+
</a><a href="#h1-0-2253" id="h1-0-2253" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromArray(cJSON *array, int which)
</a><a href="#h1-0-2254" id="h1-0-2254" class="i">+{
</a><a href="#h1-0-2255" id="h1-0-2255" class="i">+    if (which &lt; 0)
</a><a href="#h1-0-2256" id="h1-0-2256" class="i">+    {
</a><a href="#h1-0-2257" id="h1-0-2257" class="i">+        return NULL;
</a><a href="#h1-0-2258" id="h1-0-2258" class="i">+    }
</a><a href="#h1-0-2259" id="h1-0-2259" class="i">+
</a><a href="#h1-0-2260" id="h1-0-2260" class="i">+    return cJSON_DetachItemViaPointer(array, get_array_item(array, (size_t)which));
</a><a href="#h1-0-2261" id="h1-0-2261" class="i">+}
</a><a href="#h1-0-2262" id="h1-0-2262" class="i">+
</a><a href="#h1-0-2263" id="h1-0-2263" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromArray(cJSON *array, int which)
</a><a href="#h1-0-2264" id="h1-0-2264" class="i">+{
</a><a href="#h1-0-2265" id="h1-0-2265" class="i">+    cJSON_Delete(cJSON_DetachItemFromArray(array, which));
</a><a href="#h1-0-2266" id="h1-0-2266" class="i">+}
</a><a href="#h1-0-2267" id="h1-0-2267" class="i">+
</a><a href="#h1-0-2268" id="h1-0-2268" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObject(cJSON *object, const char *string)
</a><a href="#h1-0-2269" id="h1-0-2269" class="i">+{
</a><a href="#h1-0-2270" id="h1-0-2270" class="i">+    cJSON *to_detach = cJSON_GetObjectItem(object, string);
</a><a href="#h1-0-2271" id="h1-0-2271" class="i">+
</a><a href="#h1-0-2272" id="h1-0-2272" class="i">+    return cJSON_DetachItemViaPointer(object, to_detach);
</a><a href="#h1-0-2273" id="h1-0-2273" class="i">+}
</a><a href="#h1-0-2274" id="h1-0-2274" class="i">+
</a><a href="#h1-0-2275" id="h1-0-2275" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObjectCaseSensitive(cJSON *object, const char *string)
</a><a href="#h1-0-2276" id="h1-0-2276" class="i">+{
</a><a href="#h1-0-2277" id="h1-0-2277" class="i">+    cJSON *to_detach = cJSON_GetObjectItemCaseSensitive(object, string);
</a><a href="#h1-0-2278" id="h1-0-2278" class="i">+
</a><a href="#h1-0-2279" id="h1-0-2279" class="i">+    return cJSON_DetachItemViaPointer(object, to_detach);
</a><a href="#h1-0-2280" id="h1-0-2280" class="i">+}
</a><a href="#h1-0-2281" id="h1-0-2281" class="i">+
</a><a href="#h1-0-2282" id="h1-0-2282" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObject(cJSON *object, const char *string)
</a><a href="#h1-0-2283" id="h1-0-2283" class="i">+{
</a><a href="#h1-0-2284" id="h1-0-2284" class="i">+    cJSON_Delete(cJSON_DetachItemFromObject(object, string));
</a><a href="#h1-0-2285" id="h1-0-2285" class="i">+}
</a><a href="#h1-0-2286" id="h1-0-2286" class="i">+
</a><a href="#h1-0-2287" id="h1-0-2287" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObjectCaseSensitive(cJSON *object, const char *string)
</a><a href="#h1-0-2288" id="h1-0-2288" class="i">+{
</a><a href="#h1-0-2289" id="h1-0-2289" class="i">+    cJSON_Delete(cJSON_DetachItemFromObjectCaseSensitive(object, string));
</a><a href="#h1-0-2290" id="h1-0-2290" class="i">+}
</a><a href="#h1-0-2291" id="h1-0-2291" class="i">+
</a><a href="#h1-0-2292" id="h1-0-2292" class="i">+/* Replace array/object items with new ones. */
</a><a href="#h1-0-2293" id="h1-0-2293" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_InsertItemInArray(cJSON *array, int which, cJSON *newitem)
</a><a href="#h1-0-2294" id="h1-0-2294" class="i">+{
</a><a href="#h1-0-2295" id="h1-0-2295" class="i">+    cJSON *after_inserted = NULL;
</a><a href="#h1-0-2296" id="h1-0-2296" class="i">+
</a><a href="#h1-0-2297" id="h1-0-2297" class="i">+    if (which &lt; 0 || newitem == NULL)
</a><a href="#h1-0-2298" id="h1-0-2298" class="i">+    {
</a><a href="#h1-0-2299" id="h1-0-2299" class="i">+        return false;
</a><a href="#h1-0-2300" id="h1-0-2300" class="i">+    }
</a><a href="#h1-0-2301" id="h1-0-2301" class="i">+
</a><a href="#h1-0-2302" id="h1-0-2302" class="i">+    after_inserted = get_array_item(array, (size_t)which);
</a><a href="#h1-0-2303" id="h1-0-2303" class="i">+    if (after_inserted == NULL)
</a><a href="#h1-0-2304" id="h1-0-2304" class="i">+    {
</a><a href="#h1-0-2305" id="h1-0-2305" class="i">+        return add_item_to_array(array, newitem);
</a><a href="#h1-0-2306" id="h1-0-2306" class="i">+    }
</a><a href="#h1-0-2307" id="h1-0-2307" class="i">+
</a><a href="#h1-0-2308" id="h1-0-2308" class="i">+    if (after_inserted != array-&gt;child &amp;&amp; after_inserted-&gt;prev == NULL) {
</a><a href="#h1-0-2309" id="h1-0-2309" class="i">+        /* return false if after_inserted is a corrupted array item */
</a><a href="#h1-0-2310" id="h1-0-2310" class="i">+        return false;
</a><a href="#h1-0-2311" id="h1-0-2311" class="i">+    }
</a><a href="#h1-0-2312" id="h1-0-2312" class="i">+
</a><a href="#h1-0-2313" id="h1-0-2313" class="i">+    newitem-&gt;next = after_inserted;
</a><a href="#h1-0-2314" id="h1-0-2314" class="i">+    newitem-&gt;prev = after_inserted-&gt;prev;
</a><a href="#h1-0-2315" id="h1-0-2315" class="i">+    after_inserted-&gt;prev = newitem;
</a><a href="#h1-0-2316" id="h1-0-2316" class="i">+    if (after_inserted == array-&gt;child)
</a><a href="#h1-0-2317" id="h1-0-2317" class="i">+    {
</a><a href="#h1-0-2318" id="h1-0-2318" class="i">+        array-&gt;child = newitem;
</a><a href="#h1-0-2319" id="h1-0-2319" class="i">+    }
</a><a href="#h1-0-2320" id="h1-0-2320" class="i">+    else
</a><a href="#h1-0-2321" id="h1-0-2321" class="i">+    {
</a><a href="#h1-0-2322" id="h1-0-2322" class="i">+        newitem-&gt;prev-&gt;next = newitem;
</a><a href="#h1-0-2323" id="h1-0-2323" class="i">+    }
</a><a href="#h1-0-2324" id="h1-0-2324" class="i">+    return true;
</a><a href="#h1-0-2325" id="h1-0-2325" class="i">+}
</a><a href="#h1-0-2326" id="h1-0-2326" class="i">+
</a><a href="#h1-0-2327" id="h1-0-2327" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemViaPointer(cJSON * const parent, cJSON * const item, cJSON * replacement)
</a><a href="#h1-0-2328" id="h1-0-2328" class="i">+{
</a><a href="#h1-0-2329" id="h1-0-2329" class="i">+    if ((parent == NULL) || (parent-&gt;child == NULL) || (replacement == NULL) || (item == NULL))
</a><a href="#h1-0-2330" id="h1-0-2330" class="i">+    {
</a><a href="#h1-0-2331" id="h1-0-2331" class="i">+        return false;
</a><a href="#h1-0-2332" id="h1-0-2332" class="i">+    }
</a><a href="#h1-0-2333" id="h1-0-2333" class="i">+
</a><a href="#h1-0-2334" id="h1-0-2334" class="i">+    if (replacement == item)
</a><a href="#h1-0-2335" id="h1-0-2335" class="i">+    {
</a><a href="#h1-0-2336" id="h1-0-2336" class="i">+        return true;
</a><a href="#h1-0-2337" id="h1-0-2337" class="i">+    }
</a><a href="#h1-0-2338" id="h1-0-2338" class="i">+
</a><a href="#h1-0-2339" id="h1-0-2339" class="i">+    replacement-&gt;next = item-&gt;next;
</a><a href="#h1-0-2340" id="h1-0-2340" class="i">+    replacement-&gt;prev = item-&gt;prev;
</a><a href="#h1-0-2341" id="h1-0-2341" class="i">+
</a><a href="#h1-0-2342" id="h1-0-2342" class="i">+    if (replacement-&gt;next != NULL)
</a><a href="#h1-0-2343" id="h1-0-2343" class="i">+    {
</a><a href="#h1-0-2344" id="h1-0-2344" class="i">+        replacement-&gt;next-&gt;prev = replacement;
</a><a href="#h1-0-2345" id="h1-0-2345" class="i">+    }
</a><a href="#h1-0-2346" id="h1-0-2346" class="i">+    if (parent-&gt;child == item)
</a><a href="#h1-0-2347" id="h1-0-2347" class="i">+    {
</a><a href="#h1-0-2348" id="h1-0-2348" class="i">+        if (parent-&gt;child-&gt;prev == parent-&gt;child)
</a><a href="#h1-0-2349" id="h1-0-2349" class="i">+        {
</a><a href="#h1-0-2350" id="h1-0-2350" class="i">+            replacement-&gt;prev = replacement;
</a><a href="#h1-0-2351" id="h1-0-2351" class="i">+        }
</a><a href="#h1-0-2352" id="h1-0-2352" class="i">+        parent-&gt;child = replacement;
</a><a href="#h1-0-2353" id="h1-0-2353" class="i">+    }
</a><a href="#h1-0-2354" id="h1-0-2354" class="i">+    else
</a><a href="#h1-0-2355" id="h1-0-2355" class="i">+    {   /*
</a><a href="#h1-0-2356" id="h1-0-2356" class="i">+         * To find the last item in array quickly, we use prev in array.
</a><a href="#h1-0-2357" id="h1-0-2357" class="i">+         * We can&#39;t modify the last item&#39;s next pointer where this item was the parent&#39;s child
</a><a href="#h1-0-2358" id="h1-0-2358" class="i">+         */
</a><a href="#h1-0-2359" id="h1-0-2359" class="i">+        if (replacement-&gt;prev != NULL)
</a><a href="#h1-0-2360" id="h1-0-2360" class="i">+        {
</a><a href="#h1-0-2361" id="h1-0-2361" class="i">+            replacement-&gt;prev-&gt;next = replacement;
</a><a href="#h1-0-2362" id="h1-0-2362" class="i">+        }
</a><a href="#h1-0-2363" id="h1-0-2363" class="i">+        if (replacement-&gt;next == NULL)
</a><a href="#h1-0-2364" id="h1-0-2364" class="i">+        {
</a><a href="#h1-0-2365" id="h1-0-2365" class="i">+            parent-&gt;child-&gt;prev = replacement;
</a><a href="#h1-0-2366" id="h1-0-2366" class="i">+        }
</a><a href="#h1-0-2367" id="h1-0-2367" class="i">+    }
</a><a href="#h1-0-2368" id="h1-0-2368" class="i">+
</a><a href="#h1-0-2369" id="h1-0-2369" class="i">+    item-&gt;next = NULL;
</a><a href="#h1-0-2370" id="h1-0-2370" class="i">+    item-&gt;prev = NULL;
</a><a href="#h1-0-2371" id="h1-0-2371" class="i">+    cJSON_Delete(item);
</a><a href="#h1-0-2372" id="h1-0-2372" class="i">+
</a><a href="#h1-0-2373" id="h1-0-2373" class="i">+    return true;
</a><a href="#h1-0-2374" id="h1-0-2374" class="i">+}
</a><a href="#h1-0-2375" id="h1-0-2375" class="i">+
</a><a href="#h1-0-2376" id="h1-0-2376" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInArray(cJSON *array, int which, cJSON *newitem)
</a><a href="#h1-0-2377" id="h1-0-2377" class="i">+{
</a><a href="#h1-0-2378" id="h1-0-2378" class="i">+    if (which &lt; 0)
</a><a href="#h1-0-2379" id="h1-0-2379" class="i">+    {
</a><a href="#h1-0-2380" id="h1-0-2380" class="i">+        return false;
</a><a href="#h1-0-2381" id="h1-0-2381" class="i">+    }
</a><a href="#h1-0-2382" id="h1-0-2382" class="i">+
</a><a href="#h1-0-2383" id="h1-0-2383" class="i">+    return cJSON_ReplaceItemViaPointer(array, get_array_item(array, (size_t)which), newitem);
</a><a href="#h1-0-2384" id="h1-0-2384" class="i">+}
</a><a href="#h1-0-2385" id="h1-0-2385" class="i">+
</a><a href="#h1-0-2386" id="h1-0-2386" class="i">+static cJSON_bool replace_item_in_object(cJSON *object, const char *string, cJSON *replacement, cJSON_bool case_sensitive)
</a><a href="#h1-0-2387" id="h1-0-2387" class="i">+{
</a><a href="#h1-0-2388" id="h1-0-2388" class="i">+    if ((replacement == NULL) || (string == NULL))
</a><a href="#h1-0-2389" id="h1-0-2389" class="i">+    {
</a><a href="#h1-0-2390" id="h1-0-2390" class="i">+        return false;
</a><a href="#h1-0-2391" id="h1-0-2391" class="i">+    }
</a><a href="#h1-0-2392" id="h1-0-2392" class="i">+
</a><a href="#h1-0-2393" id="h1-0-2393" class="i">+    /* replace the name in the replacement */
</a><a href="#h1-0-2394" id="h1-0-2394" class="i">+    if (!(replacement-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (replacement-&gt;string != NULL))
</a><a href="#h1-0-2395" id="h1-0-2395" class="i">+    {
</a><a href="#h1-0-2396" id="h1-0-2396" class="i">+        cJSON_free(replacement-&gt;string);
</a><a href="#h1-0-2397" id="h1-0-2397" class="i">+    }
</a><a href="#h1-0-2398" id="h1-0-2398" class="i">+    replacement-&gt;string = (char*)cJSON_strdup((const unsigned char*)string, &amp;global_hooks);
</a><a href="#h1-0-2399" id="h1-0-2399" class="i">+    if (replacement-&gt;string == NULL)
</a><a href="#h1-0-2400" id="h1-0-2400" class="i">+    {
</a><a href="#h1-0-2401" id="h1-0-2401" class="i">+        return false;
</a><a href="#h1-0-2402" id="h1-0-2402" class="i">+    }
</a><a href="#h1-0-2403" id="h1-0-2403" class="i">+
</a><a href="#h1-0-2404" id="h1-0-2404" class="i">+    replacement-&gt;type &amp;= ~cJSON_StringIsConst;
</a><a href="#h1-0-2405" id="h1-0-2405" class="i">+
</a><a href="#h1-0-2406" id="h1-0-2406" class="i">+    return cJSON_ReplaceItemViaPointer(object, get_object_item(object, string, case_sensitive), replacement);
</a><a href="#h1-0-2407" id="h1-0-2407" class="i">+}
</a><a href="#h1-0-2408" id="h1-0-2408" class="i">+
</a><a href="#h1-0-2409" id="h1-0-2409" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObject(cJSON *object, const char *string, cJSON *newitem)
</a><a href="#h1-0-2410" id="h1-0-2410" class="i">+{
</a><a href="#h1-0-2411" id="h1-0-2411" class="i">+    return replace_item_in_object(object, string, newitem, false);
</a><a href="#h1-0-2412" id="h1-0-2412" class="i">+}
</a><a href="#h1-0-2413" id="h1-0-2413" class="i">+
</a><a href="#h1-0-2414" id="h1-0-2414" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObjectCaseSensitive(cJSON *object, const char *string, cJSON *newitem)
</a><a href="#h1-0-2415" id="h1-0-2415" class="i">+{
</a><a href="#h1-0-2416" id="h1-0-2416" class="i">+    return replace_item_in_object(object, string, newitem, true);
</a><a href="#h1-0-2417" id="h1-0-2417" class="i">+}
</a><a href="#h1-0-2418" id="h1-0-2418" class="i">+
</a><a href="#h1-0-2419" id="h1-0-2419" class="i">+/* Create basic types: */
</a><a href="#h1-0-2420" id="h1-0-2420" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNull(void)
</a><a href="#h1-0-2421" id="h1-0-2421" class="i">+{
</a><a href="#h1-0-2422" id="h1-0-2422" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2423" id="h1-0-2423" class="i">+    if(item)
</a><a href="#h1-0-2424" id="h1-0-2424" class="i">+    {
</a><a href="#h1-0-2425" id="h1-0-2425" class="i">+        item-&gt;type = cJSON_NULL;
</a><a href="#h1-0-2426" id="h1-0-2426" class="i">+    }
</a><a href="#h1-0-2427" id="h1-0-2427" class="i">+
</a><a href="#h1-0-2428" id="h1-0-2428" class="i">+    return item;
</a><a href="#h1-0-2429" id="h1-0-2429" class="i">+}
</a><a href="#h1-0-2430" id="h1-0-2430" class="i">+
</a><a href="#h1-0-2431" id="h1-0-2431" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateTrue(void)
</a><a href="#h1-0-2432" id="h1-0-2432" class="i">+{
</a><a href="#h1-0-2433" id="h1-0-2433" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2434" id="h1-0-2434" class="i">+    if(item)
</a><a href="#h1-0-2435" id="h1-0-2435" class="i">+    {
</a><a href="#h1-0-2436" id="h1-0-2436" class="i">+        item-&gt;type = cJSON_True;
</a><a href="#h1-0-2437" id="h1-0-2437" class="i">+    }
</a><a href="#h1-0-2438" id="h1-0-2438" class="i">+
</a><a href="#h1-0-2439" id="h1-0-2439" class="i">+    return item;
</a><a href="#h1-0-2440" id="h1-0-2440" class="i">+}
</a><a href="#h1-0-2441" id="h1-0-2441" class="i">+
</a><a href="#h1-0-2442" id="h1-0-2442" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFalse(void)
</a><a href="#h1-0-2443" id="h1-0-2443" class="i">+{
</a><a href="#h1-0-2444" id="h1-0-2444" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2445" id="h1-0-2445" class="i">+    if(item)
</a><a href="#h1-0-2446" id="h1-0-2446" class="i">+    {
</a><a href="#h1-0-2447" id="h1-0-2447" class="i">+        item-&gt;type = cJSON_False;
</a><a href="#h1-0-2448" id="h1-0-2448" class="i">+    }
</a><a href="#h1-0-2449" id="h1-0-2449" class="i">+
</a><a href="#h1-0-2450" id="h1-0-2450" class="i">+    return item;
</a><a href="#h1-0-2451" id="h1-0-2451" class="i">+}
</a><a href="#h1-0-2452" id="h1-0-2452" class="i">+
</a><a href="#h1-0-2453" id="h1-0-2453" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateBool(cJSON_bool boolean)
</a><a href="#h1-0-2454" id="h1-0-2454" class="i">+{
</a><a href="#h1-0-2455" id="h1-0-2455" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2456" id="h1-0-2456" class="i">+    if(item)
</a><a href="#h1-0-2457" id="h1-0-2457" class="i">+    {
</a><a href="#h1-0-2458" id="h1-0-2458" class="i">+        item-&gt;type = boolean ? cJSON_True : cJSON_False;
</a><a href="#h1-0-2459" id="h1-0-2459" class="i">+    }
</a><a href="#h1-0-2460" id="h1-0-2460" class="i">+
</a><a href="#h1-0-2461" id="h1-0-2461" class="i">+    return item;
</a><a href="#h1-0-2462" id="h1-0-2462" class="i">+}
</a><a href="#h1-0-2463" id="h1-0-2463" class="i">+
</a><a href="#h1-0-2464" id="h1-0-2464" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNumber(double num)
</a><a href="#h1-0-2465" id="h1-0-2465" class="i">+{
</a><a href="#h1-0-2466" id="h1-0-2466" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2467" id="h1-0-2467" class="i">+    if(item)
</a><a href="#h1-0-2468" id="h1-0-2468" class="i">+    {
</a><a href="#h1-0-2469" id="h1-0-2469" class="i">+        item-&gt;type = cJSON_Number;
</a><a href="#h1-0-2470" id="h1-0-2470" class="i">+        item-&gt;valuedouble = num;
</a><a href="#h1-0-2471" id="h1-0-2471" class="i">+
</a><a href="#h1-0-2472" id="h1-0-2472" class="i">+        /* use saturation in case of overflow */
</a><a href="#h1-0-2473" id="h1-0-2473" class="i">+        if (num &gt;= INT_MAX)
</a><a href="#h1-0-2474" id="h1-0-2474" class="i">+        {
</a><a href="#h1-0-2475" id="h1-0-2475" class="i">+            item-&gt;valueint = INT_MAX;
</a><a href="#h1-0-2476" id="h1-0-2476" class="i">+        }
</a><a href="#h1-0-2477" id="h1-0-2477" class="i">+        else if (num &lt;= (double)INT_MIN)
</a><a href="#h1-0-2478" id="h1-0-2478" class="i">+        {
</a><a href="#h1-0-2479" id="h1-0-2479" class="i">+            item-&gt;valueint = INT_MIN;
</a><a href="#h1-0-2480" id="h1-0-2480" class="i">+        }
</a><a href="#h1-0-2481" id="h1-0-2481" class="i">+        else
</a><a href="#h1-0-2482" id="h1-0-2482" class="i">+        {
</a><a href="#h1-0-2483" id="h1-0-2483" class="i">+            item-&gt;valueint = (int)num;
</a><a href="#h1-0-2484" id="h1-0-2484" class="i">+        }
</a><a href="#h1-0-2485" id="h1-0-2485" class="i">+    }
</a><a href="#h1-0-2486" id="h1-0-2486" class="i">+
</a><a href="#h1-0-2487" id="h1-0-2487" class="i">+    return item;
</a><a href="#h1-0-2488" id="h1-0-2488" class="i">+}
</a><a href="#h1-0-2489" id="h1-0-2489" class="i">+
</a><a href="#h1-0-2490" id="h1-0-2490" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateString(const char *string)
</a><a href="#h1-0-2491" id="h1-0-2491" class="i">+{
</a><a href="#h1-0-2492" id="h1-0-2492" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2493" id="h1-0-2493" class="i">+    if(item)
</a><a href="#h1-0-2494" id="h1-0-2494" class="i">+    {
</a><a href="#h1-0-2495" id="h1-0-2495" class="i">+        item-&gt;type = cJSON_String;
</a><a href="#h1-0-2496" id="h1-0-2496" class="i">+        item-&gt;valuestring = (char*)cJSON_strdup((const unsigned char*)string, &amp;global_hooks);
</a><a href="#h1-0-2497" id="h1-0-2497" class="i">+        if(!item-&gt;valuestring)
</a><a href="#h1-0-2498" id="h1-0-2498" class="i">+        {
</a><a href="#h1-0-2499" id="h1-0-2499" class="i">+            cJSON_Delete(item);
</a><a href="#h1-0-2500" id="h1-0-2500" class="i">+            return NULL;
</a><a href="#h1-0-2501" id="h1-0-2501" class="i">+        }
</a><a href="#h1-0-2502" id="h1-0-2502" class="i">+    }
</a><a href="#h1-0-2503" id="h1-0-2503" class="i">+
</a><a href="#h1-0-2504" id="h1-0-2504" class="i">+    return item;
</a><a href="#h1-0-2505" id="h1-0-2505" class="i">+}
</a><a href="#h1-0-2506" id="h1-0-2506" class="i">+
</a><a href="#h1-0-2507" id="h1-0-2507" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringReference(const char *string)
</a><a href="#h1-0-2508" id="h1-0-2508" class="i">+{
</a><a href="#h1-0-2509" id="h1-0-2509" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2510" id="h1-0-2510" class="i">+    if (item != NULL)
</a><a href="#h1-0-2511" id="h1-0-2511" class="i">+    {
</a><a href="#h1-0-2512" id="h1-0-2512" class="i">+        item-&gt;type = cJSON_String | cJSON_IsReference;
</a><a href="#h1-0-2513" id="h1-0-2513" class="i">+        item-&gt;valuestring = (char*)cast_away_const(string);
</a><a href="#h1-0-2514" id="h1-0-2514" class="i">+    }
</a><a href="#h1-0-2515" id="h1-0-2515" class="i">+
</a><a href="#h1-0-2516" id="h1-0-2516" class="i">+    return item;
</a><a href="#h1-0-2517" id="h1-0-2517" class="i">+}
</a><a href="#h1-0-2518" id="h1-0-2518" class="i">+
</a><a href="#h1-0-2519" id="h1-0-2519" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObjectReference(const cJSON *child)
</a><a href="#h1-0-2520" id="h1-0-2520" class="i">+{
</a><a href="#h1-0-2521" id="h1-0-2521" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2522" id="h1-0-2522" class="i">+    if (item != NULL) {
</a><a href="#h1-0-2523" id="h1-0-2523" class="i">+        item-&gt;type = cJSON_Object | cJSON_IsReference;
</a><a href="#h1-0-2524" id="h1-0-2524" class="i">+        item-&gt;child = (cJSON*)cast_away_const(child);
</a><a href="#h1-0-2525" id="h1-0-2525" class="i">+    }
</a><a href="#h1-0-2526" id="h1-0-2526" class="i">+
</a><a href="#h1-0-2527" id="h1-0-2527" class="i">+    return item;
</a><a href="#h1-0-2528" id="h1-0-2528" class="i">+}
</a><a href="#h1-0-2529" id="h1-0-2529" class="i">+
</a><a href="#h1-0-2530" id="h1-0-2530" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArrayReference(const cJSON *child) {
</a><a href="#h1-0-2531" id="h1-0-2531" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2532" id="h1-0-2532" class="i">+    if (item != NULL) {
</a><a href="#h1-0-2533" id="h1-0-2533" class="i">+        item-&gt;type = cJSON_Array | cJSON_IsReference;
</a><a href="#h1-0-2534" id="h1-0-2534" class="i">+        item-&gt;child = (cJSON*)cast_away_const(child);
</a><a href="#h1-0-2535" id="h1-0-2535" class="i">+    }
</a><a href="#h1-0-2536" id="h1-0-2536" class="i">+
</a><a href="#h1-0-2537" id="h1-0-2537" class="i">+    return item;
</a><a href="#h1-0-2538" id="h1-0-2538" class="i">+}
</a><a href="#h1-0-2539" id="h1-0-2539" class="i">+
</a><a href="#h1-0-2540" id="h1-0-2540" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateRaw(const char *raw)
</a><a href="#h1-0-2541" id="h1-0-2541" class="i">+{
</a><a href="#h1-0-2542" id="h1-0-2542" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2543" id="h1-0-2543" class="i">+    if(item)
</a><a href="#h1-0-2544" id="h1-0-2544" class="i">+    {
</a><a href="#h1-0-2545" id="h1-0-2545" class="i">+        item-&gt;type = cJSON_Raw;
</a><a href="#h1-0-2546" id="h1-0-2546" class="i">+        item-&gt;valuestring = (char*)cJSON_strdup((const unsigned char*)raw, &amp;global_hooks);
</a><a href="#h1-0-2547" id="h1-0-2547" class="i">+        if(!item-&gt;valuestring)
</a><a href="#h1-0-2548" id="h1-0-2548" class="i">+        {
</a><a href="#h1-0-2549" id="h1-0-2549" class="i">+            cJSON_Delete(item);
</a><a href="#h1-0-2550" id="h1-0-2550" class="i">+            return NULL;
</a><a href="#h1-0-2551" id="h1-0-2551" class="i">+        }
</a><a href="#h1-0-2552" id="h1-0-2552" class="i">+    }
</a><a href="#h1-0-2553" id="h1-0-2553" class="i">+
</a><a href="#h1-0-2554" id="h1-0-2554" class="i">+    return item;
</a><a href="#h1-0-2555" id="h1-0-2555" class="i">+}
</a><a href="#h1-0-2556" id="h1-0-2556" class="i">+
</a><a href="#h1-0-2557" id="h1-0-2557" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArray(void)
</a><a href="#h1-0-2558" id="h1-0-2558" class="i">+{
</a><a href="#h1-0-2559" id="h1-0-2559" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2560" id="h1-0-2560" class="i">+    if(item)
</a><a href="#h1-0-2561" id="h1-0-2561" class="i">+    {
</a><a href="#h1-0-2562" id="h1-0-2562" class="i">+        item-&gt;type=cJSON_Array;
</a><a href="#h1-0-2563" id="h1-0-2563" class="i">+    }
</a><a href="#h1-0-2564" id="h1-0-2564" class="i">+
</a><a href="#h1-0-2565" id="h1-0-2565" class="i">+    return item;
</a><a href="#h1-0-2566" id="h1-0-2566" class="i">+}
</a><a href="#h1-0-2567" id="h1-0-2567" class="i">+
</a><a href="#h1-0-2568" id="h1-0-2568" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObject(void)
</a><a href="#h1-0-2569" id="h1-0-2569" class="i">+{
</a><a href="#h1-0-2570" id="h1-0-2570" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2571" id="h1-0-2571" class="i">+    if (item)
</a><a href="#h1-0-2572" id="h1-0-2572" class="i">+    {
</a><a href="#h1-0-2573" id="h1-0-2573" class="i">+        item-&gt;type = cJSON_Object;
</a><a href="#h1-0-2574" id="h1-0-2574" class="i">+    }
</a><a href="#h1-0-2575" id="h1-0-2575" class="i">+
</a><a href="#h1-0-2576" id="h1-0-2576" class="i">+    return item;
</a><a href="#h1-0-2577" id="h1-0-2577" class="i">+}
</a><a href="#h1-0-2578" id="h1-0-2578" class="i">+
</a><a href="#h1-0-2579" id="h1-0-2579" class="i">+/* Create Arrays: */
</a><a href="#h1-0-2580" id="h1-0-2580" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateIntArray(const int *numbers, int count)
</a><a href="#h1-0-2581" id="h1-0-2581" class="i">+{
</a><a href="#h1-0-2582" id="h1-0-2582" class="i">+    size_t i = 0;
</a><a href="#h1-0-2583" id="h1-0-2583" class="i">+    cJSON *n = NULL;
</a><a href="#h1-0-2584" id="h1-0-2584" class="i">+    cJSON *p = NULL;
</a><a href="#h1-0-2585" id="h1-0-2585" class="i">+    cJSON *a = NULL;
</a><a href="#h1-0-2586" id="h1-0-2586" class="i">+
</a><a href="#h1-0-2587" id="h1-0-2587" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h1-0-2588" id="h1-0-2588" class="i">+    {
</a><a href="#h1-0-2589" id="h1-0-2589" class="i">+        return NULL;
</a><a href="#h1-0-2590" id="h1-0-2590" class="i">+    }
</a><a href="#h1-0-2591" id="h1-0-2591" class="i">+
</a><a href="#h1-0-2592" id="h1-0-2592" class="i">+    a = cJSON_CreateArray();
</a><a href="#h1-0-2593" id="h1-0-2593" class="i">+
</a><a href="#h1-0-2594" id="h1-0-2594" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h1-0-2595" id="h1-0-2595" class="i">+    {
</a><a href="#h1-0-2596" id="h1-0-2596" class="i">+        n = cJSON_CreateNumber(numbers[i]);
</a><a href="#h1-0-2597" id="h1-0-2597" class="i">+        if (!n)
</a><a href="#h1-0-2598" id="h1-0-2598" class="i">+        {
</a><a href="#h1-0-2599" id="h1-0-2599" class="i">+            cJSON_Delete(a);
</a><a href="#h1-0-2600" id="h1-0-2600" class="i">+            return NULL;
</a><a href="#h1-0-2601" id="h1-0-2601" class="i">+        }
</a><a href="#h1-0-2602" id="h1-0-2602" class="i">+        if(!i)
</a><a href="#h1-0-2603" id="h1-0-2603" class="i">+        {
</a><a href="#h1-0-2604" id="h1-0-2604" class="i">+            a-&gt;child = n;
</a><a href="#h1-0-2605" id="h1-0-2605" class="i">+        }
</a><a href="#h1-0-2606" id="h1-0-2606" class="i">+        else
</a><a href="#h1-0-2607" id="h1-0-2607" class="i">+        {
</a><a href="#h1-0-2608" id="h1-0-2608" class="i">+            suffix_object(p, n);
</a><a href="#h1-0-2609" id="h1-0-2609" class="i">+        }
</a><a href="#h1-0-2610" id="h1-0-2610" class="i">+        p = n;
</a><a href="#h1-0-2611" id="h1-0-2611" class="i">+    }
</a><a href="#h1-0-2612" id="h1-0-2612" class="i">+
</a><a href="#h1-0-2613" id="h1-0-2613" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h1-0-2614" id="h1-0-2614" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h1-0-2615" id="h1-0-2615" class="i">+    }
</a><a href="#h1-0-2616" id="h1-0-2616" class="i">+
</a><a href="#h1-0-2617" id="h1-0-2617" class="i">+    return a;
</a><a href="#h1-0-2618" id="h1-0-2618" class="i">+}
</a><a href="#h1-0-2619" id="h1-0-2619" class="i">+
</a><a href="#h1-0-2620" id="h1-0-2620" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFloatArray(const float *numbers, int count)
</a><a href="#h1-0-2621" id="h1-0-2621" class="i">+{
</a><a href="#h1-0-2622" id="h1-0-2622" class="i">+    size_t i = 0;
</a><a href="#h1-0-2623" id="h1-0-2623" class="i">+    cJSON *n = NULL;
</a><a href="#h1-0-2624" id="h1-0-2624" class="i">+    cJSON *p = NULL;
</a><a href="#h1-0-2625" id="h1-0-2625" class="i">+    cJSON *a = NULL;
</a><a href="#h1-0-2626" id="h1-0-2626" class="i">+
</a><a href="#h1-0-2627" id="h1-0-2627" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h1-0-2628" id="h1-0-2628" class="i">+    {
</a><a href="#h1-0-2629" id="h1-0-2629" class="i">+        return NULL;
</a><a href="#h1-0-2630" id="h1-0-2630" class="i">+    }
</a><a href="#h1-0-2631" id="h1-0-2631" class="i">+
</a><a href="#h1-0-2632" id="h1-0-2632" class="i">+    a = cJSON_CreateArray();
</a><a href="#h1-0-2633" id="h1-0-2633" class="i">+
</a><a href="#h1-0-2634" id="h1-0-2634" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h1-0-2635" id="h1-0-2635" class="i">+    {
</a><a href="#h1-0-2636" id="h1-0-2636" class="i">+        n = cJSON_CreateNumber((double)numbers[i]);
</a><a href="#h1-0-2637" id="h1-0-2637" class="i">+        if(!n)
</a><a href="#h1-0-2638" id="h1-0-2638" class="i">+        {
</a><a href="#h1-0-2639" id="h1-0-2639" class="i">+            cJSON_Delete(a);
</a><a href="#h1-0-2640" id="h1-0-2640" class="i">+            return NULL;
</a><a href="#h1-0-2641" id="h1-0-2641" class="i">+        }
</a><a href="#h1-0-2642" id="h1-0-2642" class="i">+        if(!i)
</a><a href="#h1-0-2643" id="h1-0-2643" class="i">+        {
</a><a href="#h1-0-2644" id="h1-0-2644" class="i">+            a-&gt;child = n;
</a><a href="#h1-0-2645" id="h1-0-2645" class="i">+        }
</a><a href="#h1-0-2646" id="h1-0-2646" class="i">+        else
</a><a href="#h1-0-2647" id="h1-0-2647" class="i">+        {
</a><a href="#h1-0-2648" id="h1-0-2648" class="i">+            suffix_object(p, n);
</a><a href="#h1-0-2649" id="h1-0-2649" class="i">+        }
</a><a href="#h1-0-2650" id="h1-0-2650" class="i">+        p = n;
</a><a href="#h1-0-2651" id="h1-0-2651" class="i">+    }
</a><a href="#h1-0-2652" id="h1-0-2652" class="i">+
</a><a href="#h1-0-2653" id="h1-0-2653" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h1-0-2654" id="h1-0-2654" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h1-0-2655" id="h1-0-2655" class="i">+    }
</a><a href="#h1-0-2656" id="h1-0-2656" class="i">+
</a><a href="#h1-0-2657" id="h1-0-2657" class="i">+    return a;
</a><a href="#h1-0-2658" id="h1-0-2658" class="i">+}
</a><a href="#h1-0-2659" id="h1-0-2659" class="i">+
</a><a href="#h1-0-2660" id="h1-0-2660" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateDoubleArray(const double *numbers, int count)
</a><a href="#h1-0-2661" id="h1-0-2661" class="i">+{
</a><a href="#h1-0-2662" id="h1-0-2662" class="i">+    size_t i = 0;
</a><a href="#h1-0-2663" id="h1-0-2663" class="i">+    cJSON *n = NULL;
</a><a href="#h1-0-2664" id="h1-0-2664" class="i">+    cJSON *p = NULL;
</a><a href="#h1-0-2665" id="h1-0-2665" class="i">+    cJSON *a = NULL;
</a><a href="#h1-0-2666" id="h1-0-2666" class="i">+
</a><a href="#h1-0-2667" id="h1-0-2667" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h1-0-2668" id="h1-0-2668" class="i">+    {
</a><a href="#h1-0-2669" id="h1-0-2669" class="i">+        return NULL;
</a><a href="#h1-0-2670" id="h1-0-2670" class="i">+    }
</a><a href="#h1-0-2671" id="h1-0-2671" class="i">+
</a><a href="#h1-0-2672" id="h1-0-2672" class="i">+    a = cJSON_CreateArray();
</a><a href="#h1-0-2673" id="h1-0-2673" class="i">+
</a><a href="#h1-0-2674" id="h1-0-2674" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h1-0-2675" id="h1-0-2675" class="i">+    {
</a><a href="#h1-0-2676" id="h1-0-2676" class="i">+        n = cJSON_CreateNumber(numbers[i]);
</a><a href="#h1-0-2677" id="h1-0-2677" class="i">+        if(!n)
</a><a href="#h1-0-2678" id="h1-0-2678" class="i">+        {
</a><a href="#h1-0-2679" id="h1-0-2679" class="i">+            cJSON_Delete(a);
</a><a href="#h1-0-2680" id="h1-0-2680" class="i">+            return NULL;
</a><a href="#h1-0-2681" id="h1-0-2681" class="i">+        }
</a><a href="#h1-0-2682" id="h1-0-2682" class="i">+        if(!i)
</a><a href="#h1-0-2683" id="h1-0-2683" class="i">+        {
</a><a href="#h1-0-2684" id="h1-0-2684" class="i">+            a-&gt;child = n;
</a><a href="#h1-0-2685" id="h1-0-2685" class="i">+        }
</a><a href="#h1-0-2686" id="h1-0-2686" class="i">+        else
</a><a href="#h1-0-2687" id="h1-0-2687" class="i">+        {
</a><a href="#h1-0-2688" id="h1-0-2688" class="i">+            suffix_object(p, n);
</a><a href="#h1-0-2689" id="h1-0-2689" class="i">+        }
</a><a href="#h1-0-2690" id="h1-0-2690" class="i">+        p = n;
</a><a href="#h1-0-2691" id="h1-0-2691" class="i">+    }
</a><a href="#h1-0-2692" id="h1-0-2692" class="i">+
</a><a href="#h1-0-2693" id="h1-0-2693" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h1-0-2694" id="h1-0-2694" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h1-0-2695" id="h1-0-2695" class="i">+    }
</a><a href="#h1-0-2696" id="h1-0-2696" class="i">+
</a><a href="#h1-0-2697" id="h1-0-2697" class="i">+    return a;
</a><a href="#h1-0-2698" id="h1-0-2698" class="i">+}
</a><a href="#h1-0-2699" id="h1-0-2699" class="i">+
</a><a href="#h1-0-2700" id="h1-0-2700" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringArray(const char *const *strings, int count)
</a><a href="#h1-0-2701" id="h1-0-2701" class="i">+{
</a><a href="#h1-0-2702" id="h1-0-2702" class="i">+    size_t i = 0;
</a><a href="#h1-0-2703" id="h1-0-2703" class="i">+    cJSON *n = NULL;
</a><a href="#h1-0-2704" id="h1-0-2704" class="i">+    cJSON *p = NULL;
</a><a href="#h1-0-2705" id="h1-0-2705" class="i">+    cJSON *a = NULL;
</a><a href="#h1-0-2706" id="h1-0-2706" class="i">+
</a><a href="#h1-0-2707" id="h1-0-2707" class="i">+    if ((count &lt; 0) || (strings == NULL))
</a><a href="#h1-0-2708" id="h1-0-2708" class="i">+    {
</a><a href="#h1-0-2709" id="h1-0-2709" class="i">+        return NULL;
</a><a href="#h1-0-2710" id="h1-0-2710" class="i">+    }
</a><a href="#h1-0-2711" id="h1-0-2711" class="i">+
</a><a href="#h1-0-2712" id="h1-0-2712" class="i">+    a = cJSON_CreateArray();
</a><a href="#h1-0-2713" id="h1-0-2713" class="i">+
</a><a href="#h1-0-2714" id="h1-0-2714" class="i">+    for (i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h1-0-2715" id="h1-0-2715" class="i">+    {
</a><a href="#h1-0-2716" id="h1-0-2716" class="i">+        n = cJSON_CreateString(strings[i]);
</a><a href="#h1-0-2717" id="h1-0-2717" class="i">+        if(!n)
</a><a href="#h1-0-2718" id="h1-0-2718" class="i">+        {
</a><a href="#h1-0-2719" id="h1-0-2719" class="i">+            cJSON_Delete(a);
</a><a href="#h1-0-2720" id="h1-0-2720" class="i">+            return NULL;
</a><a href="#h1-0-2721" id="h1-0-2721" class="i">+        }
</a><a href="#h1-0-2722" id="h1-0-2722" class="i">+        if(!i)
</a><a href="#h1-0-2723" id="h1-0-2723" class="i">+        {
</a><a href="#h1-0-2724" id="h1-0-2724" class="i">+            a-&gt;child = n;
</a><a href="#h1-0-2725" id="h1-0-2725" class="i">+        }
</a><a href="#h1-0-2726" id="h1-0-2726" class="i">+        else
</a><a href="#h1-0-2727" id="h1-0-2727" class="i">+        {
</a><a href="#h1-0-2728" id="h1-0-2728" class="i">+            suffix_object(p,n);
</a><a href="#h1-0-2729" id="h1-0-2729" class="i">+        }
</a><a href="#h1-0-2730" id="h1-0-2730" class="i">+        p = n;
</a><a href="#h1-0-2731" id="h1-0-2731" class="i">+    }
</a><a href="#h1-0-2732" id="h1-0-2732" class="i">+
</a><a href="#h1-0-2733" id="h1-0-2733" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h1-0-2734" id="h1-0-2734" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h1-0-2735" id="h1-0-2735" class="i">+    }
</a><a href="#h1-0-2736" id="h1-0-2736" class="i">+
</a><a href="#h1-0-2737" id="h1-0-2737" class="i">+    return a;
</a><a href="#h1-0-2738" id="h1-0-2738" class="i">+}
</a><a href="#h1-0-2739" id="h1-0-2739" class="i">+
</a><a href="#h1-0-2740" id="h1-0-2740" class="i">+/* Duplication */
</a><a href="#h1-0-2741" id="h1-0-2741" class="i">+cJSON * cJSON_Duplicate_rec(const cJSON *item, size_t depth, cJSON_bool recurse);
</a><a href="#h1-0-2742" id="h1-0-2742" class="i">+
</a><a href="#h1-0-2743" id="h1-0-2743" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Duplicate(const cJSON *item, cJSON_bool recurse)
</a><a href="#h1-0-2744" id="h1-0-2744" class="i">+{
</a><a href="#h1-0-2745" id="h1-0-2745" class="i">+    return cJSON_Duplicate_rec(item, 0, recurse );
</a><a href="#h1-0-2746" id="h1-0-2746" class="i">+}
</a><a href="#h1-0-2747" id="h1-0-2747" class="i">+
</a><a href="#h1-0-2748" id="h1-0-2748" class="i">+cJSON * cJSON_Duplicate_rec(const cJSON *item, size_t depth, cJSON_bool recurse)
</a><a href="#h1-0-2749" id="h1-0-2749" class="i">+{
</a><a href="#h1-0-2750" id="h1-0-2750" class="i">+    cJSON *newitem = NULL;
</a><a href="#h1-0-2751" id="h1-0-2751" class="i">+    cJSON *child = NULL;
</a><a href="#h1-0-2752" id="h1-0-2752" class="i">+    cJSON *next = NULL;
</a><a href="#h1-0-2753" id="h1-0-2753" class="i">+    cJSON *newchild = NULL;
</a><a href="#h1-0-2754" id="h1-0-2754" class="i">+
</a><a href="#h1-0-2755" id="h1-0-2755" class="i">+    /* Bail on bad ptr */
</a><a href="#h1-0-2756" id="h1-0-2756" class="i">+    if (!item)
</a><a href="#h1-0-2757" id="h1-0-2757" class="i">+    {
</a><a href="#h1-0-2758" id="h1-0-2758" class="i">+        goto fail;
</a><a href="#h1-0-2759" id="h1-0-2759" class="i">+    }
</a><a href="#h1-0-2760" id="h1-0-2760" class="i">+    /* Create new item */
</a><a href="#h1-0-2761" id="h1-0-2761" class="i">+    newitem = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h1-0-2762" id="h1-0-2762" class="i">+    if (!newitem)
</a><a href="#h1-0-2763" id="h1-0-2763" class="i">+    {
</a><a href="#h1-0-2764" id="h1-0-2764" class="i">+        goto fail;
</a><a href="#h1-0-2765" id="h1-0-2765" class="i">+    }
</a><a href="#h1-0-2766" id="h1-0-2766" class="i">+    /* Copy over all vars */
</a><a href="#h1-0-2767" id="h1-0-2767" class="i">+    newitem-&gt;type = item-&gt;type &amp; (~cJSON_IsReference);
</a><a href="#h1-0-2768" id="h1-0-2768" class="i">+    newitem-&gt;valueint = item-&gt;valueint;
</a><a href="#h1-0-2769" id="h1-0-2769" class="i">+    newitem-&gt;valuedouble = item-&gt;valuedouble;
</a><a href="#h1-0-2770" id="h1-0-2770" class="i">+    if (item-&gt;valuestring)
</a><a href="#h1-0-2771" id="h1-0-2771" class="i">+    {
</a><a href="#h1-0-2772" id="h1-0-2772" class="i">+        newitem-&gt;valuestring = (char*)cJSON_strdup((unsigned char*)item-&gt;valuestring, &amp;global_hooks);
</a><a href="#h1-0-2773" id="h1-0-2773" class="i">+        if (!newitem-&gt;valuestring)
</a><a href="#h1-0-2774" id="h1-0-2774" class="i">+        {
</a><a href="#h1-0-2775" id="h1-0-2775" class="i">+            goto fail;
</a><a href="#h1-0-2776" id="h1-0-2776" class="i">+        }
</a><a href="#h1-0-2777" id="h1-0-2777" class="i">+    }
</a><a href="#h1-0-2778" id="h1-0-2778" class="i">+    if (item-&gt;string)
</a><a href="#h1-0-2779" id="h1-0-2779" class="i">+    {
</a><a href="#h1-0-2780" id="h1-0-2780" class="i">+        newitem-&gt;string = (item-&gt;type&amp;cJSON_StringIsConst) ? item-&gt;string : (char*)cJSON_strdup((unsigned char*)item-&gt;string, &amp;global_hooks);
</a><a href="#h1-0-2781" id="h1-0-2781" class="i">+        if (!newitem-&gt;string)
</a><a href="#h1-0-2782" id="h1-0-2782" class="i">+        {
</a><a href="#h1-0-2783" id="h1-0-2783" class="i">+            goto fail;
</a><a href="#h1-0-2784" id="h1-0-2784" class="i">+        }
</a><a href="#h1-0-2785" id="h1-0-2785" class="i">+    }
</a><a href="#h1-0-2786" id="h1-0-2786" class="i">+    /* If non-recursive, then we&#39;re done! */
</a><a href="#h1-0-2787" id="h1-0-2787" class="i">+    if (!recurse)
</a><a href="#h1-0-2788" id="h1-0-2788" class="i">+    {
</a><a href="#h1-0-2789" id="h1-0-2789" class="i">+        return newitem;
</a><a href="#h1-0-2790" id="h1-0-2790" class="i">+    }
</a><a href="#h1-0-2791" id="h1-0-2791" class="i">+    /* Walk the -&gt;next chain for the child. */
</a><a href="#h1-0-2792" id="h1-0-2792" class="i">+    child = item-&gt;child;
</a><a href="#h1-0-2793" id="h1-0-2793" class="i">+    while (child != NULL)
</a><a href="#h1-0-2794" id="h1-0-2794" class="i">+    {
</a><a href="#h1-0-2795" id="h1-0-2795" class="i">+        if(depth &gt;= CJSON_CIRCULAR_LIMIT) {
</a><a href="#h1-0-2796" id="h1-0-2796" class="i">+            goto fail;
</a><a href="#h1-0-2797" id="h1-0-2797" class="i">+        }
</a><a href="#h1-0-2798" id="h1-0-2798" class="i">+        newchild = cJSON_Duplicate_rec(child, depth + 1, true); /* Duplicate (with recurse) each item in the -&gt;next chain */
</a><a href="#h1-0-2799" id="h1-0-2799" class="i">+        if (!newchild)
</a><a href="#h1-0-2800" id="h1-0-2800" class="i">+        {
</a><a href="#h1-0-2801" id="h1-0-2801" class="i">+            goto fail;
</a><a href="#h1-0-2802" id="h1-0-2802" class="i">+        }
</a><a href="#h1-0-2803" id="h1-0-2803" class="i">+        if (next != NULL)
</a><a href="#h1-0-2804" id="h1-0-2804" class="i">+        {
</a><a href="#h1-0-2805" id="h1-0-2805" class="i">+            /* If newitem-&gt;child already set, then crosswire -&gt;prev and -&gt;next and move on */
</a><a href="#h1-0-2806" id="h1-0-2806" class="i">+            next-&gt;next = newchild;
</a><a href="#h1-0-2807" id="h1-0-2807" class="i">+            newchild-&gt;prev = next;
</a><a href="#h1-0-2808" id="h1-0-2808" class="i">+            next = newchild;
</a><a href="#h1-0-2809" id="h1-0-2809" class="i">+        }
</a><a href="#h1-0-2810" id="h1-0-2810" class="i">+        else
</a><a href="#h1-0-2811" id="h1-0-2811" class="i">+        {
</a><a href="#h1-0-2812" id="h1-0-2812" class="i">+            /* Set newitem-&gt;child and move to it */
</a><a href="#h1-0-2813" id="h1-0-2813" class="i">+            newitem-&gt;child = newchild;
</a><a href="#h1-0-2814" id="h1-0-2814" class="i">+            next = newchild;
</a><a href="#h1-0-2815" id="h1-0-2815" class="i">+        }
</a><a href="#h1-0-2816" id="h1-0-2816" class="i">+        child = child-&gt;next;
</a><a href="#h1-0-2817" id="h1-0-2817" class="i">+    }
</a><a href="#h1-0-2818" id="h1-0-2818" class="i">+    if (newitem &amp;&amp; newitem-&gt;child)
</a><a href="#h1-0-2819" id="h1-0-2819" class="i">+    {
</a><a href="#h1-0-2820" id="h1-0-2820" class="i">+        newitem-&gt;child-&gt;prev = newchild;
</a><a href="#h1-0-2821" id="h1-0-2821" class="i">+    }
</a><a href="#h1-0-2822" id="h1-0-2822" class="i">+
</a><a href="#h1-0-2823" id="h1-0-2823" class="i">+    return newitem;
</a><a href="#h1-0-2824" id="h1-0-2824" class="i">+
</a><a href="#h1-0-2825" id="h1-0-2825" class="i">+fail:
</a><a href="#h1-0-2826" id="h1-0-2826" class="i">+    if (newitem != NULL)
</a><a href="#h1-0-2827" id="h1-0-2827" class="i">+    {
</a><a href="#h1-0-2828" id="h1-0-2828" class="i">+        cJSON_Delete(newitem);
</a><a href="#h1-0-2829" id="h1-0-2829" class="i">+    }
</a><a href="#h1-0-2830" id="h1-0-2830" class="i">+
</a><a href="#h1-0-2831" id="h1-0-2831" class="i">+    return NULL;
</a><a href="#h1-0-2832" id="h1-0-2832" class="i">+}
</a><a href="#h1-0-2833" id="h1-0-2833" class="i">+
</a><a href="#h1-0-2834" id="h1-0-2834" class="i">+static void skip_oneline_comment(char **input)
</a><a href="#h1-0-2835" id="h1-0-2835" class="i">+{
</a><a href="#h1-0-2836" id="h1-0-2836" class="i">+    *input += static_strlen(&quot;//&quot;);
</a><a href="#h1-0-2837" id="h1-0-2837" class="i">+
</a><a href="#h1-0-2838" id="h1-0-2838" class="i">+    for (; (*input)[0] != &#39;\0&#39;; ++(*input))
</a><a href="#h1-0-2839" id="h1-0-2839" class="i">+    {
</a><a href="#h1-0-2840" id="h1-0-2840" class="i">+        if ((*input)[0] == &#39;\n&#39;) {
</a><a href="#h1-0-2841" id="h1-0-2841" class="i">+            *input += static_strlen(&quot;\n&quot;);
</a><a href="#h1-0-2842" id="h1-0-2842" class="i">+            return;
</a><a href="#h1-0-2843" id="h1-0-2843" class="i">+        }
</a><a href="#h1-0-2844" id="h1-0-2844" class="i">+    }
</a><a href="#h1-0-2845" id="h1-0-2845" class="i">+}
</a><a href="#h1-0-2846" id="h1-0-2846" class="i">+
</a><a href="#h1-0-2847" id="h1-0-2847" class="i">+static void skip_multiline_comment(char **input)
</a><a href="#h1-0-2848" id="h1-0-2848" class="i">+{
</a><a href="#h1-0-2849" id="h1-0-2849" class="i">+    *input += static_strlen(&quot;/*&quot;);
</a><a href="#h1-0-2850" id="h1-0-2850" class="i">+
</a><a href="#h1-0-2851" id="h1-0-2851" class="i">+    for (; (*input)[0] != &#39;\0&#39;; ++(*input))
</a><a href="#h1-0-2852" id="h1-0-2852" class="i">+    {
</a><a href="#h1-0-2853" id="h1-0-2853" class="i">+        if (((*input)[0] == &#39;*&#39;) &amp;&amp; ((*input)[1] == &#39;/&#39;))
</a><a href="#h1-0-2854" id="h1-0-2854" class="i">+        {
</a><a href="#h1-0-2855" id="h1-0-2855" class="i">+            *input += static_strlen(&quot;*/&quot;);
</a><a href="#h1-0-2856" id="h1-0-2856" class="i">+            return;
</a><a href="#h1-0-2857" id="h1-0-2857" class="i">+        }
</a><a href="#h1-0-2858" id="h1-0-2858" class="i">+    }
</a><a href="#h1-0-2859" id="h1-0-2859" class="i">+}
</a><a href="#h1-0-2860" id="h1-0-2860" class="i">+
</a><a href="#h1-0-2861" id="h1-0-2861" class="i">+static void minify_string(char **input, char **output) {
</a><a href="#h1-0-2862" id="h1-0-2862" class="i">+    (*output)[0] = (*input)[0];
</a><a href="#h1-0-2863" id="h1-0-2863" class="i">+    *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2864" id="h1-0-2864" class="i">+    *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2865" id="h1-0-2865" class="i">+
</a><a href="#h1-0-2866" id="h1-0-2866" class="i">+
</a><a href="#h1-0-2867" id="h1-0-2867" class="i">+    for (; (*input)[0] != &#39;\0&#39;; (void)++(*input), ++(*output)) {
</a><a href="#h1-0-2868" id="h1-0-2868" class="i">+        (*output)[0] = (*input)[0];
</a><a href="#h1-0-2869" id="h1-0-2869" class="i">+
</a><a href="#h1-0-2870" id="h1-0-2870" class="i">+        if ((*input)[0] == &#39;\&quot;&#39;) {
</a><a href="#h1-0-2871" id="h1-0-2871" class="i">+            (*output)[0] = &#39;\&quot;&#39;;
</a><a href="#h1-0-2872" id="h1-0-2872" class="i">+            *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2873" id="h1-0-2873" class="i">+            *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2874" id="h1-0-2874" class="i">+            return;
</a><a href="#h1-0-2875" id="h1-0-2875" class="i">+        } else if (((*input)[0] == &#39;\\&#39;) &amp;&amp; ((*input)[1] == &#39;\&quot;&#39;)) {
</a><a href="#h1-0-2876" id="h1-0-2876" class="i">+            (*output)[1] = (*input)[1];
</a><a href="#h1-0-2877" id="h1-0-2877" class="i">+            *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2878" id="h1-0-2878" class="i">+            *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h1-0-2879" id="h1-0-2879" class="i">+        }
</a><a href="#h1-0-2880" id="h1-0-2880" class="i">+    }
</a><a href="#h1-0-2881" id="h1-0-2881" class="i">+}
</a><a href="#h1-0-2882" id="h1-0-2882" class="i">+
</a><a href="#h1-0-2883" id="h1-0-2883" class="i">+CJSON_PUBLIC(void) cJSON_Minify(char *json)
</a><a href="#h1-0-2884" id="h1-0-2884" class="i">+{
</a><a href="#h1-0-2885" id="h1-0-2885" class="i">+    char *into = json;
</a><a href="#h1-0-2886" id="h1-0-2886" class="i">+
</a><a href="#h1-0-2887" id="h1-0-2887" class="i">+    if (json == NULL)
</a><a href="#h1-0-2888" id="h1-0-2888" class="i">+    {
</a><a href="#h1-0-2889" id="h1-0-2889" class="i">+        return;
</a><a href="#h1-0-2890" id="h1-0-2890" class="i">+    }
</a><a href="#h1-0-2891" id="h1-0-2891" class="i">+
</a><a href="#h1-0-2892" id="h1-0-2892" class="i">+    while (json[0] != &#39;\0&#39;)
</a><a href="#h1-0-2893" id="h1-0-2893" class="i">+    {
</a><a href="#h1-0-2894" id="h1-0-2894" class="i">+        switch (json[0])
</a><a href="#h1-0-2895" id="h1-0-2895" class="i">+        {
</a><a href="#h1-0-2896" id="h1-0-2896" class="i">+            case &#39; &#39;:
</a><a href="#h1-0-2897" id="h1-0-2897" class="i">+            case &#39;\t&#39;:
</a><a href="#h1-0-2898" id="h1-0-2898" class="i">+            case &#39;\r&#39;:
</a><a href="#h1-0-2899" id="h1-0-2899" class="i">+            case &#39;\n&#39;:
</a><a href="#h1-0-2900" id="h1-0-2900" class="i">+                json++;
</a><a href="#h1-0-2901" id="h1-0-2901" class="i">+                break;
</a><a href="#h1-0-2902" id="h1-0-2902" class="i">+
</a><a href="#h1-0-2903" id="h1-0-2903" class="i">+            case &#39;/&#39;:
</a><a href="#h1-0-2904" id="h1-0-2904" class="i">+                if (json[1] == &#39;/&#39;)
</a><a href="#h1-0-2905" id="h1-0-2905" class="i">+                {
</a><a href="#h1-0-2906" id="h1-0-2906" class="i">+                    skip_oneline_comment(&amp;json);
</a><a href="#h1-0-2907" id="h1-0-2907" class="i">+                }
</a><a href="#h1-0-2908" id="h1-0-2908" class="i">+                else if (json[1] == &#39;*&#39;)
</a><a href="#h1-0-2909" id="h1-0-2909" class="i">+                {
</a><a href="#h1-0-2910" id="h1-0-2910" class="i">+                    skip_multiline_comment(&amp;json);
</a><a href="#h1-0-2911" id="h1-0-2911" class="i">+                } else {
</a><a href="#h1-0-2912" id="h1-0-2912" class="i">+                    json++;
</a><a href="#h1-0-2913" id="h1-0-2913" class="i">+                }
</a><a href="#h1-0-2914" id="h1-0-2914" class="i">+                break;
</a><a href="#h1-0-2915" id="h1-0-2915" class="i">+
</a><a href="#h1-0-2916" id="h1-0-2916" class="i">+            case &#39;\&quot;&#39;:
</a><a href="#h1-0-2917" id="h1-0-2917" class="i">+                minify_string(&amp;json, (char**)&amp;into);
</a><a href="#h1-0-2918" id="h1-0-2918" class="i">+                break;
</a><a href="#h1-0-2919" id="h1-0-2919" class="i">+
</a><a href="#h1-0-2920" id="h1-0-2920" class="i">+            default:
</a><a href="#h1-0-2921" id="h1-0-2921" class="i">+                into[0] = json[0];
</a><a href="#h1-0-2922" id="h1-0-2922" class="i">+                json++;
</a><a href="#h1-0-2923" id="h1-0-2923" class="i">+                into++;
</a><a href="#h1-0-2924" id="h1-0-2924" class="i">+        }
</a><a href="#h1-0-2925" id="h1-0-2925" class="i">+    }
</a><a href="#h1-0-2926" id="h1-0-2926" class="i">+
</a><a href="#h1-0-2927" id="h1-0-2927" class="i">+    /* and null-terminate. */
</a><a href="#h1-0-2928" id="h1-0-2928" class="i">+    *into = &#39;\0&#39;;
</a><a href="#h1-0-2929" id="h1-0-2929" class="i">+}
</a><a href="#h1-0-2930" id="h1-0-2930" class="i">+
</a><a href="#h1-0-2931" id="h1-0-2931" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsInvalid(const cJSON * const item)
</a><a href="#h1-0-2932" id="h1-0-2932" class="i">+{
</a><a href="#h1-0-2933" id="h1-0-2933" class="i">+    if (item == NULL)
</a><a href="#h1-0-2934" id="h1-0-2934" class="i">+    {
</a><a href="#h1-0-2935" id="h1-0-2935" class="i">+        return false;
</a><a href="#h1-0-2936" id="h1-0-2936" class="i">+    }
</a><a href="#h1-0-2937" id="h1-0-2937" class="i">+
</a><a href="#h1-0-2938" id="h1-0-2938" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Invalid;
</a><a href="#h1-0-2939" id="h1-0-2939" class="i">+}
</a><a href="#h1-0-2940" id="h1-0-2940" class="i">+
</a><a href="#h1-0-2941" id="h1-0-2941" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsFalse(const cJSON * const item)
</a><a href="#h1-0-2942" id="h1-0-2942" class="i">+{
</a><a href="#h1-0-2943" id="h1-0-2943" class="i">+    if (item == NULL)
</a><a href="#h1-0-2944" id="h1-0-2944" class="i">+    {
</a><a href="#h1-0-2945" id="h1-0-2945" class="i">+        return false;
</a><a href="#h1-0-2946" id="h1-0-2946" class="i">+    }
</a><a href="#h1-0-2947" id="h1-0-2947" class="i">+
</a><a href="#h1-0-2948" id="h1-0-2948" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_False;
</a><a href="#h1-0-2949" id="h1-0-2949" class="i">+}
</a><a href="#h1-0-2950" id="h1-0-2950" class="i">+
</a><a href="#h1-0-2951" id="h1-0-2951" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsTrue(const cJSON * const item)
</a><a href="#h1-0-2952" id="h1-0-2952" class="i">+{
</a><a href="#h1-0-2953" id="h1-0-2953" class="i">+    if (item == NULL)
</a><a href="#h1-0-2954" id="h1-0-2954" class="i">+    {
</a><a href="#h1-0-2955" id="h1-0-2955" class="i">+        return false;
</a><a href="#h1-0-2956" id="h1-0-2956" class="i">+    }
</a><a href="#h1-0-2957" id="h1-0-2957" class="i">+
</a><a href="#h1-0-2958" id="h1-0-2958" class="i">+    return (item-&gt;type &amp; 0xff) == cJSON_True;
</a><a href="#h1-0-2959" id="h1-0-2959" class="i">+}
</a><a href="#h1-0-2960" id="h1-0-2960" class="i">+
</a><a href="#h1-0-2961" id="h1-0-2961" class="i">+
</a><a href="#h1-0-2962" id="h1-0-2962" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsBool(const cJSON * const item)
</a><a href="#h1-0-2963" id="h1-0-2963" class="i">+{
</a><a href="#h1-0-2964" id="h1-0-2964" class="i">+    if (item == NULL)
</a><a href="#h1-0-2965" id="h1-0-2965" class="i">+    {
</a><a href="#h1-0-2966" id="h1-0-2966" class="i">+        return false;
</a><a href="#h1-0-2967" id="h1-0-2967" class="i">+    }
</a><a href="#h1-0-2968" id="h1-0-2968" class="i">+
</a><a href="#h1-0-2969" id="h1-0-2969" class="i">+    return (item-&gt;type &amp; (cJSON_True | cJSON_False)) != 0;
</a><a href="#h1-0-2970" id="h1-0-2970" class="i">+}
</a><a href="#h1-0-2971" id="h1-0-2971" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNull(const cJSON * const item)
</a><a href="#h1-0-2972" id="h1-0-2972" class="i">+{
</a><a href="#h1-0-2973" id="h1-0-2973" class="i">+    if (item == NULL)
</a><a href="#h1-0-2974" id="h1-0-2974" class="i">+    {
</a><a href="#h1-0-2975" id="h1-0-2975" class="i">+        return false;
</a><a href="#h1-0-2976" id="h1-0-2976" class="i">+    }
</a><a href="#h1-0-2977" id="h1-0-2977" class="i">+
</a><a href="#h1-0-2978" id="h1-0-2978" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_NULL;
</a><a href="#h1-0-2979" id="h1-0-2979" class="i">+}
</a><a href="#h1-0-2980" id="h1-0-2980" class="i">+
</a><a href="#h1-0-2981" id="h1-0-2981" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNumber(const cJSON * const item)
</a><a href="#h1-0-2982" id="h1-0-2982" class="i">+{
</a><a href="#h1-0-2983" id="h1-0-2983" class="i">+    if (item == NULL)
</a><a href="#h1-0-2984" id="h1-0-2984" class="i">+    {
</a><a href="#h1-0-2985" id="h1-0-2985" class="i">+        return false;
</a><a href="#h1-0-2986" id="h1-0-2986" class="i">+    }
</a><a href="#h1-0-2987" id="h1-0-2987" class="i">+
</a><a href="#h1-0-2988" id="h1-0-2988" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Number;
</a><a href="#h1-0-2989" id="h1-0-2989" class="i">+}
</a><a href="#h1-0-2990" id="h1-0-2990" class="i">+
</a><a href="#h1-0-2991" id="h1-0-2991" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsString(const cJSON * const item)
</a><a href="#h1-0-2992" id="h1-0-2992" class="i">+{
</a><a href="#h1-0-2993" id="h1-0-2993" class="i">+    if (item == NULL)
</a><a href="#h1-0-2994" id="h1-0-2994" class="i">+    {
</a><a href="#h1-0-2995" id="h1-0-2995" class="i">+        return false;
</a><a href="#h1-0-2996" id="h1-0-2996" class="i">+    }
</a><a href="#h1-0-2997" id="h1-0-2997" class="i">+
</a><a href="#h1-0-2998" id="h1-0-2998" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_String;
</a><a href="#h1-0-2999" id="h1-0-2999" class="i">+}
</a><a href="#h1-0-3000" id="h1-0-3000" class="i">+
</a><a href="#h1-0-3001" id="h1-0-3001" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsArray(const cJSON * const item)
</a><a href="#h1-0-3002" id="h1-0-3002" class="i">+{
</a><a href="#h1-0-3003" id="h1-0-3003" class="i">+    if (item == NULL)
</a><a href="#h1-0-3004" id="h1-0-3004" class="i">+    {
</a><a href="#h1-0-3005" id="h1-0-3005" class="i">+        return false;
</a><a href="#h1-0-3006" id="h1-0-3006" class="i">+    }
</a><a href="#h1-0-3007" id="h1-0-3007" class="i">+
</a><a href="#h1-0-3008" id="h1-0-3008" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Array;
</a><a href="#h1-0-3009" id="h1-0-3009" class="i">+}
</a><a href="#h1-0-3010" id="h1-0-3010" class="i">+
</a><a href="#h1-0-3011" id="h1-0-3011" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsObject(const cJSON * const item)
</a><a href="#h1-0-3012" id="h1-0-3012" class="i">+{
</a><a href="#h1-0-3013" id="h1-0-3013" class="i">+    if (item == NULL)
</a><a href="#h1-0-3014" id="h1-0-3014" class="i">+    {
</a><a href="#h1-0-3015" id="h1-0-3015" class="i">+        return false;
</a><a href="#h1-0-3016" id="h1-0-3016" class="i">+    }
</a><a href="#h1-0-3017" id="h1-0-3017" class="i">+
</a><a href="#h1-0-3018" id="h1-0-3018" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Object;
</a><a href="#h1-0-3019" id="h1-0-3019" class="i">+}
</a><a href="#h1-0-3020" id="h1-0-3020" class="i">+
</a><a href="#h1-0-3021" id="h1-0-3021" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsRaw(const cJSON * const item)
</a><a href="#h1-0-3022" id="h1-0-3022" class="i">+{
</a><a href="#h1-0-3023" id="h1-0-3023" class="i">+    if (item == NULL)
</a><a href="#h1-0-3024" id="h1-0-3024" class="i">+    {
</a><a href="#h1-0-3025" id="h1-0-3025" class="i">+        return false;
</a><a href="#h1-0-3026" id="h1-0-3026" class="i">+    }
</a><a href="#h1-0-3027" id="h1-0-3027" class="i">+
</a><a href="#h1-0-3028" id="h1-0-3028" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Raw;
</a><a href="#h1-0-3029" id="h1-0-3029" class="i">+}
</a><a href="#h1-0-3030" id="h1-0-3030" class="i">+
</a><a href="#h1-0-3031" id="h1-0-3031" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_Compare(const cJSON * const a, const cJSON * const b, const cJSON_bool case_sensitive)
</a><a href="#h1-0-3032" id="h1-0-3032" class="i">+{
</a><a href="#h1-0-3033" id="h1-0-3033" class="i">+    if ((a == NULL) || (b == NULL) || ((a-&gt;type &amp; 0xFF) != (b-&gt;type &amp; 0xFF)))
</a><a href="#h1-0-3034" id="h1-0-3034" class="i">+    {
</a><a href="#h1-0-3035" id="h1-0-3035" class="i">+        return false;
</a><a href="#h1-0-3036" id="h1-0-3036" class="i">+    }
</a><a href="#h1-0-3037" id="h1-0-3037" class="i">+
</a><a href="#h1-0-3038" id="h1-0-3038" class="i">+    /* check if type is valid */
</a><a href="#h1-0-3039" id="h1-0-3039" class="i">+    switch (a-&gt;type &amp; 0xFF)
</a><a href="#h1-0-3040" id="h1-0-3040" class="i">+    {
</a><a href="#h1-0-3041" id="h1-0-3041" class="i">+        case cJSON_False:
</a><a href="#h1-0-3042" id="h1-0-3042" class="i">+        case cJSON_True:
</a><a href="#h1-0-3043" id="h1-0-3043" class="i">+        case cJSON_NULL:
</a><a href="#h1-0-3044" id="h1-0-3044" class="i">+        case cJSON_Number:
</a><a href="#h1-0-3045" id="h1-0-3045" class="i">+        case cJSON_String:
</a><a href="#h1-0-3046" id="h1-0-3046" class="i">+        case cJSON_Raw:
</a><a href="#h1-0-3047" id="h1-0-3047" class="i">+        case cJSON_Array:
</a><a href="#h1-0-3048" id="h1-0-3048" class="i">+        case cJSON_Object:
</a><a href="#h1-0-3049" id="h1-0-3049" class="i">+            break;
</a><a href="#h1-0-3050" id="h1-0-3050" class="i">+
</a><a href="#h1-0-3051" id="h1-0-3051" class="i">+        default:
</a><a href="#h1-0-3052" id="h1-0-3052" class="i">+            return false;
</a><a href="#h1-0-3053" id="h1-0-3053" class="i">+    }
</a><a href="#h1-0-3054" id="h1-0-3054" class="i">+
</a><a href="#h1-0-3055" id="h1-0-3055" class="i">+    /* identical objects are equal */
</a><a href="#h1-0-3056" id="h1-0-3056" class="i">+    if (a == b)
</a><a href="#h1-0-3057" id="h1-0-3057" class="i">+    {
</a><a href="#h1-0-3058" id="h1-0-3058" class="i">+        return true;
</a><a href="#h1-0-3059" id="h1-0-3059" class="i">+    }
</a><a href="#h1-0-3060" id="h1-0-3060" class="i">+
</a><a href="#h1-0-3061" id="h1-0-3061" class="i">+    switch (a-&gt;type &amp; 0xFF)
</a><a href="#h1-0-3062" id="h1-0-3062" class="i">+    {
</a><a href="#h1-0-3063" id="h1-0-3063" class="i">+        /* in these cases and equal type is enough */
</a><a href="#h1-0-3064" id="h1-0-3064" class="i">+        case cJSON_False:
</a><a href="#h1-0-3065" id="h1-0-3065" class="i">+        case cJSON_True:
</a><a href="#h1-0-3066" id="h1-0-3066" class="i">+        case cJSON_NULL:
</a><a href="#h1-0-3067" id="h1-0-3067" class="i">+            return true;
</a><a href="#h1-0-3068" id="h1-0-3068" class="i">+
</a><a href="#h1-0-3069" id="h1-0-3069" class="i">+        case cJSON_Number:
</a><a href="#h1-0-3070" id="h1-0-3070" class="i">+            if (compare_double(a-&gt;valuedouble, b-&gt;valuedouble))
</a><a href="#h1-0-3071" id="h1-0-3071" class="i">+            {
</a><a href="#h1-0-3072" id="h1-0-3072" class="i">+                return true;
</a><a href="#h1-0-3073" id="h1-0-3073" class="i">+            }
</a><a href="#h1-0-3074" id="h1-0-3074" class="i">+            return false;
</a><a href="#h1-0-3075" id="h1-0-3075" class="i">+
</a><a href="#h1-0-3076" id="h1-0-3076" class="i">+        case cJSON_String:
</a><a href="#h1-0-3077" id="h1-0-3077" class="i">+        case cJSON_Raw:
</a><a href="#h1-0-3078" id="h1-0-3078" class="i">+            if ((a-&gt;valuestring == NULL) || (b-&gt;valuestring == NULL))
</a><a href="#h1-0-3079" id="h1-0-3079" class="i">+            {
</a><a href="#h1-0-3080" id="h1-0-3080" class="i">+                return false;
</a><a href="#h1-0-3081" id="h1-0-3081" class="i">+            }
</a><a href="#h1-0-3082" id="h1-0-3082" class="i">+            if (strcmp(a-&gt;valuestring, b-&gt;valuestring) == 0)
</a><a href="#h1-0-3083" id="h1-0-3083" class="i">+            {
</a><a href="#h1-0-3084" id="h1-0-3084" class="i">+                return true;
</a><a href="#h1-0-3085" id="h1-0-3085" class="i">+            }
</a><a href="#h1-0-3086" id="h1-0-3086" class="i">+
</a><a href="#h1-0-3087" id="h1-0-3087" class="i">+            return false;
</a><a href="#h1-0-3088" id="h1-0-3088" class="i">+
</a><a href="#h1-0-3089" id="h1-0-3089" class="i">+        case cJSON_Array:
</a><a href="#h1-0-3090" id="h1-0-3090" class="i">+        {
</a><a href="#h1-0-3091" id="h1-0-3091" class="i">+            cJSON *a_element = a-&gt;child;
</a><a href="#h1-0-3092" id="h1-0-3092" class="i">+            cJSON *b_element = b-&gt;child;
</a><a href="#h1-0-3093" id="h1-0-3093" class="i">+
</a><a href="#h1-0-3094" id="h1-0-3094" class="i">+            for (; (a_element != NULL) &amp;&amp; (b_element != NULL);)
</a><a href="#h1-0-3095" id="h1-0-3095" class="i">+            {
</a><a href="#h1-0-3096" id="h1-0-3096" class="i">+                if (!cJSON_Compare(a_element, b_element, case_sensitive))
</a><a href="#h1-0-3097" id="h1-0-3097" class="i">+                {
</a><a href="#h1-0-3098" id="h1-0-3098" class="i">+                    return false;
</a><a href="#h1-0-3099" id="h1-0-3099" class="i">+                }
</a><a href="#h1-0-3100" id="h1-0-3100" class="i">+
</a><a href="#h1-0-3101" id="h1-0-3101" class="i">+                a_element = a_element-&gt;next;
</a><a href="#h1-0-3102" id="h1-0-3102" class="i">+                b_element = b_element-&gt;next;
</a><a href="#h1-0-3103" id="h1-0-3103" class="i">+            }
</a><a href="#h1-0-3104" id="h1-0-3104" class="i">+
</a><a href="#h1-0-3105" id="h1-0-3105" class="i">+            /* one of the arrays is longer than the other */
</a><a href="#h1-0-3106" id="h1-0-3106" class="i">+            if (a_element != b_element) {
</a><a href="#h1-0-3107" id="h1-0-3107" class="i">+                return false;
</a><a href="#h1-0-3108" id="h1-0-3108" class="i">+            }
</a><a href="#h1-0-3109" id="h1-0-3109" class="i">+
</a><a href="#h1-0-3110" id="h1-0-3110" class="i">+            return true;
</a><a href="#h1-0-3111" id="h1-0-3111" class="i">+        }
</a><a href="#h1-0-3112" id="h1-0-3112" class="i">+
</a><a href="#h1-0-3113" id="h1-0-3113" class="i">+        case cJSON_Object:
</a><a href="#h1-0-3114" id="h1-0-3114" class="i">+        {
</a><a href="#h1-0-3115" id="h1-0-3115" class="i">+            cJSON *a_element = NULL;
</a><a href="#h1-0-3116" id="h1-0-3116" class="i">+            cJSON *b_element = NULL;
</a><a href="#h1-0-3117" id="h1-0-3117" class="i">+            cJSON_ArrayForEach(a_element, a)
</a><a href="#h1-0-3118" id="h1-0-3118" class="i">+            {
</a><a href="#h1-0-3119" id="h1-0-3119" class="i">+                /* TODO This has O(n^2) runtime, which is horrible! */
</a><a href="#h1-0-3120" id="h1-0-3120" class="i">+                b_element = get_object_item(b, a_element-&gt;string, case_sensitive);
</a><a href="#h1-0-3121" id="h1-0-3121" class="i">+                if (b_element == NULL)
</a><a href="#h1-0-3122" id="h1-0-3122" class="i">+                {
</a><a href="#h1-0-3123" id="h1-0-3123" class="i">+                    return false;
</a><a href="#h1-0-3124" id="h1-0-3124" class="i">+                }
</a><a href="#h1-0-3125" id="h1-0-3125" class="i">+
</a><a href="#h1-0-3126" id="h1-0-3126" class="i">+                if (!cJSON_Compare(a_element, b_element, case_sensitive))
</a><a href="#h1-0-3127" id="h1-0-3127" class="i">+                {
</a><a href="#h1-0-3128" id="h1-0-3128" class="i">+                    return false;
</a><a href="#h1-0-3129" id="h1-0-3129" class="i">+                }
</a><a href="#h1-0-3130" id="h1-0-3130" class="i">+            }
</a><a href="#h1-0-3131" id="h1-0-3131" class="i">+
</a><a href="#h1-0-3132" id="h1-0-3132" class="i">+            /* doing this twice, once on a and b to prevent true comparison if a subset of b
</a><a href="#h1-0-3133" id="h1-0-3133" class="i">+             * TODO: Do this the proper way, this is just a fix for now */
</a><a href="#h1-0-3134" id="h1-0-3134" class="i">+            cJSON_ArrayForEach(b_element, b)
</a><a href="#h1-0-3135" id="h1-0-3135" class="i">+            {
</a><a href="#h1-0-3136" id="h1-0-3136" class="i">+                a_element = get_object_item(a, b_element-&gt;string, case_sensitive);
</a><a href="#h1-0-3137" id="h1-0-3137" class="i">+                if (a_element == NULL)
</a><a href="#h1-0-3138" id="h1-0-3138" class="i">+                {
</a><a href="#h1-0-3139" id="h1-0-3139" class="i">+                    return false;
</a><a href="#h1-0-3140" id="h1-0-3140" class="i">+                }
</a><a href="#h1-0-3141" id="h1-0-3141" class="i">+
</a><a href="#h1-0-3142" id="h1-0-3142" class="i">+                if (!cJSON_Compare(b_element, a_element, case_sensitive))
</a><a href="#h1-0-3143" id="h1-0-3143" class="i">+                {
</a><a href="#h1-0-3144" id="h1-0-3144" class="i">+                    return false;
</a><a href="#h1-0-3145" id="h1-0-3145" class="i">+                }
</a><a href="#h1-0-3146" id="h1-0-3146" class="i">+            }
</a><a href="#h1-0-3147" id="h1-0-3147" class="i">+
</a><a href="#h1-0-3148" id="h1-0-3148" class="i">+            return true;
</a><a href="#h1-0-3149" id="h1-0-3149" class="i">+        }
</a><a href="#h1-0-3150" id="h1-0-3150" class="i">+
</a><a href="#h1-0-3151" id="h1-0-3151" class="i">+        default:
</a><a href="#h1-0-3152" id="h1-0-3152" class="i">+            return false;
</a><a href="#h1-0-3153" id="h1-0-3153" class="i">+    }
</a><a href="#h1-0-3154" id="h1-0-3154" class="i">+}
</a><a href="#h1-0-3155" id="h1-0-3155" class="i">+
</a><a href="#h1-0-3156" id="h1-0-3156" class="i">+CJSON_PUBLIC(void *) cJSON_malloc(size_t size)
</a><a href="#h1-0-3157" id="h1-0-3157" class="i">+{
</a><a href="#h1-0-3158" id="h1-0-3158" class="i">+    return global_hooks.allocate(size);
</a><a href="#h1-0-3159" id="h1-0-3159" class="i">+}
</a><a href="#h1-0-3160" id="h1-0-3160" class="i">+
</a><a href="#h1-0-3161" id="h1-0-3161" class="i">+CJSON_PUBLIC(void) cJSON_free(void *object)
</a><a href="#h1-0-3162" id="h1-0-3162" class="i">+{
</a><a href="#h1-0-3163" id="h1-0-3163" class="i">+    global_hooks.deallocate(object);
</a><a href="#h1-0-3164" id="h1-0-3164" class="i">+    object = NULL;
</a><a href="#h1-0-3165" id="h1-0-3165" class="i">+}
</a><b>diff --git a/<a id="h2" href="../file/cJSON.h.html">cJSON.h</a> b/<a href="../file/cJSON.h.html">cJSON.h</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,307 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+extern const char* json_string;
</a><a href="#h2-0-1" id="h2-0-1" class="i">+/*
</a><a href="#h2-0-2" id="h2-0-2" class="i">+  Copyright (c) 2009-2017 Dave Gamble and cJSON contributors
</a><a href="#h2-0-3" id="h2-0-3" class="i">+
</a><a href="#h2-0-4" id="h2-0-4" class="i">+  Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h2-0-5" id="h2-0-5" class="i">+  of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h2-0-6" id="h2-0-6" class="i">+  in the Software without restriction, including without limitation the rights
</a><a href="#h2-0-7" id="h2-0-7" class="i">+  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h2-0-8" id="h2-0-8" class="i">+  copies of the Software, and to permit persons to whom the Software is
</a><a href="#h2-0-9" id="h2-0-9" class="i">+  furnished to do so, subject to the following conditions:
</a><a href="#h2-0-10" id="h2-0-10" class="i">+
</a><a href="#h2-0-11" id="h2-0-11" class="i">+  The above copyright notice and this permission notice shall be included in
</a><a href="#h2-0-12" id="h2-0-12" class="i">+  all copies or substantial portions of the Software.
</a><a href="#h2-0-13" id="h2-0-13" class="i">+
</a><a href="#h2-0-14" id="h2-0-14" class="i">+  THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h2-0-15" id="h2-0-15" class="i">+  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h2-0-16" id="h2-0-16" class="i">+  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h2-0-17" id="h2-0-17" class="i">+  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h2-0-18" id="h2-0-18" class="i">+  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h2-0-19" id="h2-0-19" class="i">+  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</a><a href="#h2-0-20" id="h2-0-20" class="i">+  THE SOFTWARE.
</a><a href="#h2-0-21" id="h2-0-21" class="i">+*/
</a><a href="#h2-0-22" id="h2-0-22" class="i">+
</a><a href="#h2-0-23" id="h2-0-23" class="i">+#ifndef cJSON__h
</a><a href="#h2-0-24" id="h2-0-24" class="i">+#define cJSON__h
</a><a href="#h2-0-25" id="h2-0-25" class="i">+
</a><a href="#h2-0-26" id="h2-0-26" class="i">+#ifdef __cplusplus
</a><a href="#h2-0-27" id="h2-0-27" class="i">+extern &quot;C&quot;
</a><a href="#h2-0-28" id="h2-0-28" class="i">+{
</a><a href="#h2-0-29" id="h2-0-29" class="i">+#endif
</a><a href="#h2-0-30" id="h2-0-30" class="i">+
</a><a href="#h2-0-31" id="h2-0-31" class="i">+#if !defined(__WINDOWS__) &amp;&amp; (defined(WIN32) || defined(WIN64) || defined(_MSC_VER) || defined(_WIN32))
</a><a href="#h2-0-32" id="h2-0-32" class="i">+#define __WINDOWS__
</a><a href="#h2-0-33" id="h2-0-33" class="i">+#endif
</a><a href="#h2-0-34" id="h2-0-34" class="i">+
</a><a href="#h2-0-35" id="h2-0-35" class="i">+#ifdef __WINDOWS__
</a><a href="#h2-0-36" id="h2-0-36" class="i">+
</a><a href="#h2-0-37" id="h2-0-37" class="i">+/* When compiling for windows, we specify a specific calling convention to avoid issues where we are being called from a project with a different default calling convention.  For windows you have 3 define options:
</a><a href="#h2-0-38" id="h2-0-38" class="i">+
</a><a href="#h2-0-39" id="h2-0-39" class="i">+CJSON_HIDE_SYMBOLS - Define this in the case where you don&#39;t want to ever dllexport symbols
</a><a href="#h2-0-40" id="h2-0-40" class="i">+CJSON_EXPORT_SYMBOLS - Define this on library build when you want to dllexport symbols (default)
</a><a href="#h2-0-41" id="h2-0-41" class="i">+CJSON_IMPORT_SYMBOLS - Define this if you want to dllimport symbol
</a><a href="#h2-0-42" id="h2-0-42" class="i">+
</a><a href="#h2-0-43" id="h2-0-43" class="i">+For *nix builds that support visibility attribute, you can define similar behavior by
</a><a href="#h2-0-44" id="h2-0-44" class="i">+
</a><a href="#h2-0-45" id="h2-0-45" class="i">+setting default visibility to hidden by adding
</a><a href="#h2-0-46" id="h2-0-46" class="i">+-fvisibility=hidden (for gcc)
</a><a href="#h2-0-47" id="h2-0-47" class="i">+or
</a><a href="#h2-0-48" id="h2-0-48" class="i">+-xldscope=hidden (for sun cc)
</a><a href="#h2-0-49" id="h2-0-49" class="i">+to CFLAGS
</a><a href="#h2-0-50" id="h2-0-50" class="i">+
</a><a href="#h2-0-51" id="h2-0-51" class="i">+then using the CJSON_API_VISIBILITY flag to &quot;export&quot; the same symbols the way CJSON_EXPORT_SYMBOLS does
</a><a href="#h2-0-52" id="h2-0-52" class="i">+
</a><a href="#h2-0-53" id="h2-0-53" class="i">+*/
</a><a href="#h2-0-54" id="h2-0-54" class="i">+
</a><a href="#h2-0-55" id="h2-0-55" class="i">+#define CJSON_CDECL __cdecl
</a><a href="#h2-0-56" id="h2-0-56" class="i">+#define CJSON_STDCALL __stdcall
</a><a href="#h2-0-57" id="h2-0-57" class="i">+
</a><a href="#h2-0-58" id="h2-0-58" class="i">+/* export symbols by default, this is necessary for copy pasting the C and header file */
</a><a href="#h2-0-59" id="h2-0-59" class="i">+#if !defined(CJSON_HIDE_SYMBOLS) &amp;&amp; !defined(CJSON_IMPORT_SYMBOLS) &amp;&amp; !defined(CJSON_EXPORT_SYMBOLS)
</a><a href="#h2-0-60" id="h2-0-60" class="i">+#define CJSON_EXPORT_SYMBOLS
</a><a href="#h2-0-61" id="h2-0-61" class="i">+#endif
</a><a href="#h2-0-62" id="h2-0-62" class="i">+
</a><a href="#h2-0-63" id="h2-0-63" class="i">+#if defined(CJSON_HIDE_SYMBOLS)
</a><a href="#h2-0-64" id="h2-0-64" class="i">+#define CJSON_PUBLIC(type)   type CJSON_STDCALL
</a><a href="#h2-0-65" id="h2-0-65" class="i">+#elif defined(CJSON_EXPORT_SYMBOLS)
</a><a href="#h2-0-66" id="h2-0-66" class="i">+#define CJSON_PUBLIC(type)   __declspec(dllexport) type CJSON_STDCALL
</a><a href="#h2-0-67" id="h2-0-67" class="i">+#elif defined(CJSON_IMPORT_SYMBOLS)
</a><a href="#h2-0-68" id="h2-0-68" class="i">+#define CJSON_PUBLIC(type)   __declspec(dllimport) type CJSON_STDCALL
</a><a href="#h2-0-69" id="h2-0-69" class="i">+#endif
</a><a href="#h2-0-70" id="h2-0-70" class="i">+#else /* !__WINDOWS__ */
</a><a href="#h2-0-71" id="h2-0-71" class="i">+#define CJSON_CDECL
</a><a href="#h2-0-72" id="h2-0-72" class="i">+#define CJSON_STDCALL
</a><a href="#h2-0-73" id="h2-0-73" class="i">+
</a><a href="#h2-0-74" id="h2-0-74" class="i">+#if (defined(__GNUC__) || defined(__SUNPRO_CC) || defined (__SUNPRO_C)) &amp;&amp; defined(CJSON_API_VISIBILITY)
</a><a href="#h2-0-75" id="h2-0-75" class="i">+#define CJSON_PUBLIC(type)   __attribute__((visibility(&quot;default&quot;))) type
</a><a href="#h2-0-76" id="h2-0-76" class="i">+#else
</a><a href="#h2-0-77" id="h2-0-77" class="i">+#define CJSON_PUBLIC(type) type
</a><a href="#h2-0-78" id="h2-0-78" class="i">+#endif
</a><a href="#h2-0-79" id="h2-0-79" class="i">+#endif
</a><a href="#h2-0-80" id="h2-0-80" class="i">+
</a><a href="#h2-0-81" id="h2-0-81" class="i">+/* project version */
</a><a href="#h2-0-82" id="h2-0-82" class="i">+#define CJSON_VERSION_MAJOR 1
</a><a href="#h2-0-83" id="h2-0-83" class="i">+#define CJSON_VERSION_MINOR 7
</a><a href="#h2-0-84" id="h2-0-84" class="i">+#define CJSON_VERSION_PATCH 18
</a><a href="#h2-0-85" id="h2-0-85" class="i">+
</a><a href="#h2-0-86" id="h2-0-86" class="i">+#include &lt;stddef.h&gt;
</a><a href="#h2-0-87" id="h2-0-87" class="i">+
</a><a href="#h2-0-88" id="h2-0-88" class="i">+/* cJSON Types: */
</a><a href="#h2-0-89" id="h2-0-89" class="i">+#define cJSON_Invalid (0)
</a><a href="#h2-0-90" id="h2-0-90" class="i">+#define cJSON_False  (1 &lt;&lt; 0)
</a><a href="#h2-0-91" id="h2-0-91" class="i">+#define cJSON_True   (1 &lt;&lt; 1)
</a><a href="#h2-0-92" id="h2-0-92" class="i">+#define cJSON_NULL   (1 &lt;&lt; 2)
</a><a href="#h2-0-93" id="h2-0-93" class="i">+#define cJSON_Number (1 &lt;&lt; 3)
</a><a href="#h2-0-94" id="h2-0-94" class="i">+#define cJSON_String (1 &lt;&lt; 4)
</a><a href="#h2-0-95" id="h2-0-95" class="i">+#define cJSON_Array  (1 &lt;&lt; 5)
</a><a href="#h2-0-96" id="h2-0-96" class="i">+#define cJSON_Object (1 &lt;&lt; 6)
</a><a href="#h2-0-97" id="h2-0-97" class="i">+#define cJSON_Raw    (1 &lt;&lt; 7) /* raw json */
</a><a href="#h2-0-98" id="h2-0-98" class="i">+
</a><a href="#h2-0-99" id="h2-0-99" class="i">+#define cJSON_IsReference 256
</a><a href="#h2-0-100" id="h2-0-100" class="i">+#define cJSON_StringIsConst 512
</a><a href="#h2-0-101" id="h2-0-101" class="i">+
</a><a href="#h2-0-102" id="h2-0-102" class="i">+/* The cJSON structure: */
</a><a href="#h2-0-103" id="h2-0-103" class="i">+typedef struct cJSON
</a><a href="#h2-0-104" id="h2-0-104" class="i">+{
</a><a href="#h2-0-105" id="h2-0-105" class="i">+    /* next/prev allow you to walk array/object chains. Alternatively, use GetArraySize/GetArrayItem/GetObjectItem */
</a><a href="#h2-0-106" id="h2-0-106" class="i">+    struct cJSON *next;
</a><a href="#h2-0-107" id="h2-0-107" class="i">+    struct cJSON *prev;
</a><a href="#h2-0-108" id="h2-0-108" class="i">+    /* An array or object item will have a child pointer pointing to a chain of the items in the array/object. */
</a><a href="#h2-0-109" id="h2-0-109" class="i">+    struct cJSON *child;
</a><a href="#h2-0-110" id="h2-0-110" class="i">+
</a><a href="#h2-0-111" id="h2-0-111" class="i">+    /* The type of the item, as above. */
</a><a href="#h2-0-112" id="h2-0-112" class="i">+    int type;
</a><a href="#h2-0-113" id="h2-0-113" class="i">+
</a><a href="#h2-0-114" id="h2-0-114" class="i">+    /* The item&#39;s string, if type==cJSON_String  and type == cJSON_Raw */
</a><a href="#h2-0-115" id="h2-0-115" class="i">+    char *valuestring;
</a><a href="#h2-0-116" id="h2-0-116" class="i">+    /* writing to valueint is DEPRECATED, use cJSON_SetNumberValue instead */
</a><a href="#h2-0-117" id="h2-0-117" class="i">+    int valueint;
</a><a href="#h2-0-118" id="h2-0-118" class="i">+    /* The item&#39;s number, if type==cJSON_Number */
</a><a href="#h2-0-119" id="h2-0-119" class="i">+    double valuedouble;
</a><a href="#h2-0-120" id="h2-0-120" class="i">+
</a><a href="#h2-0-121" id="h2-0-121" class="i">+    /* The item&#39;s name string, if this item is the child of, or is in the list of subitems of an object. */
</a><a href="#h2-0-122" id="h2-0-122" class="i">+    char *string;
</a><a href="#h2-0-123" id="h2-0-123" class="i">+} cJSON;
</a><a href="#h2-0-124" id="h2-0-124" class="i">+
</a><a href="#h2-0-125" id="h2-0-125" class="i">+typedef struct cJSON_Hooks
</a><a href="#h2-0-126" id="h2-0-126" class="i">+{
</a><a href="#h2-0-127" id="h2-0-127" class="i">+      /* malloc/free are CDECL on Windows regardless of the default calling convention of the compiler, so ensure the hooks allow passing those functions directly. */
</a><a href="#h2-0-128" id="h2-0-128" class="i">+      void *(CJSON_CDECL *malloc_fn)(size_t sz);
</a><a href="#h2-0-129" id="h2-0-129" class="i">+      void (CJSON_CDECL *free_fn)(void *ptr);
</a><a href="#h2-0-130" id="h2-0-130" class="i">+} cJSON_Hooks;
</a><a href="#h2-0-131" id="h2-0-131" class="i">+
</a><a href="#h2-0-132" id="h2-0-132" class="i">+typedef int cJSON_bool;
</a><a href="#h2-0-133" id="h2-0-133" class="i">+
</a><a href="#h2-0-134" id="h2-0-134" class="i">+/* Limits how deeply nested arrays/objects can be before cJSON rejects to parse them.
</a><a href="#h2-0-135" id="h2-0-135" class="i">+ * This is to prevent stack overflows. */
</a><a href="#h2-0-136" id="h2-0-136" class="i">+#ifndef CJSON_NESTING_LIMIT
</a><a href="#h2-0-137" id="h2-0-137" class="i">+#define CJSON_NESTING_LIMIT 1000
</a><a href="#h2-0-138" id="h2-0-138" class="i">+#endif
</a><a href="#h2-0-139" id="h2-0-139" class="i">+
</a><a href="#h2-0-140" id="h2-0-140" class="i">+/* Limits the length of circular references can be before cJSON rejects to parse them.
</a><a href="#h2-0-141" id="h2-0-141" class="i">+ * This is to prevent stack overflows. */
</a><a href="#h2-0-142" id="h2-0-142" class="i">+#ifndef CJSON_CIRCULAR_LIMIT
</a><a href="#h2-0-143" id="h2-0-143" class="i">+#define CJSON_CIRCULAR_LIMIT 10000
</a><a href="#h2-0-144" id="h2-0-144" class="i">+#endif
</a><a href="#h2-0-145" id="h2-0-145" class="i">+
</a><a href="#h2-0-146" id="h2-0-146" class="i">+/* returns the version of cJSON as a string */
</a><a href="#h2-0-147" id="h2-0-147" class="i">+CJSON_PUBLIC(const char*) cJSON_Version(void);
</a><a href="#h2-0-148" id="h2-0-148" class="i">+
</a><a href="#h2-0-149" id="h2-0-149" class="i">+/* Supply malloc, realloc and free functions to cJSON */
</a><a href="#h2-0-150" id="h2-0-150" class="i">+CJSON_PUBLIC(void) cJSON_InitHooks(cJSON_Hooks* hooks);
</a><a href="#h2-0-151" id="h2-0-151" class="i">+
</a><a href="#h2-0-152" id="h2-0-152" class="i">+/* Memory Management: the caller is always responsible to free the results from all variants of cJSON_Parse (with cJSON_Delete) and cJSON_Print (with stdlib free, cJSON_Hooks.free_fn, or cJSON_free as appropriate). The exception is cJSON_PrintPreallocated, where the caller has full responsibility of the buffer. */
</a><a href="#h2-0-153" id="h2-0-153" class="i">+/* Supply a block of JSON, and this returns a cJSON object you can interrogate. */
</a><a href="#h2-0-154" id="h2-0-154" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Parse(const char *value);
</a><a href="#h2-0-155" id="h2-0-155" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLength(const char *value, size_t buffer_length);
</a><a href="#h2-0-156" id="h2-0-156" class="i">+/* ParseWithOpts allows you to require (and check) that the JSON is null terminated, and to retrieve the pointer to the final byte parsed. */
</a><a href="#h2-0-157" id="h2-0-157" class="i">+/* If you supply a ptr in return_parse_end and parsing fails, then return_parse_end will contain a pointer to the error so will match cJSON_GetErrorPtr(). */
</a><a href="#h2-0-158" id="h2-0-158" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithOpts(const char *value, const char **return_parse_end, cJSON_bool require_null_terminated);
</a><a href="#h2-0-159" id="h2-0-159" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLengthOpts(const char *value, size_t buffer_length, const char **return_parse_end, cJSON_bool require_null_terminated);
</a><a href="#h2-0-160" id="h2-0-160" class="i">+
</a><a href="#h2-0-161" id="h2-0-161" class="i">+/* Render a cJSON entity to text for transfer/storage. */
</a><a href="#h2-0-162" id="h2-0-162" class="i">+CJSON_PUBLIC(char *) cJSON_Print(const cJSON *item);
</a><a href="#h2-0-163" id="h2-0-163" class="i">+/* Render a cJSON entity to text for transfer/storage without any formatting. */
</a><a href="#h2-0-164" id="h2-0-164" class="i">+CJSON_PUBLIC(char *) cJSON_PrintUnformatted(const cJSON *item);
</a><a href="#h2-0-165" id="h2-0-165" class="i">+/* Render a cJSON entity to text using a buffered strategy. prebuffer is a guess at the final size. guessing well reduces reallocation. fmt=0 gives unformatted, =1 gives formatted */
</a><a href="#h2-0-166" id="h2-0-166" class="i">+CJSON_PUBLIC(char *) cJSON_PrintBuffered(const cJSON *item, int prebuffer, cJSON_bool fmt);
</a><a href="#h2-0-167" id="h2-0-167" class="i">+/* Render a cJSON entity to text using a buffer already allocated in memory with given length. Returns 1 on success and 0 on failure. */
</a><a href="#h2-0-168" id="h2-0-168" class="i">+/* NOTE: cJSON is not always 100% accurate in estimating how much memory it will use, so to be safe allocate 5 bytes more than you actually need */
</a><a href="#h2-0-169" id="h2-0-169" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_PrintPreallocated(cJSON *item, char *buffer, const int length, const cJSON_bool format);
</a><a href="#h2-0-170" id="h2-0-170" class="i">+/* Delete a cJSON entity and all subentities. */
</a><a href="#h2-0-171" id="h2-0-171" class="i">+CJSON_PUBLIC(void) cJSON_Delete(cJSON *item);
</a><a href="#h2-0-172" id="h2-0-172" class="i">+
</a><a href="#h2-0-173" id="h2-0-173" class="i">+/* Returns the number of items in an array (or object). */
</a><a href="#h2-0-174" id="h2-0-174" class="i">+CJSON_PUBLIC(int) cJSON_GetArraySize(const cJSON *array);
</a><a href="#h2-0-175" id="h2-0-175" class="i">+/* Retrieve item number &quot;index&quot; from array &quot;array&quot;. Returns NULL if unsuccessful. */
</a><a href="#h2-0-176" id="h2-0-176" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetArrayItem(const cJSON *array, int index);
</a><a href="#h2-0-177" id="h2-0-177" class="i">+/* Get item &quot;string&quot; from object. Case insensitive. */
</a><a href="#h2-0-178" id="h2-0-178" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItem(const cJSON * const object, const char * const string);
</a><a href="#h2-0-179" id="h2-0-179" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItemCaseSensitive(const cJSON * const object, const char * const string);
</a><a href="#h2-0-180" id="h2-0-180" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_HasObjectItem(const cJSON *object, const char *string);
</a><a href="#h2-0-181" id="h2-0-181" class="i">+/* For analysing failed parses. This returns a pointer to the parse error. You&#39;ll probably need to look a few chars back to make sense of it. Defined when cJSON_Parse() returns 0. 0 when cJSON_Parse() succeeds. */
</a><a href="#h2-0-182" id="h2-0-182" class="i">+CJSON_PUBLIC(const char *) cJSON_GetErrorPtr(void);
</a><a href="#h2-0-183" id="h2-0-183" class="i">+
</a><a href="#h2-0-184" id="h2-0-184" class="i">+/* Check item type and return its value */
</a><a href="#h2-0-185" id="h2-0-185" class="i">+CJSON_PUBLIC(char *) cJSON_GetStringValue(const cJSON * const item);
</a><a href="#h2-0-186" id="h2-0-186" class="i">+CJSON_PUBLIC(double) cJSON_GetNumberValue(const cJSON * const item);
</a><a href="#h2-0-187" id="h2-0-187" class="i">+
</a><a href="#h2-0-188" id="h2-0-188" class="i">+/* These functions check the type of an item */
</a><a href="#h2-0-189" id="h2-0-189" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsInvalid(const cJSON * const item);
</a><a href="#h2-0-190" id="h2-0-190" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsFalse(const cJSON * const item);
</a><a href="#h2-0-191" id="h2-0-191" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsTrue(const cJSON * const item);
</a><a href="#h2-0-192" id="h2-0-192" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsBool(const cJSON * const item);
</a><a href="#h2-0-193" id="h2-0-193" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNull(const cJSON * const item);
</a><a href="#h2-0-194" id="h2-0-194" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNumber(const cJSON * const item);
</a><a href="#h2-0-195" id="h2-0-195" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsString(const cJSON * const item);
</a><a href="#h2-0-196" id="h2-0-196" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsArray(const cJSON * const item);
</a><a href="#h2-0-197" id="h2-0-197" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsObject(const cJSON * const item);
</a><a href="#h2-0-198" id="h2-0-198" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsRaw(const cJSON * const item);
</a><a href="#h2-0-199" id="h2-0-199" class="i">+
</a><a href="#h2-0-200" id="h2-0-200" class="i">+/* These calls create a cJSON item of the appropriate type. */
</a><a href="#h2-0-201" id="h2-0-201" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNull(void);
</a><a href="#h2-0-202" id="h2-0-202" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateTrue(void);
</a><a href="#h2-0-203" id="h2-0-203" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFalse(void);
</a><a href="#h2-0-204" id="h2-0-204" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateBool(cJSON_bool boolean);
</a><a href="#h2-0-205" id="h2-0-205" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNumber(double num);
</a><a href="#h2-0-206" id="h2-0-206" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateString(const char *string);
</a><a href="#h2-0-207" id="h2-0-207" class="i">+/* raw json */
</a><a href="#h2-0-208" id="h2-0-208" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateRaw(const char *raw);
</a><a href="#h2-0-209" id="h2-0-209" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArray(void);
</a><a href="#h2-0-210" id="h2-0-210" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObject(void);
</a><a href="#h2-0-211" id="h2-0-211" class="i">+
</a><a href="#h2-0-212" id="h2-0-212" class="i">+/* Create a string where valuestring references a string so
</a><a href="#h2-0-213" id="h2-0-213" class="i">+ * it will not be freed by cJSON_Delete */
</a><a href="#h2-0-214" id="h2-0-214" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringReference(const char *string);
</a><a href="#h2-0-215" id="h2-0-215" class="i">+/* Create an object/array that only references it&#39;s elements so
</a><a href="#h2-0-216" id="h2-0-216" class="i">+ * they will not be freed by cJSON_Delete */
</a><a href="#h2-0-217" id="h2-0-217" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObjectReference(const cJSON *child);
</a><a href="#h2-0-218" id="h2-0-218" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArrayReference(const cJSON *child);
</a><a href="#h2-0-219" id="h2-0-219" class="i">+
</a><a href="#h2-0-220" id="h2-0-220" class="i">+/* These utilities create an Array of count items.
</a><a href="#h2-0-221" id="h2-0-221" class="i">+ * The parameter count cannot be greater than the number of elements in the number array, otherwise array access will be out of bounds.*/
</a><a href="#h2-0-222" id="h2-0-222" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateIntArray(const int *numbers, int count);
</a><a href="#h2-0-223" id="h2-0-223" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFloatArray(const float *numbers, int count);
</a><a href="#h2-0-224" id="h2-0-224" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateDoubleArray(const double *numbers, int count);
</a><a href="#h2-0-225" id="h2-0-225" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringArray(const char *const *strings, int count);
</a><a href="#h2-0-226" id="h2-0-226" class="i">+
</a><a href="#h2-0-227" id="h2-0-227" class="i">+/* Append item to the specified array/object. */
</a><a href="#h2-0-228" id="h2-0-228" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToArray(cJSON *array, cJSON *item);
</a><a href="#h2-0-229" id="h2-0-229" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObject(cJSON *object, const char *string, cJSON *item);
</a><a href="#h2-0-230" id="h2-0-230" class="i">+/* Use this when string is definitely const (i.e. a literal, or as good as), and will definitely survive the cJSON object.
</a><a href="#h2-0-231" id="h2-0-231" class="i">+ * WARNING: When this function was used, make sure to always check that (item-&gt;type &amp; cJSON_StringIsConst) is zero before
</a><a href="#h2-0-232" id="h2-0-232" class="i">+ * writing to `item-&gt;string` */
</a><a href="#h2-0-233" id="h2-0-233" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObjectCS(cJSON *object, const char *string, cJSON *item);
</a><a href="#h2-0-234" id="h2-0-234" class="i">+/* Append reference to item to the specified array/object. Use this when you want to add an existing cJSON to a new cJSON, but don&#39;t want to corrupt your existing cJSON. */
</a><a href="#h2-0-235" id="h2-0-235" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToArray(cJSON *array, cJSON *item);
</a><a href="#h2-0-236" id="h2-0-236" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToObject(cJSON *object, const char *string, cJSON *item);
</a><a href="#h2-0-237" id="h2-0-237" class="i">+
</a><a href="#h2-0-238" id="h2-0-238" class="i">+/* Remove/Detach items from Arrays/Objects. */
</a><a href="#h2-0-239" id="h2-0-239" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemViaPointer(cJSON *parent, cJSON * const item);
</a><a href="#h2-0-240" id="h2-0-240" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromArray(cJSON *array, int which);
</a><a href="#h2-0-241" id="h2-0-241" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromArray(cJSON *array, int which);
</a><a href="#h2-0-242" id="h2-0-242" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObject(cJSON *object, const char *string);
</a><a href="#h2-0-243" id="h2-0-243" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObjectCaseSensitive(cJSON *object, const char *string);
</a><a href="#h2-0-244" id="h2-0-244" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObject(cJSON *object, const char *string);
</a><a href="#h2-0-245" id="h2-0-245" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObjectCaseSensitive(cJSON *object, const char *string);
</a><a href="#h2-0-246" id="h2-0-246" class="i">+
</a><a href="#h2-0-247" id="h2-0-247" class="i">+/* Update array items. */
</a><a href="#h2-0-248" id="h2-0-248" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_InsertItemInArray(cJSON *array, int which, cJSON *newitem); /* Shifts pre-existing items to the right. */
</a><a href="#h2-0-249" id="h2-0-249" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemViaPointer(cJSON * const parent, cJSON * const item, cJSON * replacement);
</a><a href="#h2-0-250" id="h2-0-250" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInArray(cJSON *array, int which, cJSON *newitem);
</a><a href="#h2-0-251" id="h2-0-251" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObject(cJSON *object,const char *string,cJSON *newitem);
</a><a href="#h2-0-252" id="h2-0-252" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObjectCaseSensitive(cJSON *object,const char *string,cJSON *newitem);
</a><a href="#h2-0-253" id="h2-0-253" class="i">+
</a><a href="#h2-0-254" id="h2-0-254" class="i">+/* Duplicate a cJSON item */
</a><a href="#h2-0-255" id="h2-0-255" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Duplicate(const cJSON *item, cJSON_bool recurse);
</a><a href="#h2-0-256" id="h2-0-256" class="i">+/* Duplicate will create a new, identical cJSON item to the one you pass, in new memory that will
</a><a href="#h2-0-257" id="h2-0-257" class="i">+ * need to be released. With recurse!=0, it will duplicate any children connected to the item.
</a><a href="#h2-0-258" id="h2-0-258" class="i">+ * The item-&gt;next and -&gt;prev pointers are always zero on return from Duplicate. */
</a><a href="#h2-0-259" id="h2-0-259" class="i">+/* Recursively compare two cJSON items for equality. If either a or b is NULL or invalid, they will be considered unequal.
</a><a href="#h2-0-260" id="h2-0-260" class="i">+ * case_sensitive determines if object keys are treated case sensitive (1) or case insensitive (0) */
</a><a href="#h2-0-261" id="h2-0-261" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_Compare(const cJSON * const a, const cJSON * const b, const cJSON_bool case_sensitive);
</a><a href="#h2-0-262" id="h2-0-262" class="i">+
</a><a href="#h2-0-263" id="h2-0-263" class="i">+/* Minify a strings, remove blank characters(such as &#39; &#39;, &#39;\t&#39;, &#39;\r&#39;, &#39;\n&#39;) from strings.
</a><a href="#h2-0-264" id="h2-0-264" class="i">+ * The input pointer json cannot point to a read-only address area, such as a string constant, 
</a><a href="#h2-0-265" id="h2-0-265" class="i">+ * but should point to a readable and writable address area. */
</a><a href="#h2-0-266" id="h2-0-266" class="i">+CJSON_PUBLIC(void) cJSON_Minify(char *json);
</a><a href="#h2-0-267" id="h2-0-267" class="i">+
</a><a href="#h2-0-268" id="h2-0-268" class="i">+/* Helper functions for creating and adding items to an object at the same time.
</a><a href="#h2-0-269" id="h2-0-269" class="i">+ * They return the added item or NULL on failure. */
</a><a href="#h2-0-270" id="h2-0-270" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNullToObject(cJSON * const object, const char * const name);
</a><a href="#h2-0-271" id="h2-0-271" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddTrueToObject(cJSON * const object, const char * const name);
</a><a href="#h2-0-272" id="h2-0-272" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddFalseToObject(cJSON * const object, const char * const name);
</a><a href="#h2-0-273" id="h2-0-273" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddBoolToObject(cJSON * const object, const char * const name, const cJSON_bool boolean);
</a><a href="#h2-0-274" id="h2-0-274" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNumberToObject(cJSON * const object, const char * const name, const double number);
</a><a href="#h2-0-275" id="h2-0-275" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddStringToObject(cJSON * const object, const char * const name, const char * const string);
</a><a href="#h2-0-276" id="h2-0-276" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddRawToObject(cJSON * const object, const char * const name, const char * const raw);
</a><a href="#h2-0-277" id="h2-0-277" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddObjectToObject(cJSON * const object, const char * const name);
</a><a href="#h2-0-278" id="h2-0-278" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddArrayToObject(cJSON * const object, const char * const name);
</a><a href="#h2-0-279" id="h2-0-279" class="i">+
</a><a href="#h2-0-280" id="h2-0-280" class="i">+/* When assigning an integer value, it needs to be propagated to valuedouble too. */
</a><a href="#h2-0-281" id="h2-0-281" class="i">+#define cJSON_SetIntValue(object, number) ((object) ? (object)-&gt;valueint = (object)-&gt;valuedouble = (number) : (number))
</a><a href="#h2-0-282" id="h2-0-282" class="i">+/* helper for the cJSON_SetNumberValue macro */
</a><a href="#h2-0-283" id="h2-0-283" class="i">+CJSON_PUBLIC(double) cJSON_SetNumberHelper(cJSON *object, double number);
</a><a href="#h2-0-284" id="h2-0-284" class="i">+#define cJSON_SetNumberValue(object, number) ((object != NULL) ? cJSON_SetNumberHelper(object, (double)number) : (number))
</a><a href="#h2-0-285" id="h2-0-285" class="i">+/* Change the valuestring of a cJSON_String object, only takes effect when type of object is cJSON_String */
</a><a href="#h2-0-286" id="h2-0-286" class="i">+CJSON_PUBLIC(char*) cJSON_SetValuestring(cJSON *object, const char *valuestring);
</a><a href="#h2-0-287" id="h2-0-287" class="i">+
</a><a href="#h2-0-288" id="h2-0-288" class="i">+/* If the object is not a boolean type this does nothing and returns cJSON_Invalid else it returns the new type*/
</a><a href="#h2-0-289" id="h2-0-289" class="i">+#define cJSON_SetBoolValue(object, boolValue) ( \
</a><a href="#h2-0-290" id="h2-0-290" class="i">+    (object != NULL &amp;&amp; ((object)-&gt;type &amp; (cJSON_False|cJSON_True))) ? \
</a><a href="#h2-0-291" id="h2-0-291" class="i">+    (object)-&gt;type=((object)-&gt;type &amp;(~(cJSON_False|cJSON_True)))|((boolValue)?cJSON_True:cJSON_False) : \
</a><a href="#h2-0-292" id="h2-0-292" class="i">+    cJSON_Invalid\
</a><a href="#h2-0-293" id="h2-0-293" class="i">+)
</a><a href="#h2-0-294" id="h2-0-294" class="i">+
</a><a href="#h2-0-295" id="h2-0-295" class="i">+/* Macro for iterating over an array or object */
</a><a href="#h2-0-296" id="h2-0-296" class="i">+#define cJSON_ArrayForEach(element, array) for(element = (array != NULL) ? (array)-&gt;child : NULL; element != NULL; element = element-&gt;next)
</a><a href="#h2-0-297" id="h2-0-297" class="i">+
</a><a href="#h2-0-298" id="h2-0-298" class="i">+/* malloc/free objects using the malloc/free functions that have been set with cJSON_InitHooks */
</a><a href="#h2-0-299" id="h2-0-299" class="i">+CJSON_PUBLIC(void *) cJSON_malloc(size_t size);
</a><a href="#h2-0-300" id="h2-0-300" class="i">+CJSON_PUBLIC(void) cJSON_free(void *object);
</a><a href="#h2-0-301" id="h2-0-301" class="i">+
</a><a href="#h2-0-302" id="h2-0-302" class="i">+#ifdef __cplusplus
</a><a href="#h2-0-303" id="h2-0-303" class="i">+}
</a><a href="#h2-0-304" id="h2-0-304" class="i">+#endif
</a><a href="#h2-0-305" id="h2-0-305" class="i">+
</a><a href="#h2-0-306" id="h2-0-306" class="i">+#endif
</a><b>diff --git a/<a id="h3" href="../file/get_lang.c.html">get_lang.c</a> b/<a href="../file/get_lang.c.html">get_lang.c</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,189 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+/*
</a><a href="#h3-0-1" id="h3-0-1" class="i">+ * Author: Abdul Rahim(C) 2024
</a><a href="#h3-0-2" id="h3-0-2" class="i">+ */
</a><a href="#h3-0-3" id="h3-0-3" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h3-0-4" id="h3-0-4" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h3-0-5" id="h3-0-5" class="i">+#include &lt;string.h&gt;
</a><a href="#h3-0-6" id="h3-0-6" class="i">+#include &lt;ctype.h&gt;
</a><a href="#h3-0-7" id="h3-0-7" class="i">+#include &quot;cJSON.h&quot;
</a><a href="#h3-0-8" id="h3-0-8" class="i">+
</a><a href="#h3-0-9" id="h3-0-9" class="i">+char* to_lower(const char *upper)
</a><a href="#h3-0-10" id="h3-0-10" class="i">+{
</a><a href="#h3-0-11" id="h3-0-11" class="i">+	char* str = (char *) malloc(strlen(upper) + 1 );
</a><a href="#h3-0-12" id="h3-0-12" class="i">+	if (!str)
</a><a href="#h3-0-13" id="h3-0-13" class="i">+		return NULL;
</a><a href="#h3-0-14" id="h3-0-14" class="i">+	
</a><a href="#h3-0-15" id="h3-0-15" class="i">+	int i;
</a><a href="#h3-0-16" id="h3-0-16" class="i">+	for (i = 0; upper[i] ; i++) {
</a><a href="#h3-0-17" id="h3-0-17" class="i">+		str[i] = tolower(upper[i]);
</a><a href="#h3-0-18" id="h3-0-18" class="i">+	}
</a><a href="#h3-0-19" id="h3-0-19" class="i">+	str[i] = &#39;\0&#39;;
</a><a href="#h3-0-20" id="h3-0-20" class="i">+	printf(&quot;lowercased: %s\n&quot;, str);
</a><a href="#h3-0-21" id="h3-0-21" class="i">+	return str;
</a><a href="#h3-0-22" id="h3-0-22" class="i">+}
</a><a href="#h3-0-23" id="h3-0-23" class="i">+
</a><a href="#h3-0-24" id="h3-0-24" class="i">+char *get_file_extension(const char *filename_arg)
</a><a href="#h3-0-25" id="h3-0-25" class="i">+{
</a><a href="#h3-0-26" id="h3-0-26" class="i">+	char *filename = to_lower(filename_arg);
</a><a href="#h3-0-27" id="h3-0-27" class="i">+	if (!filename)
</a><a href="#h3-0-28" id="h3-0-28" class="i">+		strcpy(filename, filename_arg);
</a><a href="#h3-0-29" id="h3-0-29" class="i">+	char *dot = strrchr(filename, &#39;.&#39;);
</a><a href="#h3-0-30" id="h3-0-30" class="i">+	if (dot &amp;&amp; dot != filename) {
</a><a href="#h3-0-31" id="h3-0-31" class="i">+		/* dot is the pointer to last occurence of &#39;.&#39;
</a><a href="#h3-0-32" id="h3-0-32" class="i">+		 */
</a><a href="#h3-0-33" id="h3-0-33" class="i">+		return dot+1;
</a><a href="#h3-0-34" id="h3-0-34" class="i">+	}
</a><a href="#h3-0-35" id="h3-0-35" class="i">+	else {
</a><a href="#h3-0-36" id="h3-0-36" class="i">+		return NULL;
</a><a href="#h3-0-37" id="h3-0-37" class="i">+	}
</a><a href="#h3-0-38" id="h3-0-38" class="i">+}
</a><a href="#h3-0-39" id="h3-0-39" class="i">+
</a><a href="#h3-0-40" id="h3-0-40" class="i">+const char* get_language_by_extension(const char *extension, cJSON *langMap)
</a><a href="#h3-0-41" id="h3-0-41" class="i">+{
</a><a href="#h3-0-42" id="h3-0-42" class="i">+	cJSON *languageItem;
</a><a href="#h3-0-43" id="h3-0-43" class="i">+	cJSON_ArrayForEach(languageItem, langMap) {
</a><a href="#h3-0-44" id="h3-0-44" class="i">+		const char *language = languageItem-&gt;string;
</a><a href="#h3-0-45" id="h3-0-45" class="i">+		cJSON *extensions = cJSON_GetObjectItemCaseSensitive(langMap, language);
</a><a href="#h3-0-46" id="h3-0-46" class="i">+		cJSON *extItem;
</a><a href="#h3-0-47" id="h3-0-47" class="i">+		cJSON_ArrayForEach(extItem, extensions) {
</a><a href="#h3-0-48" id="h3-0-48" class="i">+			if (strcmp(extension, extItem-&gt;valuestring) == 0)
</a><a href="#h3-0-49" id="h3-0-49" class="i">+				return language;
</a><a href="#h3-0-50" id="h3-0-50" class="i">+		}
</a><a href="#h3-0-51" id="h3-0-51" class="i">+	}
</a><a href="#h3-0-52" id="h3-0-52" class="i">+	
</a><a href="#h3-0-53" id="h3-0-53" class="i">+	return NULL;
</a><a href="#h3-0-54" id="h3-0-54" class="i">+}
</a><a href="#h3-0-55" id="h3-0-55" class="i">+
</a><a href="#h3-0-56" id="h3-0-56" class="i">+cJSON* loadLangMapFromFile()
</a><a href="#h3-0-57" id="h3-0-57" class="i">+{
</a><a href="#h3-0-58" id="h3-0-58" class="i">+	/*
</a><a href="#h3-0-59" id="h3-0-59" class="i">+	 * c string that contains JSON is in json_string
</a><a href="#h3-0-60" id="h3-0-60" class="i">+	 */
</a><a href="#h3-0-61" id="h3-0-61" class="i">+	cJSON *langMap = cJSON_Parse(json_string);
</a><a href="#h3-0-62" id="h3-0-62" class="i">+	return langMap;
</a><a href="#h3-0-63" id="h3-0-63" class="i">+}
</a><a href="#h3-0-64" id="h3-0-64" class="i">+
</a><a href="#h3-0-65" id="h3-0-65" class="i">+const char *get_lang(const char* filename)
</a><a href="#h3-0-66" id="h3-0-66" class="i">+{	
</a><a href="#h3-0-67" id="h3-0-67" class="i">+	cJSON *langMap = loadLangMapFromFile();
</a><a href="#h3-0-68" id="h3-0-68" class="i">+	if (!langMap)
</a><a href="#h3-0-69" id="h3-0-69" class="i">+		return NULL;
</a><a href="#h3-0-70" id="h3-0-70" class="i">+	
</a><a href="#h3-0-71" id="h3-0-71" class="i">+	char *extension = get_file_extension(filename);
</a><a href="#h3-0-72" id="h3-0-72" class="i">+	if (!extension) {
</a><a href="#h3-0-73" id="h3-0-73" class="i">+		cJSON_Delete(langMap);
</a><a href="#h3-0-74" id="h3-0-74" class="i">+		return NULL;
</a><a href="#h3-0-75" id="h3-0-75" class="i">+	}
</a><a href="#h3-0-76" id="h3-0-76" class="i">+	
</a><a href="#h3-0-77" id="h3-0-77" class="i">+	const char *language = get_language_by_extension(extension, langMap);
</a><a href="#h3-0-78" id="h3-0-78" class="i">+	if (language) {
</a><a href="#h3-0-79" id="h3-0-79" class="i">+		return language;
</a><a href="#h3-0-80" id="h3-0-80" class="i">+	} else {
</a><a href="#h3-0-81" id="h3-0-81" class="i">+		return NULL;
</a><a href="#h3-0-82" id="h3-0-82" class="i">+	}
</a><a href="#h3-0-83" id="h3-0-83" class="i">+}
</a><a href="#h3-0-84" id="h3-0-84" class="i">+
</a><a href="#h3-0-85" id="h3-0-85" class="i">+//int main()
</a><a href="#h3-0-86" id="h3-0-86" class="i">+//{
</a><a href="#h3-0-87" id="h3-0-87" class="i">+//    // Test Case 1: Standard Extensions
</a><a href="#h3-0-88" id="h3-0-88" class="i">+//    printf(&quot;Input: program.c\n&quot;);
</a><a href="#h3-0-89" id="h3-0-89" class="i">+//    get_lang(&quot;program.c&quot;);       // Expected output: C
</a><a href="#h3-0-90" id="h3-0-90" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-91" id="h3-0-91" class="i">+//
</a><a href="#h3-0-92" id="h3-0-92" class="i">+//    printf(&quot;Input: script.py\n&quot;);
</a><a href="#h3-0-93" id="h3-0-93" class="i">+//    get_lang(&quot;script.py&quot;);       // Expected output: Python
</a><a href="#h3-0-94" id="h3-0-94" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-95" id="h3-0-95" class="i">+//
</a><a href="#h3-0-96" id="h3-0-96" class="i">+//    printf(&quot;Input: document.java\n&quot;);
</a><a href="#h3-0-97" id="h3-0-97" class="i">+//    get_lang(&quot;document.java&quot;);   // Expected output: Java
</a><a href="#h3-0-98" id="h3-0-98" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-99" id="h3-0-99" class="i">+//
</a><a href="#h3-0-100" id="h3-0-100" class="i">+//    printf(&quot;Input: webpage.html\n&quot;);
</a><a href="#h3-0-101" id="h3-0-101" class="i">+//    get_lang(&quot;webpage.html&quot;);    // Expected output: HTML
</a><a href="#h3-0-102" id="h3-0-102" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-103" id="h3-0-103" class="i">+//
</a><a href="#h3-0-104" id="h3-0-104" class="i">+//    // Test Case 2: No Extension
</a><a href="#h3-0-105" id="h3-0-105" class="i">+//    printf(&quot;Input: file_without_extension\n&quot;);
</a><a href="#h3-0-106" id="h3-0-106" class="i">+//    get_lang(&quot;file_without_extension&quot;);  // Expected output: No language found
</a><a href="#h3-0-107" id="h3-0-107" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-108" id="h3-0-108" class="i">+//
</a><a href="#h3-0-109" id="h3-0-109" class="i">+//    printf(&quot;Input: path/to/directory/file\n&quot;);
</a><a href="#h3-0-110" id="h3-0-110" class="i">+//    get_lang(&quot;path/to/directory/file&quot;);  // Expected output: No language found
</a><a href="#h3-0-111" id="h3-0-111" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-112" id="h3-0-112" class="i">+//
</a><a href="#h3-0-113" id="h3-0-113" class="i">+//    // Test Case 3: Dot Files (Hidden Files on UNIX Systems)
</a><a href="#h3-0-114" id="h3-0-114" class="i">+//    printf(&quot;Input: .hiddenfile\n&quot;);
</a><a href="#h3-0-115" id="h3-0-115" class="i">+//    get_lang(&quot;.hiddenfile&quot;);      // Expected output: No language found
</a><a href="#h3-0-116" id="h3-0-116" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-117" id="h3-0-117" class="i">+//
</a><a href="#h3-0-118" id="h3-0-118" class="i">+//    printf(&quot;Input: /path/.config\n&quot;);
</a><a href="#h3-0-119" id="h3-0-119" class="i">+//    get_lang(&quot;/path/.config&quot;);    // Expected output: No language found
</a><a href="#h3-0-120" id="h3-0-120" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-121" id="h3-0-121" class="i">+//
</a><a href="#h3-0-122" id="h3-0-122" class="i">+//    // Test Case 4: Files with Multiple Dots
</a><a href="#h3-0-123" id="h3-0-123" class="i">+//    printf(&quot;Input: archive.tar.gz\n&quot;);
</a><a href="#h3-0-124" id="h3-0-124" class="i">+//    get_lang(&quot;archive.tar.gz&quot;);      // Expected output: GZip (or Tar if multiple extensions are supported)
</a><a href="#h3-0-125" id="h3-0-125" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-126" id="h3-0-126" class="i">+//
</a><a href="#h3-0-127" id="h3-0-127" class="i">+//    printf(&quot;Input: backup.data.sql\n&quot;);
</a><a href="#h3-0-128" id="h3-0-128" class="i">+//    get_lang(&quot;backup.data.sql&quot;);     // Expected output: SQL
</a><a href="#h3-0-129" id="h3-0-129" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-130" id="h3-0-130" class="i">+//
</a><a href="#h3-0-131" id="h3-0-131" class="i">+//    printf(&quot;Input: path/to/file.min.js\n&quot;);
</a><a href="#h3-0-132" id="h3-0-132" class="i">+//    get_lang(&quot;path/to/file.min.js&quot;); // Expected output: JavaScript
</a><a href="#h3-0-133" id="h3-0-133" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-134" id="h3-0-134" class="i">+//
</a><a href="#h3-0-135" id="h3-0-135" class="i">+//    // Test Case 5: Files with Double Dots
</a><a href="#h3-0-136" id="h3-0-136" class="i">+//    printf(&quot;Input: file..py\n&quot;);
</a><a href="#h3-0-137" id="h3-0-137" class="i">+//    get_lang(&quot;file..py&quot;);   // Expected output: Python
</a><a href="#h3-0-138" id="h3-0-138" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-139" id="h3-0-139" class="i">+//
</a><a href="#h3-0-140" id="h3-0-140" class="i">+//    printf(&quot;Input: weird..ext..c\n&quot;);
</a><a href="#h3-0-141" id="h3-0-141" class="i">+//    get_lang(&quot;weird..ext..c&quot;); // Expected output: C
</a><a href="#h3-0-142" id="h3-0-142" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-143" id="h3-0-143" class="i">+//
</a><a href="#h3-0-144" id="h3-0-144" class="i">+//    // Test Case 6: Trailing Dots (No Extension After)
</a><a href="#h3-0-145" id="h3-0-145" class="i">+//    printf(&quot;Input: file_with_trailing_dot.\n&quot;);
</a><a href="#h3-0-146" id="h3-0-146" class="i">+//    get_lang(&quot;file_with_trailing_dot.&quot;);    // Expected output: No language found
</a><a href="#h3-0-147" id="h3-0-147" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-148" id="h3-0-148" class="i">+//
</a><a href="#h3-0-149" id="h3-0-149" class="i">+//    printf(&quot;Input: file_with..trailing_dots..\n&quot;);
</a><a href="#h3-0-150" id="h3-0-150" class="i">+//    get_lang(&quot;file_with..trailing_dots..&quot;); // Expected output: No language found
</a><a href="#h3-0-151" id="h3-0-151" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-152" id="h3-0-152" class="i">+//
</a><a href="#h3-0-153" id="h3-0-153" class="i">+//    // Test Case 7: Case Insensitivity
</a><a href="#h3-0-154" id="h3-0-154" class="i">+//    printf(&quot;Input: script.PY\n&quot;);
</a><a href="#h3-0-155" id="h3-0-155" class="i">+//    get_lang(&quot;script.PY&quot;);     // Expected output: Python
</a><a href="#h3-0-156" id="h3-0-156" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-157" id="h3-0-157" class="i">+//
</a><a href="#h3-0-158" id="h3-0-158" class="i">+//    printf(&quot;Input: program.JAVA\n&quot;);
</a><a href="#h3-0-159" id="h3-0-159" class="i">+//    get_lang(&quot;program.JAVA&quot;);  // Expected output: Java
</a><a href="#h3-0-160" id="h3-0-160" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-161" id="h3-0-161" class="i">+//
</a><a href="#h3-0-162" id="h3-0-162" class="i">+//    printf(&quot;Input: index.HTML\n&quot;);
</a><a href="#h3-0-163" id="h3-0-163" class="i">+//    get_lang(&quot;index.HTML&quot;);    // Expected output: HTML
</a><a href="#h3-0-164" id="h3-0-164" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-165" id="h3-0-165" class="i">+//
</a><a href="#h3-0-166" id="h3-0-166" class="i">+//    // Test Case 8: Non-Programming Extensions
</a><a href="#h3-0-167" id="h3-0-167" class="i">+//    printf(&quot;Input: photo.jpg\n&quot;);
</a><a href="#h3-0-168" id="h3-0-168" class="i">+//    get_lang(&quot;photo.jpg&quot;);     // Expected output: No language found
</a><a href="#h3-0-169" id="h3-0-169" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-170" id="h3-0-170" class="i">+//
</a><a href="#h3-0-171" id="h3-0-171" class="i">+//    printf(&quot;Input: document.pdf\n&quot;);
</a><a href="#h3-0-172" id="h3-0-172" class="i">+//    get_lang(&quot;document.pdf&quot;);  // Expected output: No language found
</a><a href="#h3-0-173" id="h3-0-173" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-174" id="h3-0-174" class="i">+//
</a><a href="#h3-0-175" id="h3-0-175" class="i">+//    // Test Case 9: Invalid File Path
</a><a href="#h3-0-176" id="h3-0-176" class="i">+//    printf(&quot;Input: /invalid/path/file\n&quot;);
</a><a href="#h3-0-177" id="h3-0-177" class="i">+//    get_lang(&quot;/invalid/path/file&quot;);  // Expected output: No language found
</a><a href="#h3-0-178" id="h3-0-178" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-179" id="h3-0-179" class="i">+//
</a><a href="#h3-0-180" id="h3-0-180" class="i">+//    // Test Case 10: Language Map File Missing
</a><a href="#h3-0-181" id="h3-0-181" class="i">+//    // Rename or remove exts.json and run the program
</a><a href="#h3-0-182" id="h3-0-182" class="i">+//    printf(&quot;Input: file.py\n&quot;);
</a><a href="#h3-0-183" id="h3-0-183" class="i">+//    get_lang(&quot;file.py&quot;);  // Expected output: Unable to open file: exts.json
</a><a href="#h3-0-184" id="h3-0-184" class="i">+//printf(&quot;\n&quot;);
</a><a href="#h3-0-185" id="h3-0-185" class="i">+//
</a><a href="#h3-0-186" id="h3-0-186" class="i">+//    return 0;
</a><a href="#h3-0-187" id="h3-0-187" class="i">+//}
</a><a href="#h3-0-188" id="h3-0-188" class="i">+//
</a><b>diff --git a/<a id="h4" href="../file/get_lang.h.html">get_lang.h</a> b/<a href="../file/get_lang.h.html">get_lang.h</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,2 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+#undef get_lang
</a><a href="#h4-0-1" id="h4-0-1" class="i">+const char *get_lang(const char* filename);
</a></pre>
</div>
</body>
</html>
