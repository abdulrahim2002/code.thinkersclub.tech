<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>init - codeview - A light and fast web based git repository viewer
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="codeview Atom Feed" href="../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="codeview Atom Feed (tags)" href="../tags.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></script>
<script> hljs.highlightAll() ;</script>
<style>pre code.hljs {display: inline;padding: 0; font-family: "Source Code Pro", monospace;font-optical-sizing: auto;font-weight: 500;font-style: normal; } code.hljs {padding: 0;} .hljs {background: initial;} .hljs-comment{color: rgb(96, 96, 96);}</style></head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>codeview</h1><span class="desc">A light and fast web based git repository viewer
</span></td></tr><tr><td></td><td>
<br>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/194ad32883683c868d3b4b72d364f3cfebd66864.html">194ad32883683c868d3b4b72d364f3cfebd66864</a>
<b>Author:</b> Abdul Rahim &lt;<a href="mailto:abdul.rahim@myyahoo.com">abdul.rahim@myyahoo.com</a>&gt;
<b>Date:</b>   Mon, 30 Sep 2024 15:37:27 +0530

init

<b>Diffstat:</b>
<table><tr><td class="A">A</td><td><a href="#h0">.get_lang.h.swp</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h1">LICENSE</a></td><td> | </td><td class="num">21</td><td><span class="i">+++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">Makefile</a></td><td> | </td><td class="num">113</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h3">README</a></td><td> | </td><td class="num">186</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h4">cJSON.c</a></td><td> | </td><td class="num">3164</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h5">cJSON.h</a></td><td> | </td><td class="num">306</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h6">compat.h</a></td><td> | </td><td class="num">6</td><td><span class="i">++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h7">example_create.sh</a></td><td> | </td><td class="num">43</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h8">example_post-receive.sh</a></td><td> | </td><td class="num">73</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h9">exts.json</a></td><td> | </td><td class="num">1578</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h10">favicon.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h11">get_lang.c</a></td><td> | </td><td class="num">87</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h12">get_lang.h</a></td><td> | </td><td class="num">1</td><td><span class="i">+</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h13">logo.png</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h14">reallocarray.c</a></td><td> | </td><td class="num">39</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h15">reallocarray.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h16">stagit</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h17">stagit-index</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h18">stagit-index.1</a></td><td> | </td><td class="num">47</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h19">stagit-index.c</a></td><td> | </td><td class="num">263</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h20">stagit-index.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h21">stagit.1</a></td><td> | </td><td class="num">125</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h22">stagit.c</a></td><td> | </td><td class="num">1487</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h23">stagit.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h24">strlcat.c</a></td><td> | </td><td class="num">57</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h25">strlcat.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h26">strlcpy.c</a></td><td> | </td><td class="num">52</td><td><span class="i">++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h27">strlcpy.o</a></td><td> | </td><td class="num">0</td><td><span class="i"></span><span class="d"></span></td></tr>
<tr><td class="A">A</td><td><a href="#h28">style.css</a></td><td> | </td><td class="num">154</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
</table></pre><pre>29 files changed, 7802 insertions(+), 0 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/.get_lang.h.swp.html">.get_lang.h.swp</a> b/<a href="../file/.get_lang.h.swp.html">.get_lang.h.swp</a></b>
Binary files differ.
<b>diff --git a/<a id="h1" href="../file/LICENSE.html">LICENSE</a> b/<a href="../file/LICENSE.html">LICENSE</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -0,0 +1,21 @@
</a><a href="#h1-0-0" id="h1-0-0" class="i">+MIT/X Consortium License
</a><a href="#h1-0-1" id="h1-0-1" class="i">+
</a><a href="#h1-0-2" id="h1-0-2" class="i">+(c) 2015-2024 Hiltjo Posthuma &lt;hiltjo@codemadness.org&gt;
</a><a href="#h1-0-3" id="h1-0-3" class="i">+
</a><a href="#h1-0-4" id="h1-0-4" class="i">+Permission is hereby granted, free of charge, to any person obtaining a
</a><a href="#h1-0-5" id="h1-0-5" class="i">+copy of this software and associated documentation files (the &quot;Software&quot;),
</a><a href="#h1-0-6" id="h1-0-6" class="i">+to deal in the Software without restriction, including without limitation
</a><a href="#h1-0-7" id="h1-0-7" class="i">+the rights to use, copy, modify, merge, publish, distribute, sublicense,
</a><a href="#h1-0-8" id="h1-0-8" class="i">+and/or sell copies of the Software, and to permit persons to whom the
</a><a href="#h1-0-9" id="h1-0-9" class="i">+Software is furnished to do so, subject to the following conditions:
</a><a href="#h1-0-10" id="h1-0-10" class="i">+
</a><a href="#h1-0-11" id="h1-0-11" class="i">+The above copyright notice and this permission notice shall be included in
</a><a href="#h1-0-12" id="h1-0-12" class="i">+all copies or substantial portions of the Software.
</a><a href="#h1-0-13" id="h1-0-13" class="i">+
</a><a href="#h1-0-14" id="h1-0-14" class="i">+THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h1-0-15" id="h1-0-15" class="i">+IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h1-0-16" id="h1-0-16" class="i">+FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
</a><a href="#h1-0-17" id="h1-0-17" class="i">+THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h1-0-18" id="h1-0-18" class="i">+LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
</a><a href="#h1-0-19" id="h1-0-19" class="i">+FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
</a><a href="#h1-0-20" id="h1-0-20" class="i">+DEALINGS IN THE SOFTWARE.
</a><b>diff --git a/<a id="h2" href="../file/Makefile.html">Makefile</a> b/<a href="../file/Makefile.html">Makefile</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,113 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+.POSIX:
</a><a href="#h2-0-1" id="h2-0-1" class="i">+
</a><a href="#h2-0-2" id="h2-0-2" class="i">+NAME = stagit
</a><a href="#h2-0-3" id="h2-0-3" class="i">+VERSION = 1.2
</a><a href="#h2-0-4" id="h2-0-4" class="i">+
</a><a href="#h2-0-5" id="h2-0-5" class="i">+# paths
</a><a href="#h2-0-6" id="h2-0-6" class="i">+PREFIX = /usr/local
</a><a href="#h2-0-7" id="h2-0-7" class="i">+MANPREFIX = ${PREFIX}/man
</a><a href="#h2-0-8" id="h2-0-8" class="i">+DOCPREFIX = ${PREFIX}/share/doc/${NAME}
</a><a href="#h2-0-9" id="h2-0-9" class="i">+
</a><a href="#h2-0-10" id="h2-0-10" class="i">+LIBGIT_INC = -I/usr/local/include -I$(PWD)/include
</a><a href="#h2-0-11" id="h2-0-11" class="i">+LIBGIT_LIB = -L/usr/local/lib -lgit2
</a><a href="#h2-0-12" id="h2-0-12" class="i">+
</a><a href="#h2-0-13" id="h2-0-13" class="i">+# use system flags.
</a><a href="#h2-0-14" id="h2-0-14" class="i">+STAGIT_CFLAGS = ${LIBGIT_INC} ${CFLAGS} -lm -Wall
</a><a href="#h2-0-15" id="h2-0-15" class="i">+STAGIT_LDFLAGS = ${LIBGIT_LIB} ${LDFLAGS}
</a><a href="#h2-0-16" id="h2-0-16" class="i">+STAGIT_CPPFLAGS = -D_XOPEN_SOURCE=700 -D_DEFAULT_SOURCE -D_BSD_SOURCE
</a><a href="#h2-0-17" id="h2-0-17" class="i">+
</a><a href="#h2-0-18" id="h2-0-18" class="i">+# Uncomment to enable workaround for older libgit2 which don&#39;t support this
</a><a href="#h2-0-19" id="h2-0-19" class="i">+# option. This workaround will be removed in the future *pinky promise*.
</a><a href="#h2-0-20" id="h2-0-20" class="i">+#STAGIT_CFLAGS += -DGIT_OPT_SET_OWNER_VALIDATION=-1
</a><a href="#h2-0-21" id="h2-0-21" class="i">+
</a><a href="#h2-0-22" id="h2-0-22" class="i">+SRC = \
</a><a href="#h2-0-23" id="h2-0-23" class="i">+	stagit.c\
</a><a href="#h2-0-24" id="h2-0-24" class="i">+	stagit-index.c
</a><a href="#h2-0-25" id="h2-0-25" class="i">+COMPATSRC = \
</a><a href="#h2-0-26" id="h2-0-26" class="i">+	reallocarray.c\
</a><a href="#h2-0-27" id="h2-0-27" class="i">+	strlcat.c\
</a><a href="#h2-0-28" id="h2-0-28" class="i">+	strlcpy.c
</a><a href="#h2-0-29" id="h2-0-29" class="i">+BIN = \
</a><a href="#h2-0-30" id="h2-0-30" class="i">+	stagit\
</a><a href="#h2-0-31" id="h2-0-31" class="i">+	stagit-index
</a><a href="#h2-0-32" id="h2-0-32" class="i">+MAN1 = \
</a><a href="#h2-0-33" id="h2-0-33" class="i">+	stagit.1\
</a><a href="#h2-0-34" id="h2-0-34" class="i">+	stagit-index.1
</a><a href="#h2-0-35" id="h2-0-35" class="i">+DOC = \
</a><a href="#h2-0-36" id="h2-0-36" class="i">+	LICENSE\
</a><a href="#h2-0-37" id="h2-0-37" class="i">+	README
</a><a href="#h2-0-38" id="h2-0-38" class="i">+HDR = compat.h cJSON.h
</a><a href="#h2-0-39" id="h2-0-39" class="i">+
</a><a href="#h2-0-40" id="h2-0-40" class="i">+COMPATOBJ = \
</a><a href="#h2-0-41" id="h2-0-41" class="i">+	reallocarray.o\
</a><a href="#h2-0-42" id="h2-0-42" class="i">+	strlcat.o\
</a><a href="#h2-0-43" id="h2-0-43" class="i">+	strlcpy.o
</a><a href="#h2-0-44" id="h2-0-44" class="i">+
</a><a href="#h2-0-45" id="h2-0-45" class="i">+OBJ = ${SRC:.c=.o} ${COMPATOBJ}
</a><a href="#h2-0-46" id="h2-0-46" class="i">+
</a><a href="#h2-0-47" id="h2-0-47" class="i">+all: ${BIN}
</a><a href="#h2-0-48" id="h2-0-48" class="i">+
</a><a href="#h2-0-49" id="h2-0-49" class="i">+.o:
</a><a href="#h2-0-50" id="h2-0-50" class="i">+	${CC} -o $@ ${LDFLAGS}
</a><a href="#h2-0-51" id="h2-0-51" class="i">+
</a><a href="#h2-0-52" id="h2-0-52" class="i">+.c.o:
</a><a href="#h2-0-53" id="h2-0-53" class="i">+	${CC} -o $@ -c $&lt; ${STAGIT_CFLAGS} ${STAGIT_CPPFLAGS}
</a><a href="#h2-0-54" id="h2-0-54" class="i">+
</a><a href="#h2-0-55" id="h2-0-55" class="i">+dist:
</a><a href="#h2-0-56" id="h2-0-56" class="i">+	rm -rf ${NAME}-${VERSION}
</a><a href="#h2-0-57" id="h2-0-57" class="i">+	mkdir -p ${NAME}-${VERSION}
</a><a href="#h2-0-58" id="h2-0-58" class="i">+	cp -f ${MAN1} ${HDR} ${SRC} ${COMPATSRC} ${DOC} \
</a><a href="#h2-0-59" id="h2-0-59" class="i">+		Makefile favicon.png logo.png style.css \
</a><a href="#h2-0-60" id="h2-0-60" class="i">+		example_create.sh example_post-receive.sh \
</a><a href="#h2-0-61" id="h2-0-61" class="i">+		${NAME}-${VERSION}
</a><a href="#h2-0-62" id="h2-0-62" class="i">+	# make tarball
</a><a href="#h2-0-63" id="h2-0-63" class="i">+	tar -cf - ${NAME}-${VERSION} | \
</a><a href="#h2-0-64" id="h2-0-64" class="i">+		gzip -c &gt; ${NAME}-${VERSION}.tar.gz
</a><a href="#h2-0-65" id="h2-0-65" class="i">+	rm -rf ${NAME}-${VERSION}
</a><a href="#h2-0-66" id="h2-0-66" class="i">+
</a><a href="#h2-0-67" id="h2-0-67" class="i">+${OBJ}: ${HDR}
</a><a href="#h2-0-68" id="h2-0-68" class="i">+
</a><a href="#h2-0-69" id="h2-0-69" class="i">+stagit: stagit.o ${COMPATOBJ}
</a><a href="#h2-0-70" id="h2-0-70" class="i">+	${CC} -o $@ stagit.o ${COMPATOBJ} ${STAGIT_LDFLAGS}
</a><a href="#h2-0-71" id="h2-0-71" class="i">+
</a><a href="#h2-0-72" id="h2-0-72" class="i">+stagit-index: stagit-index.o ${COMPATOBJ}
</a><a href="#h2-0-73" id="h2-0-73" class="i">+	${CC} -o $@ stagit-index.o ${COMPATOBJ} ${STAGIT_LDFLAGS}
</a><a href="#h2-0-74" id="h2-0-74" class="i">+
</a><a href="#h2-0-75" id="h2-0-75" class="i">+clean:
</a><a href="#h2-0-76" id="h2-0-76" class="i">+	rm -f ${BIN} ${OBJ} ${NAME}-${VERSION}.tar.gz
</a><a href="#h2-0-77" id="h2-0-77" class="i">+
</a><a href="#h2-0-78" id="h2-0-78" class="i">+install: all
</a><a href="#h2-0-79" id="h2-0-79" class="i">+	# installing executable files.
</a><a href="#h2-0-80" id="h2-0-80" class="i">+	mkdir -p ${DESTDIR}${PREFIX}/bin
</a><a href="#h2-0-81" id="h2-0-81" class="i">+	cp -f ${BIN} ${DESTDIR}${PREFIX}/bin
</a><a href="#h2-0-82" id="h2-0-82" class="i">+	for f in ${BIN}; do chmod 755 ${DESTDIR}${PREFIX}/bin/$$f; done
</a><a href="#h2-0-83" id="h2-0-83" class="i">+	# installing example files.
</a><a href="#h2-0-84" id="h2-0-84" class="i">+	mkdir -p ${DESTDIR}${DOCPREFIX}
</a><a href="#h2-0-85" id="h2-0-85" class="i">+	cp -f style.css\
</a><a href="#h2-0-86" id="h2-0-86" class="i">+		favicon.png\
</a><a href="#h2-0-87" id="h2-0-87" class="i">+		logo.png\
</a><a href="#h2-0-88" id="h2-0-88" class="i">+		example_create.sh\
</a><a href="#h2-0-89" id="h2-0-89" class="i">+		example_post-receive.sh\
</a><a href="#h2-0-90" id="h2-0-90" class="i">+		README\
</a><a href="#h2-0-91" id="h2-0-91" class="i">+		${DESTDIR}${DOCPREFIX}
</a><a href="#h2-0-92" id="h2-0-92" class="i">+	# installing manual pages.
</a><a href="#h2-0-93" id="h2-0-93" class="i">+	mkdir -p ${DESTDIR}${MANPREFIX}/man1
</a><a href="#h2-0-94" id="h2-0-94" class="i">+	cp -f ${MAN1} ${DESTDIR}${MANPREFIX}/man1
</a><a href="#h2-0-95" id="h2-0-95" class="i">+	for m in ${MAN1}; do chmod 644 ${DESTDIR}${MANPREFIX}/man1/$$m; done
</a><a href="#h2-0-96" id="h2-0-96" class="i">+
</a><a href="#h2-0-97" id="h2-0-97" class="i">+uninstall:
</a><a href="#h2-0-98" id="h2-0-98" class="i">+	# removing executable files.
</a><a href="#h2-0-99" id="h2-0-99" class="i">+	for f in ${BIN}; do rm -f ${DESTDIR}${PREFIX}/bin/$$f; done
</a><a href="#h2-0-100" id="h2-0-100" class="i">+	# removing example files.
</a><a href="#h2-0-101" id="h2-0-101" class="i">+	rm -f \
</a><a href="#h2-0-102" id="h2-0-102" class="i">+		${DESTDIR}${DOCPREFIX}/style.css\
</a><a href="#h2-0-103" id="h2-0-103" class="i">+		${DESTDIR}${DOCPREFIX}/favicon.png\
</a><a href="#h2-0-104" id="h2-0-104" class="i">+		${DESTDIR}${DOCPREFIX}/logo.png\
</a><a href="#h2-0-105" id="h2-0-105" class="i">+		${DESTDIR}${DOCPREFIX}/example_create.sh\
</a><a href="#h2-0-106" id="h2-0-106" class="i">+		${DESTDIR}${DOCPREFIX}/example_post-receive.sh\
</a><a href="#h2-0-107" id="h2-0-107" class="i">+		${DESTDIR}${DOCPREFIX}/README
</a><a href="#h2-0-108" id="h2-0-108" class="i">+	-rmdir ${DESTDIR}${DOCPREFIX}
</a><a href="#h2-0-109" id="h2-0-109" class="i">+	# removing manual pages.
</a><a href="#h2-0-110" id="h2-0-110" class="i">+	for m in ${MAN1}; do rm -f ${DESTDIR}${MANPREFIX}/man1/$$m; done
</a><a href="#h2-0-111" id="h2-0-111" class="i">+
</a><a href="#h2-0-112" id="h2-0-112" class="i">+.PHONY: all clean dist install uninstall
</a><b>diff --git a/<a id="h3" href="../file/README.html">README</a> b/<a href="../file/README.html">README</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -0,0 +1,186 @@
</a><a href="#h3-0-0" id="h3-0-0" class="i">+stagit
</a><a href="#h3-0-1" id="h3-0-1" class="i">+------
</a><a href="#h3-0-2" id="h3-0-2" class="i">+
</a><a href="#h3-0-3" id="h3-0-3" class="i">+static git page generator.
</a><a href="#h3-0-4" id="h3-0-4" class="i">+
</a><a href="#h3-0-5" id="h3-0-5" class="i">+It generates static HTML pages for a git repository.
</a><a href="#h3-0-6" id="h3-0-6" class="i">+
</a><a href="#h3-0-7" id="h3-0-7" class="i">+
</a><a href="#h3-0-8" id="h3-0-8" class="i">+Usage
</a><a href="#h3-0-9" id="h3-0-9" class="i">+-----
</a><a href="#h3-0-10" id="h3-0-10" class="i">+
</a><a href="#h3-0-11" id="h3-0-11" class="i">+Make files per repository:
</a><a href="#h3-0-12" id="h3-0-12" class="i">+
</a><a href="#h3-0-13" id="h3-0-13" class="i">+	$ mkdir -p htmlroot/htmlrepo1 &amp;&amp; cd htmlroot/htmlrepo1
</a><a href="#h3-0-14" id="h3-0-14" class="i">+	$ stagit path/to/gitrepo1
</a><a href="#h3-0-15" id="h3-0-15" class="i">+	repeat for other repositories
</a><a href="#h3-0-16" id="h3-0-16" class="i">+	$ ...
</a><a href="#h3-0-17" id="h3-0-17" class="i">+
</a><a href="#h3-0-18" id="h3-0-18" class="i">+Make index file for repositories:
</a><a href="#h3-0-19" id="h3-0-19" class="i">+
</a><a href="#h3-0-20" id="h3-0-20" class="i">+	$ cd htmlroot
</a><a href="#h3-0-21" id="h3-0-21" class="i">+	$ stagit-index path/to/gitrepo1 \
</a><a href="#h3-0-22" id="h3-0-22" class="i">+	               path/to/gitrepo2 \
</a><a href="#h3-0-23" id="h3-0-23" class="i">+	               path/to/gitrepo3 &gt; index.html
</a><a href="#h3-0-24" id="h3-0-24" class="i">+
</a><a href="#h3-0-25" id="h3-0-25" class="i">+
</a><a href="#h3-0-26" id="h3-0-26" class="i">+Build and install
</a><a href="#h3-0-27" id="h3-0-27" class="i">+-----------------
</a><a href="#h3-0-28" id="h3-0-28" class="i">+
</a><a href="#h3-0-29" id="h3-0-29" class="i">+$ make
</a><a href="#h3-0-30" id="h3-0-30" class="i">+# make install
</a><a href="#h3-0-31" id="h3-0-31" class="i">+
</a><a href="#h3-0-32" id="h3-0-32" class="i">+
</a><a href="#h3-0-33" id="h3-0-33" class="i">+Dependencies
</a><a href="#h3-0-34" id="h3-0-34" class="i">+------------
</a><a href="#h3-0-35" id="h3-0-35" class="i">+
</a><a href="#h3-0-36" id="h3-0-36" class="i">+- C compiler (C99).
</a><a href="#h3-0-37" id="h3-0-37" class="i">+- libc (tested with OpenBSD, FreeBSD, NetBSD, Linux: glibc and musl).
</a><a href="#h3-0-38" id="h3-0-38" class="i">+- libgit2 (v0.22+).
</a><a href="#h3-0-39" id="h3-0-39" class="i">+- POSIX make (optional).
</a><a href="#h3-0-40" id="h3-0-40" class="i">+
</a><a href="#h3-0-41" id="h3-0-41" class="i">+
</a><a href="#h3-0-42" id="h3-0-42" class="i">+Documentation
</a><a href="#h3-0-43" id="h3-0-43" class="i">+-------------
</a><a href="#h3-0-44" id="h3-0-44" class="i">+
</a><a href="#h3-0-45" id="h3-0-45" class="i">+See man pages: stagit(1) and stagit-index(1).
</a><a href="#h3-0-46" id="h3-0-46" class="i">+
</a><a href="#h3-0-47" id="h3-0-47" class="i">+
</a><a href="#h3-0-48" id="h3-0-48" class="i">+Building a static binary
</a><a href="#h3-0-49" id="h3-0-49" class="i">+------------------------
</a><a href="#h3-0-50" id="h3-0-50" class="i">+
</a><a href="#h3-0-51" id="h3-0-51" class="i">+It may be useful to build static binaries, for example to run in a chroot.
</a><a href="#h3-0-52" id="h3-0-52" class="i">+
</a><a href="#h3-0-53" id="h3-0-53" class="i">+It can be done like this at the time of writing (v0.24):
</a><a href="#h3-0-54" id="h3-0-54" class="i">+
</a><a href="#h3-0-55" id="h3-0-55" class="i">+cd libgit2-src
</a><a href="#h3-0-56" id="h3-0-56" class="i">+
</a><a href="#h3-0-57" id="h3-0-57" class="i">+# change the options in the CMake file: CMakeLists.txt
</a><a href="#h3-0-58" id="h3-0-58" class="i">+BUILD_SHARED_LIBS to OFF (static)
</a><a href="#h3-0-59" id="h3-0-59" class="i">+CURL to OFF              (not needed)
</a><a href="#h3-0-60" id="h3-0-60" class="i">+USE_SSH OFF              (not needed)
</a><a href="#h3-0-61" id="h3-0-61" class="i">+THREADSAFE OFF           (not needed)
</a><a href="#h3-0-62" id="h3-0-62" class="i">+USE_OPENSSL OFF          (not needed, use builtin)
</a><a href="#h3-0-63" id="h3-0-63" class="i">+
</a><a href="#h3-0-64" id="h3-0-64" class="i">+mkdir -p build &amp;&amp; cd build
</a><a href="#h3-0-65" id="h3-0-65" class="i">+cmake ../
</a><a href="#h3-0-66" id="h3-0-66" class="i">+make
</a><a href="#h3-0-67" id="h3-0-67" class="i">+make install
</a><a href="#h3-0-68" id="h3-0-68" class="i">+
</a><a href="#h3-0-69" id="h3-0-69" class="i">+
</a><a href="#h3-0-70" id="h3-0-70" class="i">+Extract owner field from git config
</a><a href="#h3-0-71" id="h3-0-71" class="i">+-----------------------------------
</a><a href="#h3-0-72" id="h3-0-72" class="i">+
</a><a href="#h3-0-73" id="h3-0-73" class="i">+A way to extract the gitweb owner for example in the format:
</a><a href="#h3-0-74" id="h3-0-74" class="i">+
</a><a href="#h3-0-75" id="h3-0-75" class="i">+	[gitweb]
</a><a href="#h3-0-76" id="h3-0-76" class="i">+		owner = Name here
</a><a href="#h3-0-77" id="h3-0-77" class="i">+
</a><a href="#h3-0-78" id="h3-0-78" class="i">+Script:
</a><a href="#h3-0-79" id="h3-0-79" class="i">+
</a><a href="#h3-0-80" id="h3-0-80" class="i">+	#!/bin/sh
</a><a href="#h3-0-81" id="h3-0-81" class="i">+	awk &#39;/^[ 	]*owner[ 	]=/ {
</a><a href="#h3-0-82" id="h3-0-82" class="i">+		sub(/^[^=]*=[ 	]*/, &quot;&quot;);
</a><a href="#h3-0-83" id="h3-0-83" class="i">+		print $0;
</a><a href="#h3-0-84" id="h3-0-84" class="i">+	}&#39;
</a><a href="#h3-0-85" id="h3-0-85" class="i">+
</a><a href="#h3-0-86" id="h3-0-86" class="i">+
</a><a href="#h3-0-87" id="h3-0-87" class="i">+Set clone URL for a directory of repos
</a><a href="#h3-0-88" id="h3-0-88" class="i">+--------------------------------------
</a><a href="#h3-0-89" id="h3-0-89" class="i">+	#!/bin/sh
</a><a href="#h3-0-90" id="h3-0-90" class="i">+	cd &quot;$dir&quot;
</a><a href="#h3-0-91" id="h3-0-91" class="i">+	for i in *; do
</a><a href="#h3-0-92" id="h3-0-92" class="i">+		test -d &quot;$i&quot; &amp;&amp; echo &quot;git://git.codemadness.org/$i&quot; &gt; &quot;$i/url&quot;
</a><a href="#h3-0-93" id="h3-0-93" class="i">+	done
</a><a href="#h3-0-94" id="h3-0-94" class="i">+
</a><a href="#h3-0-95" id="h3-0-95" class="i">+
</a><a href="#h3-0-96" id="h3-0-96" class="i">+Update files on git push
</a><a href="#h3-0-97" id="h3-0-97" class="i">+------------------------
</a><a href="#h3-0-98" id="h3-0-98" class="i">+
</a><a href="#h3-0-99" id="h3-0-99" class="i">+Using a post-receive hook the static files can be automatically updated.
</a><a href="#h3-0-100" id="h3-0-100" class="i">+Keep in mind git push -f can change the history and the commits may need
</a><a href="#h3-0-101" id="h3-0-101" class="i">+to be recreated. This is because stagit checks if a commit file already
</a><a href="#h3-0-102" id="h3-0-102" class="i">+exists. It also has a cache (-c) option which can conflict with the new
</a><a href="#h3-0-103" id="h3-0-103" class="i">+history. See stagit(1).
</a><a href="#h3-0-104" id="h3-0-104" class="i">+
</a><a href="#h3-0-105" id="h3-0-105" class="i">+git post-receive hook (repo/.git/hooks/post-receive):
</a><a href="#h3-0-106" id="h3-0-106" class="i">+
</a><a href="#h3-0-107" id="h3-0-107" class="i">+	#!/bin/sh
</a><a href="#h3-0-108" id="h3-0-108" class="i">+	# detect git push -f
</a><a href="#h3-0-109" id="h3-0-109" class="i">+	force=0
</a><a href="#h3-0-110" id="h3-0-110" class="i">+	while read -r old new ref; do
</a><a href="#h3-0-111" id="h3-0-111" class="i">+		hasrevs=$(git rev-list &quot;$old&quot; &quot;^$new&quot; | sed 1q)
</a><a href="#h3-0-112" id="h3-0-112" class="i">+		if test -n &quot;$hasrevs&quot;; then
</a><a href="#h3-0-113" id="h3-0-113" class="i">+			force=1
</a><a href="#h3-0-114" id="h3-0-114" class="i">+			break
</a><a href="#h3-0-115" id="h3-0-115" class="i">+		fi
</a><a href="#h3-0-116" id="h3-0-116" class="i">+	done
</a><a href="#h3-0-117" id="h3-0-117" class="i">+
</a><a href="#h3-0-118" id="h3-0-118" class="i">+	# remove commits and .cache on git push -f
</a><a href="#h3-0-119" id="h3-0-119" class="i">+	#if test &quot;$force&quot; = &quot;1&quot;; then
</a><a href="#h3-0-120" id="h3-0-120" class="i">+	# ...
</a><a href="#h3-0-121" id="h3-0-121" class="i">+	#fi
</a><a href="#h3-0-122" id="h3-0-122" class="i">+
</a><a href="#h3-0-123" id="h3-0-123" class="i">+	# see example_create.sh for normal creation of the files.
</a><a href="#h3-0-124" id="h3-0-124" class="i">+
</a><a href="#h3-0-125" id="h3-0-125" class="i">+
</a><a href="#h3-0-126" id="h3-0-126" class="i">+Create .tar.gz archives by tag
</a><a href="#h3-0-127" id="h3-0-127" class="i">+------------------------------
</a><a href="#h3-0-128" id="h3-0-128" class="i">+	#!/bin/sh
</a><a href="#h3-0-129" id="h3-0-129" class="i">+	name=&quot;stagit&quot;
</a><a href="#h3-0-130" id="h3-0-130" class="i">+	mkdir -p archives
</a><a href="#h3-0-131" id="h3-0-131" class="i">+	git tag -l | while read -r t; do
</a><a href="#h3-0-132" id="h3-0-132" class="i">+		f=&quot;archives/${name}-$(echo &quot;${t}&quot; | tr &#39;/&#39; &#39;_&#39;).tar.gz&quot;
</a><a href="#h3-0-133" id="h3-0-133" class="i">+		test -f &quot;${f}&quot; &amp;&amp; continue
</a><a href="#h3-0-134" id="h3-0-134" class="i">+		git archive \
</a><a href="#h3-0-135" id="h3-0-135" class="i">+			--format tar.gz \
</a><a href="#h3-0-136" id="h3-0-136" class="i">+			--prefix &quot;${t}/&quot; \
</a><a href="#h3-0-137" id="h3-0-137" class="i">+			-o &quot;${f}&quot; \
</a><a href="#h3-0-138" id="h3-0-138" class="i">+			-- \
</a><a href="#h3-0-139" id="h3-0-139" class="i">+			&quot;${t}&quot;
</a><a href="#h3-0-140" id="h3-0-140" class="i">+	done
</a><a href="#h3-0-141" id="h3-0-141" class="i">+
</a><a href="#h3-0-142" id="h3-0-142" class="i">+
</a><a href="#h3-0-143" id="h3-0-143" class="i">+Features
</a><a href="#h3-0-144" id="h3-0-144" class="i">+--------
</a><a href="#h3-0-145" id="h3-0-145" class="i">+
</a><a href="#h3-0-146" id="h3-0-146" class="i">+- Log of all commits from HEAD.
</a><a href="#h3-0-147" id="h3-0-147" class="i">+- Log and diffstat per commit.
</a><a href="#h3-0-148" id="h3-0-148" class="i">+- Show file tree with linkable line numbers.
</a><a href="#h3-0-149" id="h3-0-149" class="i">+- Show references: local branches and tags.
</a><a href="#h3-0-150" id="h3-0-150" class="i">+- Detect README and LICENSE file from HEAD and link it as a webpage.
</a><a href="#h3-0-151" id="h3-0-151" class="i">+- Detect submodules (.gitmodules file) from HEAD and link it as a webpage.
</a><a href="#h3-0-152" id="h3-0-152" class="i">+- Atom feed of the commit log (atom.xml).
</a><a href="#h3-0-153" id="h3-0-153" class="i">+- Atom feed of the tags/refs (tags.xml).
</a><a href="#h3-0-154" id="h3-0-154" class="i">+- Make index page for multiple repositories with stagit-index.
</a><a href="#h3-0-155" id="h3-0-155" class="i">+- After generating the pages (relatively slow) serving the files is very fast,
</a><a href="#h3-0-156" id="h3-0-156" class="i">+  simple and requires little resources (because the content is static), only
</a><a href="#h3-0-157" id="h3-0-157" class="i">+  a HTTP file server is required.
</a><a href="#h3-0-158" id="h3-0-158" class="i">+- Usable with text-browsers such as dillo, links, lynx and w3m.
</a><a href="#h3-0-159" id="h3-0-159" class="i">+
</a><a href="#h3-0-160" id="h3-0-160" class="i">+
</a><a href="#h3-0-161" id="h3-0-161" class="i">+Cons
</a><a href="#h3-0-162" id="h3-0-162" class="i">+----
</a><a href="#h3-0-163" id="h3-0-163" class="i">+
</a><a href="#h3-0-164" id="h3-0-164" class="i">+- Not suitable for large repositories (2000+ commits), because diffstats are
</a><a href="#h3-0-165" id="h3-0-165" class="i">+  an expensive operation, the cache (-c flag) is a workaround for this in
</a><a href="#h3-0-166" id="h3-0-166" class="i">+  some cases.
</a><a href="#h3-0-167" id="h3-0-167" class="i">+- Not suitable for large repositories with many files, because all files are
</a><a href="#h3-0-168" id="h3-0-168" class="i">+  written for each execution of stagit. This is because stagit shows the lines
</a><a href="#h3-0-169" id="h3-0-169" class="i">+  of textfiles and there is no &quot;cache&quot; for file metadata (this would add more
</a><a href="#h3-0-170" id="h3-0-170" class="i">+  complexity to the code).
</a><a href="#h3-0-171" id="h3-0-171" class="i">+- Not suitable for repositories with many branches, a quite linear history is
</a><a href="#h3-0-172" id="h3-0-172" class="i">+  assumed (from HEAD).
</a><a href="#h3-0-173" id="h3-0-173" class="i">+
</a><a href="#h3-0-174" id="h3-0-174" class="i">+  In these cases it is better to just use cgit or possibly change stagit to
</a><a href="#h3-0-175" id="h3-0-175" class="i">+  run as a CGI program.
</a><a href="#h3-0-176" id="h3-0-176" class="i">+
</a><a href="#h3-0-177" id="h3-0-177" class="i">+- Relatively slow to run the first time (about 3 seconds for sbase,
</a><a href="#h3-0-178" id="h3-0-178" class="i">+  1500+ commits), incremental updates are faster.
</a><a href="#h3-0-179" id="h3-0-179" class="i">+- Does not support some of the dynamic features cgit has, like:
</a><a href="#h3-0-180" id="h3-0-180" class="i">+  - Snapshot tarballs per commit.
</a><a href="#h3-0-181" id="h3-0-181" class="i">+  - File tree per commit.
</a><a href="#h3-0-182" id="h3-0-182" class="i">+  - History log of branches diverged from HEAD.
</a><a href="#h3-0-183" id="h3-0-183" class="i">+  - Stats (git shortlog -s).
</a><a href="#h3-0-184" id="h3-0-184" class="i">+
</a><a href="#h3-0-185" id="h3-0-185" class="i">+  This is by design, just use git locally.
</a><b>diff --git a/<a id="h4" href="../file/cJSON.c.html">cJSON.c</a> b/<a href="../file/cJSON.c.html">cJSON.c</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -0,0 +1,3164 @@
</a><a href="#h4-0-0" id="h4-0-0" class="i">+/*
</a><a href="#h4-0-1" id="h4-0-1" class="i">+  Copyright (c) 2009-2017 Dave Gamble and cJSON contributors
</a><a href="#h4-0-2" id="h4-0-2" class="i">+
</a><a href="#h4-0-3" id="h4-0-3" class="i">+  Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h4-0-4" id="h4-0-4" class="i">+  of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h4-0-5" id="h4-0-5" class="i">+  in the Software without restriction, including without limitation the rights
</a><a href="#h4-0-6" id="h4-0-6" class="i">+  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h4-0-7" id="h4-0-7" class="i">+  copies of the Software, and to permit persons to whom the Software is
</a><a href="#h4-0-8" id="h4-0-8" class="i">+  furnished to do so, subject to the following conditions:
</a><a href="#h4-0-9" id="h4-0-9" class="i">+
</a><a href="#h4-0-10" id="h4-0-10" class="i">+  The above copyright notice and this permission notice shall be included in
</a><a href="#h4-0-11" id="h4-0-11" class="i">+  all copies or substantial portions of the Software.
</a><a href="#h4-0-12" id="h4-0-12" class="i">+
</a><a href="#h4-0-13" id="h4-0-13" class="i">+  THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h4-0-14" id="h4-0-14" class="i">+  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h4-0-15" id="h4-0-15" class="i">+  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h4-0-16" id="h4-0-16" class="i">+  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h4-0-17" id="h4-0-17" class="i">+  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h4-0-18" id="h4-0-18" class="i">+  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</a><a href="#h4-0-19" id="h4-0-19" class="i">+  THE SOFTWARE.
</a><a href="#h4-0-20" id="h4-0-20" class="i">+*/
</a><a href="#h4-0-21" id="h4-0-21" class="i">+
</a><a href="#h4-0-22" id="h4-0-22" class="i">+/* cJSON */
</a><a href="#h4-0-23" id="h4-0-23" class="i">+/* JSON parser in C. */
</a><a href="#h4-0-24" id="h4-0-24" class="i">+
</a><a href="#h4-0-25" id="h4-0-25" class="i">+/* disable warnings about old C89 functions in MSVC */
</a><a href="#h4-0-26" id="h4-0-26" class="i">+#if !defined(_CRT_SECURE_NO_DEPRECATE) &amp;&amp; defined(_MSC_VER)
</a><a href="#h4-0-27" id="h4-0-27" class="i">+#define _CRT_SECURE_NO_DEPRECATE
</a><a href="#h4-0-28" id="h4-0-28" class="i">+#endif
</a><a href="#h4-0-29" id="h4-0-29" class="i">+
</a><a href="#h4-0-30" id="h4-0-30" class="i">+#ifdef __GNUC__
</a><a href="#h4-0-31" id="h4-0-31" class="i">+#pragma GCC visibility push(default)
</a><a href="#h4-0-32" id="h4-0-32" class="i">+#endif
</a><a href="#h4-0-33" id="h4-0-33" class="i">+#if defined(_MSC_VER)
</a><a href="#h4-0-34" id="h4-0-34" class="i">+#pragma warning (push)
</a><a href="#h4-0-35" id="h4-0-35" class="i">+/* disable warning about single line comments in system headers */
</a><a href="#h4-0-36" id="h4-0-36" class="i">+#pragma warning (disable : 4001)
</a><a href="#h4-0-37" id="h4-0-37" class="i">+#endif
</a><a href="#h4-0-38" id="h4-0-38" class="i">+
</a><a href="#h4-0-39" id="h4-0-39" class="i">+#include &lt;string.h&gt;
</a><a href="#h4-0-40" id="h4-0-40" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h4-0-41" id="h4-0-41" class="i">+#include &lt;math.h&gt;
</a><a href="#h4-0-42" id="h4-0-42" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h4-0-43" id="h4-0-43" class="i">+#include &lt;limits.h&gt;
</a><a href="#h4-0-44" id="h4-0-44" class="i">+#include &lt;ctype.h&gt;
</a><a href="#h4-0-45" id="h4-0-45" class="i">+#include &lt;float.h&gt;
</a><a href="#h4-0-46" id="h4-0-46" class="i">+
</a><a href="#h4-0-47" id="h4-0-47" class="i">+#ifdef ENABLE_LOCALES
</a><a href="#h4-0-48" id="h4-0-48" class="i">+#include &lt;locale.h&gt;
</a><a href="#h4-0-49" id="h4-0-49" class="i">+#endif
</a><a href="#h4-0-50" id="h4-0-50" class="i">+
</a><a href="#h4-0-51" id="h4-0-51" class="i">+#if defined(_MSC_VER)
</a><a href="#h4-0-52" id="h4-0-52" class="i">+#pragma warning (pop)
</a><a href="#h4-0-53" id="h4-0-53" class="i">+#endif
</a><a href="#h4-0-54" id="h4-0-54" class="i">+#ifdef __GNUC__
</a><a href="#h4-0-55" id="h4-0-55" class="i">+#pragma GCC visibility pop
</a><a href="#h4-0-56" id="h4-0-56" class="i">+#endif
</a><a href="#h4-0-57" id="h4-0-57" class="i">+
</a><a href="#h4-0-58" id="h4-0-58" class="i">+#include &quot;cJSON.h&quot;
</a><a href="#h4-0-59" id="h4-0-59" class="i">+
</a><a href="#h4-0-60" id="h4-0-60" class="i">+/* define our own boolean type */
</a><a href="#h4-0-61" id="h4-0-61" class="i">+#ifdef true
</a><a href="#h4-0-62" id="h4-0-62" class="i">+#undef true
</a><a href="#h4-0-63" id="h4-0-63" class="i">+#endif
</a><a href="#h4-0-64" id="h4-0-64" class="i">+#define true ((cJSON_bool)1)
</a><a href="#h4-0-65" id="h4-0-65" class="i">+
</a><a href="#h4-0-66" id="h4-0-66" class="i">+#ifdef false
</a><a href="#h4-0-67" id="h4-0-67" class="i">+#undef false
</a><a href="#h4-0-68" id="h4-0-68" class="i">+#endif
</a><a href="#h4-0-69" id="h4-0-69" class="i">+#define false ((cJSON_bool)0)
</a><a href="#h4-0-70" id="h4-0-70" class="i">+
</a><a href="#h4-0-71" id="h4-0-71" class="i">+/* define isnan and isinf for ANSI C, if in C99 or above, isnan and isinf has been defined in math.h */
</a><a href="#h4-0-72" id="h4-0-72" class="i">+#ifndef isinf
</a><a href="#h4-0-73" id="h4-0-73" class="i">+#define isinf(d) (isnan((d - d)) &amp;&amp; !isnan(d))
</a><a href="#h4-0-74" id="h4-0-74" class="i">+#endif
</a><a href="#h4-0-75" id="h4-0-75" class="i">+#ifndef isnan
</a><a href="#h4-0-76" id="h4-0-76" class="i">+#define isnan(d) (d != d)
</a><a href="#h4-0-77" id="h4-0-77" class="i">+#endif
</a><a href="#h4-0-78" id="h4-0-78" class="i">+
</a><a href="#h4-0-79" id="h4-0-79" class="i">+#ifndef NAN
</a><a href="#h4-0-80" id="h4-0-80" class="i">+#ifdef _WIN32
</a><a href="#h4-0-81" id="h4-0-81" class="i">+#define NAN sqrt(-1.0)
</a><a href="#h4-0-82" id="h4-0-82" class="i">+#else
</a><a href="#h4-0-83" id="h4-0-83" class="i">+#define NAN 0.0/0.0
</a><a href="#h4-0-84" id="h4-0-84" class="i">+#endif
</a><a href="#h4-0-85" id="h4-0-85" class="i">+#endif
</a><a href="#h4-0-86" id="h4-0-86" class="i">+
</a><a href="#h4-0-87" id="h4-0-87" class="i">+typedef struct {
</a><a href="#h4-0-88" id="h4-0-88" class="i">+    const unsigned char *json;
</a><a href="#h4-0-89" id="h4-0-89" class="i">+    size_t position;
</a><a href="#h4-0-90" id="h4-0-90" class="i">+} error;
</a><a href="#h4-0-91" id="h4-0-91" class="i">+static error global_error = { NULL, 0 };
</a><a href="#h4-0-92" id="h4-0-92" class="i">+
</a><a href="#h4-0-93" id="h4-0-93" class="i">+CJSON_PUBLIC(const char *) cJSON_GetErrorPtr(void)
</a><a href="#h4-0-94" id="h4-0-94" class="i">+{
</a><a href="#h4-0-95" id="h4-0-95" class="i">+    return (const char*) (global_error.json + global_error.position);
</a><a href="#h4-0-96" id="h4-0-96" class="i">+}
</a><a href="#h4-0-97" id="h4-0-97" class="i">+
</a><a href="#h4-0-98" id="h4-0-98" class="i">+CJSON_PUBLIC(char *) cJSON_GetStringValue(const cJSON * const item)
</a><a href="#h4-0-99" id="h4-0-99" class="i">+{
</a><a href="#h4-0-100" id="h4-0-100" class="i">+    if (!cJSON_IsString(item))
</a><a href="#h4-0-101" id="h4-0-101" class="i">+    {
</a><a href="#h4-0-102" id="h4-0-102" class="i">+        return NULL;
</a><a href="#h4-0-103" id="h4-0-103" class="i">+    }
</a><a href="#h4-0-104" id="h4-0-104" class="i">+
</a><a href="#h4-0-105" id="h4-0-105" class="i">+    return item-&gt;valuestring;
</a><a href="#h4-0-106" id="h4-0-106" class="i">+}
</a><a href="#h4-0-107" id="h4-0-107" class="i">+
</a><a href="#h4-0-108" id="h4-0-108" class="i">+CJSON_PUBLIC(double) cJSON_GetNumberValue(const cJSON * const item)
</a><a href="#h4-0-109" id="h4-0-109" class="i">+{
</a><a href="#h4-0-110" id="h4-0-110" class="i">+    if (!cJSON_IsNumber(item))
</a><a href="#h4-0-111" id="h4-0-111" class="i">+    {
</a><a href="#h4-0-112" id="h4-0-112" class="i">+        return (double) NAN;
</a><a href="#h4-0-113" id="h4-0-113" class="i">+    }
</a><a href="#h4-0-114" id="h4-0-114" class="i">+
</a><a href="#h4-0-115" id="h4-0-115" class="i">+    return item-&gt;valuedouble;
</a><a href="#h4-0-116" id="h4-0-116" class="i">+}
</a><a href="#h4-0-117" id="h4-0-117" class="i">+
</a><a href="#h4-0-118" id="h4-0-118" class="i">+/* This is a safeguard to prevent copy-pasters from using incompatible C and header files */
</a><a href="#h4-0-119" id="h4-0-119" class="i">+#if (CJSON_VERSION_MAJOR != 1) || (CJSON_VERSION_MINOR != 7) || (CJSON_VERSION_PATCH != 18)
</a><a href="#h4-0-120" id="h4-0-120" class="i">+    #error cJSON.h and cJSON.c have different versions. Make sure that both have the same.
</a><a href="#h4-0-121" id="h4-0-121" class="i">+#endif
</a><a href="#h4-0-122" id="h4-0-122" class="i">+
</a><a href="#h4-0-123" id="h4-0-123" class="i">+CJSON_PUBLIC(const char*) cJSON_Version(void)
</a><a href="#h4-0-124" id="h4-0-124" class="i">+{
</a><a href="#h4-0-125" id="h4-0-125" class="i">+    static char version[15];
</a><a href="#h4-0-126" id="h4-0-126" class="i">+    sprintf(version, &quot;%i.%i.%i&quot;, CJSON_VERSION_MAJOR, CJSON_VERSION_MINOR, CJSON_VERSION_PATCH);
</a><a href="#h4-0-127" id="h4-0-127" class="i">+
</a><a href="#h4-0-128" id="h4-0-128" class="i">+    return version;
</a><a href="#h4-0-129" id="h4-0-129" class="i">+}
</a><a href="#h4-0-130" id="h4-0-130" class="i">+
</a><a href="#h4-0-131" id="h4-0-131" class="i">+/* Case insensitive string comparison, doesn&#39;t consider two NULL pointers equal though */
</a><a href="#h4-0-132" id="h4-0-132" class="i">+static int case_insensitive_strcmp(const unsigned char *string1, const unsigned char *string2)
</a><a href="#h4-0-133" id="h4-0-133" class="i">+{
</a><a href="#h4-0-134" id="h4-0-134" class="i">+    if ((string1 == NULL) || (string2 == NULL))
</a><a href="#h4-0-135" id="h4-0-135" class="i">+    {
</a><a href="#h4-0-136" id="h4-0-136" class="i">+        return 1;
</a><a href="#h4-0-137" id="h4-0-137" class="i">+    }
</a><a href="#h4-0-138" id="h4-0-138" class="i">+
</a><a href="#h4-0-139" id="h4-0-139" class="i">+    if (string1 == string2)
</a><a href="#h4-0-140" id="h4-0-140" class="i">+    {
</a><a href="#h4-0-141" id="h4-0-141" class="i">+        return 0;
</a><a href="#h4-0-142" id="h4-0-142" class="i">+    }
</a><a href="#h4-0-143" id="h4-0-143" class="i">+
</a><a href="#h4-0-144" id="h4-0-144" class="i">+    for(; tolower(*string1) == tolower(*string2); (void)string1++, string2++)
</a><a href="#h4-0-145" id="h4-0-145" class="i">+    {
</a><a href="#h4-0-146" id="h4-0-146" class="i">+        if (*string1 == &#39;\0&#39;)
</a><a href="#h4-0-147" id="h4-0-147" class="i">+        {
</a><a href="#h4-0-148" id="h4-0-148" class="i">+            return 0;
</a><a href="#h4-0-149" id="h4-0-149" class="i">+        }
</a><a href="#h4-0-150" id="h4-0-150" class="i">+    }
</a><a href="#h4-0-151" id="h4-0-151" class="i">+
</a><a href="#h4-0-152" id="h4-0-152" class="i">+    return tolower(*string1) - tolower(*string2);
</a><a href="#h4-0-153" id="h4-0-153" class="i">+}
</a><a href="#h4-0-154" id="h4-0-154" class="i">+
</a><a href="#h4-0-155" id="h4-0-155" class="i">+typedef struct internal_hooks
</a><a href="#h4-0-156" id="h4-0-156" class="i">+{
</a><a href="#h4-0-157" id="h4-0-157" class="i">+    void *(CJSON_CDECL *allocate)(size_t size);
</a><a href="#h4-0-158" id="h4-0-158" class="i">+    void (CJSON_CDECL *deallocate)(void *pointer);
</a><a href="#h4-0-159" id="h4-0-159" class="i">+    void *(CJSON_CDECL *reallocate)(void *pointer, size_t size);
</a><a href="#h4-0-160" id="h4-0-160" class="i">+} internal_hooks;
</a><a href="#h4-0-161" id="h4-0-161" class="i">+
</a><a href="#h4-0-162" id="h4-0-162" class="i">+#if defined(_MSC_VER)
</a><a href="#h4-0-163" id="h4-0-163" class="i">+/* work around MSVC error C2322: &#39;...&#39; address of dllimport &#39;...&#39; is not static */
</a><a href="#h4-0-164" id="h4-0-164" class="i">+static void * CJSON_CDECL internal_malloc(size_t size)
</a><a href="#h4-0-165" id="h4-0-165" class="i">+{
</a><a href="#h4-0-166" id="h4-0-166" class="i">+    return malloc(size);
</a><a href="#h4-0-167" id="h4-0-167" class="i">+}
</a><a href="#h4-0-168" id="h4-0-168" class="i">+static void CJSON_CDECL internal_free(void *pointer)
</a><a href="#h4-0-169" id="h4-0-169" class="i">+{
</a><a href="#h4-0-170" id="h4-0-170" class="i">+    free(pointer);
</a><a href="#h4-0-171" id="h4-0-171" class="i">+}
</a><a href="#h4-0-172" id="h4-0-172" class="i">+static void * CJSON_CDECL internal_realloc(void *pointer, size_t size)
</a><a href="#h4-0-173" id="h4-0-173" class="i">+{
</a><a href="#h4-0-174" id="h4-0-174" class="i">+    return realloc(pointer, size);
</a><a href="#h4-0-175" id="h4-0-175" class="i">+}
</a><a href="#h4-0-176" id="h4-0-176" class="i">+#else
</a><a href="#h4-0-177" id="h4-0-177" class="i">+#define internal_malloc malloc
</a><a href="#h4-0-178" id="h4-0-178" class="i">+#define internal_free free
</a><a href="#h4-0-179" id="h4-0-179" class="i">+#define internal_realloc realloc
</a><a href="#h4-0-180" id="h4-0-180" class="i">+#endif
</a><a href="#h4-0-181" id="h4-0-181" class="i">+
</a><a href="#h4-0-182" id="h4-0-182" class="i">+/* strlen of character literals resolved at compile time */
</a><a href="#h4-0-183" id="h4-0-183" class="i">+#define static_strlen(string_literal) (sizeof(string_literal) - sizeof(&quot;&quot;))
</a><a href="#h4-0-184" id="h4-0-184" class="i">+
</a><a href="#h4-0-185" id="h4-0-185" class="i">+static internal_hooks global_hooks = { internal_malloc, internal_free, internal_realloc };
</a><a href="#h4-0-186" id="h4-0-186" class="i">+
</a><a href="#h4-0-187" id="h4-0-187" class="i">+static unsigned char* cJSON_strdup(const unsigned char* string, const internal_hooks * const hooks)
</a><a href="#h4-0-188" id="h4-0-188" class="i">+{
</a><a href="#h4-0-189" id="h4-0-189" class="i">+    size_t length = 0;
</a><a href="#h4-0-190" id="h4-0-190" class="i">+    unsigned char *copy = NULL;
</a><a href="#h4-0-191" id="h4-0-191" class="i">+
</a><a href="#h4-0-192" id="h4-0-192" class="i">+    if (string == NULL)
</a><a href="#h4-0-193" id="h4-0-193" class="i">+    {
</a><a href="#h4-0-194" id="h4-0-194" class="i">+        return NULL;
</a><a href="#h4-0-195" id="h4-0-195" class="i">+    }
</a><a href="#h4-0-196" id="h4-0-196" class="i">+
</a><a href="#h4-0-197" id="h4-0-197" class="i">+    length = strlen((const char*)string) + sizeof(&quot;&quot;);
</a><a href="#h4-0-198" id="h4-0-198" class="i">+    copy = (unsigned char*)hooks-&gt;allocate(length);
</a><a href="#h4-0-199" id="h4-0-199" class="i">+    if (copy == NULL)
</a><a href="#h4-0-200" id="h4-0-200" class="i">+    {
</a><a href="#h4-0-201" id="h4-0-201" class="i">+        return NULL;
</a><a href="#h4-0-202" id="h4-0-202" class="i">+    }
</a><a href="#h4-0-203" id="h4-0-203" class="i">+    memcpy(copy, string, length);
</a><a href="#h4-0-204" id="h4-0-204" class="i">+
</a><a href="#h4-0-205" id="h4-0-205" class="i">+    return copy;
</a><a href="#h4-0-206" id="h4-0-206" class="i">+}
</a><a href="#h4-0-207" id="h4-0-207" class="i">+
</a><a href="#h4-0-208" id="h4-0-208" class="i">+CJSON_PUBLIC(void) cJSON_InitHooks(cJSON_Hooks* hooks)
</a><a href="#h4-0-209" id="h4-0-209" class="i">+{
</a><a href="#h4-0-210" id="h4-0-210" class="i">+    if (hooks == NULL)
</a><a href="#h4-0-211" id="h4-0-211" class="i">+    {
</a><a href="#h4-0-212" id="h4-0-212" class="i">+        /* Reset hooks */
</a><a href="#h4-0-213" id="h4-0-213" class="i">+        global_hooks.allocate = malloc;
</a><a href="#h4-0-214" id="h4-0-214" class="i">+        global_hooks.deallocate = free;
</a><a href="#h4-0-215" id="h4-0-215" class="i">+        global_hooks.reallocate = realloc;
</a><a href="#h4-0-216" id="h4-0-216" class="i">+        return;
</a><a href="#h4-0-217" id="h4-0-217" class="i">+    }
</a><a href="#h4-0-218" id="h4-0-218" class="i">+
</a><a href="#h4-0-219" id="h4-0-219" class="i">+    global_hooks.allocate = malloc;
</a><a href="#h4-0-220" id="h4-0-220" class="i">+    if (hooks-&gt;malloc_fn != NULL)
</a><a href="#h4-0-221" id="h4-0-221" class="i">+    {
</a><a href="#h4-0-222" id="h4-0-222" class="i">+        global_hooks.allocate = hooks-&gt;malloc_fn;
</a><a href="#h4-0-223" id="h4-0-223" class="i">+    }
</a><a href="#h4-0-224" id="h4-0-224" class="i">+
</a><a href="#h4-0-225" id="h4-0-225" class="i">+    global_hooks.deallocate = free;
</a><a href="#h4-0-226" id="h4-0-226" class="i">+    if (hooks-&gt;free_fn != NULL)
</a><a href="#h4-0-227" id="h4-0-227" class="i">+    {
</a><a href="#h4-0-228" id="h4-0-228" class="i">+        global_hooks.deallocate = hooks-&gt;free_fn;
</a><a href="#h4-0-229" id="h4-0-229" class="i">+    }
</a><a href="#h4-0-230" id="h4-0-230" class="i">+
</a><a href="#h4-0-231" id="h4-0-231" class="i">+    /* use realloc only if both free and malloc are used */
</a><a href="#h4-0-232" id="h4-0-232" class="i">+    global_hooks.reallocate = NULL;
</a><a href="#h4-0-233" id="h4-0-233" class="i">+    if ((global_hooks.allocate == malloc) &amp;&amp; (global_hooks.deallocate == free))
</a><a href="#h4-0-234" id="h4-0-234" class="i">+    {
</a><a href="#h4-0-235" id="h4-0-235" class="i">+        global_hooks.reallocate = realloc;
</a><a href="#h4-0-236" id="h4-0-236" class="i">+    }
</a><a href="#h4-0-237" id="h4-0-237" class="i">+}
</a><a href="#h4-0-238" id="h4-0-238" class="i">+
</a><a href="#h4-0-239" id="h4-0-239" class="i">+/* Internal constructor. */
</a><a href="#h4-0-240" id="h4-0-240" class="i">+static cJSON *cJSON_New_Item(const internal_hooks * const hooks)
</a><a href="#h4-0-241" id="h4-0-241" class="i">+{
</a><a href="#h4-0-242" id="h4-0-242" class="i">+    cJSON* node = (cJSON*)hooks-&gt;allocate(sizeof(cJSON));
</a><a href="#h4-0-243" id="h4-0-243" class="i">+    if (node)
</a><a href="#h4-0-244" id="h4-0-244" class="i">+    {
</a><a href="#h4-0-245" id="h4-0-245" class="i">+        memset(node, &#39;\0&#39;, sizeof(cJSON));
</a><a href="#h4-0-246" id="h4-0-246" class="i">+    }
</a><a href="#h4-0-247" id="h4-0-247" class="i">+
</a><a href="#h4-0-248" id="h4-0-248" class="i">+    return node;
</a><a href="#h4-0-249" id="h4-0-249" class="i">+}
</a><a href="#h4-0-250" id="h4-0-250" class="i">+
</a><a href="#h4-0-251" id="h4-0-251" class="i">+/* Delete a cJSON structure. */
</a><a href="#h4-0-252" id="h4-0-252" class="i">+CJSON_PUBLIC(void) cJSON_Delete(cJSON *item)
</a><a href="#h4-0-253" id="h4-0-253" class="i">+{
</a><a href="#h4-0-254" id="h4-0-254" class="i">+    cJSON *next = NULL;
</a><a href="#h4-0-255" id="h4-0-255" class="i">+    while (item != NULL)
</a><a href="#h4-0-256" id="h4-0-256" class="i">+    {
</a><a href="#h4-0-257" id="h4-0-257" class="i">+        next = item-&gt;next;
</a><a href="#h4-0-258" id="h4-0-258" class="i">+        if (!(item-&gt;type &amp; cJSON_IsReference) &amp;&amp; (item-&gt;child != NULL))
</a><a href="#h4-0-259" id="h4-0-259" class="i">+        {
</a><a href="#h4-0-260" id="h4-0-260" class="i">+            cJSON_Delete(item-&gt;child);
</a><a href="#h4-0-261" id="h4-0-261" class="i">+        }
</a><a href="#h4-0-262" id="h4-0-262" class="i">+        if (!(item-&gt;type &amp; cJSON_IsReference) &amp;&amp; (item-&gt;valuestring != NULL))
</a><a href="#h4-0-263" id="h4-0-263" class="i">+        {
</a><a href="#h4-0-264" id="h4-0-264" class="i">+            global_hooks.deallocate(item-&gt;valuestring);
</a><a href="#h4-0-265" id="h4-0-265" class="i">+            item-&gt;valuestring = NULL;
</a><a href="#h4-0-266" id="h4-0-266" class="i">+        }
</a><a href="#h4-0-267" id="h4-0-267" class="i">+        if (!(item-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (item-&gt;string != NULL))
</a><a href="#h4-0-268" id="h4-0-268" class="i">+        {
</a><a href="#h4-0-269" id="h4-0-269" class="i">+            global_hooks.deallocate(item-&gt;string);
</a><a href="#h4-0-270" id="h4-0-270" class="i">+            item-&gt;string = NULL;
</a><a href="#h4-0-271" id="h4-0-271" class="i">+        }
</a><a href="#h4-0-272" id="h4-0-272" class="i">+        global_hooks.deallocate(item);
</a><a href="#h4-0-273" id="h4-0-273" class="i">+        item = next;
</a><a href="#h4-0-274" id="h4-0-274" class="i">+    }
</a><a href="#h4-0-275" id="h4-0-275" class="i">+}
</a><a href="#h4-0-276" id="h4-0-276" class="i">+
</a><a href="#h4-0-277" id="h4-0-277" class="i">+/* get the decimal point character of the current locale */
</a><a href="#h4-0-278" id="h4-0-278" class="i">+static unsigned char get_decimal_point(void)
</a><a href="#h4-0-279" id="h4-0-279" class="i">+{
</a><a href="#h4-0-280" id="h4-0-280" class="i">+#ifdef ENABLE_LOCALES
</a><a href="#h4-0-281" id="h4-0-281" class="i">+    struct lconv *lconv = localeconv();
</a><a href="#h4-0-282" id="h4-0-282" class="i">+    return (unsigned char) lconv-&gt;decimal_point[0];
</a><a href="#h4-0-283" id="h4-0-283" class="i">+#else
</a><a href="#h4-0-284" id="h4-0-284" class="i">+    return &#39;.&#39;;
</a><a href="#h4-0-285" id="h4-0-285" class="i">+#endif
</a><a href="#h4-0-286" id="h4-0-286" class="i">+}
</a><a href="#h4-0-287" id="h4-0-287" class="i">+
</a><a href="#h4-0-288" id="h4-0-288" class="i">+typedef struct
</a><a href="#h4-0-289" id="h4-0-289" class="i">+{
</a><a href="#h4-0-290" id="h4-0-290" class="i">+    const unsigned char *content;
</a><a href="#h4-0-291" id="h4-0-291" class="i">+    size_t length;
</a><a href="#h4-0-292" id="h4-0-292" class="i">+    size_t offset;
</a><a href="#h4-0-293" id="h4-0-293" class="i">+    size_t depth; /* How deeply nested (in arrays/objects) is the input at the current offset. */
</a><a href="#h4-0-294" id="h4-0-294" class="i">+    internal_hooks hooks;
</a><a href="#h4-0-295" id="h4-0-295" class="i">+} parse_buffer;
</a><a href="#h4-0-296" id="h4-0-296" class="i">+
</a><a href="#h4-0-297" id="h4-0-297" class="i">+/* check if the given size is left to read in a given parse buffer (starting with 1) */
</a><a href="#h4-0-298" id="h4-0-298" class="i">+#define can_read(buffer, size) ((buffer != NULL) &amp;&amp; (((buffer)-&gt;offset + size) &lt;= (buffer)-&gt;length))
</a><a href="#h4-0-299" id="h4-0-299" class="i">+/* check if the buffer can be accessed at the given index (starting with 0) */
</a><a href="#h4-0-300" id="h4-0-300" class="i">+#define can_access_at_index(buffer, index) ((buffer != NULL) &amp;&amp; (((buffer)-&gt;offset + index) &lt; (buffer)-&gt;length))
</a><a href="#h4-0-301" id="h4-0-301" class="i">+#define cannot_access_at_index(buffer, index) (!can_access_at_index(buffer, index))
</a><a href="#h4-0-302" id="h4-0-302" class="i">+/* get a pointer to the buffer at the position */
</a><a href="#h4-0-303" id="h4-0-303" class="i">+#define buffer_at_offset(buffer) ((buffer)-&gt;content + (buffer)-&gt;offset)
</a><a href="#h4-0-304" id="h4-0-304" class="i">+
</a><a href="#h4-0-305" id="h4-0-305" class="i">+/* Parse the input text to generate a number, and populate the result into item. */
</a><a href="#h4-0-306" id="h4-0-306" class="i">+static cJSON_bool parse_number(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h4-0-307" id="h4-0-307" class="i">+{
</a><a href="#h4-0-308" id="h4-0-308" class="i">+    double number = 0;
</a><a href="#h4-0-309" id="h4-0-309" class="i">+    unsigned char *after_end = NULL;
</a><a href="#h4-0-310" id="h4-0-310" class="i">+    unsigned char number_c_string[64];
</a><a href="#h4-0-311" id="h4-0-311" class="i">+    unsigned char decimal_point = get_decimal_point();
</a><a href="#h4-0-312" id="h4-0-312" class="i">+    size_t i = 0;
</a><a href="#h4-0-313" id="h4-0-313" class="i">+
</a><a href="#h4-0-314" id="h4-0-314" class="i">+    if ((input_buffer == NULL) || (input_buffer-&gt;content == NULL))
</a><a href="#h4-0-315" id="h4-0-315" class="i">+    {
</a><a href="#h4-0-316" id="h4-0-316" class="i">+        return false;
</a><a href="#h4-0-317" id="h4-0-317" class="i">+    }
</a><a href="#h4-0-318" id="h4-0-318" class="i">+
</a><a href="#h4-0-319" id="h4-0-319" class="i">+    /* copy the number into a temporary buffer and replace &#39;.&#39; with the decimal point
</a><a href="#h4-0-320" id="h4-0-320" class="i">+     * of the current locale (for strtod)
</a><a href="#h4-0-321" id="h4-0-321" class="i">+     * This also takes care of &#39;\0&#39; not necessarily being available for marking the end of the input */
</a><a href="#h4-0-322" id="h4-0-322" class="i">+    for (i = 0; (i &lt; (sizeof(number_c_string) - 1)) &amp;&amp; can_access_at_index(input_buffer, i); i++)
</a><a href="#h4-0-323" id="h4-0-323" class="i">+    {
</a><a href="#h4-0-324" id="h4-0-324" class="i">+        switch (buffer_at_offset(input_buffer)[i])
</a><a href="#h4-0-325" id="h4-0-325" class="i">+        {
</a><a href="#h4-0-326" id="h4-0-326" class="i">+            case &#39;0&#39;:
</a><a href="#h4-0-327" id="h4-0-327" class="i">+            case &#39;1&#39;:
</a><a href="#h4-0-328" id="h4-0-328" class="i">+            case &#39;2&#39;:
</a><a href="#h4-0-329" id="h4-0-329" class="i">+            case &#39;3&#39;:
</a><a href="#h4-0-330" id="h4-0-330" class="i">+            case &#39;4&#39;:
</a><a href="#h4-0-331" id="h4-0-331" class="i">+            case &#39;5&#39;:
</a><a href="#h4-0-332" id="h4-0-332" class="i">+            case &#39;6&#39;:
</a><a href="#h4-0-333" id="h4-0-333" class="i">+            case &#39;7&#39;:
</a><a href="#h4-0-334" id="h4-0-334" class="i">+            case &#39;8&#39;:
</a><a href="#h4-0-335" id="h4-0-335" class="i">+            case &#39;9&#39;:
</a><a href="#h4-0-336" id="h4-0-336" class="i">+            case &#39;+&#39;:
</a><a href="#h4-0-337" id="h4-0-337" class="i">+            case &#39;-&#39;:
</a><a href="#h4-0-338" id="h4-0-338" class="i">+            case &#39;e&#39;:
</a><a href="#h4-0-339" id="h4-0-339" class="i">+            case &#39;E&#39;:
</a><a href="#h4-0-340" id="h4-0-340" class="i">+                number_c_string[i] = buffer_at_offset(input_buffer)[i];
</a><a href="#h4-0-341" id="h4-0-341" class="i">+                break;
</a><a href="#h4-0-342" id="h4-0-342" class="i">+
</a><a href="#h4-0-343" id="h4-0-343" class="i">+            case &#39;.&#39;:
</a><a href="#h4-0-344" id="h4-0-344" class="i">+                number_c_string[i] = decimal_point;
</a><a href="#h4-0-345" id="h4-0-345" class="i">+                break;
</a><a href="#h4-0-346" id="h4-0-346" class="i">+
</a><a href="#h4-0-347" id="h4-0-347" class="i">+            default:
</a><a href="#h4-0-348" id="h4-0-348" class="i">+                goto loop_end;
</a><a href="#h4-0-349" id="h4-0-349" class="i">+        }
</a><a href="#h4-0-350" id="h4-0-350" class="i">+    }
</a><a href="#h4-0-351" id="h4-0-351" class="i">+loop_end:
</a><a href="#h4-0-352" id="h4-0-352" class="i">+    number_c_string[i] = &#39;\0&#39;;
</a><a href="#h4-0-353" id="h4-0-353" class="i">+
</a><a href="#h4-0-354" id="h4-0-354" class="i">+    number = strtod((const char*)number_c_string, (char**)&amp;after_end);
</a><a href="#h4-0-355" id="h4-0-355" class="i">+    if (number_c_string == after_end)
</a><a href="#h4-0-356" id="h4-0-356" class="i">+    {
</a><a href="#h4-0-357" id="h4-0-357" class="i">+        return false; /* parse_error */
</a><a href="#h4-0-358" id="h4-0-358" class="i">+    }
</a><a href="#h4-0-359" id="h4-0-359" class="i">+
</a><a href="#h4-0-360" id="h4-0-360" class="i">+    item-&gt;valuedouble = number;
</a><a href="#h4-0-361" id="h4-0-361" class="i">+
</a><a href="#h4-0-362" id="h4-0-362" class="i">+    /* use saturation in case of overflow */
</a><a href="#h4-0-363" id="h4-0-363" class="i">+    if (number &gt;= INT_MAX)
</a><a href="#h4-0-364" id="h4-0-364" class="i">+    {
</a><a href="#h4-0-365" id="h4-0-365" class="i">+        item-&gt;valueint = INT_MAX;
</a><a href="#h4-0-366" id="h4-0-366" class="i">+    }
</a><a href="#h4-0-367" id="h4-0-367" class="i">+    else if (number &lt;= (double)INT_MIN)
</a><a href="#h4-0-368" id="h4-0-368" class="i">+    {
</a><a href="#h4-0-369" id="h4-0-369" class="i">+        item-&gt;valueint = INT_MIN;
</a><a href="#h4-0-370" id="h4-0-370" class="i">+    }
</a><a href="#h4-0-371" id="h4-0-371" class="i">+    else
</a><a href="#h4-0-372" id="h4-0-372" class="i">+    {
</a><a href="#h4-0-373" id="h4-0-373" class="i">+        item-&gt;valueint = (int)number;
</a><a href="#h4-0-374" id="h4-0-374" class="i">+    }
</a><a href="#h4-0-375" id="h4-0-375" class="i">+
</a><a href="#h4-0-376" id="h4-0-376" class="i">+    item-&gt;type = cJSON_Number;
</a><a href="#h4-0-377" id="h4-0-377" class="i">+
</a><a href="#h4-0-378" id="h4-0-378" class="i">+    input_buffer-&gt;offset += (size_t)(after_end - number_c_string);
</a><a href="#h4-0-379" id="h4-0-379" class="i">+    return true;
</a><a href="#h4-0-380" id="h4-0-380" class="i">+}
</a><a href="#h4-0-381" id="h4-0-381" class="i">+
</a><a href="#h4-0-382" id="h4-0-382" class="i">+/* don&#39;t ask me, but the original cJSON_SetNumberValue returns an integer or double */
</a><a href="#h4-0-383" id="h4-0-383" class="i">+CJSON_PUBLIC(double) cJSON_SetNumberHelper(cJSON *object, double number)
</a><a href="#h4-0-384" id="h4-0-384" class="i">+{
</a><a href="#h4-0-385" id="h4-0-385" class="i">+    if (number &gt;= INT_MAX)
</a><a href="#h4-0-386" id="h4-0-386" class="i">+    {
</a><a href="#h4-0-387" id="h4-0-387" class="i">+        object-&gt;valueint = INT_MAX;
</a><a href="#h4-0-388" id="h4-0-388" class="i">+    }
</a><a href="#h4-0-389" id="h4-0-389" class="i">+    else if (number &lt;= (double)INT_MIN)
</a><a href="#h4-0-390" id="h4-0-390" class="i">+    {
</a><a href="#h4-0-391" id="h4-0-391" class="i">+        object-&gt;valueint = INT_MIN;
</a><a href="#h4-0-392" id="h4-0-392" class="i">+    }
</a><a href="#h4-0-393" id="h4-0-393" class="i">+    else
</a><a href="#h4-0-394" id="h4-0-394" class="i">+    {
</a><a href="#h4-0-395" id="h4-0-395" class="i">+        object-&gt;valueint = (int)number;
</a><a href="#h4-0-396" id="h4-0-396" class="i">+    }
</a><a href="#h4-0-397" id="h4-0-397" class="i">+
</a><a href="#h4-0-398" id="h4-0-398" class="i">+    return object-&gt;valuedouble = number;
</a><a href="#h4-0-399" id="h4-0-399" class="i">+}
</a><a href="#h4-0-400" id="h4-0-400" class="i">+
</a><a href="#h4-0-401" id="h4-0-401" class="i">+/* Note: when passing a NULL valuestring, cJSON_SetValuestring treats this as an error and return NULL */
</a><a href="#h4-0-402" id="h4-0-402" class="i">+CJSON_PUBLIC(char*) cJSON_SetValuestring(cJSON *object, const char *valuestring)
</a><a href="#h4-0-403" id="h4-0-403" class="i">+{
</a><a href="#h4-0-404" id="h4-0-404" class="i">+    char *copy = NULL;
</a><a href="#h4-0-405" id="h4-0-405" class="i">+    size_t v1_len;
</a><a href="#h4-0-406" id="h4-0-406" class="i">+    size_t v2_len;
</a><a href="#h4-0-407" id="h4-0-407" class="i">+    /* if object&#39;s type is not cJSON_String or is cJSON_IsReference, it should not set valuestring */
</a><a href="#h4-0-408" id="h4-0-408" class="i">+    if ((object == NULL) || !(object-&gt;type &amp; cJSON_String) || (object-&gt;type &amp; cJSON_IsReference))
</a><a href="#h4-0-409" id="h4-0-409" class="i">+    {
</a><a href="#h4-0-410" id="h4-0-410" class="i">+        return NULL;
</a><a href="#h4-0-411" id="h4-0-411" class="i">+    }
</a><a href="#h4-0-412" id="h4-0-412" class="i">+    /* return NULL if the object is corrupted or valuestring is NULL */
</a><a href="#h4-0-413" id="h4-0-413" class="i">+    if (object-&gt;valuestring == NULL || valuestring == NULL)
</a><a href="#h4-0-414" id="h4-0-414" class="i">+    {
</a><a href="#h4-0-415" id="h4-0-415" class="i">+        return NULL;
</a><a href="#h4-0-416" id="h4-0-416" class="i">+    }
</a><a href="#h4-0-417" id="h4-0-417" class="i">+
</a><a href="#h4-0-418" id="h4-0-418" class="i">+    v1_len = strlen(valuestring);
</a><a href="#h4-0-419" id="h4-0-419" class="i">+    v2_len = strlen(object-&gt;valuestring);
</a><a href="#h4-0-420" id="h4-0-420" class="i">+
</a><a href="#h4-0-421" id="h4-0-421" class="i">+    if (v1_len &lt;= v2_len)
</a><a href="#h4-0-422" id="h4-0-422" class="i">+    {
</a><a href="#h4-0-423" id="h4-0-423" class="i">+        /* strcpy does not handle overlapping string: [X1, X2] [Y1, Y2] =&gt; X2 &lt; Y1 or Y2 &lt; X1 */
</a><a href="#h4-0-424" id="h4-0-424" class="i">+        if (!( valuestring + v1_len &lt; object-&gt;valuestring || object-&gt;valuestring + v2_len &lt; valuestring ))
</a><a href="#h4-0-425" id="h4-0-425" class="i">+        {
</a><a href="#h4-0-426" id="h4-0-426" class="i">+            return NULL;
</a><a href="#h4-0-427" id="h4-0-427" class="i">+        }
</a><a href="#h4-0-428" id="h4-0-428" class="i">+        strcpy(object-&gt;valuestring, valuestring);
</a><a href="#h4-0-429" id="h4-0-429" class="i">+        return object-&gt;valuestring;
</a><a href="#h4-0-430" id="h4-0-430" class="i">+    }
</a><a href="#h4-0-431" id="h4-0-431" class="i">+    copy = (char*) cJSON_strdup((const unsigned char*)valuestring, &amp;global_hooks);
</a><a href="#h4-0-432" id="h4-0-432" class="i">+    if (copy == NULL)
</a><a href="#h4-0-433" id="h4-0-433" class="i">+    {
</a><a href="#h4-0-434" id="h4-0-434" class="i">+        return NULL;
</a><a href="#h4-0-435" id="h4-0-435" class="i">+    }
</a><a href="#h4-0-436" id="h4-0-436" class="i">+    if (object-&gt;valuestring != NULL)
</a><a href="#h4-0-437" id="h4-0-437" class="i">+    {
</a><a href="#h4-0-438" id="h4-0-438" class="i">+        cJSON_free(object-&gt;valuestring);
</a><a href="#h4-0-439" id="h4-0-439" class="i">+    }
</a><a href="#h4-0-440" id="h4-0-440" class="i">+    object-&gt;valuestring = copy;
</a><a href="#h4-0-441" id="h4-0-441" class="i">+
</a><a href="#h4-0-442" id="h4-0-442" class="i">+    return copy;
</a><a href="#h4-0-443" id="h4-0-443" class="i">+}
</a><a href="#h4-0-444" id="h4-0-444" class="i">+
</a><a href="#h4-0-445" id="h4-0-445" class="i">+typedef struct
</a><a href="#h4-0-446" id="h4-0-446" class="i">+{
</a><a href="#h4-0-447" id="h4-0-447" class="i">+    unsigned char *buffer;
</a><a href="#h4-0-448" id="h4-0-448" class="i">+    size_t length;
</a><a href="#h4-0-449" id="h4-0-449" class="i">+    size_t offset;
</a><a href="#h4-0-450" id="h4-0-450" class="i">+    size_t depth; /* current nesting depth (for formatted printing) */
</a><a href="#h4-0-451" id="h4-0-451" class="i">+    cJSON_bool noalloc;
</a><a href="#h4-0-452" id="h4-0-452" class="i">+    cJSON_bool format; /* is this print a formatted print */
</a><a href="#h4-0-453" id="h4-0-453" class="i">+    internal_hooks hooks;
</a><a href="#h4-0-454" id="h4-0-454" class="i">+} printbuffer;
</a><a href="#h4-0-455" id="h4-0-455" class="i">+
</a><a href="#h4-0-456" id="h4-0-456" class="i">+/* realloc printbuffer if necessary to have at least &quot;needed&quot; bytes more */
</a><a href="#h4-0-457" id="h4-0-457" class="i">+static unsigned char* ensure(printbuffer * const p, size_t needed)
</a><a href="#h4-0-458" id="h4-0-458" class="i">+{
</a><a href="#h4-0-459" id="h4-0-459" class="i">+    unsigned char *newbuffer = NULL;
</a><a href="#h4-0-460" id="h4-0-460" class="i">+    size_t newsize = 0;
</a><a href="#h4-0-461" id="h4-0-461" class="i">+
</a><a href="#h4-0-462" id="h4-0-462" class="i">+    if ((p == NULL) || (p-&gt;buffer == NULL))
</a><a href="#h4-0-463" id="h4-0-463" class="i">+    {
</a><a href="#h4-0-464" id="h4-0-464" class="i">+        return NULL;
</a><a href="#h4-0-465" id="h4-0-465" class="i">+    }
</a><a href="#h4-0-466" id="h4-0-466" class="i">+
</a><a href="#h4-0-467" id="h4-0-467" class="i">+    if ((p-&gt;length &gt; 0) &amp;&amp; (p-&gt;offset &gt;= p-&gt;length))
</a><a href="#h4-0-468" id="h4-0-468" class="i">+    {
</a><a href="#h4-0-469" id="h4-0-469" class="i">+        /* make sure that offset is valid */
</a><a href="#h4-0-470" id="h4-0-470" class="i">+        return NULL;
</a><a href="#h4-0-471" id="h4-0-471" class="i">+    }
</a><a href="#h4-0-472" id="h4-0-472" class="i">+
</a><a href="#h4-0-473" id="h4-0-473" class="i">+    if (needed &gt; INT_MAX)
</a><a href="#h4-0-474" id="h4-0-474" class="i">+    {
</a><a href="#h4-0-475" id="h4-0-475" class="i">+        /* sizes bigger than INT_MAX are currently not supported */
</a><a href="#h4-0-476" id="h4-0-476" class="i">+        return NULL;
</a><a href="#h4-0-477" id="h4-0-477" class="i">+    }
</a><a href="#h4-0-478" id="h4-0-478" class="i">+
</a><a href="#h4-0-479" id="h4-0-479" class="i">+    needed += p-&gt;offset + 1;
</a><a href="#h4-0-480" id="h4-0-480" class="i">+    if (needed &lt;= p-&gt;length)
</a><a href="#h4-0-481" id="h4-0-481" class="i">+    {
</a><a href="#h4-0-482" id="h4-0-482" class="i">+        return p-&gt;buffer + p-&gt;offset;
</a><a href="#h4-0-483" id="h4-0-483" class="i">+    }
</a><a href="#h4-0-484" id="h4-0-484" class="i">+
</a><a href="#h4-0-485" id="h4-0-485" class="i">+    if (p-&gt;noalloc) {
</a><a href="#h4-0-486" id="h4-0-486" class="i">+        return NULL;
</a><a href="#h4-0-487" id="h4-0-487" class="i">+    }
</a><a href="#h4-0-488" id="h4-0-488" class="i">+
</a><a href="#h4-0-489" id="h4-0-489" class="i">+    /* calculate new buffer size */
</a><a href="#h4-0-490" id="h4-0-490" class="i">+    if (needed &gt; (INT_MAX / 2))
</a><a href="#h4-0-491" id="h4-0-491" class="i">+    {
</a><a href="#h4-0-492" id="h4-0-492" class="i">+        /* overflow of int, use INT_MAX if possible */
</a><a href="#h4-0-493" id="h4-0-493" class="i">+        if (needed &lt;= INT_MAX)
</a><a href="#h4-0-494" id="h4-0-494" class="i">+        {
</a><a href="#h4-0-495" id="h4-0-495" class="i">+            newsize = INT_MAX;
</a><a href="#h4-0-496" id="h4-0-496" class="i">+        }
</a><a href="#h4-0-497" id="h4-0-497" class="i">+        else
</a><a href="#h4-0-498" id="h4-0-498" class="i">+        {
</a><a href="#h4-0-499" id="h4-0-499" class="i">+            return NULL;
</a><a href="#h4-0-500" id="h4-0-500" class="i">+        }
</a><a href="#h4-0-501" id="h4-0-501" class="i">+    }
</a><a href="#h4-0-502" id="h4-0-502" class="i">+    else
</a><a href="#h4-0-503" id="h4-0-503" class="i">+    {
</a><a href="#h4-0-504" id="h4-0-504" class="i">+        newsize = needed * 2;
</a><a href="#h4-0-505" id="h4-0-505" class="i">+    }
</a><a href="#h4-0-506" id="h4-0-506" class="i">+
</a><a href="#h4-0-507" id="h4-0-507" class="i">+    if (p-&gt;hooks.reallocate != NULL)
</a><a href="#h4-0-508" id="h4-0-508" class="i">+    {
</a><a href="#h4-0-509" id="h4-0-509" class="i">+        /* reallocate with realloc if available */
</a><a href="#h4-0-510" id="h4-0-510" class="i">+        newbuffer = (unsigned char*)p-&gt;hooks.reallocate(p-&gt;buffer, newsize);
</a><a href="#h4-0-511" id="h4-0-511" class="i">+        if (newbuffer == NULL)
</a><a href="#h4-0-512" id="h4-0-512" class="i">+        {
</a><a href="#h4-0-513" id="h4-0-513" class="i">+            p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h4-0-514" id="h4-0-514" class="i">+            p-&gt;length = 0;
</a><a href="#h4-0-515" id="h4-0-515" class="i">+            p-&gt;buffer = NULL;
</a><a href="#h4-0-516" id="h4-0-516" class="i">+
</a><a href="#h4-0-517" id="h4-0-517" class="i">+            return NULL;
</a><a href="#h4-0-518" id="h4-0-518" class="i">+        }
</a><a href="#h4-0-519" id="h4-0-519" class="i">+    }
</a><a href="#h4-0-520" id="h4-0-520" class="i">+    else
</a><a href="#h4-0-521" id="h4-0-521" class="i">+    {
</a><a href="#h4-0-522" id="h4-0-522" class="i">+        /* otherwise reallocate manually */
</a><a href="#h4-0-523" id="h4-0-523" class="i">+        newbuffer = (unsigned char*)p-&gt;hooks.allocate(newsize);
</a><a href="#h4-0-524" id="h4-0-524" class="i">+        if (!newbuffer)
</a><a href="#h4-0-525" id="h4-0-525" class="i">+        {
</a><a href="#h4-0-526" id="h4-0-526" class="i">+            p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h4-0-527" id="h4-0-527" class="i">+            p-&gt;length = 0;
</a><a href="#h4-0-528" id="h4-0-528" class="i">+            p-&gt;buffer = NULL;
</a><a href="#h4-0-529" id="h4-0-529" class="i">+
</a><a href="#h4-0-530" id="h4-0-530" class="i">+            return NULL;
</a><a href="#h4-0-531" id="h4-0-531" class="i">+        }
</a><a href="#h4-0-532" id="h4-0-532" class="i">+
</a><a href="#h4-0-533" id="h4-0-533" class="i">+        memcpy(newbuffer, p-&gt;buffer, p-&gt;offset + 1);
</a><a href="#h4-0-534" id="h4-0-534" class="i">+        p-&gt;hooks.deallocate(p-&gt;buffer);
</a><a href="#h4-0-535" id="h4-0-535" class="i">+    }
</a><a href="#h4-0-536" id="h4-0-536" class="i">+    p-&gt;length = newsize;
</a><a href="#h4-0-537" id="h4-0-537" class="i">+    p-&gt;buffer = newbuffer;
</a><a href="#h4-0-538" id="h4-0-538" class="i">+
</a><a href="#h4-0-539" id="h4-0-539" class="i">+    return newbuffer + p-&gt;offset;
</a><a href="#h4-0-540" id="h4-0-540" class="i">+}
</a><a href="#h4-0-541" id="h4-0-541" class="i">+
</a><a href="#h4-0-542" id="h4-0-542" class="i">+/* calculate the new length of the string in a printbuffer and update the offset */
</a><a href="#h4-0-543" id="h4-0-543" class="i">+static void update_offset(printbuffer * const buffer)
</a><a href="#h4-0-544" id="h4-0-544" class="i">+{
</a><a href="#h4-0-545" id="h4-0-545" class="i">+    const unsigned char *buffer_pointer = NULL;
</a><a href="#h4-0-546" id="h4-0-546" class="i">+    if ((buffer == NULL) || (buffer-&gt;buffer == NULL))
</a><a href="#h4-0-547" id="h4-0-547" class="i">+    {
</a><a href="#h4-0-548" id="h4-0-548" class="i">+        return;
</a><a href="#h4-0-549" id="h4-0-549" class="i">+    }
</a><a href="#h4-0-550" id="h4-0-550" class="i">+    buffer_pointer = buffer-&gt;buffer + buffer-&gt;offset;
</a><a href="#h4-0-551" id="h4-0-551" class="i">+
</a><a href="#h4-0-552" id="h4-0-552" class="i">+    buffer-&gt;offset += strlen((const char*)buffer_pointer);
</a><a href="#h4-0-553" id="h4-0-553" class="i">+}
</a><a href="#h4-0-554" id="h4-0-554" class="i">+
</a><a href="#h4-0-555" id="h4-0-555" class="i">+/* securely comparison of floating-point variables */
</a><a href="#h4-0-556" id="h4-0-556" class="i">+static cJSON_bool compare_double(double a, double b)
</a><a href="#h4-0-557" id="h4-0-557" class="i">+{
</a><a href="#h4-0-558" id="h4-0-558" class="i">+    double maxVal = fabs(a) &gt; fabs(b) ? fabs(a) : fabs(b);
</a><a href="#h4-0-559" id="h4-0-559" class="i">+    return (fabs(a - b) &lt;= maxVal * DBL_EPSILON);
</a><a href="#h4-0-560" id="h4-0-560" class="i">+}
</a><a href="#h4-0-561" id="h4-0-561" class="i">+
</a><a href="#h4-0-562" id="h4-0-562" class="i">+/* Render the number nicely from the given item into a string. */
</a><a href="#h4-0-563" id="h4-0-563" class="i">+static cJSON_bool print_number(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h4-0-564" id="h4-0-564" class="i">+{
</a><a href="#h4-0-565" id="h4-0-565" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h4-0-566" id="h4-0-566" class="i">+    double d = item-&gt;valuedouble;
</a><a href="#h4-0-567" id="h4-0-567" class="i">+    int length = 0;
</a><a href="#h4-0-568" id="h4-0-568" class="i">+    size_t i = 0;
</a><a href="#h4-0-569" id="h4-0-569" class="i">+    unsigned char number_buffer[26] = {0}; /* temporary buffer to print the number into */
</a><a href="#h4-0-570" id="h4-0-570" class="i">+    unsigned char decimal_point = get_decimal_point();
</a><a href="#h4-0-571" id="h4-0-571" class="i">+    double test = 0.0;
</a><a href="#h4-0-572" id="h4-0-572" class="i">+
</a><a href="#h4-0-573" id="h4-0-573" class="i">+    if (output_buffer == NULL)
</a><a href="#h4-0-574" id="h4-0-574" class="i">+    {
</a><a href="#h4-0-575" id="h4-0-575" class="i">+        return false;
</a><a href="#h4-0-576" id="h4-0-576" class="i">+    }
</a><a href="#h4-0-577" id="h4-0-577" class="i">+
</a><a href="#h4-0-578" id="h4-0-578" class="i">+    /* This checks for NaN and Infinity */
</a><a href="#h4-0-579" id="h4-0-579" class="i">+    if (isnan(d) || isinf(d))
</a><a href="#h4-0-580" id="h4-0-580" class="i">+    {
</a><a href="#h4-0-581" id="h4-0-581" class="i">+        length = sprintf((char*)number_buffer, &quot;null&quot;);
</a><a href="#h4-0-582" id="h4-0-582" class="i">+    }
</a><a href="#h4-0-583" id="h4-0-583" class="i">+    else if(d == (double)item-&gt;valueint)
</a><a href="#h4-0-584" id="h4-0-584" class="i">+    {
</a><a href="#h4-0-585" id="h4-0-585" class="i">+        length = sprintf((char*)number_buffer, &quot;%d&quot;, item-&gt;valueint);
</a><a href="#h4-0-586" id="h4-0-586" class="i">+    }
</a><a href="#h4-0-587" id="h4-0-587" class="i">+    else
</a><a href="#h4-0-588" id="h4-0-588" class="i">+    {
</a><a href="#h4-0-589" id="h4-0-589" class="i">+        /* Try 15 decimal places of precision to avoid nonsignificant nonzero digits */
</a><a href="#h4-0-590" id="h4-0-590" class="i">+        length = sprintf((char*)number_buffer, &quot;%1.15g&quot;, d);
</a><a href="#h4-0-591" id="h4-0-591" class="i">+
</a><a href="#h4-0-592" id="h4-0-592" class="i">+        /* Check whether the original double can be recovered */
</a><a href="#h4-0-593" id="h4-0-593" class="i">+        if ((sscanf((char*)number_buffer, &quot;%lg&quot;, &amp;test) != 1) || !compare_double((double)test, d))
</a><a href="#h4-0-594" id="h4-0-594" class="i">+        {
</a><a href="#h4-0-595" id="h4-0-595" class="i">+            /* If not, print with 17 decimal places of precision */
</a><a href="#h4-0-596" id="h4-0-596" class="i">+            length = sprintf((char*)number_buffer, &quot;%1.17g&quot;, d);
</a><a href="#h4-0-597" id="h4-0-597" class="i">+        }
</a><a href="#h4-0-598" id="h4-0-598" class="i">+    }
</a><a href="#h4-0-599" id="h4-0-599" class="i">+
</a><a href="#h4-0-600" id="h4-0-600" class="i">+    /* sprintf failed or buffer overrun occurred */
</a><a href="#h4-0-601" id="h4-0-601" class="i">+    if ((length &lt; 0) || (length &gt; (int)(sizeof(number_buffer) - 1)))
</a><a href="#h4-0-602" id="h4-0-602" class="i">+    {
</a><a href="#h4-0-603" id="h4-0-603" class="i">+        return false;
</a><a href="#h4-0-604" id="h4-0-604" class="i">+    }
</a><a href="#h4-0-605" id="h4-0-605" class="i">+
</a><a href="#h4-0-606" id="h4-0-606" class="i">+    /* reserve appropriate space in the output */
</a><a href="#h4-0-607" id="h4-0-607" class="i">+    output_pointer = ensure(output_buffer, (size_t)length + sizeof(&quot;&quot;));
</a><a href="#h4-0-608" id="h4-0-608" class="i">+    if (output_pointer == NULL)
</a><a href="#h4-0-609" id="h4-0-609" class="i">+    {
</a><a href="#h4-0-610" id="h4-0-610" class="i">+        return false;
</a><a href="#h4-0-611" id="h4-0-611" class="i">+    }
</a><a href="#h4-0-612" id="h4-0-612" class="i">+
</a><a href="#h4-0-613" id="h4-0-613" class="i">+    /* copy the printed number to the output and replace locale
</a><a href="#h4-0-614" id="h4-0-614" class="i">+     * dependent decimal point with &#39;.&#39; */
</a><a href="#h4-0-615" id="h4-0-615" class="i">+    for (i = 0; i &lt; ((size_t)length); i++)
</a><a href="#h4-0-616" id="h4-0-616" class="i">+    {
</a><a href="#h4-0-617" id="h4-0-617" class="i">+        if (number_buffer[i] == decimal_point)
</a><a href="#h4-0-618" id="h4-0-618" class="i">+        {
</a><a href="#h4-0-619" id="h4-0-619" class="i">+            output_pointer[i] = &#39;.&#39;;
</a><a href="#h4-0-620" id="h4-0-620" class="i">+            continue;
</a><a href="#h4-0-621" id="h4-0-621" class="i">+        }
</a><a href="#h4-0-622" id="h4-0-622" class="i">+
</a><a href="#h4-0-623" id="h4-0-623" class="i">+        output_pointer[i] = number_buffer[i];
</a><a href="#h4-0-624" id="h4-0-624" class="i">+    }
</a><a href="#h4-0-625" id="h4-0-625" class="i">+    output_pointer[i] = &#39;\0&#39;;
</a><a href="#h4-0-626" id="h4-0-626" class="i">+
</a><a href="#h4-0-627" id="h4-0-627" class="i">+    output_buffer-&gt;offset += (size_t)length;
</a><a href="#h4-0-628" id="h4-0-628" class="i">+
</a><a href="#h4-0-629" id="h4-0-629" class="i">+    return true;
</a><a href="#h4-0-630" id="h4-0-630" class="i">+}
</a><a href="#h4-0-631" id="h4-0-631" class="i">+
</a><a href="#h4-0-632" id="h4-0-632" class="i">+/* parse 4 digit hexadecimal number */
</a><a href="#h4-0-633" id="h4-0-633" class="i">+static unsigned parse_hex4(const unsigned char * const input)
</a><a href="#h4-0-634" id="h4-0-634" class="i">+{
</a><a href="#h4-0-635" id="h4-0-635" class="i">+    unsigned int h = 0;
</a><a href="#h4-0-636" id="h4-0-636" class="i">+    size_t i = 0;
</a><a href="#h4-0-637" id="h4-0-637" class="i">+
</a><a href="#h4-0-638" id="h4-0-638" class="i">+    for (i = 0; i &lt; 4; i++)
</a><a href="#h4-0-639" id="h4-0-639" class="i">+    {
</a><a href="#h4-0-640" id="h4-0-640" class="i">+        /* parse digit */
</a><a href="#h4-0-641" id="h4-0-641" class="i">+        if ((input[i] &gt;= &#39;0&#39;) &amp;&amp; (input[i] &lt;= &#39;9&#39;))
</a><a href="#h4-0-642" id="h4-0-642" class="i">+        {
</a><a href="#h4-0-643" id="h4-0-643" class="i">+            h += (unsigned int) input[i] - &#39;0&#39;;
</a><a href="#h4-0-644" id="h4-0-644" class="i">+        }
</a><a href="#h4-0-645" id="h4-0-645" class="i">+        else if ((input[i] &gt;= &#39;A&#39;) &amp;&amp; (input[i] &lt;= &#39;F&#39;))
</a><a href="#h4-0-646" id="h4-0-646" class="i">+        {
</a><a href="#h4-0-647" id="h4-0-647" class="i">+            h += (unsigned int) 10 + input[i] - &#39;A&#39;;
</a><a href="#h4-0-648" id="h4-0-648" class="i">+        }
</a><a href="#h4-0-649" id="h4-0-649" class="i">+        else if ((input[i] &gt;= &#39;a&#39;) &amp;&amp; (input[i] &lt;= &#39;f&#39;))
</a><a href="#h4-0-650" id="h4-0-650" class="i">+        {
</a><a href="#h4-0-651" id="h4-0-651" class="i">+            h += (unsigned int) 10 + input[i] - &#39;a&#39;;
</a><a href="#h4-0-652" id="h4-0-652" class="i">+        }
</a><a href="#h4-0-653" id="h4-0-653" class="i">+        else /* invalid */
</a><a href="#h4-0-654" id="h4-0-654" class="i">+        {
</a><a href="#h4-0-655" id="h4-0-655" class="i">+            return 0;
</a><a href="#h4-0-656" id="h4-0-656" class="i">+        }
</a><a href="#h4-0-657" id="h4-0-657" class="i">+
</a><a href="#h4-0-658" id="h4-0-658" class="i">+        if (i &lt; 3)
</a><a href="#h4-0-659" id="h4-0-659" class="i">+        {
</a><a href="#h4-0-660" id="h4-0-660" class="i">+            /* shift left to make place for the next nibble */
</a><a href="#h4-0-661" id="h4-0-661" class="i">+            h = h &lt;&lt; 4;
</a><a href="#h4-0-662" id="h4-0-662" class="i">+        }
</a><a href="#h4-0-663" id="h4-0-663" class="i">+    }
</a><a href="#h4-0-664" id="h4-0-664" class="i">+
</a><a href="#h4-0-665" id="h4-0-665" class="i">+    return h;
</a><a href="#h4-0-666" id="h4-0-666" class="i">+}
</a><a href="#h4-0-667" id="h4-0-667" class="i">+
</a><a href="#h4-0-668" id="h4-0-668" class="i">+/* converts a UTF-16 literal to UTF-8
</a><a href="#h4-0-669" id="h4-0-669" class="i">+ * A literal can be one or two sequences of the form \uXXXX */
</a><a href="#h4-0-670" id="h4-0-670" class="i">+static unsigned char utf16_literal_to_utf8(const unsigned char * const input_pointer, const unsigned char * const input_end, unsigned char **output_pointer)
</a><a href="#h4-0-671" id="h4-0-671" class="i">+{
</a><a href="#h4-0-672" id="h4-0-672" class="i">+    long unsigned int codepoint = 0;
</a><a href="#h4-0-673" id="h4-0-673" class="i">+    unsigned int first_code = 0;
</a><a href="#h4-0-674" id="h4-0-674" class="i">+    const unsigned char *first_sequence = input_pointer;
</a><a href="#h4-0-675" id="h4-0-675" class="i">+    unsigned char utf8_length = 0;
</a><a href="#h4-0-676" id="h4-0-676" class="i">+    unsigned char utf8_position = 0;
</a><a href="#h4-0-677" id="h4-0-677" class="i">+    unsigned char sequence_length = 0;
</a><a href="#h4-0-678" id="h4-0-678" class="i">+    unsigned char first_byte_mark = 0;
</a><a href="#h4-0-679" id="h4-0-679" class="i">+
</a><a href="#h4-0-680" id="h4-0-680" class="i">+    if ((input_end - first_sequence) &lt; 6)
</a><a href="#h4-0-681" id="h4-0-681" class="i">+    {
</a><a href="#h4-0-682" id="h4-0-682" class="i">+        /* input ends unexpectedly */
</a><a href="#h4-0-683" id="h4-0-683" class="i">+        goto fail;
</a><a href="#h4-0-684" id="h4-0-684" class="i">+    }
</a><a href="#h4-0-685" id="h4-0-685" class="i">+
</a><a href="#h4-0-686" id="h4-0-686" class="i">+    /* get the first utf16 sequence */
</a><a href="#h4-0-687" id="h4-0-687" class="i">+    first_code = parse_hex4(first_sequence + 2);
</a><a href="#h4-0-688" id="h4-0-688" class="i">+
</a><a href="#h4-0-689" id="h4-0-689" class="i">+    /* check that the code is valid */
</a><a href="#h4-0-690" id="h4-0-690" class="i">+    if (((first_code &gt;= 0xDC00) &amp;&amp; (first_code &lt;= 0xDFFF)))
</a><a href="#h4-0-691" id="h4-0-691" class="i">+    {
</a><a href="#h4-0-692" id="h4-0-692" class="i">+        goto fail;
</a><a href="#h4-0-693" id="h4-0-693" class="i">+    }
</a><a href="#h4-0-694" id="h4-0-694" class="i">+
</a><a href="#h4-0-695" id="h4-0-695" class="i">+    /* UTF16 surrogate pair */
</a><a href="#h4-0-696" id="h4-0-696" class="i">+    if ((first_code &gt;= 0xD800) &amp;&amp; (first_code &lt;= 0xDBFF))
</a><a href="#h4-0-697" id="h4-0-697" class="i">+    {
</a><a href="#h4-0-698" id="h4-0-698" class="i">+        const unsigned char *second_sequence = first_sequence + 6;
</a><a href="#h4-0-699" id="h4-0-699" class="i">+        unsigned int second_code = 0;
</a><a href="#h4-0-700" id="h4-0-700" class="i">+        sequence_length = 12; /* \uXXXX\uXXXX */
</a><a href="#h4-0-701" id="h4-0-701" class="i">+
</a><a href="#h4-0-702" id="h4-0-702" class="i">+        if ((input_end - second_sequence) &lt; 6)
</a><a href="#h4-0-703" id="h4-0-703" class="i">+        {
</a><a href="#h4-0-704" id="h4-0-704" class="i">+            /* input ends unexpectedly */
</a><a href="#h4-0-705" id="h4-0-705" class="i">+            goto fail;
</a><a href="#h4-0-706" id="h4-0-706" class="i">+        }
</a><a href="#h4-0-707" id="h4-0-707" class="i">+
</a><a href="#h4-0-708" id="h4-0-708" class="i">+        if ((second_sequence[0] != &#39;\\&#39;) || (second_sequence[1] != &#39;u&#39;))
</a><a href="#h4-0-709" id="h4-0-709" class="i">+        {
</a><a href="#h4-0-710" id="h4-0-710" class="i">+            /* missing second half of the surrogate pair */
</a><a href="#h4-0-711" id="h4-0-711" class="i">+            goto fail;
</a><a href="#h4-0-712" id="h4-0-712" class="i">+        }
</a><a href="#h4-0-713" id="h4-0-713" class="i">+
</a><a href="#h4-0-714" id="h4-0-714" class="i">+        /* get the second utf16 sequence */
</a><a href="#h4-0-715" id="h4-0-715" class="i">+        second_code = parse_hex4(second_sequence + 2);
</a><a href="#h4-0-716" id="h4-0-716" class="i">+        /* check that the code is valid */
</a><a href="#h4-0-717" id="h4-0-717" class="i">+        if ((second_code &lt; 0xDC00) || (second_code &gt; 0xDFFF))
</a><a href="#h4-0-718" id="h4-0-718" class="i">+        {
</a><a href="#h4-0-719" id="h4-0-719" class="i">+            /* invalid second half of the surrogate pair */
</a><a href="#h4-0-720" id="h4-0-720" class="i">+            goto fail;
</a><a href="#h4-0-721" id="h4-0-721" class="i">+        }
</a><a href="#h4-0-722" id="h4-0-722" class="i">+
</a><a href="#h4-0-723" id="h4-0-723" class="i">+
</a><a href="#h4-0-724" id="h4-0-724" class="i">+        /* calculate the unicode codepoint from the surrogate pair */
</a><a href="#h4-0-725" id="h4-0-725" class="i">+        codepoint = 0x10000 + (((first_code &amp; 0x3FF) &lt;&lt; 10) | (second_code &amp; 0x3FF));
</a><a href="#h4-0-726" id="h4-0-726" class="i">+    }
</a><a href="#h4-0-727" id="h4-0-727" class="i">+    else
</a><a href="#h4-0-728" id="h4-0-728" class="i">+    {
</a><a href="#h4-0-729" id="h4-0-729" class="i">+        sequence_length = 6; /* \uXXXX */
</a><a href="#h4-0-730" id="h4-0-730" class="i">+        codepoint = first_code;
</a><a href="#h4-0-731" id="h4-0-731" class="i">+    }
</a><a href="#h4-0-732" id="h4-0-732" class="i">+
</a><a href="#h4-0-733" id="h4-0-733" class="i">+    /* encode as UTF-8
</a><a href="#h4-0-734" id="h4-0-734" class="i">+     * takes at maximum 4 bytes to encode:
</a><a href="#h4-0-735" id="h4-0-735" class="i">+     * 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx */
</a><a href="#h4-0-736" id="h4-0-736" class="i">+    if (codepoint &lt; 0x80)
</a><a href="#h4-0-737" id="h4-0-737" class="i">+    {
</a><a href="#h4-0-738" id="h4-0-738" class="i">+        /* normal ascii, encoding 0xxxxxxx */
</a><a href="#h4-0-739" id="h4-0-739" class="i">+        utf8_length = 1;
</a><a href="#h4-0-740" id="h4-0-740" class="i">+    }
</a><a href="#h4-0-741" id="h4-0-741" class="i">+    else if (codepoint &lt; 0x800)
</a><a href="#h4-0-742" id="h4-0-742" class="i">+    {
</a><a href="#h4-0-743" id="h4-0-743" class="i">+        /* two bytes, encoding 110xxxxx 10xxxxxx */
</a><a href="#h4-0-744" id="h4-0-744" class="i">+        utf8_length = 2;
</a><a href="#h4-0-745" id="h4-0-745" class="i">+        first_byte_mark = 0xC0; /* 11000000 */
</a><a href="#h4-0-746" id="h4-0-746" class="i">+    }
</a><a href="#h4-0-747" id="h4-0-747" class="i">+    else if (codepoint &lt; 0x10000)
</a><a href="#h4-0-748" id="h4-0-748" class="i">+    {
</a><a href="#h4-0-749" id="h4-0-749" class="i">+        /* three bytes, encoding 1110xxxx 10xxxxxx 10xxxxxx */
</a><a href="#h4-0-750" id="h4-0-750" class="i">+        utf8_length = 3;
</a><a href="#h4-0-751" id="h4-0-751" class="i">+        first_byte_mark = 0xE0; /* 11100000 */
</a><a href="#h4-0-752" id="h4-0-752" class="i">+    }
</a><a href="#h4-0-753" id="h4-0-753" class="i">+    else if (codepoint &lt;= 0x10FFFF)
</a><a href="#h4-0-754" id="h4-0-754" class="i">+    {
</a><a href="#h4-0-755" id="h4-0-755" class="i">+        /* four bytes, encoding 1110xxxx 10xxxxxx 10xxxxxx 10xxxxxx */
</a><a href="#h4-0-756" id="h4-0-756" class="i">+        utf8_length = 4;
</a><a href="#h4-0-757" id="h4-0-757" class="i">+        first_byte_mark = 0xF0; /* 11110000 */
</a><a href="#h4-0-758" id="h4-0-758" class="i">+    }
</a><a href="#h4-0-759" id="h4-0-759" class="i">+    else
</a><a href="#h4-0-760" id="h4-0-760" class="i">+    {
</a><a href="#h4-0-761" id="h4-0-761" class="i">+        /* invalid unicode codepoint */
</a><a href="#h4-0-762" id="h4-0-762" class="i">+        goto fail;
</a><a href="#h4-0-763" id="h4-0-763" class="i">+    }
</a><a href="#h4-0-764" id="h4-0-764" class="i">+
</a><a href="#h4-0-765" id="h4-0-765" class="i">+    /* encode as utf8 */
</a><a href="#h4-0-766" id="h4-0-766" class="i">+    for (utf8_position = (unsigned char)(utf8_length - 1); utf8_position &gt; 0; utf8_position--)
</a><a href="#h4-0-767" id="h4-0-767" class="i">+    {
</a><a href="#h4-0-768" id="h4-0-768" class="i">+        /* 10xxxxxx */
</a><a href="#h4-0-769" id="h4-0-769" class="i">+        (*output_pointer)[utf8_position] = (unsigned char)((codepoint | 0x80) &amp; 0xBF);
</a><a href="#h4-0-770" id="h4-0-770" class="i">+        codepoint &gt;&gt;= 6;
</a><a href="#h4-0-771" id="h4-0-771" class="i">+    }
</a><a href="#h4-0-772" id="h4-0-772" class="i">+    /* encode first byte */
</a><a href="#h4-0-773" id="h4-0-773" class="i">+    if (utf8_length &gt; 1)
</a><a href="#h4-0-774" id="h4-0-774" class="i">+    {
</a><a href="#h4-0-775" id="h4-0-775" class="i">+        (*output_pointer)[0] = (unsigned char)((codepoint | first_byte_mark) &amp; 0xFF);
</a><a href="#h4-0-776" id="h4-0-776" class="i">+    }
</a><a href="#h4-0-777" id="h4-0-777" class="i">+    else
</a><a href="#h4-0-778" id="h4-0-778" class="i">+    {
</a><a href="#h4-0-779" id="h4-0-779" class="i">+        (*output_pointer)[0] = (unsigned char)(codepoint &amp; 0x7F);
</a><a href="#h4-0-780" id="h4-0-780" class="i">+    }
</a><a href="#h4-0-781" id="h4-0-781" class="i">+
</a><a href="#h4-0-782" id="h4-0-782" class="i">+    *output_pointer += utf8_length;
</a><a href="#h4-0-783" id="h4-0-783" class="i">+
</a><a href="#h4-0-784" id="h4-0-784" class="i">+    return sequence_length;
</a><a href="#h4-0-785" id="h4-0-785" class="i">+
</a><a href="#h4-0-786" id="h4-0-786" class="i">+fail:
</a><a href="#h4-0-787" id="h4-0-787" class="i">+    return 0;
</a><a href="#h4-0-788" id="h4-0-788" class="i">+}
</a><a href="#h4-0-789" id="h4-0-789" class="i">+
</a><a href="#h4-0-790" id="h4-0-790" class="i">+/* Parse the input text into an unescaped cinput, and populate item. */
</a><a href="#h4-0-791" id="h4-0-791" class="i">+static cJSON_bool parse_string(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h4-0-792" id="h4-0-792" class="i">+{
</a><a href="#h4-0-793" id="h4-0-793" class="i">+    const unsigned char *input_pointer = buffer_at_offset(input_buffer) + 1;
</a><a href="#h4-0-794" id="h4-0-794" class="i">+    const unsigned char *input_end = buffer_at_offset(input_buffer) + 1;
</a><a href="#h4-0-795" id="h4-0-795" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h4-0-796" id="h4-0-796" class="i">+    unsigned char *output = NULL;
</a><a href="#h4-0-797" id="h4-0-797" class="i">+
</a><a href="#h4-0-798" id="h4-0-798" class="i">+    /* not a string */
</a><a href="#h4-0-799" id="h4-0-799" class="i">+    if (buffer_at_offset(input_buffer)[0] != &#39;\&quot;&#39;)
</a><a href="#h4-0-800" id="h4-0-800" class="i">+    {
</a><a href="#h4-0-801" id="h4-0-801" class="i">+        goto fail;
</a><a href="#h4-0-802" id="h4-0-802" class="i">+    }
</a><a href="#h4-0-803" id="h4-0-803" class="i">+
</a><a href="#h4-0-804" id="h4-0-804" class="i">+    {
</a><a href="#h4-0-805" id="h4-0-805" class="i">+        /* calculate approximate size of the output (overestimate) */
</a><a href="#h4-0-806" id="h4-0-806" class="i">+        size_t allocation_length = 0;
</a><a href="#h4-0-807" id="h4-0-807" class="i">+        size_t skipped_bytes = 0;
</a><a href="#h4-0-808" id="h4-0-808" class="i">+        while (((size_t)(input_end - input_buffer-&gt;content) &lt; input_buffer-&gt;length) &amp;&amp; (*input_end != &#39;\&quot;&#39;))
</a><a href="#h4-0-809" id="h4-0-809" class="i">+        {
</a><a href="#h4-0-810" id="h4-0-810" class="i">+            /* is escape sequence */
</a><a href="#h4-0-811" id="h4-0-811" class="i">+            if (input_end[0] == &#39;\\&#39;)
</a><a href="#h4-0-812" id="h4-0-812" class="i">+            {
</a><a href="#h4-0-813" id="h4-0-813" class="i">+                if ((size_t)(input_end + 1 - input_buffer-&gt;content) &gt;= input_buffer-&gt;length)
</a><a href="#h4-0-814" id="h4-0-814" class="i">+                {
</a><a href="#h4-0-815" id="h4-0-815" class="i">+                    /* prevent buffer overflow when last input character is a backslash */
</a><a href="#h4-0-816" id="h4-0-816" class="i">+                    goto fail;
</a><a href="#h4-0-817" id="h4-0-817" class="i">+                }
</a><a href="#h4-0-818" id="h4-0-818" class="i">+                skipped_bytes++;
</a><a href="#h4-0-819" id="h4-0-819" class="i">+                input_end++;
</a><a href="#h4-0-820" id="h4-0-820" class="i">+            }
</a><a href="#h4-0-821" id="h4-0-821" class="i">+            input_end++;
</a><a href="#h4-0-822" id="h4-0-822" class="i">+        }
</a><a href="#h4-0-823" id="h4-0-823" class="i">+        if (((size_t)(input_end - input_buffer-&gt;content) &gt;= input_buffer-&gt;length) || (*input_end != &#39;\&quot;&#39;))
</a><a href="#h4-0-824" id="h4-0-824" class="i">+        {
</a><a href="#h4-0-825" id="h4-0-825" class="i">+            goto fail; /* string ended unexpectedly */
</a><a href="#h4-0-826" id="h4-0-826" class="i">+        }
</a><a href="#h4-0-827" id="h4-0-827" class="i">+
</a><a href="#h4-0-828" id="h4-0-828" class="i">+        /* This is at most how much we need for the output */
</a><a href="#h4-0-829" id="h4-0-829" class="i">+        allocation_length = (size_t) (input_end - buffer_at_offset(input_buffer)) - skipped_bytes;
</a><a href="#h4-0-830" id="h4-0-830" class="i">+        output = (unsigned char*)input_buffer-&gt;hooks.allocate(allocation_length + sizeof(&quot;&quot;));
</a><a href="#h4-0-831" id="h4-0-831" class="i">+        if (output == NULL)
</a><a href="#h4-0-832" id="h4-0-832" class="i">+        {
</a><a href="#h4-0-833" id="h4-0-833" class="i">+            goto fail; /* allocation failure */
</a><a href="#h4-0-834" id="h4-0-834" class="i">+        }
</a><a href="#h4-0-835" id="h4-0-835" class="i">+    }
</a><a href="#h4-0-836" id="h4-0-836" class="i">+
</a><a href="#h4-0-837" id="h4-0-837" class="i">+    output_pointer = output;
</a><a href="#h4-0-838" id="h4-0-838" class="i">+    /* loop through the string literal */
</a><a href="#h4-0-839" id="h4-0-839" class="i">+    while (input_pointer &lt; input_end)
</a><a href="#h4-0-840" id="h4-0-840" class="i">+    {
</a><a href="#h4-0-841" id="h4-0-841" class="i">+        if (*input_pointer != &#39;\\&#39;)
</a><a href="#h4-0-842" id="h4-0-842" class="i">+        {
</a><a href="#h4-0-843" id="h4-0-843" class="i">+            *output_pointer++ = *input_pointer++;
</a><a href="#h4-0-844" id="h4-0-844" class="i">+        }
</a><a href="#h4-0-845" id="h4-0-845" class="i">+        /* escape sequence */
</a><a href="#h4-0-846" id="h4-0-846" class="i">+        else
</a><a href="#h4-0-847" id="h4-0-847" class="i">+        {
</a><a href="#h4-0-848" id="h4-0-848" class="i">+            unsigned char sequence_length = 2;
</a><a href="#h4-0-849" id="h4-0-849" class="i">+            if ((input_end - input_pointer) &lt; 1)
</a><a href="#h4-0-850" id="h4-0-850" class="i">+            {
</a><a href="#h4-0-851" id="h4-0-851" class="i">+                goto fail;
</a><a href="#h4-0-852" id="h4-0-852" class="i">+            }
</a><a href="#h4-0-853" id="h4-0-853" class="i">+
</a><a href="#h4-0-854" id="h4-0-854" class="i">+            switch (input_pointer[1])
</a><a href="#h4-0-855" id="h4-0-855" class="i">+            {
</a><a href="#h4-0-856" id="h4-0-856" class="i">+                case &#39;b&#39;:
</a><a href="#h4-0-857" id="h4-0-857" class="i">+                    *output_pointer++ = &#39;\b&#39;;
</a><a href="#h4-0-858" id="h4-0-858" class="i">+                    break;
</a><a href="#h4-0-859" id="h4-0-859" class="i">+                case &#39;f&#39;:
</a><a href="#h4-0-860" id="h4-0-860" class="i">+                    *output_pointer++ = &#39;\f&#39;;
</a><a href="#h4-0-861" id="h4-0-861" class="i">+                    break;
</a><a href="#h4-0-862" id="h4-0-862" class="i">+                case &#39;n&#39;:
</a><a href="#h4-0-863" id="h4-0-863" class="i">+                    *output_pointer++ = &#39;\n&#39;;
</a><a href="#h4-0-864" id="h4-0-864" class="i">+                    break;
</a><a href="#h4-0-865" id="h4-0-865" class="i">+                case &#39;r&#39;:
</a><a href="#h4-0-866" id="h4-0-866" class="i">+                    *output_pointer++ = &#39;\r&#39;;
</a><a href="#h4-0-867" id="h4-0-867" class="i">+                    break;
</a><a href="#h4-0-868" id="h4-0-868" class="i">+                case &#39;t&#39;:
</a><a href="#h4-0-869" id="h4-0-869" class="i">+                    *output_pointer++ = &#39;\t&#39;;
</a><a href="#h4-0-870" id="h4-0-870" class="i">+                    break;
</a><a href="#h4-0-871" id="h4-0-871" class="i">+                case &#39;\&quot;&#39;:
</a><a href="#h4-0-872" id="h4-0-872" class="i">+                case &#39;\\&#39;:
</a><a href="#h4-0-873" id="h4-0-873" class="i">+                case &#39;/&#39;:
</a><a href="#h4-0-874" id="h4-0-874" class="i">+                    *output_pointer++ = input_pointer[1];
</a><a href="#h4-0-875" id="h4-0-875" class="i">+                    break;
</a><a href="#h4-0-876" id="h4-0-876" class="i">+
</a><a href="#h4-0-877" id="h4-0-877" class="i">+                /* UTF-16 literal */
</a><a href="#h4-0-878" id="h4-0-878" class="i">+                case &#39;u&#39;:
</a><a href="#h4-0-879" id="h4-0-879" class="i">+                    sequence_length = utf16_literal_to_utf8(input_pointer, input_end, &amp;output_pointer);
</a><a href="#h4-0-880" id="h4-0-880" class="i">+                    if (sequence_length == 0)
</a><a href="#h4-0-881" id="h4-0-881" class="i">+                    {
</a><a href="#h4-0-882" id="h4-0-882" class="i">+                        /* failed to convert UTF16-literal to UTF-8 */
</a><a href="#h4-0-883" id="h4-0-883" class="i">+                        goto fail;
</a><a href="#h4-0-884" id="h4-0-884" class="i">+                    }
</a><a href="#h4-0-885" id="h4-0-885" class="i">+                    break;
</a><a href="#h4-0-886" id="h4-0-886" class="i">+
</a><a href="#h4-0-887" id="h4-0-887" class="i">+                default:
</a><a href="#h4-0-888" id="h4-0-888" class="i">+                    goto fail;
</a><a href="#h4-0-889" id="h4-0-889" class="i">+            }
</a><a href="#h4-0-890" id="h4-0-890" class="i">+            input_pointer += sequence_length;
</a><a href="#h4-0-891" id="h4-0-891" class="i">+        }
</a><a href="#h4-0-892" id="h4-0-892" class="i">+    }
</a><a href="#h4-0-893" id="h4-0-893" class="i">+
</a><a href="#h4-0-894" id="h4-0-894" class="i">+    /* zero terminate the output */
</a><a href="#h4-0-895" id="h4-0-895" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h4-0-896" id="h4-0-896" class="i">+
</a><a href="#h4-0-897" id="h4-0-897" class="i">+    item-&gt;type = cJSON_String;
</a><a href="#h4-0-898" id="h4-0-898" class="i">+    item-&gt;valuestring = (char*)output;
</a><a href="#h4-0-899" id="h4-0-899" class="i">+
</a><a href="#h4-0-900" id="h4-0-900" class="i">+    input_buffer-&gt;offset = (size_t) (input_end - input_buffer-&gt;content);
</a><a href="#h4-0-901" id="h4-0-901" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h4-0-902" id="h4-0-902" class="i">+
</a><a href="#h4-0-903" id="h4-0-903" class="i">+    return true;
</a><a href="#h4-0-904" id="h4-0-904" class="i">+
</a><a href="#h4-0-905" id="h4-0-905" class="i">+fail:
</a><a href="#h4-0-906" id="h4-0-906" class="i">+    if (output != NULL)
</a><a href="#h4-0-907" id="h4-0-907" class="i">+    {
</a><a href="#h4-0-908" id="h4-0-908" class="i">+        input_buffer-&gt;hooks.deallocate(output);
</a><a href="#h4-0-909" id="h4-0-909" class="i">+        output = NULL;
</a><a href="#h4-0-910" id="h4-0-910" class="i">+    }
</a><a href="#h4-0-911" id="h4-0-911" class="i">+
</a><a href="#h4-0-912" id="h4-0-912" class="i">+    if (input_pointer != NULL)
</a><a href="#h4-0-913" id="h4-0-913" class="i">+    {
</a><a href="#h4-0-914" id="h4-0-914" class="i">+        input_buffer-&gt;offset = (size_t)(input_pointer - input_buffer-&gt;content);
</a><a href="#h4-0-915" id="h4-0-915" class="i">+    }
</a><a href="#h4-0-916" id="h4-0-916" class="i">+
</a><a href="#h4-0-917" id="h4-0-917" class="i">+    return false;
</a><a href="#h4-0-918" id="h4-0-918" class="i">+}
</a><a href="#h4-0-919" id="h4-0-919" class="i">+
</a><a href="#h4-0-920" id="h4-0-920" class="i">+/* Render the cstring provided to an escaped version that can be printed. */
</a><a href="#h4-0-921" id="h4-0-921" class="i">+static cJSON_bool print_string_ptr(const unsigned char * const input, printbuffer * const output_buffer)
</a><a href="#h4-0-922" id="h4-0-922" class="i">+{
</a><a href="#h4-0-923" id="h4-0-923" class="i">+    const unsigned char *input_pointer = NULL;
</a><a href="#h4-0-924" id="h4-0-924" class="i">+    unsigned char *output = NULL;
</a><a href="#h4-0-925" id="h4-0-925" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h4-0-926" id="h4-0-926" class="i">+    size_t output_length = 0;
</a><a href="#h4-0-927" id="h4-0-927" class="i">+    /* numbers of additional characters needed for escaping */
</a><a href="#h4-0-928" id="h4-0-928" class="i">+    size_t escape_characters = 0;
</a><a href="#h4-0-929" id="h4-0-929" class="i">+
</a><a href="#h4-0-930" id="h4-0-930" class="i">+    if (output_buffer == NULL)
</a><a href="#h4-0-931" id="h4-0-931" class="i">+    {
</a><a href="#h4-0-932" id="h4-0-932" class="i">+        return false;
</a><a href="#h4-0-933" id="h4-0-933" class="i">+    }
</a><a href="#h4-0-934" id="h4-0-934" class="i">+
</a><a href="#h4-0-935" id="h4-0-935" class="i">+    /* empty string */
</a><a href="#h4-0-936" id="h4-0-936" class="i">+    if (input == NULL)
</a><a href="#h4-0-937" id="h4-0-937" class="i">+    {
</a><a href="#h4-0-938" id="h4-0-938" class="i">+        output = ensure(output_buffer, sizeof(&quot;\&quot;\&quot;&quot;));
</a><a href="#h4-0-939" id="h4-0-939" class="i">+        if (output == NULL)
</a><a href="#h4-0-940" id="h4-0-940" class="i">+        {
</a><a href="#h4-0-941" id="h4-0-941" class="i">+            return false;
</a><a href="#h4-0-942" id="h4-0-942" class="i">+        }
</a><a href="#h4-0-943" id="h4-0-943" class="i">+        strcpy((char*)output, &quot;\&quot;\&quot;&quot;);
</a><a href="#h4-0-944" id="h4-0-944" class="i">+
</a><a href="#h4-0-945" id="h4-0-945" class="i">+        return true;
</a><a href="#h4-0-946" id="h4-0-946" class="i">+    }
</a><a href="#h4-0-947" id="h4-0-947" class="i">+
</a><a href="#h4-0-948" id="h4-0-948" class="i">+    /* set &quot;flag&quot; to 1 if something needs to be escaped */
</a><a href="#h4-0-949" id="h4-0-949" class="i">+    for (input_pointer = input; *input_pointer; input_pointer++)
</a><a href="#h4-0-950" id="h4-0-950" class="i">+    {
</a><a href="#h4-0-951" id="h4-0-951" class="i">+        switch (*input_pointer)
</a><a href="#h4-0-952" id="h4-0-952" class="i">+        {
</a><a href="#h4-0-953" id="h4-0-953" class="i">+            case &#39;\&quot;&#39;:
</a><a href="#h4-0-954" id="h4-0-954" class="i">+            case &#39;\\&#39;:
</a><a href="#h4-0-955" id="h4-0-955" class="i">+            case &#39;\b&#39;:
</a><a href="#h4-0-956" id="h4-0-956" class="i">+            case &#39;\f&#39;:
</a><a href="#h4-0-957" id="h4-0-957" class="i">+            case &#39;\n&#39;:
</a><a href="#h4-0-958" id="h4-0-958" class="i">+            case &#39;\r&#39;:
</a><a href="#h4-0-959" id="h4-0-959" class="i">+            case &#39;\t&#39;:
</a><a href="#h4-0-960" id="h4-0-960" class="i">+                /* one character escape sequence */
</a><a href="#h4-0-961" id="h4-0-961" class="i">+                escape_characters++;
</a><a href="#h4-0-962" id="h4-0-962" class="i">+                break;
</a><a href="#h4-0-963" id="h4-0-963" class="i">+            default:
</a><a href="#h4-0-964" id="h4-0-964" class="i">+                if (*input_pointer &lt; 32)
</a><a href="#h4-0-965" id="h4-0-965" class="i">+                {
</a><a href="#h4-0-966" id="h4-0-966" class="i">+                    /* UTF-16 escape sequence uXXXX */
</a><a href="#h4-0-967" id="h4-0-967" class="i">+                    escape_characters += 5;
</a><a href="#h4-0-968" id="h4-0-968" class="i">+                }
</a><a href="#h4-0-969" id="h4-0-969" class="i">+                break;
</a><a href="#h4-0-970" id="h4-0-970" class="i">+        }
</a><a href="#h4-0-971" id="h4-0-971" class="i">+    }
</a><a href="#h4-0-972" id="h4-0-972" class="i">+    output_length = (size_t)(input_pointer - input) + escape_characters;
</a><a href="#h4-0-973" id="h4-0-973" class="i">+
</a><a href="#h4-0-974" id="h4-0-974" class="i">+    output = ensure(output_buffer, output_length + sizeof(&quot;\&quot;\&quot;&quot;));
</a><a href="#h4-0-975" id="h4-0-975" class="i">+    if (output == NULL)
</a><a href="#h4-0-976" id="h4-0-976" class="i">+    {
</a><a href="#h4-0-977" id="h4-0-977" class="i">+        return false;
</a><a href="#h4-0-978" id="h4-0-978" class="i">+    }
</a><a href="#h4-0-979" id="h4-0-979" class="i">+
</a><a href="#h4-0-980" id="h4-0-980" class="i">+    /* no characters have to be escaped */
</a><a href="#h4-0-981" id="h4-0-981" class="i">+    if (escape_characters == 0)
</a><a href="#h4-0-982" id="h4-0-982" class="i">+    {
</a><a href="#h4-0-983" id="h4-0-983" class="i">+        output[0] = &#39;\&quot;&#39;;
</a><a href="#h4-0-984" id="h4-0-984" class="i">+        memcpy(output + 1, input, output_length);
</a><a href="#h4-0-985" id="h4-0-985" class="i">+        output[output_length + 1] = &#39;\&quot;&#39;;
</a><a href="#h4-0-986" id="h4-0-986" class="i">+        output[output_length + 2] = &#39;\0&#39;;
</a><a href="#h4-0-987" id="h4-0-987" class="i">+
</a><a href="#h4-0-988" id="h4-0-988" class="i">+        return true;
</a><a href="#h4-0-989" id="h4-0-989" class="i">+    }
</a><a href="#h4-0-990" id="h4-0-990" class="i">+
</a><a href="#h4-0-991" id="h4-0-991" class="i">+    output[0] = &#39;\&quot;&#39;;
</a><a href="#h4-0-992" id="h4-0-992" class="i">+    output_pointer = output + 1;
</a><a href="#h4-0-993" id="h4-0-993" class="i">+    /* copy the string */
</a><a href="#h4-0-994" id="h4-0-994" class="i">+    for (input_pointer = input; *input_pointer != &#39;\0&#39;; (void)input_pointer++, output_pointer++)
</a><a href="#h4-0-995" id="h4-0-995" class="i">+    {
</a><a href="#h4-0-996" id="h4-0-996" class="i">+        if ((*input_pointer &gt; 31) &amp;&amp; (*input_pointer != &#39;\&quot;&#39;) &amp;&amp; (*input_pointer != &#39;\\&#39;))
</a><a href="#h4-0-997" id="h4-0-997" class="i">+        {
</a><a href="#h4-0-998" id="h4-0-998" class="i">+            /* normal character, copy */
</a><a href="#h4-0-999" id="h4-0-999" class="i">+            *output_pointer = *input_pointer;
</a><a href="#h4-0-1000" id="h4-0-1000" class="i">+        }
</a><a href="#h4-0-1001" id="h4-0-1001" class="i">+        else
</a><a href="#h4-0-1002" id="h4-0-1002" class="i">+        {
</a><a href="#h4-0-1003" id="h4-0-1003" class="i">+            /* character needs to be escaped */
</a><a href="#h4-0-1004" id="h4-0-1004" class="i">+            *output_pointer++ = &#39;\\&#39;;
</a><a href="#h4-0-1005" id="h4-0-1005" class="i">+            switch (*input_pointer)
</a><a href="#h4-0-1006" id="h4-0-1006" class="i">+            {
</a><a href="#h4-0-1007" id="h4-0-1007" class="i">+                case &#39;\\&#39;:
</a><a href="#h4-0-1008" id="h4-0-1008" class="i">+                    *output_pointer = &#39;\\&#39;;
</a><a href="#h4-0-1009" id="h4-0-1009" class="i">+                    break;
</a><a href="#h4-0-1010" id="h4-0-1010" class="i">+                case &#39;\&quot;&#39;:
</a><a href="#h4-0-1011" id="h4-0-1011" class="i">+                    *output_pointer = &#39;\&quot;&#39;;
</a><a href="#h4-0-1012" id="h4-0-1012" class="i">+                    break;
</a><a href="#h4-0-1013" id="h4-0-1013" class="i">+                case &#39;\b&#39;:
</a><a href="#h4-0-1014" id="h4-0-1014" class="i">+                    *output_pointer = &#39;b&#39;;
</a><a href="#h4-0-1015" id="h4-0-1015" class="i">+                    break;
</a><a href="#h4-0-1016" id="h4-0-1016" class="i">+                case &#39;\f&#39;:
</a><a href="#h4-0-1017" id="h4-0-1017" class="i">+                    *output_pointer = &#39;f&#39;;
</a><a href="#h4-0-1018" id="h4-0-1018" class="i">+                    break;
</a><a href="#h4-0-1019" id="h4-0-1019" class="i">+                case &#39;\n&#39;:
</a><a href="#h4-0-1020" id="h4-0-1020" class="i">+                    *output_pointer = &#39;n&#39;;
</a><a href="#h4-0-1021" id="h4-0-1021" class="i">+                    break;
</a><a href="#h4-0-1022" id="h4-0-1022" class="i">+                case &#39;\r&#39;:
</a><a href="#h4-0-1023" id="h4-0-1023" class="i">+                    *output_pointer = &#39;r&#39;;
</a><a href="#h4-0-1024" id="h4-0-1024" class="i">+                    break;
</a><a href="#h4-0-1025" id="h4-0-1025" class="i">+                case &#39;\t&#39;:
</a><a href="#h4-0-1026" id="h4-0-1026" class="i">+                    *output_pointer = &#39;t&#39;;
</a><a href="#h4-0-1027" id="h4-0-1027" class="i">+                    break;
</a><a href="#h4-0-1028" id="h4-0-1028" class="i">+                default:
</a><a href="#h4-0-1029" id="h4-0-1029" class="i">+                    /* escape and print as unicode codepoint */
</a><a href="#h4-0-1030" id="h4-0-1030" class="i">+                    sprintf((char*)output_pointer, &quot;u%04x&quot;, *input_pointer);
</a><a href="#h4-0-1031" id="h4-0-1031" class="i">+                    output_pointer += 4;
</a><a href="#h4-0-1032" id="h4-0-1032" class="i">+                    break;
</a><a href="#h4-0-1033" id="h4-0-1033" class="i">+            }
</a><a href="#h4-0-1034" id="h4-0-1034" class="i">+        }
</a><a href="#h4-0-1035" id="h4-0-1035" class="i">+    }
</a><a href="#h4-0-1036" id="h4-0-1036" class="i">+    output[output_length + 1] = &#39;\&quot;&#39;;
</a><a href="#h4-0-1037" id="h4-0-1037" class="i">+    output[output_length + 2] = &#39;\0&#39;;
</a><a href="#h4-0-1038" id="h4-0-1038" class="i">+
</a><a href="#h4-0-1039" id="h4-0-1039" class="i">+    return true;
</a><a href="#h4-0-1040" id="h4-0-1040" class="i">+}
</a><a href="#h4-0-1041" id="h4-0-1041" class="i">+
</a><a href="#h4-0-1042" id="h4-0-1042" class="i">+/* Invoke print_string_ptr (which is useful) on an item. */
</a><a href="#h4-0-1043" id="h4-0-1043" class="i">+static cJSON_bool print_string(const cJSON * const item, printbuffer * const p)
</a><a href="#h4-0-1044" id="h4-0-1044" class="i">+{
</a><a href="#h4-0-1045" id="h4-0-1045" class="i">+    return print_string_ptr((unsigned char*)item-&gt;valuestring, p);
</a><a href="#h4-0-1046" id="h4-0-1046" class="i">+}
</a><a href="#h4-0-1047" id="h4-0-1047" class="i">+
</a><a href="#h4-0-1048" id="h4-0-1048" class="i">+/* Predeclare these prototypes. */
</a><a href="#h4-0-1049" id="h4-0-1049" class="i">+static cJSON_bool parse_value(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h4-0-1050" id="h4-0-1050" class="i">+static cJSON_bool print_value(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h4-0-1051" id="h4-0-1051" class="i">+static cJSON_bool parse_array(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h4-0-1052" id="h4-0-1052" class="i">+static cJSON_bool print_array(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h4-0-1053" id="h4-0-1053" class="i">+static cJSON_bool parse_object(cJSON * const item, parse_buffer * const input_buffer);
</a><a href="#h4-0-1054" id="h4-0-1054" class="i">+static cJSON_bool print_object(const cJSON * const item, printbuffer * const output_buffer);
</a><a href="#h4-0-1055" id="h4-0-1055" class="i">+
</a><a href="#h4-0-1056" id="h4-0-1056" class="i">+/* Utility to jump whitespace and cr/lf */
</a><a href="#h4-0-1057" id="h4-0-1057" class="i">+static parse_buffer *buffer_skip_whitespace(parse_buffer * const buffer)
</a><a href="#h4-0-1058" id="h4-0-1058" class="i">+{
</a><a href="#h4-0-1059" id="h4-0-1059" class="i">+    if ((buffer == NULL) || (buffer-&gt;content == NULL))
</a><a href="#h4-0-1060" id="h4-0-1060" class="i">+    {
</a><a href="#h4-0-1061" id="h4-0-1061" class="i">+        return NULL;
</a><a href="#h4-0-1062" id="h4-0-1062" class="i">+    }
</a><a href="#h4-0-1063" id="h4-0-1063" class="i">+
</a><a href="#h4-0-1064" id="h4-0-1064" class="i">+    if (cannot_access_at_index(buffer, 0))
</a><a href="#h4-0-1065" id="h4-0-1065" class="i">+    {
</a><a href="#h4-0-1066" id="h4-0-1066" class="i">+        return buffer;
</a><a href="#h4-0-1067" id="h4-0-1067" class="i">+    }
</a><a href="#h4-0-1068" id="h4-0-1068" class="i">+
</a><a href="#h4-0-1069" id="h4-0-1069" class="i">+    while (can_access_at_index(buffer, 0) &amp;&amp; (buffer_at_offset(buffer)[0] &lt;= 32))
</a><a href="#h4-0-1070" id="h4-0-1070" class="i">+    {
</a><a href="#h4-0-1071" id="h4-0-1071" class="i">+       buffer-&gt;offset++;
</a><a href="#h4-0-1072" id="h4-0-1072" class="i">+    }
</a><a href="#h4-0-1073" id="h4-0-1073" class="i">+
</a><a href="#h4-0-1074" id="h4-0-1074" class="i">+    if (buffer-&gt;offset == buffer-&gt;length)
</a><a href="#h4-0-1075" id="h4-0-1075" class="i">+    {
</a><a href="#h4-0-1076" id="h4-0-1076" class="i">+        buffer-&gt;offset--;
</a><a href="#h4-0-1077" id="h4-0-1077" class="i">+    }
</a><a href="#h4-0-1078" id="h4-0-1078" class="i">+
</a><a href="#h4-0-1079" id="h4-0-1079" class="i">+    return buffer;
</a><a href="#h4-0-1080" id="h4-0-1080" class="i">+}
</a><a href="#h4-0-1081" id="h4-0-1081" class="i">+
</a><a href="#h4-0-1082" id="h4-0-1082" class="i">+/* skip the UTF-8 BOM (byte order mark) if it is at the beginning of a buffer */
</a><a href="#h4-0-1083" id="h4-0-1083" class="i">+static parse_buffer *skip_utf8_bom(parse_buffer * const buffer)
</a><a href="#h4-0-1084" id="h4-0-1084" class="i">+{
</a><a href="#h4-0-1085" id="h4-0-1085" class="i">+    if ((buffer == NULL) || (buffer-&gt;content == NULL) || (buffer-&gt;offset != 0))
</a><a href="#h4-0-1086" id="h4-0-1086" class="i">+    {
</a><a href="#h4-0-1087" id="h4-0-1087" class="i">+        return NULL;
</a><a href="#h4-0-1088" id="h4-0-1088" class="i">+    }
</a><a href="#h4-0-1089" id="h4-0-1089" class="i">+
</a><a href="#h4-0-1090" id="h4-0-1090" class="i">+    if (can_access_at_index(buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(buffer), &quot;\xEF\xBB\xBF&quot;, 3) == 0))
</a><a href="#h4-0-1091" id="h4-0-1091" class="i">+    {
</a><a href="#h4-0-1092" id="h4-0-1092" class="i">+        buffer-&gt;offset += 3;
</a><a href="#h4-0-1093" id="h4-0-1093" class="i">+    }
</a><a href="#h4-0-1094" id="h4-0-1094" class="i">+
</a><a href="#h4-0-1095" id="h4-0-1095" class="i">+    return buffer;
</a><a href="#h4-0-1096" id="h4-0-1096" class="i">+}
</a><a href="#h4-0-1097" id="h4-0-1097" class="i">+
</a><a href="#h4-0-1098" id="h4-0-1098" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithOpts(const char *value, const char **return_parse_end, cJSON_bool require_null_terminated)
</a><a href="#h4-0-1099" id="h4-0-1099" class="i">+{
</a><a href="#h4-0-1100" id="h4-0-1100" class="i">+    size_t buffer_length;
</a><a href="#h4-0-1101" id="h4-0-1101" class="i">+
</a><a href="#h4-0-1102" id="h4-0-1102" class="i">+    if (NULL == value)
</a><a href="#h4-0-1103" id="h4-0-1103" class="i">+    {
</a><a href="#h4-0-1104" id="h4-0-1104" class="i">+        return NULL;
</a><a href="#h4-0-1105" id="h4-0-1105" class="i">+    }
</a><a href="#h4-0-1106" id="h4-0-1106" class="i">+
</a><a href="#h4-0-1107" id="h4-0-1107" class="i">+    /* Adding null character size due to require_null_terminated. */
</a><a href="#h4-0-1108" id="h4-0-1108" class="i">+    buffer_length = strlen(value) + sizeof(&quot;&quot;);
</a><a href="#h4-0-1109" id="h4-0-1109" class="i">+
</a><a href="#h4-0-1110" id="h4-0-1110" class="i">+    return cJSON_ParseWithLengthOpts(value, buffer_length, return_parse_end, require_null_terminated);
</a><a href="#h4-0-1111" id="h4-0-1111" class="i">+}
</a><a href="#h4-0-1112" id="h4-0-1112" class="i">+
</a><a href="#h4-0-1113" id="h4-0-1113" class="i">+/* Parse an object - create a new root, and populate. */
</a><a href="#h4-0-1114" id="h4-0-1114" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLengthOpts(const char *value, size_t buffer_length, const char **return_parse_end, cJSON_bool require_null_terminated)
</a><a href="#h4-0-1115" id="h4-0-1115" class="i">+{
</a><a href="#h4-0-1116" id="h4-0-1116" class="i">+    parse_buffer buffer = { 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h4-0-1117" id="h4-0-1117" class="i">+    cJSON *item = NULL;
</a><a href="#h4-0-1118" id="h4-0-1118" class="i">+
</a><a href="#h4-0-1119" id="h4-0-1119" class="i">+    /* reset error position */
</a><a href="#h4-0-1120" id="h4-0-1120" class="i">+    global_error.json = NULL;
</a><a href="#h4-0-1121" id="h4-0-1121" class="i">+    global_error.position = 0;
</a><a href="#h4-0-1122" id="h4-0-1122" class="i">+
</a><a href="#h4-0-1123" id="h4-0-1123" class="i">+    if (value == NULL || 0 == buffer_length)
</a><a href="#h4-0-1124" id="h4-0-1124" class="i">+    {
</a><a href="#h4-0-1125" id="h4-0-1125" class="i">+        goto fail;
</a><a href="#h4-0-1126" id="h4-0-1126" class="i">+    }
</a><a href="#h4-0-1127" id="h4-0-1127" class="i">+
</a><a href="#h4-0-1128" id="h4-0-1128" class="i">+    buffer.content = (const unsigned char*)value;
</a><a href="#h4-0-1129" id="h4-0-1129" class="i">+    buffer.length = buffer_length;
</a><a href="#h4-0-1130" id="h4-0-1130" class="i">+    buffer.offset = 0;
</a><a href="#h4-0-1131" id="h4-0-1131" class="i">+    buffer.hooks = global_hooks;
</a><a href="#h4-0-1132" id="h4-0-1132" class="i">+
</a><a href="#h4-0-1133" id="h4-0-1133" class="i">+    item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-1134" id="h4-0-1134" class="i">+    if (item == NULL) /* memory fail */
</a><a href="#h4-0-1135" id="h4-0-1135" class="i">+    {
</a><a href="#h4-0-1136" id="h4-0-1136" class="i">+        goto fail;
</a><a href="#h4-0-1137" id="h4-0-1137" class="i">+    }
</a><a href="#h4-0-1138" id="h4-0-1138" class="i">+
</a><a href="#h4-0-1139" id="h4-0-1139" class="i">+    if (!parse_value(item, buffer_skip_whitespace(skip_utf8_bom(&amp;buffer))))
</a><a href="#h4-0-1140" id="h4-0-1140" class="i">+    {
</a><a href="#h4-0-1141" id="h4-0-1141" class="i">+        /* parse failure. ep is set. */
</a><a href="#h4-0-1142" id="h4-0-1142" class="i">+        goto fail;
</a><a href="#h4-0-1143" id="h4-0-1143" class="i">+    }
</a><a href="#h4-0-1144" id="h4-0-1144" class="i">+
</a><a href="#h4-0-1145" id="h4-0-1145" class="i">+    /* if we require null-terminated JSON without appended garbage, skip and then check for a null terminator */
</a><a href="#h4-0-1146" id="h4-0-1146" class="i">+    if (require_null_terminated)
</a><a href="#h4-0-1147" id="h4-0-1147" class="i">+    {
</a><a href="#h4-0-1148" id="h4-0-1148" class="i">+        buffer_skip_whitespace(&amp;buffer);
</a><a href="#h4-0-1149" id="h4-0-1149" class="i">+        if ((buffer.offset &gt;= buffer.length) || buffer_at_offset(&amp;buffer)[0] != &#39;\0&#39;)
</a><a href="#h4-0-1150" id="h4-0-1150" class="i">+        {
</a><a href="#h4-0-1151" id="h4-0-1151" class="i">+            goto fail;
</a><a href="#h4-0-1152" id="h4-0-1152" class="i">+        }
</a><a href="#h4-0-1153" id="h4-0-1153" class="i">+    }
</a><a href="#h4-0-1154" id="h4-0-1154" class="i">+    if (return_parse_end)
</a><a href="#h4-0-1155" id="h4-0-1155" class="i">+    {
</a><a href="#h4-0-1156" id="h4-0-1156" class="i">+        *return_parse_end = (const char*)buffer_at_offset(&amp;buffer);
</a><a href="#h4-0-1157" id="h4-0-1157" class="i">+    }
</a><a href="#h4-0-1158" id="h4-0-1158" class="i">+
</a><a href="#h4-0-1159" id="h4-0-1159" class="i">+    return item;
</a><a href="#h4-0-1160" id="h4-0-1160" class="i">+
</a><a href="#h4-0-1161" id="h4-0-1161" class="i">+fail:
</a><a href="#h4-0-1162" id="h4-0-1162" class="i">+    if (item != NULL)
</a><a href="#h4-0-1163" id="h4-0-1163" class="i">+    {
</a><a href="#h4-0-1164" id="h4-0-1164" class="i">+        cJSON_Delete(item);
</a><a href="#h4-0-1165" id="h4-0-1165" class="i">+    }
</a><a href="#h4-0-1166" id="h4-0-1166" class="i">+
</a><a href="#h4-0-1167" id="h4-0-1167" class="i">+    if (value != NULL)
</a><a href="#h4-0-1168" id="h4-0-1168" class="i">+    {
</a><a href="#h4-0-1169" id="h4-0-1169" class="i">+        error local_error;
</a><a href="#h4-0-1170" id="h4-0-1170" class="i">+        local_error.json = (const unsigned char*)value;
</a><a href="#h4-0-1171" id="h4-0-1171" class="i">+        local_error.position = 0;
</a><a href="#h4-0-1172" id="h4-0-1172" class="i">+
</a><a href="#h4-0-1173" id="h4-0-1173" class="i">+        if (buffer.offset &lt; buffer.length)
</a><a href="#h4-0-1174" id="h4-0-1174" class="i">+        {
</a><a href="#h4-0-1175" id="h4-0-1175" class="i">+            local_error.position = buffer.offset;
</a><a href="#h4-0-1176" id="h4-0-1176" class="i">+        }
</a><a href="#h4-0-1177" id="h4-0-1177" class="i">+        else if (buffer.length &gt; 0)
</a><a href="#h4-0-1178" id="h4-0-1178" class="i">+        {
</a><a href="#h4-0-1179" id="h4-0-1179" class="i">+            local_error.position = buffer.length - 1;
</a><a href="#h4-0-1180" id="h4-0-1180" class="i">+        }
</a><a href="#h4-0-1181" id="h4-0-1181" class="i">+
</a><a href="#h4-0-1182" id="h4-0-1182" class="i">+        if (return_parse_end != NULL)
</a><a href="#h4-0-1183" id="h4-0-1183" class="i">+        {
</a><a href="#h4-0-1184" id="h4-0-1184" class="i">+            *return_parse_end = (const char*)local_error.json + local_error.position;
</a><a href="#h4-0-1185" id="h4-0-1185" class="i">+        }
</a><a href="#h4-0-1186" id="h4-0-1186" class="i">+
</a><a href="#h4-0-1187" id="h4-0-1187" class="i">+        global_error = local_error;
</a><a href="#h4-0-1188" id="h4-0-1188" class="i">+    }
</a><a href="#h4-0-1189" id="h4-0-1189" class="i">+
</a><a href="#h4-0-1190" id="h4-0-1190" class="i">+    return NULL;
</a><a href="#h4-0-1191" id="h4-0-1191" class="i">+}
</a><a href="#h4-0-1192" id="h4-0-1192" class="i">+
</a><a href="#h4-0-1193" id="h4-0-1193" class="i">+/* Default options for cJSON_Parse */
</a><a href="#h4-0-1194" id="h4-0-1194" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Parse(const char *value)
</a><a href="#h4-0-1195" id="h4-0-1195" class="i">+{
</a><a href="#h4-0-1196" id="h4-0-1196" class="i">+    return cJSON_ParseWithOpts(value, 0, 0);
</a><a href="#h4-0-1197" id="h4-0-1197" class="i">+}
</a><a href="#h4-0-1198" id="h4-0-1198" class="i">+
</a><a href="#h4-0-1199" id="h4-0-1199" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLength(const char *value, size_t buffer_length)
</a><a href="#h4-0-1200" id="h4-0-1200" class="i">+{
</a><a href="#h4-0-1201" id="h4-0-1201" class="i">+    return cJSON_ParseWithLengthOpts(value, buffer_length, 0, 0);
</a><a href="#h4-0-1202" id="h4-0-1202" class="i">+}
</a><a href="#h4-0-1203" id="h4-0-1203" class="i">+
</a><a href="#h4-0-1204" id="h4-0-1204" class="i">+#define cjson_min(a, b) (((a) &lt; (b)) ? (a) : (b))
</a><a href="#h4-0-1205" id="h4-0-1205" class="i">+
</a><a href="#h4-0-1206" id="h4-0-1206" class="i">+static unsigned char *print(const cJSON * const item, cJSON_bool format, const internal_hooks * const hooks)
</a><a href="#h4-0-1207" id="h4-0-1207" class="i">+{
</a><a href="#h4-0-1208" id="h4-0-1208" class="i">+    static const size_t default_buffer_size = 256;
</a><a href="#h4-0-1209" id="h4-0-1209" class="i">+    printbuffer buffer[1];
</a><a href="#h4-0-1210" id="h4-0-1210" class="i">+    unsigned char *printed = NULL;
</a><a href="#h4-0-1211" id="h4-0-1211" class="i">+
</a><a href="#h4-0-1212" id="h4-0-1212" class="i">+    memset(buffer, 0, sizeof(buffer));
</a><a href="#h4-0-1213" id="h4-0-1213" class="i">+
</a><a href="#h4-0-1214" id="h4-0-1214" class="i">+    /* create buffer */
</a><a href="#h4-0-1215" id="h4-0-1215" class="i">+    buffer-&gt;buffer = (unsigned char*) hooks-&gt;allocate(default_buffer_size);
</a><a href="#h4-0-1216" id="h4-0-1216" class="i">+    buffer-&gt;length = default_buffer_size;
</a><a href="#h4-0-1217" id="h4-0-1217" class="i">+    buffer-&gt;format = format;
</a><a href="#h4-0-1218" id="h4-0-1218" class="i">+    buffer-&gt;hooks = *hooks;
</a><a href="#h4-0-1219" id="h4-0-1219" class="i">+    if (buffer-&gt;buffer == NULL)
</a><a href="#h4-0-1220" id="h4-0-1220" class="i">+    {
</a><a href="#h4-0-1221" id="h4-0-1221" class="i">+        goto fail;
</a><a href="#h4-0-1222" id="h4-0-1222" class="i">+    }
</a><a href="#h4-0-1223" id="h4-0-1223" class="i">+
</a><a href="#h4-0-1224" id="h4-0-1224" class="i">+    /* print the value */
</a><a href="#h4-0-1225" id="h4-0-1225" class="i">+    if (!print_value(item, buffer))
</a><a href="#h4-0-1226" id="h4-0-1226" class="i">+    {
</a><a href="#h4-0-1227" id="h4-0-1227" class="i">+        goto fail;
</a><a href="#h4-0-1228" id="h4-0-1228" class="i">+    }
</a><a href="#h4-0-1229" id="h4-0-1229" class="i">+    update_offset(buffer);
</a><a href="#h4-0-1230" id="h4-0-1230" class="i">+
</a><a href="#h4-0-1231" id="h4-0-1231" class="i">+    /* check if reallocate is available */
</a><a href="#h4-0-1232" id="h4-0-1232" class="i">+    if (hooks-&gt;reallocate != NULL)
</a><a href="#h4-0-1233" id="h4-0-1233" class="i">+    {
</a><a href="#h4-0-1234" id="h4-0-1234" class="i">+        printed = (unsigned char*) hooks-&gt;reallocate(buffer-&gt;buffer, buffer-&gt;offset + 1);
</a><a href="#h4-0-1235" id="h4-0-1235" class="i">+        if (printed == NULL) {
</a><a href="#h4-0-1236" id="h4-0-1236" class="i">+            goto fail;
</a><a href="#h4-0-1237" id="h4-0-1237" class="i">+        }
</a><a href="#h4-0-1238" id="h4-0-1238" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h4-0-1239" id="h4-0-1239" class="i">+    }
</a><a href="#h4-0-1240" id="h4-0-1240" class="i">+    else /* otherwise copy the JSON over to a new buffer */
</a><a href="#h4-0-1241" id="h4-0-1241" class="i">+    {
</a><a href="#h4-0-1242" id="h4-0-1242" class="i">+        printed = (unsigned char*) hooks-&gt;allocate(buffer-&gt;offset + 1);
</a><a href="#h4-0-1243" id="h4-0-1243" class="i">+        if (printed == NULL)
</a><a href="#h4-0-1244" id="h4-0-1244" class="i">+        {
</a><a href="#h4-0-1245" id="h4-0-1245" class="i">+            goto fail;
</a><a href="#h4-0-1246" id="h4-0-1246" class="i">+        }
</a><a href="#h4-0-1247" id="h4-0-1247" class="i">+        memcpy(printed, buffer-&gt;buffer, cjson_min(buffer-&gt;length, buffer-&gt;offset + 1));
</a><a href="#h4-0-1248" id="h4-0-1248" class="i">+        printed[buffer-&gt;offset] = &#39;\0&#39;; /* just to be sure */
</a><a href="#h4-0-1249" id="h4-0-1249" class="i">+
</a><a href="#h4-0-1250" id="h4-0-1250" class="i">+        /* free the buffer */
</a><a href="#h4-0-1251" id="h4-0-1251" class="i">+        hooks-&gt;deallocate(buffer-&gt;buffer);
</a><a href="#h4-0-1252" id="h4-0-1252" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h4-0-1253" id="h4-0-1253" class="i">+    }
</a><a href="#h4-0-1254" id="h4-0-1254" class="i">+
</a><a href="#h4-0-1255" id="h4-0-1255" class="i">+    return printed;
</a><a href="#h4-0-1256" id="h4-0-1256" class="i">+
</a><a href="#h4-0-1257" id="h4-0-1257" class="i">+fail:
</a><a href="#h4-0-1258" id="h4-0-1258" class="i">+    if (buffer-&gt;buffer != NULL)
</a><a href="#h4-0-1259" id="h4-0-1259" class="i">+    {
</a><a href="#h4-0-1260" id="h4-0-1260" class="i">+        hooks-&gt;deallocate(buffer-&gt;buffer);
</a><a href="#h4-0-1261" id="h4-0-1261" class="i">+        buffer-&gt;buffer = NULL;
</a><a href="#h4-0-1262" id="h4-0-1262" class="i">+    }
</a><a href="#h4-0-1263" id="h4-0-1263" class="i">+
</a><a href="#h4-0-1264" id="h4-0-1264" class="i">+    if (printed != NULL)
</a><a href="#h4-0-1265" id="h4-0-1265" class="i">+    {
</a><a href="#h4-0-1266" id="h4-0-1266" class="i">+        hooks-&gt;deallocate(printed);
</a><a href="#h4-0-1267" id="h4-0-1267" class="i">+        printed = NULL;
</a><a href="#h4-0-1268" id="h4-0-1268" class="i">+    }
</a><a href="#h4-0-1269" id="h4-0-1269" class="i">+
</a><a href="#h4-0-1270" id="h4-0-1270" class="i">+    return NULL;
</a><a href="#h4-0-1271" id="h4-0-1271" class="i">+}
</a><a href="#h4-0-1272" id="h4-0-1272" class="i">+
</a><a href="#h4-0-1273" id="h4-0-1273" class="i">+/* Render a cJSON item/entity/structure to text. */
</a><a href="#h4-0-1274" id="h4-0-1274" class="i">+CJSON_PUBLIC(char *) cJSON_Print(const cJSON *item)
</a><a href="#h4-0-1275" id="h4-0-1275" class="i">+{
</a><a href="#h4-0-1276" id="h4-0-1276" class="i">+    return (char*)print(item, true, &amp;global_hooks);
</a><a href="#h4-0-1277" id="h4-0-1277" class="i">+}
</a><a href="#h4-0-1278" id="h4-0-1278" class="i">+
</a><a href="#h4-0-1279" id="h4-0-1279" class="i">+CJSON_PUBLIC(char *) cJSON_PrintUnformatted(const cJSON *item)
</a><a href="#h4-0-1280" id="h4-0-1280" class="i">+{
</a><a href="#h4-0-1281" id="h4-0-1281" class="i">+    return (char*)print(item, false, &amp;global_hooks);
</a><a href="#h4-0-1282" id="h4-0-1282" class="i">+}
</a><a href="#h4-0-1283" id="h4-0-1283" class="i">+
</a><a href="#h4-0-1284" id="h4-0-1284" class="i">+CJSON_PUBLIC(char *) cJSON_PrintBuffered(const cJSON *item, int prebuffer, cJSON_bool fmt)
</a><a href="#h4-0-1285" id="h4-0-1285" class="i">+{
</a><a href="#h4-0-1286" id="h4-0-1286" class="i">+    printbuffer p = { 0, 0, 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h4-0-1287" id="h4-0-1287" class="i">+
</a><a href="#h4-0-1288" id="h4-0-1288" class="i">+    if (prebuffer &lt; 0)
</a><a href="#h4-0-1289" id="h4-0-1289" class="i">+    {
</a><a href="#h4-0-1290" id="h4-0-1290" class="i">+        return NULL;
</a><a href="#h4-0-1291" id="h4-0-1291" class="i">+    }
</a><a href="#h4-0-1292" id="h4-0-1292" class="i">+
</a><a href="#h4-0-1293" id="h4-0-1293" class="i">+    p.buffer = (unsigned char*)global_hooks.allocate((size_t)prebuffer);
</a><a href="#h4-0-1294" id="h4-0-1294" class="i">+    if (!p.buffer)
</a><a href="#h4-0-1295" id="h4-0-1295" class="i">+    {
</a><a href="#h4-0-1296" id="h4-0-1296" class="i">+        return NULL;
</a><a href="#h4-0-1297" id="h4-0-1297" class="i">+    }
</a><a href="#h4-0-1298" id="h4-0-1298" class="i">+
</a><a href="#h4-0-1299" id="h4-0-1299" class="i">+    p.length = (size_t)prebuffer;
</a><a href="#h4-0-1300" id="h4-0-1300" class="i">+    p.offset = 0;
</a><a href="#h4-0-1301" id="h4-0-1301" class="i">+    p.noalloc = false;
</a><a href="#h4-0-1302" id="h4-0-1302" class="i">+    p.format = fmt;
</a><a href="#h4-0-1303" id="h4-0-1303" class="i">+    p.hooks = global_hooks;
</a><a href="#h4-0-1304" id="h4-0-1304" class="i">+
</a><a href="#h4-0-1305" id="h4-0-1305" class="i">+    if (!print_value(item, &amp;p))
</a><a href="#h4-0-1306" id="h4-0-1306" class="i">+    {
</a><a href="#h4-0-1307" id="h4-0-1307" class="i">+        global_hooks.deallocate(p.buffer);
</a><a href="#h4-0-1308" id="h4-0-1308" class="i">+        p.buffer = NULL;
</a><a href="#h4-0-1309" id="h4-0-1309" class="i">+        return NULL;
</a><a href="#h4-0-1310" id="h4-0-1310" class="i">+    }
</a><a href="#h4-0-1311" id="h4-0-1311" class="i">+
</a><a href="#h4-0-1312" id="h4-0-1312" class="i">+    return (char*)p.buffer;
</a><a href="#h4-0-1313" id="h4-0-1313" class="i">+}
</a><a href="#h4-0-1314" id="h4-0-1314" class="i">+
</a><a href="#h4-0-1315" id="h4-0-1315" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_PrintPreallocated(cJSON *item, char *buffer, const int length, const cJSON_bool format)
</a><a href="#h4-0-1316" id="h4-0-1316" class="i">+{
</a><a href="#h4-0-1317" id="h4-0-1317" class="i">+    printbuffer p = { 0, 0, 0, 0, 0, 0, { 0, 0, 0 } };
</a><a href="#h4-0-1318" id="h4-0-1318" class="i">+
</a><a href="#h4-0-1319" id="h4-0-1319" class="i">+    if ((length &lt; 0) || (buffer == NULL))
</a><a href="#h4-0-1320" id="h4-0-1320" class="i">+    {
</a><a href="#h4-0-1321" id="h4-0-1321" class="i">+        return false;
</a><a href="#h4-0-1322" id="h4-0-1322" class="i">+    }
</a><a href="#h4-0-1323" id="h4-0-1323" class="i">+
</a><a href="#h4-0-1324" id="h4-0-1324" class="i">+    p.buffer = (unsigned char*)buffer;
</a><a href="#h4-0-1325" id="h4-0-1325" class="i">+    p.length = (size_t)length;
</a><a href="#h4-0-1326" id="h4-0-1326" class="i">+    p.offset = 0;
</a><a href="#h4-0-1327" id="h4-0-1327" class="i">+    p.noalloc = true;
</a><a href="#h4-0-1328" id="h4-0-1328" class="i">+    p.format = format;
</a><a href="#h4-0-1329" id="h4-0-1329" class="i">+    p.hooks = global_hooks;
</a><a href="#h4-0-1330" id="h4-0-1330" class="i">+
</a><a href="#h4-0-1331" id="h4-0-1331" class="i">+    return print_value(item, &amp;p);
</a><a href="#h4-0-1332" id="h4-0-1332" class="i">+}
</a><a href="#h4-0-1333" id="h4-0-1333" class="i">+
</a><a href="#h4-0-1334" id="h4-0-1334" class="i">+/* Parser core - when encountering text, process appropriately. */
</a><a href="#h4-0-1335" id="h4-0-1335" class="i">+static cJSON_bool parse_value(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h4-0-1336" id="h4-0-1336" class="i">+{
</a><a href="#h4-0-1337" id="h4-0-1337" class="i">+    if ((input_buffer == NULL) || (input_buffer-&gt;content == NULL))
</a><a href="#h4-0-1338" id="h4-0-1338" class="i">+    {
</a><a href="#h4-0-1339" id="h4-0-1339" class="i">+        return false; /* no input */
</a><a href="#h4-0-1340" id="h4-0-1340" class="i">+    }
</a><a href="#h4-0-1341" id="h4-0-1341" class="i">+
</a><a href="#h4-0-1342" id="h4-0-1342" class="i">+    /* parse the different types of values */
</a><a href="#h4-0-1343" id="h4-0-1343" class="i">+    /* null */
</a><a href="#h4-0-1344" id="h4-0-1344" class="i">+    if (can_read(input_buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;null&quot;, 4) == 0))
</a><a href="#h4-0-1345" id="h4-0-1345" class="i">+    {
</a><a href="#h4-0-1346" id="h4-0-1346" class="i">+        item-&gt;type = cJSON_NULL;
</a><a href="#h4-0-1347" id="h4-0-1347" class="i">+        input_buffer-&gt;offset += 4;
</a><a href="#h4-0-1348" id="h4-0-1348" class="i">+        return true;
</a><a href="#h4-0-1349" id="h4-0-1349" class="i">+    }
</a><a href="#h4-0-1350" id="h4-0-1350" class="i">+    /* false */
</a><a href="#h4-0-1351" id="h4-0-1351" class="i">+    if (can_read(input_buffer, 5) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;false&quot;, 5) == 0))
</a><a href="#h4-0-1352" id="h4-0-1352" class="i">+    {
</a><a href="#h4-0-1353" id="h4-0-1353" class="i">+        item-&gt;type = cJSON_False;
</a><a href="#h4-0-1354" id="h4-0-1354" class="i">+        input_buffer-&gt;offset += 5;
</a><a href="#h4-0-1355" id="h4-0-1355" class="i">+        return true;
</a><a href="#h4-0-1356" id="h4-0-1356" class="i">+    }
</a><a href="#h4-0-1357" id="h4-0-1357" class="i">+    /* true */
</a><a href="#h4-0-1358" id="h4-0-1358" class="i">+    if (can_read(input_buffer, 4) &amp;&amp; (strncmp((const char*)buffer_at_offset(input_buffer), &quot;true&quot;, 4) == 0))
</a><a href="#h4-0-1359" id="h4-0-1359" class="i">+    {
</a><a href="#h4-0-1360" id="h4-0-1360" class="i">+        item-&gt;type = cJSON_True;
</a><a href="#h4-0-1361" id="h4-0-1361" class="i">+        item-&gt;valueint = 1;
</a><a href="#h4-0-1362" id="h4-0-1362" class="i">+        input_buffer-&gt;offset += 4;
</a><a href="#h4-0-1363" id="h4-0-1363" class="i">+        return true;
</a><a href="#h4-0-1364" id="h4-0-1364" class="i">+    }
</a><a href="#h4-0-1365" id="h4-0-1365" class="i">+    /* string */
</a><a href="#h4-0-1366" id="h4-0-1366" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;\&quot;&#39;))
</a><a href="#h4-0-1367" id="h4-0-1367" class="i">+    {
</a><a href="#h4-0-1368" id="h4-0-1368" class="i">+        return parse_string(item, input_buffer);
</a><a href="#h4-0-1369" id="h4-0-1369" class="i">+    }
</a><a href="#h4-0-1370" id="h4-0-1370" class="i">+    /* number */
</a><a href="#h4-0-1371" id="h4-0-1371" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; ((buffer_at_offset(input_buffer)[0] == &#39;-&#39;) || ((buffer_at_offset(input_buffer)[0] &gt;= &#39;0&#39;) &amp;&amp; (buffer_at_offset(input_buffer)[0] &lt;= &#39;9&#39;))))
</a><a href="#h4-0-1372" id="h4-0-1372" class="i">+    {
</a><a href="#h4-0-1373" id="h4-0-1373" class="i">+        return parse_number(item, input_buffer);
</a><a href="#h4-0-1374" id="h4-0-1374" class="i">+    }
</a><a href="#h4-0-1375" id="h4-0-1375" class="i">+    /* array */
</a><a href="#h4-0-1376" id="h4-0-1376" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;[&#39;))
</a><a href="#h4-0-1377" id="h4-0-1377" class="i">+    {
</a><a href="#h4-0-1378" id="h4-0-1378" class="i">+        return parse_array(item, input_buffer);
</a><a href="#h4-0-1379" id="h4-0-1379" class="i">+    }
</a><a href="#h4-0-1380" id="h4-0-1380" class="i">+    /* object */
</a><a href="#h4-0-1381" id="h4-0-1381" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;{&#39;))
</a><a href="#h4-0-1382" id="h4-0-1382" class="i">+    {
</a><a href="#h4-0-1383" id="h4-0-1383" class="i">+        return parse_object(item, input_buffer);
</a><a href="#h4-0-1384" id="h4-0-1384" class="i">+    }
</a><a href="#h4-0-1385" id="h4-0-1385" class="i">+
</a><a href="#h4-0-1386" id="h4-0-1386" class="i">+    return false;
</a><a href="#h4-0-1387" id="h4-0-1387" class="i">+}
</a><a href="#h4-0-1388" id="h4-0-1388" class="i">+
</a><a href="#h4-0-1389" id="h4-0-1389" class="i">+/* Render a value to text. */
</a><a href="#h4-0-1390" id="h4-0-1390" class="i">+static cJSON_bool print_value(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h4-0-1391" id="h4-0-1391" class="i">+{
</a><a href="#h4-0-1392" id="h4-0-1392" class="i">+    unsigned char *output = NULL;
</a><a href="#h4-0-1393" id="h4-0-1393" class="i">+
</a><a href="#h4-0-1394" id="h4-0-1394" class="i">+    if ((item == NULL) || (output_buffer == NULL))
</a><a href="#h4-0-1395" id="h4-0-1395" class="i">+    {
</a><a href="#h4-0-1396" id="h4-0-1396" class="i">+        return false;
</a><a href="#h4-0-1397" id="h4-0-1397" class="i">+    }
</a><a href="#h4-0-1398" id="h4-0-1398" class="i">+
</a><a href="#h4-0-1399" id="h4-0-1399" class="i">+    switch ((item-&gt;type) &amp; 0xFF)
</a><a href="#h4-0-1400" id="h4-0-1400" class="i">+    {
</a><a href="#h4-0-1401" id="h4-0-1401" class="i">+        case cJSON_NULL:
</a><a href="#h4-0-1402" id="h4-0-1402" class="i">+            output = ensure(output_buffer, 5);
</a><a href="#h4-0-1403" id="h4-0-1403" class="i">+            if (output == NULL)
</a><a href="#h4-0-1404" id="h4-0-1404" class="i">+            {
</a><a href="#h4-0-1405" id="h4-0-1405" class="i">+                return false;
</a><a href="#h4-0-1406" id="h4-0-1406" class="i">+            }
</a><a href="#h4-0-1407" id="h4-0-1407" class="i">+            strcpy((char*)output, &quot;null&quot;);
</a><a href="#h4-0-1408" id="h4-0-1408" class="i">+            return true;
</a><a href="#h4-0-1409" id="h4-0-1409" class="i">+
</a><a href="#h4-0-1410" id="h4-0-1410" class="i">+        case cJSON_False:
</a><a href="#h4-0-1411" id="h4-0-1411" class="i">+            output = ensure(output_buffer, 6);
</a><a href="#h4-0-1412" id="h4-0-1412" class="i">+            if (output == NULL)
</a><a href="#h4-0-1413" id="h4-0-1413" class="i">+            {
</a><a href="#h4-0-1414" id="h4-0-1414" class="i">+                return false;
</a><a href="#h4-0-1415" id="h4-0-1415" class="i">+            }
</a><a href="#h4-0-1416" id="h4-0-1416" class="i">+            strcpy((char*)output, &quot;false&quot;);
</a><a href="#h4-0-1417" id="h4-0-1417" class="i">+            return true;
</a><a href="#h4-0-1418" id="h4-0-1418" class="i">+
</a><a href="#h4-0-1419" id="h4-0-1419" class="i">+        case cJSON_True:
</a><a href="#h4-0-1420" id="h4-0-1420" class="i">+            output = ensure(output_buffer, 5);
</a><a href="#h4-0-1421" id="h4-0-1421" class="i">+            if (output == NULL)
</a><a href="#h4-0-1422" id="h4-0-1422" class="i">+            {
</a><a href="#h4-0-1423" id="h4-0-1423" class="i">+                return false;
</a><a href="#h4-0-1424" id="h4-0-1424" class="i">+            }
</a><a href="#h4-0-1425" id="h4-0-1425" class="i">+            strcpy((char*)output, &quot;true&quot;);
</a><a href="#h4-0-1426" id="h4-0-1426" class="i">+            return true;
</a><a href="#h4-0-1427" id="h4-0-1427" class="i">+
</a><a href="#h4-0-1428" id="h4-0-1428" class="i">+        case cJSON_Number:
</a><a href="#h4-0-1429" id="h4-0-1429" class="i">+            return print_number(item, output_buffer);
</a><a href="#h4-0-1430" id="h4-0-1430" class="i">+
</a><a href="#h4-0-1431" id="h4-0-1431" class="i">+        case cJSON_Raw:
</a><a href="#h4-0-1432" id="h4-0-1432" class="i">+        {
</a><a href="#h4-0-1433" id="h4-0-1433" class="i">+            size_t raw_length = 0;
</a><a href="#h4-0-1434" id="h4-0-1434" class="i">+            if (item-&gt;valuestring == NULL)
</a><a href="#h4-0-1435" id="h4-0-1435" class="i">+            {
</a><a href="#h4-0-1436" id="h4-0-1436" class="i">+                return false;
</a><a href="#h4-0-1437" id="h4-0-1437" class="i">+            }
</a><a href="#h4-0-1438" id="h4-0-1438" class="i">+
</a><a href="#h4-0-1439" id="h4-0-1439" class="i">+            raw_length = strlen(item-&gt;valuestring) + sizeof(&quot;&quot;);
</a><a href="#h4-0-1440" id="h4-0-1440" class="i">+            output = ensure(output_buffer, raw_length);
</a><a href="#h4-0-1441" id="h4-0-1441" class="i">+            if (output == NULL)
</a><a href="#h4-0-1442" id="h4-0-1442" class="i">+            {
</a><a href="#h4-0-1443" id="h4-0-1443" class="i">+                return false;
</a><a href="#h4-0-1444" id="h4-0-1444" class="i">+            }
</a><a href="#h4-0-1445" id="h4-0-1445" class="i">+            memcpy(output, item-&gt;valuestring, raw_length);
</a><a href="#h4-0-1446" id="h4-0-1446" class="i">+            return true;
</a><a href="#h4-0-1447" id="h4-0-1447" class="i">+        }
</a><a href="#h4-0-1448" id="h4-0-1448" class="i">+
</a><a href="#h4-0-1449" id="h4-0-1449" class="i">+        case cJSON_String:
</a><a href="#h4-0-1450" id="h4-0-1450" class="i">+            return print_string(item, output_buffer);
</a><a href="#h4-0-1451" id="h4-0-1451" class="i">+
</a><a href="#h4-0-1452" id="h4-0-1452" class="i">+        case cJSON_Array:
</a><a href="#h4-0-1453" id="h4-0-1453" class="i">+            return print_array(item, output_buffer);
</a><a href="#h4-0-1454" id="h4-0-1454" class="i">+
</a><a href="#h4-0-1455" id="h4-0-1455" class="i">+        case cJSON_Object:
</a><a href="#h4-0-1456" id="h4-0-1456" class="i">+            return print_object(item, output_buffer);
</a><a href="#h4-0-1457" id="h4-0-1457" class="i">+
</a><a href="#h4-0-1458" id="h4-0-1458" class="i">+        default:
</a><a href="#h4-0-1459" id="h4-0-1459" class="i">+            return false;
</a><a href="#h4-0-1460" id="h4-0-1460" class="i">+    }
</a><a href="#h4-0-1461" id="h4-0-1461" class="i">+}
</a><a href="#h4-0-1462" id="h4-0-1462" class="i">+
</a><a href="#h4-0-1463" id="h4-0-1463" class="i">+/* Build an array from input text. */
</a><a href="#h4-0-1464" id="h4-0-1464" class="i">+static cJSON_bool parse_array(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h4-0-1465" id="h4-0-1465" class="i">+{
</a><a href="#h4-0-1466" id="h4-0-1466" class="i">+    cJSON *head = NULL; /* head of the linked list */
</a><a href="#h4-0-1467" id="h4-0-1467" class="i">+    cJSON *current_item = NULL;
</a><a href="#h4-0-1468" id="h4-0-1468" class="i">+
</a><a href="#h4-0-1469" id="h4-0-1469" class="i">+    if (input_buffer-&gt;depth &gt;= CJSON_NESTING_LIMIT)
</a><a href="#h4-0-1470" id="h4-0-1470" class="i">+    {
</a><a href="#h4-0-1471" id="h4-0-1471" class="i">+        return false; /* to deeply nested */
</a><a href="#h4-0-1472" id="h4-0-1472" class="i">+    }
</a><a href="#h4-0-1473" id="h4-0-1473" class="i">+    input_buffer-&gt;depth++;
</a><a href="#h4-0-1474" id="h4-0-1474" class="i">+
</a><a href="#h4-0-1475" id="h4-0-1475" class="i">+    if (buffer_at_offset(input_buffer)[0] != &#39;[&#39;)
</a><a href="#h4-0-1476" id="h4-0-1476" class="i">+    {
</a><a href="#h4-0-1477" id="h4-0-1477" class="i">+        /* not an array */
</a><a href="#h4-0-1478" id="h4-0-1478" class="i">+        goto fail;
</a><a href="#h4-0-1479" id="h4-0-1479" class="i">+    }
</a><a href="#h4-0-1480" id="h4-0-1480" class="i">+
</a><a href="#h4-0-1481" id="h4-0-1481" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h4-0-1482" id="h4-0-1482" class="i">+    buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1483" id="h4-0-1483" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;]&#39;))
</a><a href="#h4-0-1484" id="h4-0-1484" class="i">+    {
</a><a href="#h4-0-1485" id="h4-0-1485" class="i">+        /* empty array */
</a><a href="#h4-0-1486" id="h4-0-1486" class="i">+        goto success;
</a><a href="#h4-0-1487" id="h4-0-1487" class="i">+    }
</a><a href="#h4-0-1488" id="h4-0-1488" class="i">+
</a><a href="#h4-0-1489" id="h4-0-1489" class="i">+    /* check if we skipped to the end of the buffer */
</a><a href="#h4-0-1490" id="h4-0-1490" class="i">+    if (cannot_access_at_index(input_buffer, 0))
</a><a href="#h4-0-1491" id="h4-0-1491" class="i">+    {
</a><a href="#h4-0-1492" id="h4-0-1492" class="i">+        input_buffer-&gt;offset--;
</a><a href="#h4-0-1493" id="h4-0-1493" class="i">+        goto fail;
</a><a href="#h4-0-1494" id="h4-0-1494" class="i">+    }
</a><a href="#h4-0-1495" id="h4-0-1495" class="i">+
</a><a href="#h4-0-1496" id="h4-0-1496" class="i">+    /* step back to character in front of the first element */
</a><a href="#h4-0-1497" id="h4-0-1497" class="i">+    input_buffer-&gt;offset--;
</a><a href="#h4-0-1498" id="h4-0-1498" class="i">+    /* loop through the comma separated array elements */
</a><a href="#h4-0-1499" id="h4-0-1499" class="i">+    do
</a><a href="#h4-0-1500" id="h4-0-1500" class="i">+    {
</a><a href="#h4-0-1501" id="h4-0-1501" class="i">+        /* allocate next item */
</a><a href="#h4-0-1502" id="h4-0-1502" class="i">+        cJSON *new_item = cJSON_New_Item(&amp;(input_buffer-&gt;hooks));
</a><a href="#h4-0-1503" id="h4-0-1503" class="i">+        if (new_item == NULL)
</a><a href="#h4-0-1504" id="h4-0-1504" class="i">+        {
</a><a href="#h4-0-1505" id="h4-0-1505" class="i">+            goto fail; /* allocation failure */
</a><a href="#h4-0-1506" id="h4-0-1506" class="i">+        }
</a><a href="#h4-0-1507" id="h4-0-1507" class="i">+
</a><a href="#h4-0-1508" id="h4-0-1508" class="i">+        /* attach next item to list */
</a><a href="#h4-0-1509" id="h4-0-1509" class="i">+        if (head == NULL)
</a><a href="#h4-0-1510" id="h4-0-1510" class="i">+        {
</a><a href="#h4-0-1511" id="h4-0-1511" class="i">+            /* start the linked list */
</a><a href="#h4-0-1512" id="h4-0-1512" class="i">+            current_item = head = new_item;
</a><a href="#h4-0-1513" id="h4-0-1513" class="i">+        }
</a><a href="#h4-0-1514" id="h4-0-1514" class="i">+        else
</a><a href="#h4-0-1515" id="h4-0-1515" class="i">+        {
</a><a href="#h4-0-1516" id="h4-0-1516" class="i">+            /* add to the end and advance */
</a><a href="#h4-0-1517" id="h4-0-1517" class="i">+            current_item-&gt;next = new_item;
</a><a href="#h4-0-1518" id="h4-0-1518" class="i">+            new_item-&gt;prev = current_item;
</a><a href="#h4-0-1519" id="h4-0-1519" class="i">+            current_item = new_item;
</a><a href="#h4-0-1520" id="h4-0-1520" class="i">+        }
</a><a href="#h4-0-1521" id="h4-0-1521" class="i">+
</a><a href="#h4-0-1522" id="h4-0-1522" class="i">+        /* parse next value */
</a><a href="#h4-0-1523" id="h4-0-1523" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h4-0-1524" id="h4-0-1524" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1525" id="h4-0-1525" class="i">+        if (!parse_value(current_item, input_buffer))
</a><a href="#h4-0-1526" id="h4-0-1526" class="i">+        {
</a><a href="#h4-0-1527" id="h4-0-1527" class="i">+            goto fail; /* failed to parse value */
</a><a href="#h4-0-1528" id="h4-0-1528" class="i">+        }
</a><a href="#h4-0-1529" id="h4-0-1529" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1530" id="h4-0-1530" class="i">+    }
</a><a href="#h4-0-1531" id="h4-0-1531" class="i">+    while (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;,&#39;));
</a><a href="#h4-0-1532" id="h4-0-1532" class="i">+
</a><a href="#h4-0-1533" id="h4-0-1533" class="i">+    if (cannot_access_at_index(input_buffer, 0) || buffer_at_offset(input_buffer)[0] != &#39;]&#39;)
</a><a href="#h4-0-1534" id="h4-0-1534" class="i">+    {
</a><a href="#h4-0-1535" id="h4-0-1535" class="i">+        goto fail; /* expected end of array */
</a><a href="#h4-0-1536" id="h4-0-1536" class="i">+    }
</a><a href="#h4-0-1537" id="h4-0-1537" class="i">+
</a><a href="#h4-0-1538" id="h4-0-1538" class="i">+success:
</a><a href="#h4-0-1539" id="h4-0-1539" class="i">+    input_buffer-&gt;depth--;
</a><a href="#h4-0-1540" id="h4-0-1540" class="i">+
</a><a href="#h4-0-1541" id="h4-0-1541" class="i">+    if (head != NULL) {
</a><a href="#h4-0-1542" id="h4-0-1542" class="i">+        head-&gt;prev = current_item;
</a><a href="#h4-0-1543" id="h4-0-1543" class="i">+    }
</a><a href="#h4-0-1544" id="h4-0-1544" class="i">+
</a><a href="#h4-0-1545" id="h4-0-1545" class="i">+    item-&gt;type = cJSON_Array;
</a><a href="#h4-0-1546" id="h4-0-1546" class="i">+    item-&gt;child = head;
</a><a href="#h4-0-1547" id="h4-0-1547" class="i">+
</a><a href="#h4-0-1548" id="h4-0-1548" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h4-0-1549" id="h4-0-1549" class="i">+
</a><a href="#h4-0-1550" id="h4-0-1550" class="i">+    return true;
</a><a href="#h4-0-1551" id="h4-0-1551" class="i">+
</a><a href="#h4-0-1552" id="h4-0-1552" class="i">+fail:
</a><a href="#h4-0-1553" id="h4-0-1553" class="i">+    if (head != NULL)
</a><a href="#h4-0-1554" id="h4-0-1554" class="i">+    {
</a><a href="#h4-0-1555" id="h4-0-1555" class="i">+        cJSON_Delete(head);
</a><a href="#h4-0-1556" id="h4-0-1556" class="i">+    }
</a><a href="#h4-0-1557" id="h4-0-1557" class="i">+
</a><a href="#h4-0-1558" id="h4-0-1558" class="i">+    return false;
</a><a href="#h4-0-1559" id="h4-0-1559" class="i">+}
</a><a href="#h4-0-1560" id="h4-0-1560" class="i">+
</a><a href="#h4-0-1561" id="h4-0-1561" class="i">+/* Render an array to text */
</a><a href="#h4-0-1562" id="h4-0-1562" class="i">+static cJSON_bool print_array(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h4-0-1563" id="h4-0-1563" class="i">+{
</a><a href="#h4-0-1564" id="h4-0-1564" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h4-0-1565" id="h4-0-1565" class="i">+    size_t length = 0;
</a><a href="#h4-0-1566" id="h4-0-1566" class="i">+    cJSON *current_element = item-&gt;child;
</a><a href="#h4-0-1567" id="h4-0-1567" class="i">+
</a><a href="#h4-0-1568" id="h4-0-1568" class="i">+    if (output_buffer == NULL)
</a><a href="#h4-0-1569" id="h4-0-1569" class="i">+    {
</a><a href="#h4-0-1570" id="h4-0-1570" class="i">+        return false;
</a><a href="#h4-0-1571" id="h4-0-1571" class="i">+    }
</a><a href="#h4-0-1572" id="h4-0-1572" class="i">+
</a><a href="#h4-0-1573" id="h4-0-1573" class="i">+    /* Compose the output array. */
</a><a href="#h4-0-1574" id="h4-0-1574" class="i">+    /* opening square bracket */
</a><a href="#h4-0-1575" id="h4-0-1575" class="i">+    output_pointer = ensure(output_buffer, 1);
</a><a href="#h4-0-1576" id="h4-0-1576" class="i">+    if (output_pointer == NULL)
</a><a href="#h4-0-1577" id="h4-0-1577" class="i">+    {
</a><a href="#h4-0-1578" id="h4-0-1578" class="i">+        return false;
</a><a href="#h4-0-1579" id="h4-0-1579" class="i">+    }
</a><a href="#h4-0-1580" id="h4-0-1580" class="i">+
</a><a href="#h4-0-1581" id="h4-0-1581" class="i">+    *output_pointer = &#39;[&#39;;
</a><a href="#h4-0-1582" id="h4-0-1582" class="i">+    output_buffer-&gt;offset++;
</a><a href="#h4-0-1583" id="h4-0-1583" class="i">+    output_buffer-&gt;depth++;
</a><a href="#h4-0-1584" id="h4-0-1584" class="i">+
</a><a href="#h4-0-1585" id="h4-0-1585" class="i">+    while (current_element != NULL)
</a><a href="#h4-0-1586" id="h4-0-1586" class="i">+    {
</a><a href="#h4-0-1587" id="h4-0-1587" class="i">+        if (!print_value(current_element, output_buffer))
</a><a href="#h4-0-1588" id="h4-0-1588" class="i">+        {
</a><a href="#h4-0-1589" id="h4-0-1589" class="i">+            return false;
</a><a href="#h4-0-1590" id="h4-0-1590" class="i">+        }
</a><a href="#h4-0-1591" id="h4-0-1591" class="i">+        update_offset(output_buffer);
</a><a href="#h4-0-1592" id="h4-0-1592" class="i">+        if (current_element-&gt;next)
</a><a href="#h4-0-1593" id="h4-0-1593" class="i">+        {
</a><a href="#h4-0-1594" id="h4-0-1594" class="i">+            length = (size_t) (output_buffer-&gt;format ? 2 : 1);
</a><a href="#h4-0-1595" id="h4-0-1595" class="i">+            output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h4-0-1596" id="h4-0-1596" class="i">+            if (output_pointer == NULL)
</a><a href="#h4-0-1597" id="h4-0-1597" class="i">+            {
</a><a href="#h4-0-1598" id="h4-0-1598" class="i">+                return false;
</a><a href="#h4-0-1599" id="h4-0-1599" class="i">+            }
</a><a href="#h4-0-1600" id="h4-0-1600" class="i">+            *output_pointer++ = &#39;,&#39;;
</a><a href="#h4-0-1601" id="h4-0-1601" class="i">+            if(output_buffer-&gt;format)
</a><a href="#h4-0-1602" id="h4-0-1602" class="i">+            {
</a><a href="#h4-0-1603" id="h4-0-1603" class="i">+                *output_pointer++ = &#39; &#39;;
</a><a href="#h4-0-1604" id="h4-0-1604" class="i">+            }
</a><a href="#h4-0-1605" id="h4-0-1605" class="i">+            *output_pointer = &#39;\0&#39;;
</a><a href="#h4-0-1606" id="h4-0-1606" class="i">+            output_buffer-&gt;offset += length;
</a><a href="#h4-0-1607" id="h4-0-1607" class="i">+        }
</a><a href="#h4-0-1608" id="h4-0-1608" class="i">+        current_element = current_element-&gt;next;
</a><a href="#h4-0-1609" id="h4-0-1609" class="i">+    }
</a><a href="#h4-0-1610" id="h4-0-1610" class="i">+
</a><a href="#h4-0-1611" id="h4-0-1611" class="i">+    output_pointer = ensure(output_buffer, 2);
</a><a href="#h4-0-1612" id="h4-0-1612" class="i">+    if (output_pointer == NULL)
</a><a href="#h4-0-1613" id="h4-0-1613" class="i">+    {
</a><a href="#h4-0-1614" id="h4-0-1614" class="i">+        return false;
</a><a href="#h4-0-1615" id="h4-0-1615" class="i">+    }
</a><a href="#h4-0-1616" id="h4-0-1616" class="i">+    *output_pointer++ = &#39;]&#39;;
</a><a href="#h4-0-1617" id="h4-0-1617" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h4-0-1618" id="h4-0-1618" class="i">+    output_buffer-&gt;depth--;
</a><a href="#h4-0-1619" id="h4-0-1619" class="i">+
</a><a href="#h4-0-1620" id="h4-0-1620" class="i">+    return true;
</a><a href="#h4-0-1621" id="h4-0-1621" class="i">+}
</a><a href="#h4-0-1622" id="h4-0-1622" class="i">+
</a><a href="#h4-0-1623" id="h4-0-1623" class="i">+/* Build an object from the text. */
</a><a href="#h4-0-1624" id="h4-0-1624" class="i">+static cJSON_bool parse_object(cJSON * const item, parse_buffer * const input_buffer)
</a><a href="#h4-0-1625" id="h4-0-1625" class="i">+{
</a><a href="#h4-0-1626" id="h4-0-1626" class="i">+    cJSON *head = NULL; /* linked list head */
</a><a href="#h4-0-1627" id="h4-0-1627" class="i">+    cJSON *current_item = NULL;
</a><a href="#h4-0-1628" id="h4-0-1628" class="i">+
</a><a href="#h4-0-1629" id="h4-0-1629" class="i">+    if (input_buffer-&gt;depth &gt;= CJSON_NESTING_LIMIT)
</a><a href="#h4-0-1630" id="h4-0-1630" class="i">+    {
</a><a href="#h4-0-1631" id="h4-0-1631" class="i">+        return false; /* to deeply nested */
</a><a href="#h4-0-1632" id="h4-0-1632" class="i">+    }
</a><a href="#h4-0-1633" id="h4-0-1633" class="i">+    input_buffer-&gt;depth++;
</a><a href="#h4-0-1634" id="h4-0-1634" class="i">+
</a><a href="#h4-0-1635" id="h4-0-1635" class="i">+    if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;{&#39;))
</a><a href="#h4-0-1636" id="h4-0-1636" class="i">+    {
</a><a href="#h4-0-1637" id="h4-0-1637" class="i">+        goto fail; /* not an object */
</a><a href="#h4-0-1638" id="h4-0-1638" class="i">+    }
</a><a href="#h4-0-1639" id="h4-0-1639" class="i">+
</a><a href="#h4-0-1640" id="h4-0-1640" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h4-0-1641" id="h4-0-1641" class="i">+    buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1642" id="h4-0-1642" class="i">+    if (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;}&#39;))
</a><a href="#h4-0-1643" id="h4-0-1643" class="i">+    {
</a><a href="#h4-0-1644" id="h4-0-1644" class="i">+        goto success; /* empty object */
</a><a href="#h4-0-1645" id="h4-0-1645" class="i">+    }
</a><a href="#h4-0-1646" id="h4-0-1646" class="i">+
</a><a href="#h4-0-1647" id="h4-0-1647" class="i">+    /* check if we skipped to the end of the buffer */
</a><a href="#h4-0-1648" id="h4-0-1648" class="i">+    if (cannot_access_at_index(input_buffer, 0))
</a><a href="#h4-0-1649" id="h4-0-1649" class="i">+    {
</a><a href="#h4-0-1650" id="h4-0-1650" class="i">+        input_buffer-&gt;offset--;
</a><a href="#h4-0-1651" id="h4-0-1651" class="i">+        goto fail;
</a><a href="#h4-0-1652" id="h4-0-1652" class="i">+    }
</a><a href="#h4-0-1653" id="h4-0-1653" class="i">+
</a><a href="#h4-0-1654" id="h4-0-1654" class="i">+    /* step back to character in front of the first element */
</a><a href="#h4-0-1655" id="h4-0-1655" class="i">+    input_buffer-&gt;offset--;
</a><a href="#h4-0-1656" id="h4-0-1656" class="i">+    /* loop through the comma separated array elements */
</a><a href="#h4-0-1657" id="h4-0-1657" class="i">+    do
</a><a href="#h4-0-1658" id="h4-0-1658" class="i">+    {
</a><a href="#h4-0-1659" id="h4-0-1659" class="i">+        /* allocate next item */
</a><a href="#h4-0-1660" id="h4-0-1660" class="i">+        cJSON *new_item = cJSON_New_Item(&amp;(input_buffer-&gt;hooks));
</a><a href="#h4-0-1661" id="h4-0-1661" class="i">+        if (new_item == NULL)
</a><a href="#h4-0-1662" id="h4-0-1662" class="i">+        {
</a><a href="#h4-0-1663" id="h4-0-1663" class="i">+            goto fail; /* allocation failure */
</a><a href="#h4-0-1664" id="h4-0-1664" class="i">+        }
</a><a href="#h4-0-1665" id="h4-0-1665" class="i">+
</a><a href="#h4-0-1666" id="h4-0-1666" class="i">+        /* attach next item to list */
</a><a href="#h4-0-1667" id="h4-0-1667" class="i">+        if (head == NULL)
</a><a href="#h4-0-1668" id="h4-0-1668" class="i">+        {
</a><a href="#h4-0-1669" id="h4-0-1669" class="i">+            /* start the linked list */
</a><a href="#h4-0-1670" id="h4-0-1670" class="i">+            current_item = head = new_item;
</a><a href="#h4-0-1671" id="h4-0-1671" class="i">+        }
</a><a href="#h4-0-1672" id="h4-0-1672" class="i">+        else
</a><a href="#h4-0-1673" id="h4-0-1673" class="i">+        {
</a><a href="#h4-0-1674" id="h4-0-1674" class="i">+            /* add to the end and advance */
</a><a href="#h4-0-1675" id="h4-0-1675" class="i">+            current_item-&gt;next = new_item;
</a><a href="#h4-0-1676" id="h4-0-1676" class="i">+            new_item-&gt;prev = current_item;
</a><a href="#h4-0-1677" id="h4-0-1677" class="i">+            current_item = new_item;
</a><a href="#h4-0-1678" id="h4-0-1678" class="i">+        }
</a><a href="#h4-0-1679" id="h4-0-1679" class="i">+
</a><a href="#h4-0-1680" id="h4-0-1680" class="i">+        if (cannot_access_at_index(input_buffer, 1))
</a><a href="#h4-0-1681" id="h4-0-1681" class="i">+        {
</a><a href="#h4-0-1682" id="h4-0-1682" class="i">+            goto fail; /* nothing comes after the comma */
</a><a href="#h4-0-1683" id="h4-0-1683" class="i">+        }
</a><a href="#h4-0-1684" id="h4-0-1684" class="i">+
</a><a href="#h4-0-1685" id="h4-0-1685" class="i">+        /* parse the name of the child */
</a><a href="#h4-0-1686" id="h4-0-1686" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h4-0-1687" id="h4-0-1687" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1688" id="h4-0-1688" class="i">+        if (!parse_string(current_item, input_buffer))
</a><a href="#h4-0-1689" id="h4-0-1689" class="i">+        {
</a><a href="#h4-0-1690" id="h4-0-1690" class="i">+            goto fail; /* failed to parse name */
</a><a href="#h4-0-1691" id="h4-0-1691" class="i">+        }
</a><a href="#h4-0-1692" id="h4-0-1692" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1693" id="h4-0-1693" class="i">+
</a><a href="#h4-0-1694" id="h4-0-1694" class="i">+        /* swap valuestring and string, because we parsed the name */
</a><a href="#h4-0-1695" id="h4-0-1695" class="i">+        current_item-&gt;string = current_item-&gt;valuestring;
</a><a href="#h4-0-1696" id="h4-0-1696" class="i">+        current_item-&gt;valuestring = NULL;
</a><a href="#h4-0-1697" id="h4-0-1697" class="i">+
</a><a href="#h4-0-1698" id="h4-0-1698" class="i">+        if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;:&#39;))
</a><a href="#h4-0-1699" id="h4-0-1699" class="i">+        {
</a><a href="#h4-0-1700" id="h4-0-1700" class="i">+            goto fail; /* invalid object */
</a><a href="#h4-0-1701" id="h4-0-1701" class="i">+        }
</a><a href="#h4-0-1702" id="h4-0-1702" class="i">+
</a><a href="#h4-0-1703" id="h4-0-1703" class="i">+        /* parse the value */
</a><a href="#h4-0-1704" id="h4-0-1704" class="i">+        input_buffer-&gt;offset++;
</a><a href="#h4-0-1705" id="h4-0-1705" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1706" id="h4-0-1706" class="i">+        if (!parse_value(current_item, input_buffer))
</a><a href="#h4-0-1707" id="h4-0-1707" class="i">+        {
</a><a href="#h4-0-1708" id="h4-0-1708" class="i">+            goto fail; /* failed to parse value */
</a><a href="#h4-0-1709" id="h4-0-1709" class="i">+        }
</a><a href="#h4-0-1710" id="h4-0-1710" class="i">+        buffer_skip_whitespace(input_buffer);
</a><a href="#h4-0-1711" id="h4-0-1711" class="i">+    }
</a><a href="#h4-0-1712" id="h4-0-1712" class="i">+    while (can_access_at_index(input_buffer, 0) &amp;&amp; (buffer_at_offset(input_buffer)[0] == &#39;,&#39;));
</a><a href="#h4-0-1713" id="h4-0-1713" class="i">+
</a><a href="#h4-0-1714" id="h4-0-1714" class="i">+    if (cannot_access_at_index(input_buffer, 0) || (buffer_at_offset(input_buffer)[0] != &#39;}&#39;))
</a><a href="#h4-0-1715" id="h4-0-1715" class="i">+    {
</a><a href="#h4-0-1716" id="h4-0-1716" class="i">+        goto fail; /* expected end of object */
</a><a href="#h4-0-1717" id="h4-0-1717" class="i">+    }
</a><a href="#h4-0-1718" id="h4-0-1718" class="i">+
</a><a href="#h4-0-1719" id="h4-0-1719" class="i">+success:
</a><a href="#h4-0-1720" id="h4-0-1720" class="i">+    input_buffer-&gt;depth--;
</a><a href="#h4-0-1721" id="h4-0-1721" class="i">+
</a><a href="#h4-0-1722" id="h4-0-1722" class="i">+    if (head != NULL) {
</a><a href="#h4-0-1723" id="h4-0-1723" class="i">+        head-&gt;prev = current_item;
</a><a href="#h4-0-1724" id="h4-0-1724" class="i">+    }
</a><a href="#h4-0-1725" id="h4-0-1725" class="i">+
</a><a href="#h4-0-1726" id="h4-0-1726" class="i">+    item-&gt;type = cJSON_Object;
</a><a href="#h4-0-1727" id="h4-0-1727" class="i">+    item-&gt;child = head;
</a><a href="#h4-0-1728" id="h4-0-1728" class="i">+
</a><a href="#h4-0-1729" id="h4-0-1729" class="i">+    input_buffer-&gt;offset++;
</a><a href="#h4-0-1730" id="h4-0-1730" class="i">+    return true;
</a><a href="#h4-0-1731" id="h4-0-1731" class="i">+
</a><a href="#h4-0-1732" id="h4-0-1732" class="i">+fail:
</a><a href="#h4-0-1733" id="h4-0-1733" class="i">+    if (head != NULL)
</a><a href="#h4-0-1734" id="h4-0-1734" class="i">+    {
</a><a href="#h4-0-1735" id="h4-0-1735" class="i">+        cJSON_Delete(head);
</a><a href="#h4-0-1736" id="h4-0-1736" class="i">+    }
</a><a href="#h4-0-1737" id="h4-0-1737" class="i">+
</a><a href="#h4-0-1738" id="h4-0-1738" class="i">+    return false;
</a><a href="#h4-0-1739" id="h4-0-1739" class="i">+}
</a><a href="#h4-0-1740" id="h4-0-1740" class="i">+
</a><a href="#h4-0-1741" id="h4-0-1741" class="i">+/* Render an object to text. */
</a><a href="#h4-0-1742" id="h4-0-1742" class="i">+static cJSON_bool print_object(const cJSON * const item, printbuffer * const output_buffer)
</a><a href="#h4-0-1743" id="h4-0-1743" class="i">+{
</a><a href="#h4-0-1744" id="h4-0-1744" class="i">+    unsigned char *output_pointer = NULL;
</a><a href="#h4-0-1745" id="h4-0-1745" class="i">+    size_t length = 0;
</a><a href="#h4-0-1746" id="h4-0-1746" class="i">+    cJSON *current_item = item-&gt;child;
</a><a href="#h4-0-1747" id="h4-0-1747" class="i">+
</a><a href="#h4-0-1748" id="h4-0-1748" class="i">+    if (output_buffer == NULL)
</a><a href="#h4-0-1749" id="h4-0-1749" class="i">+    {
</a><a href="#h4-0-1750" id="h4-0-1750" class="i">+        return false;
</a><a href="#h4-0-1751" id="h4-0-1751" class="i">+    }
</a><a href="#h4-0-1752" id="h4-0-1752" class="i">+
</a><a href="#h4-0-1753" id="h4-0-1753" class="i">+    /* Compose the output: */
</a><a href="#h4-0-1754" id="h4-0-1754" class="i">+    length = (size_t) (output_buffer-&gt;format ? 2 : 1); /* fmt: {\n */
</a><a href="#h4-0-1755" id="h4-0-1755" class="i">+    output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h4-0-1756" id="h4-0-1756" class="i">+    if (output_pointer == NULL)
</a><a href="#h4-0-1757" id="h4-0-1757" class="i">+    {
</a><a href="#h4-0-1758" id="h4-0-1758" class="i">+        return false;
</a><a href="#h4-0-1759" id="h4-0-1759" class="i">+    }
</a><a href="#h4-0-1760" id="h4-0-1760" class="i">+
</a><a href="#h4-0-1761" id="h4-0-1761" class="i">+    *output_pointer++ = &#39;{&#39;;
</a><a href="#h4-0-1762" id="h4-0-1762" class="i">+    output_buffer-&gt;depth++;
</a><a href="#h4-0-1763" id="h4-0-1763" class="i">+    if (output_buffer-&gt;format)
</a><a href="#h4-0-1764" id="h4-0-1764" class="i">+    {
</a><a href="#h4-0-1765" id="h4-0-1765" class="i">+        *output_pointer++ = &#39;\n&#39;;
</a><a href="#h4-0-1766" id="h4-0-1766" class="i">+    }
</a><a href="#h4-0-1767" id="h4-0-1767" class="i">+    output_buffer-&gt;offset += length;
</a><a href="#h4-0-1768" id="h4-0-1768" class="i">+
</a><a href="#h4-0-1769" id="h4-0-1769" class="i">+    while (current_item)
</a><a href="#h4-0-1770" id="h4-0-1770" class="i">+    {
</a><a href="#h4-0-1771" id="h4-0-1771" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h4-0-1772" id="h4-0-1772" class="i">+        {
</a><a href="#h4-0-1773" id="h4-0-1773" class="i">+            size_t i;
</a><a href="#h4-0-1774" id="h4-0-1774" class="i">+            output_pointer = ensure(output_buffer, output_buffer-&gt;depth);
</a><a href="#h4-0-1775" id="h4-0-1775" class="i">+            if (output_pointer == NULL)
</a><a href="#h4-0-1776" id="h4-0-1776" class="i">+            {
</a><a href="#h4-0-1777" id="h4-0-1777" class="i">+                return false;
</a><a href="#h4-0-1778" id="h4-0-1778" class="i">+            }
</a><a href="#h4-0-1779" id="h4-0-1779" class="i">+            for (i = 0; i &lt; output_buffer-&gt;depth; i++)
</a><a href="#h4-0-1780" id="h4-0-1780" class="i">+            {
</a><a href="#h4-0-1781" id="h4-0-1781" class="i">+                *output_pointer++ = &#39;\t&#39;;
</a><a href="#h4-0-1782" id="h4-0-1782" class="i">+            }
</a><a href="#h4-0-1783" id="h4-0-1783" class="i">+            output_buffer-&gt;offset += output_buffer-&gt;depth;
</a><a href="#h4-0-1784" id="h4-0-1784" class="i">+        }
</a><a href="#h4-0-1785" id="h4-0-1785" class="i">+
</a><a href="#h4-0-1786" id="h4-0-1786" class="i">+        /* print key */
</a><a href="#h4-0-1787" id="h4-0-1787" class="i">+        if (!print_string_ptr((unsigned char*)current_item-&gt;string, output_buffer))
</a><a href="#h4-0-1788" id="h4-0-1788" class="i">+        {
</a><a href="#h4-0-1789" id="h4-0-1789" class="i">+            return false;
</a><a href="#h4-0-1790" id="h4-0-1790" class="i">+        }
</a><a href="#h4-0-1791" id="h4-0-1791" class="i">+        update_offset(output_buffer);
</a><a href="#h4-0-1792" id="h4-0-1792" class="i">+
</a><a href="#h4-0-1793" id="h4-0-1793" class="i">+        length = (size_t) (output_buffer-&gt;format ? 2 : 1);
</a><a href="#h4-0-1794" id="h4-0-1794" class="i">+        output_pointer = ensure(output_buffer, length);
</a><a href="#h4-0-1795" id="h4-0-1795" class="i">+        if (output_pointer == NULL)
</a><a href="#h4-0-1796" id="h4-0-1796" class="i">+        {
</a><a href="#h4-0-1797" id="h4-0-1797" class="i">+            return false;
</a><a href="#h4-0-1798" id="h4-0-1798" class="i">+        }
</a><a href="#h4-0-1799" id="h4-0-1799" class="i">+        *output_pointer++ = &#39;:&#39;;
</a><a href="#h4-0-1800" id="h4-0-1800" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h4-0-1801" id="h4-0-1801" class="i">+        {
</a><a href="#h4-0-1802" id="h4-0-1802" class="i">+            *output_pointer++ = &#39;\t&#39;;
</a><a href="#h4-0-1803" id="h4-0-1803" class="i">+        }
</a><a href="#h4-0-1804" id="h4-0-1804" class="i">+        output_buffer-&gt;offset += length;
</a><a href="#h4-0-1805" id="h4-0-1805" class="i">+
</a><a href="#h4-0-1806" id="h4-0-1806" class="i">+        /* print value */
</a><a href="#h4-0-1807" id="h4-0-1807" class="i">+        if (!print_value(current_item, output_buffer))
</a><a href="#h4-0-1808" id="h4-0-1808" class="i">+        {
</a><a href="#h4-0-1809" id="h4-0-1809" class="i">+            return false;
</a><a href="#h4-0-1810" id="h4-0-1810" class="i">+        }
</a><a href="#h4-0-1811" id="h4-0-1811" class="i">+        update_offset(output_buffer);
</a><a href="#h4-0-1812" id="h4-0-1812" class="i">+
</a><a href="#h4-0-1813" id="h4-0-1813" class="i">+        /* print comma if not last */
</a><a href="#h4-0-1814" id="h4-0-1814" class="i">+        length = ((size_t)(output_buffer-&gt;format ? 1 : 0) + (size_t)(current_item-&gt;next ? 1 : 0));
</a><a href="#h4-0-1815" id="h4-0-1815" class="i">+        output_pointer = ensure(output_buffer, length + 1);
</a><a href="#h4-0-1816" id="h4-0-1816" class="i">+        if (output_pointer == NULL)
</a><a href="#h4-0-1817" id="h4-0-1817" class="i">+        {
</a><a href="#h4-0-1818" id="h4-0-1818" class="i">+            return false;
</a><a href="#h4-0-1819" id="h4-0-1819" class="i">+        }
</a><a href="#h4-0-1820" id="h4-0-1820" class="i">+        if (current_item-&gt;next)
</a><a href="#h4-0-1821" id="h4-0-1821" class="i">+        {
</a><a href="#h4-0-1822" id="h4-0-1822" class="i">+            *output_pointer++ = &#39;,&#39;;
</a><a href="#h4-0-1823" id="h4-0-1823" class="i">+        }
</a><a href="#h4-0-1824" id="h4-0-1824" class="i">+
</a><a href="#h4-0-1825" id="h4-0-1825" class="i">+        if (output_buffer-&gt;format)
</a><a href="#h4-0-1826" id="h4-0-1826" class="i">+        {
</a><a href="#h4-0-1827" id="h4-0-1827" class="i">+            *output_pointer++ = &#39;\n&#39;;
</a><a href="#h4-0-1828" id="h4-0-1828" class="i">+        }
</a><a href="#h4-0-1829" id="h4-0-1829" class="i">+        *output_pointer = &#39;\0&#39;;
</a><a href="#h4-0-1830" id="h4-0-1830" class="i">+        output_buffer-&gt;offset += length;
</a><a href="#h4-0-1831" id="h4-0-1831" class="i">+
</a><a href="#h4-0-1832" id="h4-0-1832" class="i">+        current_item = current_item-&gt;next;
</a><a href="#h4-0-1833" id="h4-0-1833" class="i">+    }
</a><a href="#h4-0-1834" id="h4-0-1834" class="i">+
</a><a href="#h4-0-1835" id="h4-0-1835" class="i">+    output_pointer = ensure(output_buffer, output_buffer-&gt;format ? (output_buffer-&gt;depth + 1) : 2);
</a><a href="#h4-0-1836" id="h4-0-1836" class="i">+    if (output_pointer == NULL)
</a><a href="#h4-0-1837" id="h4-0-1837" class="i">+    {
</a><a href="#h4-0-1838" id="h4-0-1838" class="i">+        return false;
</a><a href="#h4-0-1839" id="h4-0-1839" class="i">+    }
</a><a href="#h4-0-1840" id="h4-0-1840" class="i">+    if (output_buffer-&gt;format)
</a><a href="#h4-0-1841" id="h4-0-1841" class="i">+    {
</a><a href="#h4-0-1842" id="h4-0-1842" class="i">+        size_t i;
</a><a href="#h4-0-1843" id="h4-0-1843" class="i">+        for (i = 0; i &lt; (output_buffer-&gt;depth - 1); i++)
</a><a href="#h4-0-1844" id="h4-0-1844" class="i">+        {
</a><a href="#h4-0-1845" id="h4-0-1845" class="i">+            *output_pointer++ = &#39;\t&#39;;
</a><a href="#h4-0-1846" id="h4-0-1846" class="i">+        }
</a><a href="#h4-0-1847" id="h4-0-1847" class="i">+    }
</a><a href="#h4-0-1848" id="h4-0-1848" class="i">+    *output_pointer++ = &#39;}&#39;;
</a><a href="#h4-0-1849" id="h4-0-1849" class="i">+    *output_pointer = &#39;\0&#39;;
</a><a href="#h4-0-1850" id="h4-0-1850" class="i">+    output_buffer-&gt;depth--;
</a><a href="#h4-0-1851" id="h4-0-1851" class="i">+
</a><a href="#h4-0-1852" id="h4-0-1852" class="i">+    return true;
</a><a href="#h4-0-1853" id="h4-0-1853" class="i">+}
</a><a href="#h4-0-1854" id="h4-0-1854" class="i">+
</a><a href="#h4-0-1855" id="h4-0-1855" class="i">+/* Get Array size/item / object item. */
</a><a href="#h4-0-1856" id="h4-0-1856" class="i">+CJSON_PUBLIC(int) cJSON_GetArraySize(const cJSON *array)
</a><a href="#h4-0-1857" id="h4-0-1857" class="i">+{
</a><a href="#h4-0-1858" id="h4-0-1858" class="i">+    cJSON *child = NULL;
</a><a href="#h4-0-1859" id="h4-0-1859" class="i">+    size_t size = 0;
</a><a href="#h4-0-1860" id="h4-0-1860" class="i">+
</a><a href="#h4-0-1861" id="h4-0-1861" class="i">+    if (array == NULL)
</a><a href="#h4-0-1862" id="h4-0-1862" class="i">+    {
</a><a href="#h4-0-1863" id="h4-0-1863" class="i">+        return 0;
</a><a href="#h4-0-1864" id="h4-0-1864" class="i">+    }
</a><a href="#h4-0-1865" id="h4-0-1865" class="i">+
</a><a href="#h4-0-1866" id="h4-0-1866" class="i">+    child = array-&gt;child;
</a><a href="#h4-0-1867" id="h4-0-1867" class="i">+
</a><a href="#h4-0-1868" id="h4-0-1868" class="i">+    while(child != NULL)
</a><a href="#h4-0-1869" id="h4-0-1869" class="i">+    {
</a><a href="#h4-0-1870" id="h4-0-1870" class="i">+        size++;
</a><a href="#h4-0-1871" id="h4-0-1871" class="i">+        child = child-&gt;next;
</a><a href="#h4-0-1872" id="h4-0-1872" class="i">+    }
</a><a href="#h4-0-1873" id="h4-0-1873" class="i">+
</a><a href="#h4-0-1874" id="h4-0-1874" class="i">+    /* FIXME: Can overflow here. Cannot be fixed without breaking the API */
</a><a href="#h4-0-1875" id="h4-0-1875" class="i">+
</a><a href="#h4-0-1876" id="h4-0-1876" class="i">+    return (int)size;
</a><a href="#h4-0-1877" id="h4-0-1877" class="i">+}
</a><a href="#h4-0-1878" id="h4-0-1878" class="i">+
</a><a href="#h4-0-1879" id="h4-0-1879" class="i">+static cJSON* get_array_item(const cJSON *array, size_t index)
</a><a href="#h4-0-1880" id="h4-0-1880" class="i">+{
</a><a href="#h4-0-1881" id="h4-0-1881" class="i">+    cJSON *current_child = NULL;
</a><a href="#h4-0-1882" id="h4-0-1882" class="i">+
</a><a href="#h4-0-1883" id="h4-0-1883" class="i">+    if (array == NULL)
</a><a href="#h4-0-1884" id="h4-0-1884" class="i">+    {
</a><a href="#h4-0-1885" id="h4-0-1885" class="i">+        return NULL;
</a><a href="#h4-0-1886" id="h4-0-1886" class="i">+    }
</a><a href="#h4-0-1887" id="h4-0-1887" class="i">+
</a><a href="#h4-0-1888" id="h4-0-1888" class="i">+    current_child = array-&gt;child;
</a><a href="#h4-0-1889" id="h4-0-1889" class="i">+    while ((current_child != NULL) &amp;&amp; (index &gt; 0))
</a><a href="#h4-0-1890" id="h4-0-1890" class="i">+    {
</a><a href="#h4-0-1891" id="h4-0-1891" class="i">+        index--;
</a><a href="#h4-0-1892" id="h4-0-1892" class="i">+        current_child = current_child-&gt;next;
</a><a href="#h4-0-1893" id="h4-0-1893" class="i">+    }
</a><a href="#h4-0-1894" id="h4-0-1894" class="i">+
</a><a href="#h4-0-1895" id="h4-0-1895" class="i">+    return current_child;
</a><a href="#h4-0-1896" id="h4-0-1896" class="i">+}
</a><a href="#h4-0-1897" id="h4-0-1897" class="i">+
</a><a href="#h4-0-1898" id="h4-0-1898" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetArrayItem(const cJSON *array, int index)
</a><a href="#h4-0-1899" id="h4-0-1899" class="i">+{
</a><a href="#h4-0-1900" id="h4-0-1900" class="i">+    if (index &lt; 0)
</a><a href="#h4-0-1901" id="h4-0-1901" class="i">+    {
</a><a href="#h4-0-1902" id="h4-0-1902" class="i">+        return NULL;
</a><a href="#h4-0-1903" id="h4-0-1903" class="i">+    }
</a><a href="#h4-0-1904" id="h4-0-1904" class="i">+
</a><a href="#h4-0-1905" id="h4-0-1905" class="i">+    return get_array_item(array, (size_t)index);
</a><a href="#h4-0-1906" id="h4-0-1906" class="i">+}
</a><a href="#h4-0-1907" id="h4-0-1907" class="i">+
</a><a href="#h4-0-1908" id="h4-0-1908" class="i">+static cJSON *get_object_item(const cJSON * const object, const char * const name, const cJSON_bool case_sensitive)
</a><a href="#h4-0-1909" id="h4-0-1909" class="i">+{
</a><a href="#h4-0-1910" id="h4-0-1910" class="i">+    cJSON *current_element = NULL;
</a><a href="#h4-0-1911" id="h4-0-1911" class="i">+
</a><a href="#h4-0-1912" id="h4-0-1912" class="i">+    if ((object == NULL) || (name == NULL))
</a><a href="#h4-0-1913" id="h4-0-1913" class="i">+    {
</a><a href="#h4-0-1914" id="h4-0-1914" class="i">+        return NULL;
</a><a href="#h4-0-1915" id="h4-0-1915" class="i">+    }
</a><a href="#h4-0-1916" id="h4-0-1916" class="i">+
</a><a href="#h4-0-1917" id="h4-0-1917" class="i">+    current_element = object-&gt;child;
</a><a href="#h4-0-1918" id="h4-0-1918" class="i">+    if (case_sensitive)
</a><a href="#h4-0-1919" id="h4-0-1919" class="i">+    {
</a><a href="#h4-0-1920" id="h4-0-1920" class="i">+        while ((current_element != NULL) &amp;&amp; (current_element-&gt;string != NULL) &amp;&amp; (strcmp(name, current_element-&gt;string) != 0))
</a><a href="#h4-0-1921" id="h4-0-1921" class="i">+        {
</a><a href="#h4-0-1922" id="h4-0-1922" class="i">+            current_element = current_element-&gt;next;
</a><a href="#h4-0-1923" id="h4-0-1923" class="i">+        }
</a><a href="#h4-0-1924" id="h4-0-1924" class="i">+    }
</a><a href="#h4-0-1925" id="h4-0-1925" class="i">+    else
</a><a href="#h4-0-1926" id="h4-0-1926" class="i">+    {
</a><a href="#h4-0-1927" id="h4-0-1927" class="i">+        while ((current_element != NULL) &amp;&amp; (case_insensitive_strcmp((const unsigned char*)name, (const unsigned char*)(current_element-&gt;string)) != 0))
</a><a href="#h4-0-1928" id="h4-0-1928" class="i">+        {
</a><a href="#h4-0-1929" id="h4-0-1929" class="i">+            current_element = current_element-&gt;next;
</a><a href="#h4-0-1930" id="h4-0-1930" class="i">+        }
</a><a href="#h4-0-1931" id="h4-0-1931" class="i">+    }
</a><a href="#h4-0-1932" id="h4-0-1932" class="i">+
</a><a href="#h4-0-1933" id="h4-0-1933" class="i">+    if ((current_element == NULL) || (current_element-&gt;string == NULL)) {
</a><a href="#h4-0-1934" id="h4-0-1934" class="i">+        return NULL;
</a><a href="#h4-0-1935" id="h4-0-1935" class="i">+    }
</a><a href="#h4-0-1936" id="h4-0-1936" class="i">+
</a><a href="#h4-0-1937" id="h4-0-1937" class="i">+    return current_element;
</a><a href="#h4-0-1938" id="h4-0-1938" class="i">+}
</a><a href="#h4-0-1939" id="h4-0-1939" class="i">+
</a><a href="#h4-0-1940" id="h4-0-1940" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItem(const cJSON * const object, const char * const string)
</a><a href="#h4-0-1941" id="h4-0-1941" class="i">+{
</a><a href="#h4-0-1942" id="h4-0-1942" class="i">+    return get_object_item(object, string, false);
</a><a href="#h4-0-1943" id="h4-0-1943" class="i">+}
</a><a href="#h4-0-1944" id="h4-0-1944" class="i">+
</a><a href="#h4-0-1945" id="h4-0-1945" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItemCaseSensitive(const cJSON * const object, const char * const string)
</a><a href="#h4-0-1946" id="h4-0-1946" class="i">+{
</a><a href="#h4-0-1947" id="h4-0-1947" class="i">+    return get_object_item(object, string, true);
</a><a href="#h4-0-1948" id="h4-0-1948" class="i">+}
</a><a href="#h4-0-1949" id="h4-0-1949" class="i">+
</a><a href="#h4-0-1950" id="h4-0-1950" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_HasObjectItem(const cJSON *object, const char *string)
</a><a href="#h4-0-1951" id="h4-0-1951" class="i">+{
</a><a href="#h4-0-1952" id="h4-0-1952" class="i">+    return cJSON_GetObjectItem(object, string) ? 1 : 0;
</a><a href="#h4-0-1953" id="h4-0-1953" class="i">+}
</a><a href="#h4-0-1954" id="h4-0-1954" class="i">+
</a><a href="#h4-0-1955" id="h4-0-1955" class="i">+/* Utility for array list handling. */
</a><a href="#h4-0-1956" id="h4-0-1956" class="i">+static void suffix_object(cJSON *prev, cJSON *item)
</a><a href="#h4-0-1957" id="h4-0-1957" class="i">+{
</a><a href="#h4-0-1958" id="h4-0-1958" class="i">+    prev-&gt;next = item;
</a><a href="#h4-0-1959" id="h4-0-1959" class="i">+    item-&gt;prev = prev;
</a><a href="#h4-0-1960" id="h4-0-1960" class="i">+}
</a><a href="#h4-0-1961" id="h4-0-1961" class="i">+
</a><a href="#h4-0-1962" id="h4-0-1962" class="i">+/* Utility for handling references. */
</a><a href="#h4-0-1963" id="h4-0-1963" class="i">+static cJSON *create_reference(const cJSON *item, const internal_hooks * const hooks)
</a><a href="#h4-0-1964" id="h4-0-1964" class="i">+{
</a><a href="#h4-0-1965" id="h4-0-1965" class="i">+    cJSON *reference = NULL;
</a><a href="#h4-0-1966" id="h4-0-1966" class="i">+    if (item == NULL)
</a><a href="#h4-0-1967" id="h4-0-1967" class="i">+    {
</a><a href="#h4-0-1968" id="h4-0-1968" class="i">+        return NULL;
</a><a href="#h4-0-1969" id="h4-0-1969" class="i">+    }
</a><a href="#h4-0-1970" id="h4-0-1970" class="i">+
</a><a href="#h4-0-1971" id="h4-0-1971" class="i">+    reference = cJSON_New_Item(hooks);
</a><a href="#h4-0-1972" id="h4-0-1972" class="i">+    if (reference == NULL)
</a><a href="#h4-0-1973" id="h4-0-1973" class="i">+    {
</a><a href="#h4-0-1974" id="h4-0-1974" class="i">+        return NULL;
</a><a href="#h4-0-1975" id="h4-0-1975" class="i">+    }
</a><a href="#h4-0-1976" id="h4-0-1976" class="i">+
</a><a href="#h4-0-1977" id="h4-0-1977" class="i">+    memcpy(reference, item, sizeof(cJSON));
</a><a href="#h4-0-1978" id="h4-0-1978" class="i">+    reference-&gt;string = NULL;
</a><a href="#h4-0-1979" id="h4-0-1979" class="i">+    reference-&gt;type |= cJSON_IsReference;
</a><a href="#h4-0-1980" id="h4-0-1980" class="i">+    reference-&gt;next = reference-&gt;prev = NULL;
</a><a href="#h4-0-1981" id="h4-0-1981" class="i">+    return reference;
</a><a href="#h4-0-1982" id="h4-0-1982" class="i">+}
</a><a href="#h4-0-1983" id="h4-0-1983" class="i">+
</a><a href="#h4-0-1984" id="h4-0-1984" class="i">+static cJSON_bool add_item_to_array(cJSON *array, cJSON *item)
</a><a href="#h4-0-1985" id="h4-0-1985" class="i">+{
</a><a href="#h4-0-1986" id="h4-0-1986" class="i">+    cJSON *child = NULL;
</a><a href="#h4-0-1987" id="h4-0-1987" class="i">+
</a><a href="#h4-0-1988" id="h4-0-1988" class="i">+    if ((item == NULL) || (array == NULL) || (array == item))
</a><a href="#h4-0-1989" id="h4-0-1989" class="i">+    {
</a><a href="#h4-0-1990" id="h4-0-1990" class="i">+        return false;
</a><a href="#h4-0-1991" id="h4-0-1991" class="i">+    }
</a><a href="#h4-0-1992" id="h4-0-1992" class="i">+
</a><a href="#h4-0-1993" id="h4-0-1993" class="i">+    child = array-&gt;child;
</a><a href="#h4-0-1994" id="h4-0-1994" class="i">+    /*
</a><a href="#h4-0-1995" id="h4-0-1995" class="i">+     * To find the last item in array quickly, we use prev in array
</a><a href="#h4-0-1996" id="h4-0-1996" class="i">+     */
</a><a href="#h4-0-1997" id="h4-0-1997" class="i">+    if (child == NULL)
</a><a href="#h4-0-1998" id="h4-0-1998" class="i">+    {
</a><a href="#h4-0-1999" id="h4-0-1999" class="i">+        /* list is empty, start new one */
</a><a href="#h4-0-2000" id="h4-0-2000" class="i">+        array-&gt;child = item;
</a><a href="#h4-0-2001" id="h4-0-2001" class="i">+        item-&gt;prev = item;
</a><a href="#h4-0-2002" id="h4-0-2002" class="i">+        item-&gt;next = NULL;
</a><a href="#h4-0-2003" id="h4-0-2003" class="i">+    }
</a><a href="#h4-0-2004" id="h4-0-2004" class="i">+    else
</a><a href="#h4-0-2005" id="h4-0-2005" class="i">+    {
</a><a href="#h4-0-2006" id="h4-0-2006" class="i">+        /* append to the end */
</a><a href="#h4-0-2007" id="h4-0-2007" class="i">+        if (child-&gt;prev)
</a><a href="#h4-0-2008" id="h4-0-2008" class="i">+        {
</a><a href="#h4-0-2009" id="h4-0-2009" class="i">+            suffix_object(child-&gt;prev, item);
</a><a href="#h4-0-2010" id="h4-0-2010" class="i">+            array-&gt;child-&gt;prev = item;
</a><a href="#h4-0-2011" id="h4-0-2011" class="i">+        }
</a><a href="#h4-0-2012" id="h4-0-2012" class="i">+    }
</a><a href="#h4-0-2013" id="h4-0-2013" class="i">+
</a><a href="#h4-0-2014" id="h4-0-2014" class="i">+    return true;
</a><a href="#h4-0-2015" id="h4-0-2015" class="i">+}
</a><a href="#h4-0-2016" id="h4-0-2016" class="i">+
</a><a href="#h4-0-2017" id="h4-0-2017" class="i">+/* Add item to array/object. */
</a><a href="#h4-0-2018" id="h4-0-2018" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToArray(cJSON *array, cJSON *item)
</a><a href="#h4-0-2019" id="h4-0-2019" class="i">+{
</a><a href="#h4-0-2020" id="h4-0-2020" class="i">+    return add_item_to_array(array, item);
</a><a href="#h4-0-2021" id="h4-0-2021" class="i">+}
</a><a href="#h4-0-2022" id="h4-0-2022" class="i">+
</a><a href="#h4-0-2023" id="h4-0-2023" class="i">+#if defined(__clang__) || (defined(__GNUC__)  &amp;&amp; ((__GNUC__ &gt; 4) || ((__GNUC__ == 4) &amp;&amp; (__GNUC_MINOR__ &gt; 5))))
</a><a href="#h4-0-2024" id="h4-0-2024" class="i">+    #pragma GCC diagnostic push
</a><a href="#h4-0-2025" id="h4-0-2025" class="i">+#endif
</a><a href="#h4-0-2026" id="h4-0-2026" class="i">+#ifdef __GNUC__
</a><a href="#h4-0-2027" id="h4-0-2027" class="i">+#pragma GCC diagnostic ignored &quot;-Wcast-qual&quot;
</a><a href="#h4-0-2028" id="h4-0-2028" class="i">+#endif
</a><a href="#h4-0-2029" id="h4-0-2029" class="i">+/* helper function to cast away const */
</a><a href="#h4-0-2030" id="h4-0-2030" class="i">+static void* cast_away_const(const void* string)
</a><a href="#h4-0-2031" id="h4-0-2031" class="i">+{
</a><a href="#h4-0-2032" id="h4-0-2032" class="i">+    return (void*)string;
</a><a href="#h4-0-2033" id="h4-0-2033" class="i">+}
</a><a href="#h4-0-2034" id="h4-0-2034" class="i">+#if defined(__clang__) || (defined(__GNUC__)  &amp;&amp; ((__GNUC__ &gt; 4) || ((__GNUC__ == 4) &amp;&amp; (__GNUC_MINOR__ &gt; 5))))
</a><a href="#h4-0-2035" id="h4-0-2035" class="i">+    #pragma GCC diagnostic pop
</a><a href="#h4-0-2036" id="h4-0-2036" class="i">+#endif
</a><a href="#h4-0-2037" id="h4-0-2037" class="i">+
</a><a href="#h4-0-2038" id="h4-0-2038" class="i">+
</a><a href="#h4-0-2039" id="h4-0-2039" class="i">+static cJSON_bool add_item_to_object(cJSON * const object, const char * const string, cJSON * const item, const internal_hooks * const hooks, const cJSON_bool constant_key)
</a><a href="#h4-0-2040" id="h4-0-2040" class="i">+{
</a><a href="#h4-0-2041" id="h4-0-2041" class="i">+    char *new_key = NULL;
</a><a href="#h4-0-2042" id="h4-0-2042" class="i">+    int new_type = cJSON_Invalid;
</a><a href="#h4-0-2043" id="h4-0-2043" class="i">+
</a><a href="#h4-0-2044" id="h4-0-2044" class="i">+    if ((object == NULL) || (string == NULL) || (item == NULL) || (object == item))
</a><a href="#h4-0-2045" id="h4-0-2045" class="i">+    {
</a><a href="#h4-0-2046" id="h4-0-2046" class="i">+        return false;
</a><a href="#h4-0-2047" id="h4-0-2047" class="i">+    }
</a><a href="#h4-0-2048" id="h4-0-2048" class="i">+
</a><a href="#h4-0-2049" id="h4-0-2049" class="i">+    if (constant_key)
</a><a href="#h4-0-2050" id="h4-0-2050" class="i">+    {
</a><a href="#h4-0-2051" id="h4-0-2051" class="i">+        new_key = (char*)cast_away_const(string);
</a><a href="#h4-0-2052" id="h4-0-2052" class="i">+        new_type = item-&gt;type | cJSON_StringIsConst;
</a><a href="#h4-0-2053" id="h4-0-2053" class="i">+    }
</a><a href="#h4-0-2054" id="h4-0-2054" class="i">+    else
</a><a href="#h4-0-2055" id="h4-0-2055" class="i">+    {
</a><a href="#h4-0-2056" id="h4-0-2056" class="i">+        new_key = (char*)cJSON_strdup((const unsigned char*)string, hooks);
</a><a href="#h4-0-2057" id="h4-0-2057" class="i">+        if (new_key == NULL)
</a><a href="#h4-0-2058" id="h4-0-2058" class="i">+        {
</a><a href="#h4-0-2059" id="h4-0-2059" class="i">+            return false;
</a><a href="#h4-0-2060" id="h4-0-2060" class="i">+        }
</a><a href="#h4-0-2061" id="h4-0-2061" class="i">+
</a><a href="#h4-0-2062" id="h4-0-2062" class="i">+        new_type = item-&gt;type &amp; ~cJSON_StringIsConst;
</a><a href="#h4-0-2063" id="h4-0-2063" class="i">+    }
</a><a href="#h4-0-2064" id="h4-0-2064" class="i">+
</a><a href="#h4-0-2065" id="h4-0-2065" class="i">+    if (!(item-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (item-&gt;string != NULL))
</a><a href="#h4-0-2066" id="h4-0-2066" class="i">+    {
</a><a href="#h4-0-2067" id="h4-0-2067" class="i">+        hooks-&gt;deallocate(item-&gt;string);
</a><a href="#h4-0-2068" id="h4-0-2068" class="i">+    }
</a><a href="#h4-0-2069" id="h4-0-2069" class="i">+
</a><a href="#h4-0-2070" id="h4-0-2070" class="i">+    item-&gt;string = new_key;
</a><a href="#h4-0-2071" id="h4-0-2071" class="i">+    item-&gt;type = new_type;
</a><a href="#h4-0-2072" id="h4-0-2072" class="i">+
</a><a href="#h4-0-2073" id="h4-0-2073" class="i">+    return add_item_to_array(object, item);
</a><a href="#h4-0-2074" id="h4-0-2074" class="i">+}
</a><a href="#h4-0-2075" id="h4-0-2075" class="i">+
</a><a href="#h4-0-2076" id="h4-0-2076" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObject(cJSON *object, const char *string, cJSON *item)
</a><a href="#h4-0-2077" id="h4-0-2077" class="i">+{
</a><a href="#h4-0-2078" id="h4-0-2078" class="i">+    return add_item_to_object(object, string, item, &amp;global_hooks, false);
</a><a href="#h4-0-2079" id="h4-0-2079" class="i">+}
</a><a href="#h4-0-2080" id="h4-0-2080" class="i">+
</a><a href="#h4-0-2081" id="h4-0-2081" class="i">+/* Add an item to an object with constant string as key */
</a><a href="#h4-0-2082" id="h4-0-2082" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObjectCS(cJSON *object, const char *string, cJSON *item)
</a><a href="#h4-0-2083" id="h4-0-2083" class="i">+{
</a><a href="#h4-0-2084" id="h4-0-2084" class="i">+    return add_item_to_object(object, string, item, &amp;global_hooks, true);
</a><a href="#h4-0-2085" id="h4-0-2085" class="i">+}
</a><a href="#h4-0-2086" id="h4-0-2086" class="i">+
</a><a href="#h4-0-2087" id="h4-0-2087" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToArray(cJSON *array, cJSON *item)
</a><a href="#h4-0-2088" id="h4-0-2088" class="i">+{
</a><a href="#h4-0-2089" id="h4-0-2089" class="i">+    if (array == NULL)
</a><a href="#h4-0-2090" id="h4-0-2090" class="i">+    {
</a><a href="#h4-0-2091" id="h4-0-2091" class="i">+        return false;
</a><a href="#h4-0-2092" id="h4-0-2092" class="i">+    }
</a><a href="#h4-0-2093" id="h4-0-2093" class="i">+
</a><a href="#h4-0-2094" id="h4-0-2094" class="i">+    return add_item_to_array(array, create_reference(item, &amp;global_hooks));
</a><a href="#h4-0-2095" id="h4-0-2095" class="i">+}
</a><a href="#h4-0-2096" id="h4-0-2096" class="i">+
</a><a href="#h4-0-2097" id="h4-0-2097" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToObject(cJSON *object, const char *string, cJSON *item)
</a><a href="#h4-0-2098" id="h4-0-2098" class="i">+{
</a><a href="#h4-0-2099" id="h4-0-2099" class="i">+    if ((object == NULL) || (string == NULL))
</a><a href="#h4-0-2100" id="h4-0-2100" class="i">+    {
</a><a href="#h4-0-2101" id="h4-0-2101" class="i">+        return false;
</a><a href="#h4-0-2102" id="h4-0-2102" class="i">+    }
</a><a href="#h4-0-2103" id="h4-0-2103" class="i">+
</a><a href="#h4-0-2104" id="h4-0-2104" class="i">+    return add_item_to_object(object, string, create_reference(item, &amp;global_hooks), &amp;global_hooks, false);
</a><a href="#h4-0-2105" id="h4-0-2105" class="i">+}
</a><a href="#h4-0-2106" id="h4-0-2106" class="i">+
</a><a href="#h4-0-2107" id="h4-0-2107" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNullToObject(cJSON * const object, const char * const name)
</a><a href="#h4-0-2108" id="h4-0-2108" class="i">+{
</a><a href="#h4-0-2109" id="h4-0-2109" class="i">+    cJSON *null = cJSON_CreateNull();
</a><a href="#h4-0-2110" id="h4-0-2110" class="i">+    if (add_item_to_object(object, name, null, &amp;global_hooks, false))
</a><a href="#h4-0-2111" id="h4-0-2111" class="i">+    {
</a><a href="#h4-0-2112" id="h4-0-2112" class="i">+        return null;
</a><a href="#h4-0-2113" id="h4-0-2113" class="i">+    }
</a><a href="#h4-0-2114" id="h4-0-2114" class="i">+
</a><a href="#h4-0-2115" id="h4-0-2115" class="i">+    cJSON_Delete(null);
</a><a href="#h4-0-2116" id="h4-0-2116" class="i">+    return NULL;
</a><a href="#h4-0-2117" id="h4-0-2117" class="i">+}
</a><a href="#h4-0-2118" id="h4-0-2118" class="i">+
</a><a href="#h4-0-2119" id="h4-0-2119" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddTrueToObject(cJSON * const object, const char * const name)
</a><a href="#h4-0-2120" id="h4-0-2120" class="i">+{
</a><a href="#h4-0-2121" id="h4-0-2121" class="i">+    cJSON *true_item = cJSON_CreateTrue();
</a><a href="#h4-0-2122" id="h4-0-2122" class="i">+    if (add_item_to_object(object, name, true_item, &amp;global_hooks, false))
</a><a href="#h4-0-2123" id="h4-0-2123" class="i">+    {
</a><a href="#h4-0-2124" id="h4-0-2124" class="i">+        return true_item;
</a><a href="#h4-0-2125" id="h4-0-2125" class="i">+    }
</a><a href="#h4-0-2126" id="h4-0-2126" class="i">+
</a><a href="#h4-0-2127" id="h4-0-2127" class="i">+    cJSON_Delete(true_item);
</a><a href="#h4-0-2128" id="h4-0-2128" class="i">+    return NULL;
</a><a href="#h4-0-2129" id="h4-0-2129" class="i">+}
</a><a href="#h4-0-2130" id="h4-0-2130" class="i">+
</a><a href="#h4-0-2131" id="h4-0-2131" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddFalseToObject(cJSON * const object, const char * const name)
</a><a href="#h4-0-2132" id="h4-0-2132" class="i">+{
</a><a href="#h4-0-2133" id="h4-0-2133" class="i">+    cJSON *false_item = cJSON_CreateFalse();
</a><a href="#h4-0-2134" id="h4-0-2134" class="i">+    if (add_item_to_object(object, name, false_item, &amp;global_hooks, false))
</a><a href="#h4-0-2135" id="h4-0-2135" class="i">+    {
</a><a href="#h4-0-2136" id="h4-0-2136" class="i">+        return false_item;
</a><a href="#h4-0-2137" id="h4-0-2137" class="i">+    }
</a><a href="#h4-0-2138" id="h4-0-2138" class="i">+
</a><a href="#h4-0-2139" id="h4-0-2139" class="i">+    cJSON_Delete(false_item);
</a><a href="#h4-0-2140" id="h4-0-2140" class="i">+    return NULL;
</a><a href="#h4-0-2141" id="h4-0-2141" class="i">+}
</a><a href="#h4-0-2142" id="h4-0-2142" class="i">+
</a><a href="#h4-0-2143" id="h4-0-2143" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddBoolToObject(cJSON * const object, const char * const name, const cJSON_bool boolean)
</a><a href="#h4-0-2144" id="h4-0-2144" class="i">+{
</a><a href="#h4-0-2145" id="h4-0-2145" class="i">+    cJSON *bool_item = cJSON_CreateBool(boolean);
</a><a href="#h4-0-2146" id="h4-0-2146" class="i">+    if (add_item_to_object(object, name, bool_item, &amp;global_hooks, false))
</a><a href="#h4-0-2147" id="h4-0-2147" class="i">+    {
</a><a href="#h4-0-2148" id="h4-0-2148" class="i">+        return bool_item;
</a><a href="#h4-0-2149" id="h4-0-2149" class="i">+    }
</a><a href="#h4-0-2150" id="h4-0-2150" class="i">+
</a><a href="#h4-0-2151" id="h4-0-2151" class="i">+    cJSON_Delete(bool_item);
</a><a href="#h4-0-2152" id="h4-0-2152" class="i">+    return NULL;
</a><a href="#h4-0-2153" id="h4-0-2153" class="i">+}
</a><a href="#h4-0-2154" id="h4-0-2154" class="i">+
</a><a href="#h4-0-2155" id="h4-0-2155" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNumberToObject(cJSON * const object, const char * const name, const double number)
</a><a href="#h4-0-2156" id="h4-0-2156" class="i">+{
</a><a href="#h4-0-2157" id="h4-0-2157" class="i">+    cJSON *number_item = cJSON_CreateNumber(number);
</a><a href="#h4-0-2158" id="h4-0-2158" class="i">+    if (add_item_to_object(object, name, number_item, &amp;global_hooks, false))
</a><a href="#h4-0-2159" id="h4-0-2159" class="i">+    {
</a><a href="#h4-0-2160" id="h4-0-2160" class="i">+        return number_item;
</a><a href="#h4-0-2161" id="h4-0-2161" class="i">+    }
</a><a href="#h4-0-2162" id="h4-0-2162" class="i">+
</a><a href="#h4-0-2163" id="h4-0-2163" class="i">+    cJSON_Delete(number_item);
</a><a href="#h4-0-2164" id="h4-0-2164" class="i">+    return NULL;
</a><a href="#h4-0-2165" id="h4-0-2165" class="i">+}
</a><a href="#h4-0-2166" id="h4-0-2166" class="i">+
</a><a href="#h4-0-2167" id="h4-0-2167" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddStringToObject(cJSON * const object, const char * const name, const char * const string)
</a><a href="#h4-0-2168" id="h4-0-2168" class="i">+{
</a><a href="#h4-0-2169" id="h4-0-2169" class="i">+    cJSON *string_item = cJSON_CreateString(string);
</a><a href="#h4-0-2170" id="h4-0-2170" class="i">+    if (add_item_to_object(object, name, string_item, &amp;global_hooks, false))
</a><a href="#h4-0-2171" id="h4-0-2171" class="i">+    {
</a><a href="#h4-0-2172" id="h4-0-2172" class="i">+        return string_item;
</a><a href="#h4-0-2173" id="h4-0-2173" class="i">+    }
</a><a href="#h4-0-2174" id="h4-0-2174" class="i">+
</a><a href="#h4-0-2175" id="h4-0-2175" class="i">+    cJSON_Delete(string_item);
</a><a href="#h4-0-2176" id="h4-0-2176" class="i">+    return NULL;
</a><a href="#h4-0-2177" id="h4-0-2177" class="i">+}
</a><a href="#h4-0-2178" id="h4-0-2178" class="i">+
</a><a href="#h4-0-2179" id="h4-0-2179" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddRawToObject(cJSON * const object, const char * const name, const char * const raw)
</a><a href="#h4-0-2180" id="h4-0-2180" class="i">+{
</a><a href="#h4-0-2181" id="h4-0-2181" class="i">+    cJSON *raw_item = cJSON_CreateRaw(raw);
</a><a href="#h4-0-2182" id="h4-0-2182" class="i">+    if (add_item_to_object(object, name, raw_item, &amp;global_hooks, false))
</a><a href="#h4-0-2183" id="h4-0-2183" class="i">+    {
</a><a href="#h4-0-2184" id="h4-0-2184" class="i">+        return raw_item;
</a><a href="#h4-0-2185" id="h4-0-2185" class="i">+    }
</a><a href="#h4-0-2186" id="h4-0-2186" class="i">+
</a><a href="#h4-0-2187" id="h4-0-2187" class="i">+    cJSON_Delete(raw_item);
</a><a href="#h4-0-2188" id="h4-0-2188" class="i">+    return NULL;
</a><a href="#h4-0-2189" id="h4-0-2189" class="i">+}
</a><a href="#h4-0-2190" id="h4-0-2190" class="i">+
</a><a href="#h4-0-2191" id="h4-0-2191" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddObjectToObject(cJSON * const object, const char * const name)
</a><a href="#h4-0-2192" id="h4-0-2192" class="i">+{
</a><a href="#h4-0-2193" id="h4-0-2193" class="i">+    cJSON *object_item = cJSON_CreateObject();
</a><a href="#h4-0-2194" id="h4-0-2194" class="i">+    if (add_item_to_object(object, name, object_item, &amp;global_hooks, false))
</a><a href="#h4-0-2195" id="h4-0-2195" class="i">+    {
</a><a href="#h4-0-2196" id="h4-0-2196" class="i">+        return object_item;
</a><a href="#h4-0-2197" id="h4-0-2197" class="i">+    }
</a><a href="#h4-0-2198" id="h4-0-2198" class="i">+
</a><a href="#h4-0-2199" id="h4-0-2199" class="i">+    cJSON_Delete(object_item);
</a><a href="#h4-0-2200" id="h4-0-2200" class="i">+    return NULL;
</a><a href="#h4-0-2201" id="h4-0-2201" class="i">+}
</a><a href="#h4-0-2202" id="h4-0-2202" class="i">+
</a><a href="#h4-0-2203" id="h4-0-2203" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddArrayToObject(cJSON * const object, const char * const name)
</a><a href="#h4-0-2204" id="h4-0-2204" class="i">+{
</a><a href="#h4-0-2205" id="h4-0-2205" class="i">+    cJSON *array = cJSON_CreateArray();
</a><a href="#h4-0-2206" id="h4-0-2206" class="i">+    if (add_item_to_object(object, name, array, &amp;global_hooks, false))
</a><a href="#h4-0-2207" id="h4-0-2207" class="i">+    {
</a><a href="#h4-0-2208" id="h4-0-2208" class="i">+        return array;
</a><a href="#h4-0-2209" id="h4-0-2209" class="i">+    }
</a><a href="#h4-0-2210" id="h4-0-2210" class="i">+
</a><a href="#h4-0-2211" id="h4-0-2211" class="i">+    cJSON_Delete(array);
</a><a href="#h4-0-2212" id="h4-0-2212" class="i">+    return NULL;
</a><a href="#h4-0-2213" id="h4-0-2213" class="i">+}
</a><a href="#h4-0-2214" id="h4-0-2214" class="i">+
</a><a href="#h4-0-2215" id="h4-0-2215" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemViaPointer(cJSON *parent, cJSON * const item)
</a><a href="#h4-0-2216" id="h4-0-2216" class="i">+{
</a><a href="#h4-0-2217" id="h4-0-2217" class="i">+    if ((parent == NULL) || (item == NULL) || (item != parent-&gt;child &amp;&amp; item-&gt;prev == NULL))
</a><a href="#h4-0-2218" id="h4-0-2218" class="i">+    {
</a><a href="#h4-0-2219" id="h4-0-2219" class="i">+        return NULL;
</a><a href="#h4-0-2220" id="h4-0-2220" class="i">+    }
</a><a href="#h4-0-2221" id="h4-0-2221" class="i">+
</a><a href="#h4-0-2222" id="h4-0-2222" class="i">+    if (item != parent-&gt;child)
</a><a href="#h4-0-2223" id="h4-0-2223" class="i">+    {
</a><a href="#h4-0-2224" id="h4-0-2224" class="i">+        /* not the first element */
</a><a href="#h4-0-2225" id="h4-0-2225" class="i">+        item-&gt;prev-&gt;next = item-&gt;next;
</a><a href="#h4-0-2226" id="h4-0-2226" class="i">+    }
</a><a href="#h4-0-2227" id="h4-0-2227" class="i">+    if (item-&gt;next != NULL)
</a><a href="#h4-0-2228" id="h4-0-2228" class="i">+    {
</a><a href="#h4-0-2229" id="h4-0-2229" class="i">+        /* not the last element */
</a><a href="#h4-0-2230" id="h4-0-2230" class="i">+        item-&gt;next-&gt;prev = item-&gt;prev;
</a><a href="#h4-0-2231" id="h4-0-2231" class="i">+    }
</a><a href="#h4-0-2232" id="h4-0-2232" class="i">+
</a><a href="#h4-0-2233" id="h4-0-2233" class="i">+    if (item == parent-&gt;child)
</a><a href="#h4-0-2234" id="h4-0-2234" class="i">+    {
</a><a href="#h4-0-2235" id="h4-0-2235" class="i">+        /* first element */
</a><a href="#h4-0-2236" id="h4-0-2236" class="i">+        parent-&gt;child = item-&gt;next;
</a><a href="#h4-0-2237" id="h4-0-2237" class="i">+    }
</a><a href="#h4-0-2238" id="h4-0-2238" class="i">+    else if (item-&gt;next == NULL)
</a><a href="#h4-0-2239" id="h4-0-2239" class="i">+    {
</a><a href="#h4-0-2240" id="h4-0-2240" class="i">+        /* last element */
</a><a href="#h4-0-2241" id="h4-0-2241" class="i">+        parent-&gt;child-&gt;prev = item-&gt;prev;
</a><a href="#h4-0-2242" id="h4-0-2242" class="i">+    }
</a><a href="#h4-0-2243" id="h4-0-2243" class="i">+
</a><a href="#h4-0-2244" id="h4-0-2244" class="i">+    /* make sure the detached item doesn&#39;t point anywhere anymore */
</a><a href="#h4-0-2245" id="h4-0-2245" class="i">+    item-&gt;prev = NULL;
</a><a href="#h4-0-2246" id="h4-0-2246" class="i">+    item-&gt;next = NULL;
</a><a href="#h4-0-2247" id="h4-0-2247" class="i">+
</a><a href="#h4-0-2248" id="h4-0-2248" class="i">+    return item;
</a><a href="#h4-0-2249" id="h4-0-2249" class="i">+}
</a><a href="#h4-0-2250" id="h4-0-2250" class="i">+
</a><a href="#h4-0-2251" id="h4-0-2251" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromArray(cJSON *array, int which)
</a><a href="#h4-0-2252" id="h4-0-2252" class="i">+{
</a><a href="#h4-0-2253" id="h4-0-2253" class="i">+    if (which &lt; 0)
</a><a href="#h4-0-2254" id="h4-0-2254" class="i">+    {
</a><a href="#h4-0-2255" id="h4-0-2255" class="i">+        return NULL;
</a><a href="#h4-0-2256" id="h4-0-2256" class="i">+    }
</a><a href="#h4-0-2257" id="h4-0-2257" class="i">+
</a><a href="#h4-0-2258" id="h4-0-2258" class="i">+    return cJSON_DetachItemViaPointer(array, get_array_item(array, (size_t)which));
</a><a href="#h4-0-2259" id="h4-0-2259" class="i">+}
</a><a href="#h4-0-2260" id="h4-0-2260" class="i">+
</a><a href="#h4-0-2261" id="h4-0-2261" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromArray(cJSON *array, int which)
</a><a href="#h4-0-2262" id="h4-0-2262" class="i">+{
</a><a href="#h4-0-2263" id="h4-0-2263" class="i">+    cJSON_Delete(cJSON_DetachItemFromArray(array, which));
</a><a href="#h4-0-2264" id="h4-0-2264" class="i">+}
</a><a href="#h4-0-2265" id="h4-0-2265" class="i">+
</a><a href="#h4-0-2266" id="h4-0-2266" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObject(cJSON *object, const char *string)
</a><a href="#h4-0-2267" id="h4-0-2267" class="i">+{
</a><a href="#h4-0-2268" id="h4-0-2268" class="i">+    cJSON *to_detach = cJSON_GetObjectItem(object, string);
</a><a href="#h4-0-2269" id="h4-0-2269" class="i">+
</a><a href="#h4-0-2270" id="h4-0-2270" class="i">+    return cJSON_DetachItemViaPointer(object, to_detach);
</a><a href="#h4-0-2271" id="h4-0-2271" class="i">+}
</a><a href="#h4-0-2272" id="h4-0-2272" class="i">+
</a><a href="#h4-0-2273" id="h4-0-2273" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObjectCaseSensitive(cJSON *object, const char *string)
</a><a href="#h4-0-2274" id="h4-0-2274" class="i">+{
</a><a href="#h4-0-2275" id="h4-0-2275" class="i">+    cJSON *to_detach = cJSON_GetObjectItemCaseSensitive(object, string);
</a><a href="#h4-0-2276" id="h4-0-2276" class="i">+
</a><a href="#h4-0-2277" id="h4-0-2277" class="i">+    return cJSON_DetachItemViaPointer(object, to_detach);
</a><a href="#h4-0-2278" id="h4-0-2278" class="i">+}
</a><a href="#h4-0-2279" id="h4-0-2279" class="i">+
</a><a href="#h4-0-2280" id="h4-0-2280" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObject(cJSON *object, const char *string)
</a><a href="#h4-0-2281" id="h4-0-2281" class="i">+{
</a><a href="#h4-0-2282" id="h4-0-2282" class="i">+    cJSON_Delete(cJSON_DetachItemFromObject(object, string));
</a><a href="#h4-0-2283" id="h4-0-2283" class="i">+}
</a><a href="#h4-0-2284" id="h4-0-2284" class="i">+
</a><a href="#h4-0-2285" id="h4-0-2285" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObjectCaseSensitive(cJSON *object, const char *string)
</a><a href="#h4-0-2286" id="h4-0-2286" class="i">+{
</a><a href="#h4-0-2287" id="h4-0-2287" class="i">+    cJSON_Delete(cJSON_DetachItemFromObjectCaseSensitive(object, string));
</a><a href="#h4-0-2288" id="h4-0-2288" class="i">+}
</a><a href="#h4-0-2289" id="h4-0-2289" class="i">+
</a><a href="#h4-0-2290" id="h4-0-2290" class="i">+/* Replace array/object items with new ones. */
</a><a href="#h4-0-2291" id="h4-0-2291" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_InsertItemInArray(cJSON *array, int which, cJSON *newitem)
</a><a href="#h4-0-2292" id="h4-0-2292" class="i">+{
</a><a href="#h4-0-2293" id="h4-0-2293" class="i">+    cJSON *after_inserted = NULL;
</a><a href="#h4-0-2294" id="h4-0-2294" class="i">+
</a><a href="#h4-0-2295" id="h4-0-2295" class="i">+    if (which &lt; 0 || newitem == NULL)
</a><a href="#h4-0-2296" id="h4-0-2296" class="i">+    {
</a><a href="#h4-0-2297" id="h4-0-2297" class="i">+        return false;
</a><a href="#h4-0-2298" id="h4-0-2298" class="i">+    }
</a><a href="#h4-0-2299" id="h4-0-2299" class="i">+
</a><a href="#h4-0-2300" id="h4-0-2300" class="i">+    after_inserted = get_array_item(array, (size_t)which);
</a><a href="#h4-0-2301" id="h4-0-2301" class="i">+    if (after_inserted == NULL)
</a><a href="#h4-0-2302" id="h4-0-2302" class="i">+    {
</a><a href="#h4-0-2303" id="h4-0-2303" class="i">+        return add_item_to_array(array, newitem);
</a><a href="#h4-0-2304" id="h4-0-2304" class="i">+    }
</a><a href="#h4-0-2305" id="h4-0-2305" class="i">+
</a><a href="#h4-0-2306" id="h4-0-2306" class="i">+    if (after_inserted != array-&gt;child &amp;&amp; after_inserted-&gt;prev == NULL) {
</a><a href="#h4-0-2307" id="h4-0-2307" class="i">+        /* return false if after_inserted is a corrupted array item */
</a><a href="#h4-0-2308" id="h4-0-2308" class="i">+        return false;
</a><a href="#h4-0-2309" id="h4-0-2309" class="i">+    }
</a><a href="#h4-0-2310" id="h4-0-2310" class="i">+
</a><a href="#h4-0-2311" id="h4-0-2311" class="i">+    newitem-&gt;next = after_inserted;
</a><a href="#h4-0-2312" id="h4-0-2312" class="i">+    newitem-&gt;prev = after_inserted-&gt;prev;
</a><a href="#h4-0-2313" id="h4-0-2313" class="i">+    after_inserted-&gt;prev = newitem;
</a><a href="#h4-0-2314" id="h4-0-2314" class="i">+    if (after_inserted == array-&gt;child)
</a><a href="#h4-0-2315" id="h4-0-2315" class="i">+    {
</a><a href="#h4-0-2316" id="h4-0-2316" class="i">+        array-&gt;child = newitem;
</a><a href="#h4-0-2317" id="h4-0-2317" class="i">+    }
</a><a href="#h4-0-2318" id="h4-0-2318" class="i">+    else
</a><a href="#h4-0-2319" id="h4-0-2319" class="i">+    {
</a><a href="#h4-0-2320" id="h4-0-2320" class="i">+        newitem-&gt;prev-&gt;next = newitem;
</a><a href="#h4-0-2321" id="h4-0-2321" class="i">+    }
</a><a href="#h4-0-2322" id="h4-0-2322" class="i">+    return true;
</a><a href="#h4-0-2323" id="h4-0-2323" class="i">+}
</a><a href="#h4-0-2324" id="h4-0-2324" class="i">+
</a><a href="#h4-0-2325" id="h4-0-2325" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemViaPointer(cJSON * const parent, cJSON * const item, cJSON * replacement)
</a><a href="#h4-0-2326" id="h4-0-2326" class="i">+{
</a><a href="#h4-0-2327" id="h4-0-2327" class="i">+    if ((parent == NULL) || (parent-&gt;child == NULL) || (replacement == NULL) || (item == NULL))
</a><a href="#h4-0-2328" id="h4-0-2328" class="i">+    {
</a><a href="#h4-0-2329" id="h4-0-2329" class="i">+        return false;
</a><a href="#h4-0-2330" id="h4-0-2330" class="i">+    }
</a><a href="#h4-0-2331" id="h4-0-2331" class="i">+
</a><a href="#h4-0-2332" id="h4-0-2332" class="i">+    if (replacement == item)
</a><a href="#h4-0-2333" id="h4-0-2333" class="i">+    {
</a><a href="#h4-0-2334" id="h4-0-2334" class="i">+        return true;
</a><a href="#h4-0-2335" id="h4-0-2335" class="i">+    }
</a><a href="#h4-0-2336" id="h4-0-2336" class="i">+
</a><a href="#h4-0-2337" id="h4-0-2337" class="i">+    replacement-&gt;next = item-&gt;next;
</a><a href="#h4-0-2338" id="h4-0-2338" class="i">+    replacement-&gt;prev = item-&gt;prev;
</a><a href="#h4-0-2339" id="h4-0-2339" class="i">+
</a><a href="#h4-0-2340" id="h4-0-2340" class="i">+    if (replacement-&gt;next != NULL)
</a><a href="#h4-0-2341" id="h4-0-2341" class="i">+    {
</a><a href="#h4-0-2342" id="h4-0-2342" class="i">+        replacement-&gt;next-&gt;prev = replacement;
</a><a href="#h4-0-2343" id="h4-0-2343" class="i">+    }
</a><a href="#h4-0-2344" id="h4-0-2344" class="i">+    if (parent-&gt;child == item)
</a><a href="#h4-0-2345" id="h4-0-2345" class="i">+    {
</a><a href="#h4-0-2346" id="h4-0-2346" class="i">+        if (parent-&gt;child-&gt;prev == parent-&gt;child)
</a><a href="#h4-0-2347" id="h4-0-2347" class="i">+        {
</a><a href="#h4-0-2348" id="h4-0-2348" class="i">+            replacement-&gt;prev = replacement;
</a><a href="#h4-0-2349" id="h4-0-2349" class="i">+        }
</a><a href="#h4-0-2350" id="h4-0-2350" class="i">+        parent-&gt;child = replacement;
</a><a href="#h4-0-2351" id="h4-0-2351" class="i">+    }
</a><a href="#h4-0-2352" id="h4-0-2352" class="i">+    else
</a><a href="#h4-0-2353" id="h4-0-2353" class="i">+    {   /*
</a><a href="#h4-0-2354" id="h4-0-2354" class="i">+         * To find the last item in array quickly, we use prev in array.
</a><a href="#h4-0-2355" id="h4-0-2355" class="i">+         * We can&#39;t modify the last item&#39;s next pointer where this item was the parent&#39;s child
</a><a href="#h4-0-2356" id="h4-0-2356" class="i">+         */
</a><a href="#h4-0-2357" id="h4-0-2357" class="i">+        if (replacement-&gt;prev != NULL)
</a><a href="#h4-0-2358" id="h4-0-2358" class="i">+        {
</a><a href="#h4-0-2359" id="h4-0-2359" class="i">+            replacement-&gt;prev-&gt;next = replacement;
</a><a href="#h4-0-2360" id="h4-0-2360" class="i">+        }
</a><a href="#h4-0-2361" id="h4-0-2361" class="i">+        if (replacement-&gt;next == NULL)
</a><a href="#h4-0-2362" id="h4-0-2362" class="i">+        {
</a><a href="#h4-0-2363" id="h4-0-2363" class="i">+            parent-&gt;child-&gt;prev = replacement;
</a><a href="#h4-0-2364" id="h4-0-2364" class="i">+        }
</a><a href="#h4-0-2365" id="h4-0-2365" class="i">+    }
</a><a href="#h4-0-2366" id="h4-0-2366" class="i">+
</a><a href="#h4-0-2367" id="h4-0-2367" class="i">+    item-&gt;next = NULL;
</a><a href="#h4-0-2368" id="h4-0-2368" class="i">+    item-&gt;prev = NULL;
</a><a href="#h4-0-2369" id="h4-0-2369" class="i">+    cJSON_Delete(item);
</a><a href="#h4-0-2370" id="h4-0-2370" class="i">+
</a><a href="#h4-0-2371" id="h4-0-2371" class="i">+    return true;
</a><a href="#h4-0-2372" id="h4-0-2372" class="i">+}
</a><a href="#h4-0-2373" id="h4-0-2373" class="i">+
</a><a href="#h4-0-2374" id="h4-0-2374" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInArray(cJSON *array, int which, cJSON *newitem)
</a><a href="#h4-0-2375" id="h4-0-2375" class="i">+{
</a><a href="#h4-0-2376" id="h4-0-2376" class="i">+    if (which &lt; 0)
</a><a href="#h4-0-2377" id="h4-0-2377" class="i">+    {
</a><a href="#h4-0-2378" id="h4-0-2378" class="i">+        return false;
</a><a href="#h4-0-2379" id="h4-0-2379" class="i">+    }
</a><a href="#h4-0-2380" id="h4-0-2380" class="i">+
</a><a href="#h4-0-2381" id="h4-0-2381" class="i">+    return cJSON_ReplaceItemViaPointer(array, get_array_item(array, (size_t)which), newitem);
</a><a href="#h4-0-2382" id="h4-0-2382" class="i">+}
</a><a href="#h4-0-2383" id="h4-0-2383" class="i">+
</a><a href="#h4-0-2384" id="h4-0-2384" class="i">+static cJSON_bool replace_item_in_object(cJSON *object, const char *string, cJSON *replacement, cJSON_bool case_sensitive)
</a><a href="#h4-0-2385" id="h4-0-2385" class="i">+{
</a><a href="#h4-0-2386" id="h4-0-2386" class="i">+    if ((replacement == NULL) || (string == NULL))
</a><a href="#h4-0-2387" id="h4-0-2387" class="i">+    {
</a><a href="#h4-0-2388" id="h4-0-2388" class="i">+        return false;
</a><a href="#h4-0-2389" id="h4-0-2389" class="i">+    }
</a><a href="#h4-0-2390" id="h4-0-2390" class="i">+
</a><a href="#h4-0-2391" id="h4-0-2391" class="i">+    /* replace the name in the replacement */
</a><a href="#h4-0-2392" id="h4-0-2392" class="i">+    if (!(replacement-&gt;type &amp; cJSON_StringIsConst) &amp;&amp; (replacement-&gt;string != NULL))
</a><a href="#h4-0-2393" id="h4-0-2393" class="i">+    {
</a><a href="#h4-0-2394" id="h4-0-2394" class="i">+        cJSON_free(replacement-&gt;string);
</a><a href="#h4-0-2395" id="h4-0-2395" class="i">+    }
</a><a href="#h4-0-2396" id="h4-0-2396" class="i">+    replacement-&gt;string = (char*)cJSON_strdup((const unsigned char*)string, &amp;global_hooks);
</a><a href="#h4-0-2397" id="h4-0-2397" class="i">+    if (replacement-&gt;string == NULL)
</a><a href="#h4-0-2398" id="h4-0-2398" class="i">+    {
</a><a href="#h4-0-2399" id="h4-0-2399" class="i">+        return false;
</a><a href="#h4-0-2400" id="h4-0-2400" class="i">+    }
</a><a href="#h4-0-2401" id="h4-0-2401" class="i">+
</a><a href="#h4-0-2402" id="h4-0-2402" class="i">+    replacement-&gt;type &amp;= ~cJSON_StringIsConst;
</a><a href="#h4-0-2403" id="h4-0-2403" class="i">+
</a><a href="#h4-0-2404" id="h4-0-2404" class="i">+    return cJSON_ReplaceItemViaPointer(object, get_object_item(object, string, case_sensitive), replacement);
</a><a href="#h4-0-2405" id="h4-0-2405" class="i">+}
</a><a href="#h4-0-2406" id="h4-0-2406" class="i">+
</a><a href="#h4-0-2407" id="h4-0-2407" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObject(cJSON *object, const char *string, cJSON *newitem)
</a><a href="#h4-0-2408" id="h4-0-2408" class="i">+{
</a><a href="#h4-0-2409" id="h4-0-2409" class="i">+    return replace_item_in_object(object, string, newitem, false);
</a><a href="#h4-0-2410" id="h4-0-2410" class="i">+}
</a><a href="#h4-0-2411" id="h4-0-2411" class="i">+
</a><a href="#h4-0-2412" id="h4-0-2412" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObjectCaseSensitive(cJSON *object, const char *string, cJSON *newitem)
</a><a href="#h4-0-2413" id="h4-0-2413" class="i">+{
</a><a href="#h4-0-2414" id="h4-0-2414" class="i">+    return replace_item_in_object(object, string, newitem, true);
</a><a href="#h4-0-2415" id="h4-0-2415" class="i">+}
</a><a href="#h4-0-2416" id="h4-0-2416" class="i">+
</a><a href="#h4-0-2417" id="h4-0-2417" class="i">+/* Create basic types: */
</a><a href="#h4-0-2418" id="h4-0-2418" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNull(void)
</a><a href="#h4-0-2419" id="h4-0-2419" class="i">+{
</a><a href="#h4-0-2420" id="h4-0-2420" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2421" id="h4-0-2421" class="i">+    if(item)
</a><a href="#h4-0-2422" id="h4-0-2422" class="i">+    {
</a><a href="#h4-0-2423" id="h4-0-2423" class="i">+        item-&gt;type = cJSON_NULL;
</a><a href="#h4-0-2424" id="h4-0-2424" class="i">+    }
</a><a href="#h4-0-2425" id="h4-0-2425" class="i">+
</a><a href="#h4-0-2426" id="h4-0-2426" class="i">+    return item;
</a><a href="#h4-0-2427" id="h4-0-2427" class="i">+}
</a><a href="#h4-0-2428" id="h4-0-2428" class="i">+
</a><a href="#h4-0-2429" id="h4-0-2429" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateTrue(void)
</a><a href="#h4-0-2430" id="h4-0-2430" class="i">+{
</a><a href="#h4-0-2431" id="h4-0-2431" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2432" id="h4-0-2432" class="i">+    if(item)
</a><a href="#h4-0-2433" id="h4-0-2433" class="i">+    {
</a><a href="#h4-0-2434" id="h4-0-2434" class="i">+        item-&gt;type = cJSON_True;
</a><a href="#h4-0-2435" id="h4-0-2435" class="i">+    }
</a><a href="#h4-0-2436" id="h4-0-2436" class="i">+
</a><a href="#h4-0-2437" id="h4-0-2437" class="i">+    return item;
</a><a href="#h4-0-2438" id="h4-0-2438" class="i">+}
</a><a href="#h4-0-2439" id="h4-0-2439" class="i">+
</a><a href="#h4-0-2440" id="h4-0-2440" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFalse(void)
</a><a href="#h4-0-2441" id="h4-0-2441" class="i">+{
</a><a href="#h4-0-2442" id="h4-0-2442" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2443" id="h4-0-2443" class="i">+    if(item)
</a><a href="#h4-0-2444" id="h4-0-2444" class="i">+    {
</a><a href="#h4-0-2445" id="h4-0-2445" class="i">+        item-&gt;type = cJSON_False;
</a><a href="#h4-0-2446" id="h4-0-2446" class="i">+    }
</a><a href="#h4-0-2447" id="h4-0-2447" class="i">+
</a><a href="#h4-0-2448" id="h4-0-2448" class="i">+    return item;
</a><a href="#h4-0-2449" id="h4-0-2449" class="i">+}
</a><a href="#h4-0-2450" id="h4-0-2450" class="i">+
</a><a href="#h4-0-2451" id="h4-0-2451" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateBool(cJSON_bool boolean)
</a><a href="#h4-0-2452" id="h4-0-2452" class="i">+{
</a><a href="#h4-0-2453" id="h4-0-2453" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2454" id="h4-0-2454" class="i">+    if(item)
</a><a href="#h4-0-2455" id="h4-0-2455" class="i">+    {
</a><a href="#h4-0-2456" id="h4-0-2456" class="i">+        item-&gt;type = boolean ? cJSON_True : cJSON_False;
</a><a href="#h4-0-2457" id="h4-0-2457" class="i">+    }
</a><a href="#h4-0-2458" id="h4-0-2458" class="i">+
</a><a href="#h4-0-2459" id="h4-0-2459" class="i">+    return item;
</a><a href="#h4-0-2460" id="h4-0-2460" class="i">+}
</a><a href="#h4-0-2461" id="h4-0-2461" class="i">+
</a><a href="#h4-0-2462" id="h4-0-2462" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNumber(double num)
</a><a href="#h4-0-2463" id="h4-0-2463" class="i">+{
</a><a href="#h4-0-2464" id="h4-0-2464" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2465" id="h4-0-2465" class="i">+    if(item)
</a><a href="#h4-0-2466" id="h4-0-2466" class="i">+    {
</a><a href="#h4-0-2467" id="h4-0-2467" class="i">+        item-&gt;type = cJSON_Number;
</a><a href="#h4-0-2468" id="h4-0-2468" class="i">+        item-&gt;valuedouble = num;
</a><a href="#h4-0-2469" id="h4-0-2469" class="i">+
</a><a href="#h4-0-2470" id="h4-0-2470" class="i">+        /* use saturation in case of overflow */
</a><a href="#h4-0-2471" id="h4-0-2471" class="i">+        if (num &gt;= INT_MAX)
</a><a href="#h4-0-2472" id="h4-0-2472" class="i">+        {
</a><a href="#h4-0-2473" id="h4-0-2473" class="i">+            item-&gt;valueint = INT_MAX;
</a><a href="#h4-0-2474" id="h4-0-2474" class="i">+        }
</a><a href="#h4-0-2475" id="h4-0-2475" class="i">+        else if (num &lt;= (double)INT_MIN)
</a><a href="#h4-0-2476" id="h4-0-2476" class="i">+        {
</a><a href="#h4-0-2477" id="h4-0-2477" class="i">+            item-&gt;valueint = INT_MIN;
</a><a href="#h4-0-2478" id="h4-0-2478" class="i">+        }
</a><a href="#h4-0-2479" id="h4-0-2479" class="i">+        else
</a><a href="#h4-0-2480" id="h4-0-2480" class="i">+        {
</a><a href="#h4-0-2481" id="h4-0-2481" class="i">+            item-&gt;valueint = (int)num;
</a><a href="#h4-0-2482" id="h4-0-2482" class="i">+        }
</a><a href="#h4-0-2483" id="h4-0-2483" class="i">+    }
</a><a href="#h4-0-2484" id="h4-0-2484" class="i">+
</a><a href="#h4-0-2485" id="h4-0-2485" class="i">+    return item;
</a><a href="#h4-0-2486" id="h4-0-2486" class="i">+}
</a><a href="#h4-0-2487" id="h4-0-2487" class="i">+
</a><a href="#h4-0-2488" id="h4-0-2488" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateString(const char *string)
</a><a href="#h4-0-2489" id="h4-0-2489" class="i">+{
</a><a href="#h4-0-2490" id="h4-0-2490" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2491" id="h4-0-2491" class="i">+    if(item)
</a><a href="#h4-0-2492" id="h4-0-2492" class="i">+    {
</a><a href="#h4-0-2493" id="h4-0-2493" class="i">+        item-&gt;type = cJSON_String;
</a><a href="#h4-0-2494" id="h4-0-2494" class="i">+        item-&gt;valuestring = (char*)cJSON_strdup((const unsigned char*)string, &amp;global_hooks);
</a><a href="#h4-0-2495" id="h4-0-2495" class="i">+        if(!item-&gt;valuestring)
</a><a href="#h4-0-2496" id="h4-0-2496" class="i">+        {
</a><a href="#h4-0-2497" id="h4-0-2497" class="i">+            cJSON_Delete(item);
</a><a href="#h4-0-2498" id="h4-0-2498" class="i">+            return NULL;
</a><a href="#h4-0-2499" id="h4-0-2499" class="i">+        }
</a><a href="#h4-0-2500" id="h4-0-2500" class="i">+    }
</a><a href="#h4-0-2501" id="h4-0-2501" class="i">+
</a><a href="#h4-0-2502" id="h4-0-2502" class="i">+    return item;
</a><a href="#h4-0-2503" id="h4-0-2503" class="i">+}
</a><a href="#h4-0-2504" id="h4-0-2504" class="i">+
</a><a href="#h4-0-2505" id="h4-0-2505" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringReference(const char *string)
</a><a href="#h4-0-2506" id="h4-0-2506" class="i">+{
</a><a href="#h4-0-2507" id="h4-0-2507" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2508" id="h4-0-2508" class="i">+    if (item != NULL)
</a><a href="#h4-0-2509" id="h4-0-2509" class="i">+    {
</a><a href="#h4-0-2510" id="h4-0-2510" class="i">+        item-&gt;type = cJSON_String | cJSON_IsReference;
</a><a href="#h4-0-2511" id="h4-0-2511" class="i">+        item-&gt;valuestring = (char*)cast_away_const(string);
</a><a href="#h4-0-2512" id="h4-0-2512" class="i">+    }
</a><a href="#h4-0-2513" id="h4-0-2513" class="i">+
</a><a href="#h4-0-2514" id="h4-0-2514" class="i">+    return item;
</a><a href="#h4-0-2515" id="h4-0-2515" class="i">+}
</a><a href="#h4-0-2516" id="h4-0-2516" class="i">+
</a><a href="#h4-0-2517" id="h4-0-2517" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObjectReference(const cJSON *child)
</a><a href="#h4-0-2518" id="h4-0-2518" class="i">+{
</a><a href="#h4-0-2519" id="h4-0-2519" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2520" id="h4-0-2520" class="i">+    if (item != NULL) {
</a><a href="#h4-0-2521" id="h4-0-2521" class="i">+        item-&gt;type = cJSON_Object | cJSON_IsReference;
</a><a href="#h4-0-2522" id="h4-0-2522" class="i">+        item-&gt;child = (cJSON*)cast_away_const(child);
</a><a href="#h4-0-2523" id="h4-0-2523" class="i">+    }
</a><a href="#h4-0-2524" id="h4-0-2524" class="i">+
</a><a href="#h4-0-2525" id="h4-0-2525" class="i">+    return item;
</a><a href="#h4-0-2526" id="h4-0-2526" class="i">+}
</a><a href="#h4-0-2527" id="h4-0-2527" class="i">+
</a><a href="#h4-0-2528" id="h4-0-2528" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArrayReference(const cJSON *child) {
</a><a href="#h4-0-2529" id="h4-0-2529" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2530" id="h4-0-2530" class="i">+    if (item != NULL) {
</a><a href="#h4-0-2531" id="h4-0-2531" class="i">+        item-&gt;type = cJSON_Array | cJSON_IsReference;
</a><a href="#h4-0-2532" id="h4-0-2532" class="i">+        item-&gt;child = (cJSON*)cast_away_const(child);
</a><a href="#h4-0-2533" id="h4-0-2533" class="i">+    }
</a><a href="#h4-0-2534" id="h4-0-2534" class="i">+
</a><a href="#h4-0-2535" id="h4-0-2535" class="i">+    return item;
</a><a href="#h4-0-2536" id="h4-0-2536" class="i">+}
</a><a href="#h4-0-2537" id="h4-0-2537" class="i">+
</a><a href="#h4-0-2538" id="h4-0-2538" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateRaw(const char *raw)
</a><a href="#h4-0-2539" id="h4-0-2539" class="i">+{
</a><a href="#h4-0-2540" id="h4-0-2540" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2541" id="h4-0-2541" class="i">+    if(item)
</a><a href="#h4-0-2542" id="h4-0-2542" class="i">+    {
</a><a href="#h4-0-2543" id="h4-0-2543" class="i">+        item-&gt;type = cJSON_Raw;
</a><a href="#h4-0-2544" id="h4-0-2544" class="i">+        item-&gt;valuestring = (char*)cJSON_strdup((const unsigned char*)raw, &amp;global_hooks);
</a><a href="#h4-0-2545" id="h4-0-2545" class="i">+        if(!item-&gt;valuestring)
</a><a href="#h4-0-2546" id="h4-0-2546" class="i">+        {
</a><a href="#h4-0-2547" id="h4-0-2547" class="i">+            cJSON_Delete(item);
</a><a href="#h4-0-2548" id="h4-0-2548" class="i">+            return NULL;
</a><a href="#h4-0-2549" id="h4-0-2549" class="i">+        }
</a><a href="#h4-0-2550" id="h4-0-2550" class="i">+    }
</a><a href="#h4-0-2551" id="h4-0-2551" class="i">+
</a><a href="#h4-0-2552" id="h4-0-2552" class="i">+    return item;
</a><a href="#h4-0-2553" id="h4-0-2553" class="i">+}
</a><a href="#h4-0-2554" id="h4-0-2554" class="i">+
</a><a href="#h4-0-2555" id="h4-0-2555" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArray(void)
</a><a href="#h4-0-2556" id="h4-0-2556" class="i">+{
</a><a href="#h4-0-2557" id="h4-0-2557" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2558" id="h4-0-2558" class="i">+    if(item)
</a><a href="#h4-0-2559" id="h4-0-2559" class="i">+    {
</a><a href="#h4-0-2560" id="h4-0-2560" class="i">+        item-&gt;type=cJSON_Array;
</a><a href="#h4-0-2561" id="h4-0-2561" class="i">+    }
</a><a href="#h4-0-2562" id="h4-0-2562" class="i">+
</a><a href="#h4-0-2563" id="h4-0-2563" class="i">+    return item;
</a><a href="#h4-0-2564" id="h4-0-2564" class="i">+}
</a><a href="#h4-0-2565" id="h4-0-2565" class="i">+
</a><a href="#h4-0-2566" id="h4-0-2566" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObject(void)
</a><a href="#h4-0-2567" id="h4-0-2567" class="i">+{
</a><a href="#h4-0-2568" id="h4-0-2568" class="i">+    cJSON *item = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2569" id="h4-0-2569" class="i">+    if (item)
</a><a href="#h4-0-2570" id="h4-0-2570" class="i">+    {
</a><a href="#h4-0-2571" id="h4-0-2571" class="i">+        item-&gt;type = cJSON_Object;
</a><a href="#h4-0-2572" id="h4-0-2572" class="i">+    }
</a><a href="#h4-0-2573" id="h4-0-2573" class="i">+
</a><a href="#h4-0-2574" id="h4-0-2574" class="i">+    return item;
</a><a href="#h4-0-2575" id="h4-0-2575" class="i">+}
</a><a href="#h4-0-2576" id="h4-0-2576" class="i">+
</a><a href="#h4-0-2577" id="h4-0-2577" class="i">+/* Create Arrays: */
</a><a href="#h4-0-2578" id="h4-0-2578" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateIntArray(const int *numbers, int count)
</a><a href="#h4-0-2579" id="h4-0-2579" class="i">+{
</a><a href="#h4-0-2580" id="h4-0-2580" class="i">+    size_t i = 0;
</a><a href="#h4-0-2581" id="h4-0-2581" class="i">+    cJSON *n = NULL;
</a><a href="#h4-0-2582" id="h4-0-2582" class="i">+    cJSON *p = NULL;
</a><a href="#h4-0-2583" id="h4-0-2583" class="i">+    cJSON *a = NULL;
</a><a href="#h4-0-2584" id="h4-0-2584" class="i">+
</a><a href="#h4-0-2585" id="h4-0-2585" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h4-0-2586" id="h4-0-2586" class="i">+    {
</a><a href="#h4-0-2587" id="h4-0-2587" class="i">+        return NULL;
</a><a href="#h4-0-2588" id="h4-0-2588" class="i">+    }
</a><a href="#h4-0-2589" id="h4-0-2589" class="i">+
</a><a href="#h4-0-2590" id="h4-0-2590" class="i">+    a = cJSON_CreateArray();
</a><a href="#h4-0-2591" id="h4-0-2591" class="i">+
</a><a href="#h4-0-2592" id="h4-0-2592" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h4-0-2593" id="h4-0-2593" class="i">+    {
</a><a href="#h4-0-2594" id="h4-0-2594" class="i">+        n = cJSON_CreateNumber(numbers[i]);
</a><a href="#h4-0-2595" id="h4-0-2595" class="i">+        if (!n)
</a><a href="#h4-0-2596" id="h4-0-2596" class="i">+        {
</a><a href="#h4-0-2597" id="h4-0-2597" class="i">+            cJSON_Delete(a);
</a><a href="#h4-0-2598" id="h4-0-2598" class="i">+            return NULL;
</a><a href="#h4-0-2599" id="h4-0-2599" class="i">+        }
</a><a href="#h4-0-2600" id="h4-0-2600" class="i">+        if(!i)
</a><a href="#h4-0-2601" id="h4-0-2601" class="i">+        {
</a><a href="#h4-0-2602" id="h4-0-2602" class="i">+            a-&gt;child = n;
</a><a href="#h4-0-2603" id="h4-0-2603" class="i">+        }
</a><a href="#h4-0-2604" id="h4-0-2604" class="i">+        else
</a><a href="#h4-0-2605" id="h4-0-2605" class="i">+        {
</a><a href="#h4-0-2606" id="h4-0-2606" class="i">+            suffix_object(p, n);
</a><a href="#h4-0-2607" id="h4-0-2607" class="i">+        }
</a><a href="#h4-0-2608" id="h4-0-2608" class="i">+        p = n;
</a><a href="#h4-0-2609" id="h4-0-2609" class="i">+    }
</a><a href="#h4-0-2610" id="h4-0-2610" class="i">+
</a><a href="#h4-0-2611" id="h4-0-2611" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h4-0-2612" id="h4-0-2612" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h4-0-2613" id="h4-0-2613" class="i">+    }
</a><a href="#h4-0-2614" id="h4-0-2614" class="i">+
</a><a href="#h4-0-2615" id="h4-0-2615" class="i">+    return a;
</a><a href="#h4-0-2616" id="h4-0-2616" class="i">+}
</a><a href="#h4-0-2617" id="h4-0-2617" class="i">+
</a><a href="#h4-0-2618" id="h4-0-2618" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFloatArray(const float *numbers, int count)
</a><a href="#h4-0-2619" id="h4-0-2619" class="i">+{
</a><a href="#h4-0-2620" id="h4-0-2620" class="i">+    size_t i = 0;
</a><a href="#h4-0-2621" id="h4-0-2621" class="i">+    cJSON *n = NULL;
</a><a href="#h4-0-2622" id="h4-0-2622" class="i">+    cJSON *p = NULL;
</a><a href="#h4-0-2623" id="h4-0-2623" class="i">+    cJSON *a = NULL;
</a><a href="#h4-0-2624" id="h4-0-2624" class="i">+
</a><a href="#h4-0-2625" id="h4-0-2625" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h4-0-2626" id="h4-0-2626" class="i">+    {
</a><a href="#h4-0-2627" id="h4-0-2627" class="i">+        return NULL;
</a><a href="#h4-0-2628" id="h4-0-2628" class="i">+    }
</a><a href="#h4-0-2629" id="h4-0-2629" class="i">+
</a><a href="#h4-0-2630" id="h4-0-2630" class="i">+    a = cJSON_CreateArray();
</a><a href="#h4-0-2631" id="h4-0-2631" class="i">+
</a><a href="#h4-0-2632" id="h4-0-2632" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h4-0-2633" id="h4-0-2633" class="i">+    {
</a><a href="#h4-0-2634" id="h4-0-2634" class="i">+        n = cJSON_CreateNumber((double)numbers[i]);
</a><a href="#h4-0-2635" id="h4-0-2635" class="i">+        if(!n)
</a><a href="#h4-0-2636" id="h4-0-2636" class="i">+        {
</a><a href="#h4-0-2637" id="h4-0-2637" class="i">+            cJSON_Delete(a);
</a><a href="#h4-0-2638" id="h4-0-2638" class="i">+            return NULL;
</a><a href="#h4-0-2639" id="h4-0-2639" class="i">+        }
</a><a href="#h4-0-2640" id="h4-0-2640" class="i">+        if(!i)
</a><a href="#h4-0-2641" id="h4-0-2641" class="i">+        {
</a><a href="#h4-0-2642" id="h4-0-2642" class="i">+            a-&gt;child = n;
</a><a href="#h4-0-2643" id="h4-0-2643" class="i">+        }
</a><a href="#h4-0-2644" id="h4-0-2644" class="i">+        else
</a><a href="#h4-0-2645" id="h4-0-2645" class="i">+        {
</a><a href="#h4-0-2646" id="h4-0-2646" class="i">+            suffix_object(p, n);
</a><a href="#h4-0-2647" id="h4-0-2647" class="i">+        }
</a><a href="#h4-0-2648" id="h4-0-2648" class="i">+        p = n;
</a><a href="#h4-0-2649" id="h4-0-2649" class="i">+    }
</a><a href="#h4-0-2650" id="h4-0-2650" class="i">+
</a><a href="#h4-0-2651" id="h4-0-2651" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h4-0-2652" id="h4-0-2652" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h4-0-2653" id="h4-0-2653" class="i">+    }
</a><a href="#h4-0-2654" id="h4-0-2654" class="i">+
</a><a href="#h4-0-2655" id="h4-0-2655" class="i">+    return a;
</a><a href="#h4-0-2656" id="h4-0-2656" class="i">+}
</a><a href="#h4-0-2657" id="h4-0-2657" class="i">+
</a><a href="#h4-0-2658" id="h4-0-2658" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateDoubleArray(const double *numbers, int count)
</a><a href="#h4-0-2659" id="h4-0-2659" class="i">+{
</a><a href="#h4-0-2660" id="h4-0-2660" class="i">+    size_t i = 0;
</a><a href="#h4-0-2661" id="h4-0-2661" class="i">+    cJSON *n = NULL;
</a><a href="#h4-0-2662" id="h4-0-2662" class="i">+    cJSON *p = NULL;
</a><a href="#h4-0-2663" id="h4-0-2663" class="i">+    cJSON *a = NULL;
</a><a href="#h4-0-2664" id="h4-0-2664" class="i">+
</a><a href="#h4-0-2665" id="h4-0-2665" class="i">+    if ((count &lt; 0) || (numbers == NULL))
</a><a href="#h4-0-2666" id="h4-0-2666" class="i">+    {
</a><a href="#h4-0-2667" id="h4-0-2667" class="i">+        return NULL;
</a><a href="#h4-0-2668" id="h4-0-2668" class="i">+    }
</a><a href="#h4-0-2669" id="h4-0-2669" class="i">+
</a><a href="#h4-0-2670" id="h4-0-2670" class="i">+    a = cJSON_CreateArray();
</a><a href="#h4-0-2671" id="h4-0-2671" class="i">+
</a><a href="#h4-0-2672" id="h4-0-2672" class="i">+    for(i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h4-0-2673" id="h4-0-2673" class="i">+    {
</a><a href="#h4-0-2674" id="h4-0-2674" class="i">+        n = cJSON_CreateNumber(numbers[i]);
</a><a href="#h4-0-2675" id="h4-0-2675" class="i">+        if(!n)
</a><a href="#h4-0-2676" id="h4-0-2676" class="i">+        {
</a><a href="#h4-0-2677" id="h4-0-2677" class="i">+            cJSON_Delete(a);
</a><a href="#h4-0-2678" id="h4-0-2678" class="i">+            return NULL;
</a><a href="#h4-0-2679" id="h4-0-2679" class="i">+        }
</a><a href="#h4-0-2680" id="h4-0-2680" class="i">+        if(!i)
</a><a href="#h4-0-2681" id="h4-0-2681" class="i">+        {
</a><a href="#h4-0-2682" id="h4-0-2682" class="i">+            a-&gt;child = n;
</a><a href="#h4-0-2683" id="h4-0-2683" class="i">+        }
</a><a href="#h4-0-2684" id="h4-0-2684" class="i">+        else
</a><a href="#h4-0-2685" id="h4-0-2685" class="i">+        {
</a><a href="#h4-0-2686" id="h4-0-2686" class="i">+            suffix_object(p, n);
</a><a href="#h4-0-2687" id="h4-0-2687" class="i">+        }
</a><a href="#h4-0-2688" id="h4-0-2688" class="i">+        p = n;
</a><a href="#h4-0-2689" id="h4-0-2689" class="i">+    }
</a><a href="#h4-0-2690" id="h4-0-2690" class="i">+
</a><a href="#h4-0-2691" id="h4-0-2691" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h4-0-2692" id="h4-0-2692" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h4-0-2693" id="h4-0-2693" class="i">+    }
</a><a href="#h4-0-2694" id="h4-0-2694" class="i">+
</a><a href="#h4-0-2695" id="h4-0-2695" class="i">+    return a;
</a><a href="#h4-0-2696" id="h4-0-2696" class="i">+}
</a><a href="#h4-0-2697" id="h4-0-2697" class="i">+
</a><a href="#h4-0-2698" id="h4-0-2698" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringArray(const char *const *strings, int count)
</a><a href="#h4-0-2699" id="h4-0-2699" class="i">+{
</a><a href="#h4-0-2700" id="h4-0-2700" class="i">+    size_t i = 0;
</a><a href="#h4-0-2701" id="h4-0-2701" class="i">+    cJSON *n = NULL;
</a><a href="#h4-0-2702" id="h4-0-2702" class="i">+    cJSON *p = NULL;
</a><a href="#h4-0-2703" id="h4-0-2703" class="i">+    cJSON *a = NULL;
</a><a href="#h4-0-2704" id="h4-0-2704" class="i">+
</a><a href="#h4-0-2705" id="h4-0-2705" class="i">+    if ((count &lt; 0) || (strings == NULL))
</a><a href="#h4-0-2706" id="h4-0-2706" class="i">+    {
</a><a href="#h4-0-2707" id="h4-0-2707" class="i">+        return NULL;
</a><a href="#h4-0-2708" id="h4-0-2708" class="i">+    }
</a><a href="#h4-0-2709" id="h4-0-2709" class="i">+
</a><a href="#h4-0-2710" id="h4-0-2710" class="i">+    a = cJSON_CreateArray();
</a><a href="#h4-0-2711" id="h4-0-2711" class="i">+
</a><a href="#h4-0-2712" id="h4-0-2712" class="i">+    for (i = 0; a &amp;&amp; (i &lt; (size_t)count); i++)
</a><a href="#h4-0-2713" id="h4-0-2713" class="i">+    {
</a><a href="#h4-0-2714" id="h4-0-2714" class="i">+        n = cJSON_CreateString(strings[i]);
</a><a href="#h4-0-2715" id="h4-0-2715" class="i">+        if(!n)
</a><a href="#h4-0-2716" id="h4-0-2716" class="i">+        {
</a><a href="#h4-0-2717" id="h4-0-2717" class="i">+            cJSON_Delete(a);
</a><a href="#h4-0-2718" id="h4-0-2718" class="i">+            return NULL;
</a><a href="#h4-0-2719" id="h4-0-2719" class="i">+        }
</a><a href="#h4-0-2720" id="h4-0-2720" class="i">+        if(!i)
</a><a href="#h4-0-2721" id="h4-0-2721" class="i">+        {
</a><a href="#h4-0-2722" id="h4-0-2722" class="i">+            a-&gt;child = n;
</a><a href="#h4-0-2723" id="h4-0-2723" class="i">+        }
</a><a href="#h4-0-2724" id="h4-0-2724" class="i">+        else
</a><a href="#h4-0-2725" id="h4-0-2725" class="i">+        {
</a><a href="#h4-0-2726" id="h4-0-2726" class="i">+            suffix_object(p,n);
</a><a href="#h4-0-2727" id="h4-0-2727" class="i">+        }
</a><a href="#h4-0-2728" id="h4-0-2728" class="i">+        p = n;
</a><a href="#h4-0-2729" id="h4-0-2729" class="i">+    }
</a><a href="#h4-0-2730" id="h4-0-2730" class="i">+
</a><a href="#h4-0-2731" id="h4-0-2731" class="i">+    if (a &amp;&amp; a-&gt;child) {
</a><a href="#h4-0-2732" id="h4-0-2732" class="i">+        a-&gt;child-&gt;prev = n;
</a><a href="#h4-0-2733" id="h4-0-2733" class="i">+    }
</a><a href="#h4-0-2734" id="h4-0-2734" class="i">+
</a><a href="#h4-0-2735" id="h4-0-2735" class="i">+    return a;
</a><a href="#h4-0-2736" id="h4-0-2736" class="i">+}
</a><a href="#h4-0-2737" id="h4-0-2737" class="i">+
</a><a href="#h4-0-2738" id="h4-0-2738" class="i">+/* Duplication */
</a><a href="#h4-0-2739" id="h4-0-2739" class="i">+cJSON * cJSON_Duplicate_rec(const cJSON *item, size_t depth, cJSON_bool recurse);
</a><a href="#h4-0-2740" id="h4-0-2740" class="i">+
</a><a href="#h4-0-2741" id="h4-0-2741" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Duplicate(const cJSON *item, cJSON_bool recurse)
</a><a href="#h4-0-2742" id="h4-0-2742" class="i">+{
</a><a href="#h4-0-2743" id="h4-0-2743" class="i">+    return cJSON_Duplicate_rec(item, 0, recurse );
</a><a href="#h4-0-2744" id="h4-0-2744" class="i">+}
</a><a href="#h4-0-2745" id="h4-0-2745" class="i">+
</a><a href="#h4-0-2746" id="h4-0-2746" class="i">+cJSON * cJSON_Duplicate_rec(const cJSON *item, size_t depth, cJSON_bool recurse)
</a><a href="#h4-0-2747" id="h4-0-2747" class="i">+{
</a><a href="#h4-0-2748" id="h4-0-2748" class="i">+    cJSON *newitem = NULL;
</a><a href="#h4-0-2749" id="h4-0-2749" class="i">+    cJSON *child = NULL;
</a><a href="#h4-0-2750" id="h4-0-2750" class="i">+    cJSON *next = NULL;
</a><a href="#h4-0-2751" id="h4-0-2751" class="i">+    cJSON *newchild = NULL;
</a><a href="#h4-0-2752" id="h4-0-2752" class="i">+
</a><a href="#h4-0-2753" id="h4-0-2753" class="i">+    /* Bail on bad ptr */
</a><a href="#h4-0-2754" id="h4-0-2754" class="i">+    if (!item)
</a><a href="#h4-0-2755" id="h4-0-2755" class="i">+    {
</a><a href="#h4-0-2756" id="h4-0-2756" class="i">+        goto fail;
</a><a href="#h4-0-2757" id="h4-0-2757" class="i">+    }
</a><a href="#h4-0-2758" id="h4-0-2758" class="i">+    /* Create new item */
</a><a href="#h4-0-2759" id="h4-0-2759" class="i">+    newitem = cJSON_New_Item(&amp;global_hooks);
</a><a href="#h4-0-2760" id="h4-0-2760" class="i">+    if (!newitem)
</a><a href="#h4-0-2761" id="h4-0-2761" class="i">+    {
</a><a href="#h4-0-2762" id="h4-0-2762" class="i">+        goto fail;
</a><a href="#h4-0-2763" id="h4-0-2763" class="i">+    }
</a><a href="#h4-0-2764" id="h4-0-2764" class="i">+    /* Copy over all vars */
</a><a href="#h4-0-2765" id="h4-0-2765" class="i">+    newitem-&gt;type = item-&gt;type &amp; (~cJSON_IsReference);
</a><a href="#h4-0-2766" id="h4-0-2766" class="i">+    newitem-&gt;valueint = item-&gt;valueint;
</a><a href="#h4-0-2767" id="h4-0-2767" class="i">+    newitem-&gt;valuedouble = item-&gt;valuedouble;
</a><a href="#h4-0-2768" id="h4-0-2768" class="i">+    if (item-&gt;valuestring)
</a><a href="#h4-0-2769" id="h4-0-2769" class="i">+    {
</a><a href="#h4-0-2770" id="h4-0-2770" class="i">+        newitem-&gt;valuestring = (char*)cJSON_strdup((unsigned char*)item-&gt;valuestring, &amp;global_hooks);
</a><a href="#h4-0-2771" id="h4-0-2771" class="i">+        if (!newitem-&gt;valuestring)
</a><a href="#h4-0-2772" id="h4-0-2772" class="i">+        {
</a><a href="#h4-0-2773" id="h4-0-2773" class="i">+            goto fail;
</a><a href="#h4-0-2774" id="h4-0-2774" class="i">+        }
</a><a href="#h4-0-2775" id="h4-0-2775" class="i">+    }
</a><a href="#h4-0-2776" id="h4-0-2776" class="i">+    if (item-&gt;string)
</a><a href="#h4-0-2777" id="h4-0-2777" class="i">+    {
</a><a href="#h4-0-2778" id="h4-0-2778" class="i">+        newitem-&gt;string = (item-&gt;type&amp;cJSON_StringIsConst) ? item-&gt;string : (char*)cJSON_strdup((unsigned char*)item-&gt;string, &amp;global_hooks);
</a><a href="#h4-0-2779" id="h4-0-2779" class="i">+        if (!newitem-&gt;string)
</a><a href="#h4-0-2780" id="h4-0-2780" class="i">+        {
</a><a href="#h4-0-2781" id="h4-0-2781" class="i">+            goto fail;
</a><a href="#h4-0-2782" id="h4-0-2782" class="i">+        }
</a><a href="#h4-0-2783" id="h4-0-2783" class="i">+    }
</a><a href="#h4-0-2784" id="h4-0-2784" class="i">+    /* If non-recursive, then we&#39;re done! */
</a><a href="#h4-0-2785" id="h4-0-2785" class="i">+    if (!recurse)
</a><a href="#h4-0-2786" id="h4-0-2786" class="i">+    {
</a><a href="#h4-0-2787" id="h4-0-2787" class="i">+        return newitem;
</a><a href="#h4-0-2788" id="h4-0-2788" class="i">+    }
</a><a href="#h4-0-2789" id="h4-0-2789" class="i">+    /* Walk the -&gt;next chain for the child. */
</a><a href="#h4-0-2790" id="h4-0-2790" class="i">+    child = item-&gt;child;
</a><a href="#h4-0-2791" id="h4-0-2791" class="i">+    while (child != NULL)
</a><a href="#h4-0-2792" id="h4-0-2792" class="i">+    {
</a><a href="#h4-0-2793" id="h4-0-2793" class="i">+        if(depth &gt;= CJSON_CIRCULAR_LIMIT) {
</a><a href="#h4-0-2794" id="h4-0-2794" class="i">+            goto fail;
</a><a href="#h4-0-2795" id="h4-0-2795" class="i">+        }
</a><a href="#h4-0-2796" id="h4-0-2796" class="i">+        newchild = cJSON_Duplicate_rec(child, depth + 1, true); /* Duplicate (with recurse) each item in the -&gt;next chain */
</a><a href="#h4-0-2797" id="h4-0-2797" class="i">+        if (!newchild)
</a><a href="#h4-0-2798" id="h4-0-2798" class="i">+        {
</a><a href="#h4-0-2799" id="h4-0-2799" class="i">+            goto fail;
</a><a href="#h4-0-2800" id="h4-0-2800" class="i">+        }
</a><a href="#h4-0-2801" id="h4-0-2801" class="i">+        if (next != NULL)
</a><a href="#h4-0-2802" id="h4-0-2802" class="i">+        {
</a><a href="#h4-0-2803" id="h4-0-2803" class="i">+            /* If newitem-&gt;child already set, then crosswire -&gt;prev and -&gt;next and move on */
</a><a href="#h4-0-2804" id="h4-0-2804" class="i">+            next-&gt;next = newchild;
</a><a href="#h4-0-2805" id="h4-0-2805" class="i">+            newchild-&gt;prev = next;
</a><a href="#h4-0-2806" id="h4-0-2806" class="i">+            next = newchild;
</a><a href="#h4-0-2807" id="h4-0-2807" class="i">+        }
</a><a href="#h4-0-2808" id="h4-0-2808" class="i">+        else
</a><a href="#h4-0-2809" id="h4-0-2809" class="i">+        {
</a><a href="#h4-0-2810" id="h4-0-2810" class="i">+            /* Set newitem-&gt;child and move to it */
</a><a href="#h4-0-2811" id="h4-0-2811" class="i">+            newitem-&gt;child = newchild;
</a><a href="#h4-0-2812" id="h4-0-2812" class="i">+            next = newchild;
</a><a href="#h4-0-2813" id="h4-0-2813" class="i">+        }
</a><a href="#h4-0-2814" id="h4-0-2814" class="i">+        child = child-&gt;next;
</a><a href="#h4-0-2815" id="h4-0-2815" class="i">+    }
</a><a href="#h4-0-2816" id="h4-0-2816" class="i">+    if (newitem &amp;&amp; newitem-&gt;child)
</a><a href="#h4-0-2817" id="h4-0-2817" class="i">+    {
</a><a href="#h4-0-2818" id="h4-0-2818" class="i">+        newitem-&gt;child-&gt;prev = newchild;
</a><a href="#h4-0-2819" id="h4-0-2819" class="i">+    }
</a><a href="#h4-0-2820" id="h4-0-2820" class="i">+
</a><a href="#h4-0-2821" id="h4-0-2821" class="i">+    return newitem;
</a><a href="#h4-0-2822" id="h4-0-2822" class="i">+
</a><a href="#h4-0-2823" id="h4-0-2823" class="i">+fail:
</a><a href="#h4-0-2824" id="h4-0-2824" class="i">+    if (newitem != NULL)
</a><a href="#h4-0-2825" id="h4-0-2825" class="i">+    {
</a><a href="#h4-0-2826" id="h4-0-2826" class="i">+        cJSON_Delete(newitem);
</a><a href="#h4-0-2827" id="h4-0-2827" class="i">+    }
</a><a href="#h4-0-2828" id="h4-0-2828" class="i">+
</a><a href="#h4-0-2829" id="h4-0-2829" class="i">+    return NULL;
</a><a href="#h4-0-2830" id="h4-0-2830" class="i">+}
</a><a href="#h4-0-2831" id="h4-0-2831" class="i">+
</a><a href="#h4-0-2832" id="h4-0-2832" class="i">+static void skip_oneline_comment(char **input)
</a><a href="#h4-0-2833" id="h4-0-2833" class="i">+{
</a><a href="#h4-0-2834" id="h4-0-2834" class="i">+    *input += static_strlen(&quot;//&quot;);
</a><a href="#h4-0-2835" id="h4-0-2835" class="i">+
</a><a href="#h4-0-2836" id="h4-0-2836" class="i">+    for (; (*input)[0] != &#39;\0&#39;; ++(*input))
</a><a href="#h4-0-2837" id="h4-0-2837" class="i">+    {
</a><a href="#h4-0-2838" id="h4-0-2838" class="i">+        if ((*input)[0] == &#39;\n&#39;) {
</a><a href="#h4-0-2839" id="h4-0-2839" class="i">+            *input += static_strlen(&quot;\n&quot;);
</a><a href="#h4-0-2840" id="h4-0-2840" class="i">+            return;
</a><a href="#h4-0-2841" id="h4-0-2841" class="i">+        }
</a><a href="#h4-0-2842" id="h4-0-2842" class="i">+    }
</a><a href="#h4-0-2843" id="h4-0-2843" class="i">+}
</a><a href="#h4-0-2844" id="h4-0-2844" class="i">+
</a><a href="#h4-0-2845" id="h4-0-2845" class="i">+static void skip_multiline_comment(char **input)
</a><a href="#h4-0-2846" id="h4-0-2846" class="i">+{
</a><a href="#h4-0-2847" id="h4-0-2847" class="i">+    *input += static_strlen(&quot;/*&quot;);
</a><a href="#h4-0-2848" id="h4-0-2848" class="i">+
</a><a href="#h4-0-2849" id="h4-0-2849" class="i">+    for (; (*input)[0] != &#39;\0&#39;; ++(*input))
</a><a href="#h4-0-2850" id="h4-0-2850" class="i">+    {
</a><a href="#h4-0-2851" id="h4-0-2851" class="i">+        if (((*input)[0] == &#39;*&#39;) &amp;&amp; ((*input)[1] == &#39;/&#39;))
</a><a href="#h4-0-2852" id="h4-0-2852" class="i">+        {
</a><a href="#h4-0-2853" id="h4-0-2853" class="i">+            *input += static_strlen(&quot;*/&quot;);
</a><a href="#h4-0-2854" id="h4-0-2854" class="i">+            return;
</a><a href="#h4-0-2855" id="h4-0-2855" class="i">+        }
</a><a href="#h4-0-2856" id="h4-0-2856" class="i">+    }
</a><a href="#h4-0-2857" id="h4-0-2857" class="i">+}
</a><a href="#h4-0-2858" id="h4-0-2858" class="i">+
</a><a href="#h4-0-2859" id="h4-0-2859" class="i">+static void minify_string(char **input, char **output) {
</a><a href="#h4-0-2860" id="h4-0-2860" class="i">+    (*output)[0] = (*input)[0];
</a><a href="#h4-0-2861" id="h4-0-2861" class="i">+    *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2862" id="h4-0-2862" class="i">+    *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2863" id="h4-0-2863" class="i">+
</a><a href="#h4-0-2864" id="h4-0-2864" class="i">+
</a><a href="#h4-0-2865" id="h4-0-2865" class="i">+    for (; (*input)[0] != &#39;\0&#39;; (void)++(*input), ++(*output)) {
</a><a href="#h4-0-2866" id="h4-0-2866" class="i">+        (*output)[0] = (*input)[0];
</a><a href="#h4-0-2867" id="h4-0-2867" class="i">+
</a><a href="#h4-0-2868" id="h4-0-2868" class="i">+        if ((*input)[0] == &#39;\&quot;&#39;) {
</a><a href="#h4-0-2869" id="h4-0-2869" class="i">+            (*output)[0] = &#39;\&quot;&#39;;
</a><a href="#h4-0-2870" id="h4-0-2870" class="i">+            *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2871" id="h4-0-2871" class="i">+            *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2872" id="h4-0-2872" class="i">+            return;
</a><a href="#h4-0-2873" id="h4-0-2873" class="i">+        } else if (((*input)[0] == &#39;\\&#39;) &amp;&amp; ((*input)[1] == &#39;\&quot;&#39;)) {
</a><a href="#h4-0-2874" id="h4-0-2874" class="i">+            (*output)[1] = (*input)[1];
</a><a href="#h4-0-2875" id="h4-0-2875" class="i">+            *input += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2876" id="h4-0-2876" class="i">+            *output += static_strlen(&quot;\&quot;&quot;);
</a><a href="#h4-0-2877" id="h4-0-2877" class="i">+        }
</a><a href="#h4-0-2878" id="h4-0-2878" class="i">+    }
</a><a href="#h4-0-2879" id="h4-0-2879" class="i">+}
</a><a href="#h4-0-2880" id="h4-0-2880" class="i">+
</a><a href="#h4-0-2881" id="h4-0-2881" class="i">+CJSON_PUBLIC(void) cJSON_Minify(char *json)
</a><a href="#h4-0-2882" id="h4-0-2882" class="i">+{
</a><a href="#h4-0-2883" id="h4-0-2883" class="i">+    char *into = json;
</a><a href="#h4-0-2884" id="h4-0-2884" class="i">+
</a><a href="#h4-0-2885" id="h4-0-2885" class="i">+    if (json == NULL)
</a><a href="#h4-0-2886" id="h4-0-2886" class="i">+    {
</a><a href="#h4-0-2887" id="h4-0-2887" class="i">+        return;
</a><a href="#h4-0-2888" id="h4-0-2888" class="i">+    }
</a><a href="#h4-0-2889" id="h4-0-2889" class="i">+
</a><a href="#h4-0-2890" id="h4-0-2890" class="i">+    while (json[0] != &#39;\0&#39;)
</a><a href="#h4-0-2891" id="h4-0-2891" class="i">+    {
</a><a href="#h4-0-2892" id="h4-0-2892" class="i">+        switch (json[0])
</a><a href="#h4-0-2893" id="h4-0-2893" class="i">+        {
</a><a href="#h4-0-2894" id="h4-0-2894" class="i">+            case &#39; &#39;:
</a><a href="#h4-0-2895" id="h4-0-2895" class="i">+            case &#39;\t&#39;:
</a><a href="#h4-0-2896" id="h4-0-2896" class="i">+            case &#39;\r&#39;:
</a><a href="#h4-0-2897" id="h4-0-2897" class="i">+            case &#39;\n&#39;:
</a><a href="#h4-0-2898" id="h4-0-2898" class="i">+                json++;
</a><a href="#h4-0-2899" id="h4-0-2899" class="i">+                break;
</a><a href="#h4-0-2900" id="h4-0-2900" class="i">+
</a><a href="#h4-0-2901" id="h4-0-2901" class="i">+            case &#39;/&#39;:
</a><a href="#h4-0-2902" id="h4-0-2902" class="i">+                if (json[1] == &#39;/&#39;)
</a><a href="#h4-0-2903" id="h4-0-2903" class="i">+                {
</a><a href="#h4-0-2904" id="h4-0-2904" class="i">+                    skip_oneline_comment(&amp;json);
</a><a href="#h4-0-2905" id="h4-0-2905" class="i">+                }
</a><a href="#h4-0-2906" id="h4-0-2906" class="i">+                else if (json[1] == &#39;*&#39;)
</a><a href="#h4-0-2907" id="h4-0-2907" class="i">+                {
</a><a href="#h4-0-2908" id="h4-0-2908" class="i">+                    skip_multiline_comment(&amp;json);
</a><a href="#h4-0-2909" id="h4-0-2909" class="i">+                } else {
</a><a href="#h4-0-2910" id="h4-0-2910" class="i">+                    json++;
</a><a href="#h4-0-2911" id="h4-0-2911" class="i">+                }
</a><a href="#h4-0-2912" id="h4-0-2912" class="i">+                break;
</a><a href="#h4-0-2913" id="h4-0-2913" class="i">+
</a><a href="#h4-0-2914" id="h4-0-2914" class="i">+            case &#39;\&quot;&#39;:
</a><a href="#h4-0-2915" id="h4-0-2915" class="i">+                minify_string(&amp;json, (char**)&amp;into);
</a><a href="#h4-0-2916" id="h4-0-2916" class="i">+                break;
</a><a href="#h4-0-2917" id="h4-0-2917" class="i">+
</a><a href="#h4-0-2918" id="h4-0-2918" class="i">+            default:
</a><a href="#h4-0-2919" id="h4-0-2919" class="i">+                into[0] = json[0];
</a><a href="#h4-0-2920" id="h4-0-2920" class="i">+                json++;
</a><a href="#h4-0-2921" id="h4-0-2921" class="i">+                into++;
</a><a href="#h4-0-2922" id="h4-0-2922" class="i">+        }
</a><a href="#h4-0-2923" id="h4-0-2923" class="i">+    }
</a><a href="#h4-0-2924" id="h4-0-2924" class="i">+
</a><a href="#h4-0-2925" id="h4-0-2925" class="i">+    /* and null-terminate. */
</a><a href="#h4-0-2926" id="h4-0-2926" class="i">+    *into = &#39;\0&#39;;
</a><a href="#h4-0-2927" id="h4-0-2927" class="i">+}
</a><a href="#h4-0-2928" id="h4-0-2928" class="i">+
</a><a href="#h4-0-2929" id="h4-0-2929" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsInvalid(const cJSON * const item)
</a><a href="#h4-0-2930" id="h4-0-2930" class="i">+{
</a><a href="#h4-0-2931" id="h4-0-2931" class="i">+    if (item == NULL)
</a><a href="#h4-0-2932" id="h4-0-2932" class="i">+    {
</a><a href="#h4-0-2933" id="h4-0-2933" class="i">+        return false;
</a><a href="#h4-0-2934" id="h4-0-2934" class="i">+    }
</a><a href="#h4-0-2935" id="h4-0-2935" class="i">+
</a><a href="#h4-0-2936" id="h4-0-2936" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Invalid;
</a><a href="#h4-0-2937" id="h4-0-2937" class="i">+}
</a><a href="#h4-0-2938" id="h4-0-2938" class="i">+
</a><a href="#h4-0-2939" id="h4-0-2939" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsFalse(const cJSON * const item)
</a><a href="#h4-0-2940" id="h4-0-2940" class="i">+{
</a><a href="#h4-0-2941" id="h4-0-2941" class="i">+    if (item == NULL)
</a><a href="#h4-0-2942" id="h4-0-2942" class="i">+    {
</a><a href="#h4-0-2943" id="h4-0-2943" class="i">+        return false;
</a><a href="#h4-0-2944" id="h4-0-2944" class="i">+    }
</a><a href="#h4-0-2945" id="h4-0-2945" class="i">+
</a><a href="#h4-0-2946" id="h4-0-2946" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_False;
</a><a href="#h4-0-2947" id="h4-0-2947" class="i">+}
</a><a href="#h4-0-2948" id="h4-0-2948" class="i">+
</a><a href="#h4-0-2949" id="h4-0-2949" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsTrue(const cJSON * const item)
</a><a href="#h4-0-2950" id="h4-0-2950" class="i">+{
</a><a href="#h4-0-2951" id="h4-0-2951" class="i">+    if (item == NULL)
</a><a href="#h4-0-2952" id="h4-0-2952" class="i">+    {
</a><a href="#h4-0-2953" id="h4-0-2953" class="i">+        return false;
</a><a href="#h4-0-2954" id="h4-0-2954" class="i">+    }
</a><a href="#h4-0-2955" id="h4-0-2955" class="i">+
</a><a href="#h4-0-2956" id="h4-0-2956" class="i">+    return (item-&gt;type &amp; 0xff) == cJSON_True;
</a><a href="#h4-0-2957" id="h4-0-2957" class="i">+}
</a><a href="#h4-0-2958" id="h4-0-2958" class="i">+
</a><a href="#h4-0-2959" id="h4-0-2959" class="i">+
</a><a href="#h4-0-2960" id="h4-0-2960" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsBool(const cJSON * const item)
</a><a href="#h4-0-2961" id="h4-0-2961" class="i">+{
</a><a href="#h4-0-2962" id="h4-0-2962" class="i">+    if (item == NULL)
</a><a href="#h4-0-2963" id="h4-0-2963" class="i">+    {
</a><a href="#h4-0-2964" id="h4-0-2964" class="i">+        return false;
</a><a href="#h4-0-2965" id="h4-0-2965" class="i">+    }
</a><a href="#h4-0-2966" id="h4-0-2966" class="i">+
</a><a href="#h4-0-2967" id="h4-0-2967" class="i">+    return (item-&gt;type &amp; (cJSON_True | cJSON_False)) != 0;
</a><a href="#h4-0-2968" id="h4-0-2968" class="i">+}
</a><a href="#h4-0-2969" id="h4-0-2969" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNull(const cJSON * const item)
</a><a href="#h4-0-2970" id="h4-0-2970" class="i">+{
</a><a href="#h4-0-2971" id="h4-0-2971" class="i">+    if (item == NULL)
</a><a href="#h4-0-2972" id="h4-0-2972" class="i">+    {
</a><a href="#h4-0-2973" id="h4-0-2973" class="i">+        return false;
</a><a href="#h4-0-2974" id="h4-0-2974" class="i">+    }
</a><a href="#h4-0-2975" id="h4-0-2975" class="i">+
</a><a href="#h4-0-2976" id="h4-0-2976" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_NULL;
</a><a href="#h4-0-2977" id="h4-0-2977" class="i">+}
</a><a href="#h4-0-2978" id="h4-0-2978" class="i">+
</a><a href="#h4-0-2979" id="h4-0-2979" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNumber(const cJSON * const item)
</a><a href="#h4-0-2980" id="h4-0-2980" class="i">+{
</a><a href="#h4-0-2981" id="h4-0-2981" class="i">+    if (item == NULL)
</a><a href="#h4-0-2982" id="h4-0-2982" class="i">+    {
</a><a href="#h4-0-2983" id="h4-0-2983" class="i">+        return false;
</a><a href="#h4-0-2984" id="h4-0-2984" class="i">+    }
</a><a href="#h4-0-2985" id="h4-0-2985" class="i">+
</a><a href="#h4-0-2986" id="h4-0-2986" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Number;
</a><a href="#h4-0-2987" id="h4-0-2987" class="i">+}
</a><a href="#h4-0-2988" id="h4-0-2988" class="i">+
</a><a href="#h4-0-2989" id="h4-0-2989" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsString(const cJSON * const item)
</a><a href="#h4-0-2990" id="h4-0-2990" class="i">+{
</a><a href="#h4-0-2991" id="h4-0-2991" class="i">+    if (item == NULL)
</a><a href="#h4-0-2992" id="h4-0-2992" class="i">+    {
</a><a href="#h4-0-2993" id="h4-0-2993" class="i">+        return false;
</a><a href="#h4-0-2994" id="h4-0-2994" class="i">+    }
</a><a href="#h4-0-2995" id="h4-0-2995" class="i">+
</a><a href="#h4-0-2996" id="h4-0-2996" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_String;
</a><a href="#h4-0-2997" id="h4-0-2997" class="i">+}
</a><a href="#h4-0-2998" id="h4-0-2998" class="i">+
</a><a href="#h4-0-2999" id="h4-0-2999" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsArray(const cJSON * const item)
</a><a href="#h4-0-3000" id="h4-0-3000" class="i">+{
</a><a href="#h4-0-3001" id="h4-0-3001" class="i">+    if (item == NULL)
</a><a href="#h4-0-3002" id="h4-0-3002" class="i">+    {
</a><a href="#h4-0-3003" id="h4-0-3003" class="i">+        return false;
</a><a href="#h4-0-3004" id="h4-0-3004" class="i">+    }
</a><a href="#h4-0-3005" id="h4-0-3005" class="i">+
</a><a href="#h4-0-3006" id="h4-0-3006" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Array;
</a><a href="#h4-0-3007" id="h4-0-3007" class="i">+}
</a><a href="#h4-0-3008" id="h4-0-3008" class="i">+
</a><a href="#h4-0-3009" id="h4-0-3009" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsObject(const cJSON * const item)
</a><a href="#h4-0-3010" id="h4-0-3010" class="i">+{
</a><a href="#h4-0-3011" id="h4-0-3011" class="i">+    if (item == NULL)
</a><a href="#h4-0-3012" id="h4-0-3012" class="i">+    {
</a><a href="#h4-0-3013" id="h4-0-3013" class="i">+        return false;
</a><a href="#h4-0-3014" id="h4-0-3014" class="i">+    }
</a><a href="#h4-0-3015" id="h4-0-3015" class="i">+
</a><a href="#h4-0-3016" id="h4-0-3016" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Object;
</a><a href="#h4-0-3017" id="h4-0-3017" class="i">+}
</a><a href="#h4-0-3018" id="h4-0-3018" class="i">+
</a><a href="#h4-0-3019" id="h4-0-3019" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsRaw(const cJSON * const item)
</a><a href="#h4-0-3020" id="h4-0-3020" class="i">+{
</a><a href="#h4-0-3021" id="h4-0-3021" class="i">+    if (item == NULL)
</a><a href="#h4-0-3022" id="h4-0-3022" class="i">+    {
</a><a href="#h4-0-3023" id="h4-0-3023" class="i">+        return false;
</a><a href="#h4-0-3024" id="h4-0-3024" class="i">+    }
</a><a href="#h4-0-3025" id="h4-0-3025" class="i">+
</a><a href="#h4-0-3026" id="h4-0-3026" class="i">+    return (item-&gt;type &amp; 0xFF) == cJSON_Raw;
</a><a href="#h4-0-3027" id="h4-0-3027" class="i">+}
</a><a href="#h4-0-3028" id="h4-0-3028" class="i">+
</a><a href="#h4-0-3029" id="h4-0-3029" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_Compare(const cJSON * const a, const cJSON * const b, const cJSON_bool case_sensitive)
</a><a href="#h4-0-3030" id="h4-0-3030" class="i">+{
</a><a href="#h4-0-3031" id="h4-0-3031" class="i">+    if ((a == NULL) || (b == NULL) || ((a-&gt;type &amp; 0xFF) != (b-&gt;type &amp; 0xFF)))
</a><a href="#h4-0-3032" id="h4-0-3032" class="i">+    {
</a><a href="#h4-0-3033" id="h4-0-3033" class="i">+        return false;
</a><a href="#h4-0-3034" id="h4-0-3034" class="i">+    }
</a><a href="#h4-0-3035" id="h4-0-3035" class="i">+
</a><a href="#h4-0-3036" id="h4-0-3036" class="i">+    /* check if type is valid */
</a><a href="#h4-0-3037" id="h4-0-3037" class="i">+    switch (a-&gt;type &amp; 0xFF)
</a><a href="#h4-0-3038" id="h4-0-3038" class="i">+    {
</a><a href="#h4-0-3039" id="h4-0-3039" class="i">+        case cJSON_False:
</a><a href="#h4-0-3040" id="h4-0-3040" class="i">+        case cJSON_True:
</a><a href="#h4-0-3041" id="h4-0-3041" class="i">+        case cJSON_NULL:
</a><a href="#h4-0-3042" id="h4-0-3042" class="i">+        case cJSON_Number:
</a><a href="#h4-0-3043" id="h4-0-3043" class="i">+        case cJSON_String:
</a><a href="#h4-0-3044" id="h4-0-3044" class="i">+        case cJSON_Raw:
</a><a href="#h4-0-3045" id="h4-0-3045" class="i">+        case cJSON_Array:
</a><a href="#h4-0-3046" id="h4-0-3046" class="i">+        case cJSON_Object:
</a><a href="#h4-0-3047" id="h4-0-3047" class="i">+            break;
</a><a href="#h4-0-3048" id="h4-0-3048" class="i">+
</a><a href="#h4-0-3049" id="h4-0-3049" class="i">+        default:
</a><a href="#h4-0-3050" id="h4-0-3050" class="i">+            return false;
</a><a href="#h4-0-3051" id="h4-0-3051" class="i">+    }
</a><a href="#h4-0-3052" id="h4-0-3052" class="i">+
</a><a href="#h4-0-3053" id="h4-0-3053" class="i">+    /* identical objects are equal */
</a><a href="#h4-0-3054" id="h4-0-3054" class="i">+    if (a == b)
</a><a href="#h4-0-3055" id="h4-0-3055" class="i">+    {
</a><a href="#h4-0-3056" id="h4-0-3056" class="i">+        return true;
</a><a href="#h4-0-3057" id="h4-0-3057" class="i">+    }
</a><a href="#h4-0-3058" id="h4-0-3058" class="i">+
</a><a href="#h4-0-3059" id="h4-0-3059" class="i">+    switch (a-&gt;type &amp; 0xFF)
</a><a href="#h4-0-3060" id="h4-0-3060" class="i">+    {
</a><a href="#h4-0-3061" id="h4-0-3061" class="i">+        /* in these cases and equal type is enough */
</a><a href="#h4-0-3062" id="h4-0-3062" class="i">+        case cJSON_False:
</a><a href="#h4-0-3063" id="h4-0-3063" class="i">+        case cJSON_True:
</a><a href="#h4-0-3064" id="h4-0-3064" class="i">+        case cJSON_NULL:
</a><a href="#h4-0-3065" id="h4-0-3065" class="i">+            return true;
</a><a href="#h4-0-3066" id="h4-0-3066" class="i">+
</a><a href="#h4-0-3067" id="h4-0-3067" class="i">+        case cJSON_Number:
</a><a href="#h4-0-3068" id="h4-0-3068" class="i">+            if (compare_double(a-&gt;valuedouble, b-&gt;valuedouble))
</a><a href="#h4-0-3069" id="h4-0-3069" class="i">+            {
</a><a href="#h4-0-3070" id="h4-0-3070" class="i">+                return true;
</a><a href="#h4-0-3071" id="h4-0-3071" class="i">+            }
</a><a href="#h4-0-3072" id="h4-0-3072" class="i">+            return false;
</a><a href="#h4-0-3073" id="h4-0-3073" class="i">+
</a><a href="#h4-0-3074" id="h4-0-3074" class="i">+        case cJSON_String:
</a><a href="#h4-0-3075" id="h4-0-3075" class="i">+        case cJSON_Raw:
</a><a href="#h4-0-3076" id="h4-0-3076" class="i">+            if ((a-&gt;valuestring == NULL) || (b-&gt;valuestring == NULL))
</a><a href="#h4-0-3077" id="h4-0-3077" class="i">+            {
</a><a href="#h4-0-3078" id="h4-0-3078" class="i">+                return false;
</a><a href="#h4-0-3079" id="h4-0-3079" class="i">+            }
</a><a href="#h4-0-3080" id="h4-0-3080" class="i">+            if (strcmp(a-&gt;valuestring, b-&gt;valuestring) == 0)
</a><a href="#h4-0-3081" id="h4-0-3081" class="i">+            {
</a><a href="#h4-0-3082" id="h4-0-3082" class="i">+                return true;
</a><a href="#h4-0-3083" id="h4-0-3083" class="i">+            }
</a><a href="#h4-0-3084" id="h4-0-3084" class="i">+
</a><a href="#h4-0-3085" id="h4-0-3085" class="i">+            return false;
</a><a href="#h4-0-3086" id="h4-0-3086" class="i">+
</a><a href="#h4-0-3087" id="h4-0-3087" class="i">+        case cJSON_Array:
</a><a href="#h4-0-3088" id="h4-0-3088" class="i">+        {
</a><a href="#h4-0-3089" id="h4-0-3089" class="i">+            cJSON *a_element = a-&gt;child;
</a><a href="#h4-0-3090" id="h4-0-3090" class="i">+            cJSON *b_element = b-&gt;child;
</a><a href="#h4-0-3091" id="h4-0-3091" class="i">+
</a><a href="#h4-0-3092" id="h4-0-3092" class="i">+            for (; (a_element != NULL) &amp;&amp; (b_element != NULL);)
</a><a href="#h4-0-3093" id="h4-0-3093" class="i">+            {
</a><a href="#h4-0-3094" id="h4-0-3094" class="i">+                if (!cJSON_Compare(a_element, b_element, case_sensitive))
</a><a href="#h4-0-3095" id="h4-0-3095" class="i">+                {
</a><a href="#h4-0-3096" id="h4-0-3096" class="i">+                    return false;
</a><a href="#h4-0-3097" id="h4-0-3097" class="i">+                }
</a><a href="#h4-0-3098" id="h4-0-3098" class="i">+
</a><a href="#h4-0-3099" id="h4-0-3099" class="i">+                a_element = a_element-&gt;next;
</a><a href="#h4-0-3100" id="h4-0-3100" class="i">+                b_element = b_element-&gt;next;
</a><a href="#h4-0-3101" id="h4-0-3101" class="i">+            }
</a><a href="#h4-0-3102" id="h4-0-3102" class="i">+
</a><a href="#h4-0-3103" id="h4-0-3103" class="i">+            /* one of the arrays is longer than the other */
</a><a href="#h4-0-3104" id="h4-0-3104" class="i">+            if (a_element != b_element) {
</a><a href="#h4-0-3105" id="h4-0-3105" class="i">+                return false;
</a><a href="#h4-0-3106" id="h4-0-3106" class="i">+            }
</a><a href="#h4-0-3107" id="h4-0-3107" class="i">+
</a><a href="#h4-0-3108" id="h4-0-3108" class="i">+            return true;
</a><a href="#h4-0-3109" id="h4-0-3109" class="i">+        }
</a><a href="#h4-0-3110" id="h4-0-3110" class="i">+
</a><a href="#h4-0-3111" id="h4-0-3111" class="i">+        case cJSON_Object:
</a><a href="#h4-0-3112" id="h4-0-3112" class="i">+        {
</a><a href="#h4-0-3113" id="h4-0-3113" class="i">+            cJSON *a_element = NULL;
</a><a href="#h4-0-3114" id="h4-0-3114" class="i">+            cJSON *b_element = NULL;
</a><a href="#h4-0-3115" id="h4-0-3115" class="i">+            cJSON_ArrayForEach(a_element, a)
</a><a href="#h4-0-3116" id="h4-0-3116" class="i">+            {
</a><a href="#h4-0-3117" id="h4-0-3117" class="i">+                /* TODO This has O(n^2) runtime, which is horrible! */
</a><a href="#h4-0-3118" id="h4-0-3118" class="i">+                b_element = get_object_item(b, a_element-&gt;string, case_sensitive);
</a><a href="#h4-0-3119" id="h4-0-3119" class="i">+                if (b_element == NULL)
</a><a href="#h4-0-3120" id="h4-0-3120" class="i">+                {
</a><a href="#h4-0-3121" id="h4-0-3121" class="i">+                    return false;
</a><a href="#h4-0-3122" id="h4-0-3122" class="i">+                }
</a><a href="#h4-0-3123" id="h4-0-3123" class="i">+
</a><a href="#h4-0-3124" id="h4-0-3124" class="i">+                if (!cJSON_Compare(a_element, b_element, case_sensitive))
</a><a href="#h4-0-3125" id="h4-0-3125" class="i">+                {
</a><a href="#h4-0-3126" id="h4-0-3126" class="i">+                    return false;
</a><a href="#h4-0-3127" id="h4-0-3127" class="i">+                }
</a><a href="#h4-0-3128" id="h4-0-3128" class="i">+            }
</a><a href="#h4-0-3129" id="h4-0-3129" class="i">+
</a><a href="#h4-0-3130" id="h4-0-3130" class="i">+            /* doing this twice, once on a and b to prevent true comparison if a subset of b
</a><a href="#h4-0-3131" id="h4-0-3131" class="i">+             * TODO: Do this the proper way, this is just a fix for now */
</a><a href="#h4-0-3132" id="h4-0-3132" class="i">+            cJSON_ArrayForEach(b_element, b)
</a><a href="#h4-0-3133" id="h4-0-3133" class="i">+            {
</a><a href="#h4-0-3134" id="h4-0-3134" class="i">+                a_element = get_object_item(a, b_element-&gt;string, case_sensitive);
</a><a href="#h4-0-3135" id="h4-0-3135" class="i">+                if (a_element == NULL)
</a><a href="#h4-0-3136" id="h4-0-3136" class="i">+                {
</a><a href="#h4-0-3137" id="h4-0-3137" class="i">+                    return false;
</a><a href="#h4-0-3138" id="h4-0-3138" class="i">+                }
</a><a href="#h4-0-3139" id="h4-0-3139" class="i">+
</a><a href="#h4-0-3140" id="h4-0-3140" class="i">+                if (!cJSON_Compare(b_element, a_element, case_sensitive))
</a><a href="#h4-0-3141" id="h4-0-3141" class="i">+                {
</a><a href="#h4-0-3142" id="h4-0-3142" class="i">+                    return false;
</a><a href="#h4-0-3143" id="h4-0-3143" class="i">+                }
</a><a href="#h4-0-3144" id="h4-0-3144" class="i">+            }
</a><a href="#h4-0-3145" id="h4-0-3145" class="i">+
</a><a href="#h4-0-3146" id="h4-0-3146" class="i">+            return true;
</a><a href="#h4-0-3147" id="h4-0-3147" class="i">+        }
</a><a href="#h4-0-3148" id="h4-0-3148" class="i">+
</a><a href="#h4-0-3149" id="h4-0-3149" class="i">+        default:
</a><a href="#h4-0-3150" id="h4-0-3150" class="i">+            return false;
</a><a href="#h4-0-3151" id="h4-0-3151" class="i">+    }
</a><a href="#h4-0-3152" id="h4-0-3152" class="i">+}
</a><a href="#h4-0-3153" id="h4-0-3153" class="i">+
</a><a href="#h4-0-3154" id="h4-0-3154" class="i">+CJSON_PUBLIC(void *) cJSON_malloc(size_t size)
</a><a href="#h4-0-3155" id="h4-0-3155" class="i">+{
</a><a href="#h4-0-3156" id="h4-0-3156" class="i">+    return global_hooks.allocate(size);
</a><a href="#h4-0-3157" id="h4-0-3157" class="i">+}
</a><a href="#h4-0-3158" id="h4-0-3158" class="i">+
</a><a href="#h4-0-3159" id="h4-0-3159" class="i">+CJSON_PUBLIC(void) cJSON_free(void *object)
</a><a href="#h4-0-3160" id="h4-0-3160" class="i">+{
</a><a href="#h4-0-3161" id="h4-0-3161" class="i">+    global_hooks.deallocate(object);
</a><a href="#h4-0-3162" id="h4-0-3162" class="i">+    object = NULL;
</a><a href="#h4-0-3163" id="h4-0-3163" class="i">+}
</a><b>diff --git a/<a id="h5" href="../file/cJSON.h.html">cJSON.h</a> b/<a href="../file/cJSON.h.html">cJSON.h</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -0,0 +1,306 @@
</a><a href="#h5-0-0" id="h5-0-0" class="i">+/*
</a><a href="#h5-0-1" id="h5-0-1" class="i">+  Copyright (c) 2009-2017 Dave Gamble and cJSON contributors
</a><a href="#h5-0-2" id="h5-0-2" class="i">+
</a><a href="#h5-0-3" id="h5-0-3" class="i">+  Permission is hereby granted, free of charge, to any person obtaining a copy
</a><a href="#h5-0-4" id="h5-0-4" class="i">+  of this software and associated documentation files (the &quot;Software&quot;), to deal
</a><a href="#h5-0-5" id="h5-0-5" class="i">+  in the Software without restriction, including without limitation the rights
</a><a href="#h5-0-6" id="h5-0-6" class="i">+  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
</a><a href="#h5-0-7" id="h5-0-7" class="i">+  copies of the Software, and to permit persons to whom the Software is
</a><a href="#h5-0-8" id="h5-0-8" class="i">+  furnished to do so, subject to the following conditions:
</a><a href="#h5-0-9" id="h5-0-9" class="i">+
</a><a href="#h5-0-10" id="h5-0-10" class="i">+  The above copyright notice and this permission notice shall be included in
</a><a href="#h5-0-11" id="h5-0-11" class="i">+  all copies or substantial portions of the Software.
</a><a href="#h5-0-12" id="h5-0-12" class="i">+
</a><a href="#h5-0-13" id="h5-0-13" class="i">+  THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</a><a href="#h5-0-14" id="h5-0-14" class="i">+  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
</a><a href="#h5-0-15" id="h5-0-15" class="i">+  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
</a><a href="#h5-0-16" id="h5-0-16" class="i">+  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
</a><a href="#h5-0-17" id="h5-0-17" class="i">+  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
</a><a href="#h5-0-18" id="h5-0-18" class="i">+  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
</a><a href="#h5-0-19" id="h5-0-19" class="i">+  THE SOFTWARE.
</a><a href="#h5-0-20" id="h5-0-20" class="i">+*/
</a><a href="#h5-0-21" id="h5-0-21" class="i">+
</a><a href="#h5-0-22" id="h5-0-22" class="i">+#ifndef cJSON__h
</a><a href="#h5-0-23" id="h5-0-23" class="i">+#define cJSON__h
</a><a href="#h5-0-24" id="h5-0-24" class="i">+
</a><a href="#h5-0-25" id="h5-0-25" class="i">+#ifdef __cplusplus
</a><a href="#h5-0-26" id="h5-0-26" class="i">+extern &quot;C&quot;
</a><a href="#h5-0-27" id="h5-0-27" class="i">+{
</a><a href="#h5-0-28" id="h5-0-28" class="i">+#endif
</a><a href="#h5-0-29" id="h5-0-29" class="i">+
</a><a href="#h5-0-30" id="h5-0-30" class="i">+#if !defined(__WINDOWS__) &amp;&amp; (defined(WIN32) || defined(WIN64) || defined(_MSC_VER) || defined(_WIN32))
</a><a href="#h5-0-31" id="h5-0-31" class="i">+#define __WINDOWS__
</a><a href="#h5-0-32" id="h5-0-32" class="i">+#endif
</a><a href="#h5-0-33" id="h5-0-33" class="i">+
</a><a href="#h5-0-34" id="h5-0-34" class="i">+#ifdef __WINDOWS__
</a><a href="#h5-0-35" id="h5-0-35" class="i">+
</a><a href="#h5-0-36" id="h5-0-36" class="i">+/* When compiling for windows, we specify a specific calling convention to avoid issues where we are being called from a project with a different default calling convention.  For windows you have 3 define options:
</a><a href="#h5-0-37" id="h5-0-37" class="i">+
</a><a href="#h5-0-38" id="h5-0-38" class="i">+CJSON_HIDE_SYMBOLS - Define this in the case where you don&#39;t want to ever dllexport symbols
</a><a href="#h5-0-39" id="h5-0-39" class="i">+CJSON_EXPORT_SYMBOLS - Define this on library build when you want to dllexport symbols (default)
</a><a href="#h5-0-40" id="h5-0-40" class="i">+CJSON_IMPORT_SYMBOLS - Define this if you want to dllimport symbol
</a><a href="#h5-0-41" id="h5-0-41" class="i">+
</a><a href="#h5-0-42" id="h5-0-42" class="i">+For *nix builds that support visibility attribute, you can define similar behavior by
</a><a href="#h5-0-43" id="h5-0-43" class="i">+
</a><a href="#h5-0-44" id="h5-0-44" class="i">+setting default visibility to hidden by adding
</a><a href="#h5-0-45" id="h5-0-45" class="i">+-fvisibility=hidden (for gcc)
</a><a href="#h5-0-46" id="h5-0-46" class="i">+or
</a><a href="#h5-0-47" id="h5-0-47" class="i">+-xldscope=hidden (for sun cc)
</a><a href="#h5-0-48" id="h5-0-48" class="i">+to CFLAGS
</a><a href="#h5-0-49" id="h5-0-49" class="i">+
</a><a href="#h5-0-50" id="h5-0-50" class="i">+then using the CJSON_API_VISIBILITY flag to &quot;export&quot; the same symbols the way CJSON_EXPORT_SYMBOLS does
</a><a href="#h5-0-51" id="h5-0-51" class="i">+
</a><a href="#h5-0-52" id="h5-0-52" class="i">+*/
</a><a href="#h5-0-53" id="h5-0-53" class="i">+
</a><a href="#h5-0-54" id="h5-0-54" class="i">+#define CJSON_CDECL __cdecl
</a><a href="#h5-0-55" id="h5-0-55" class="i">+#define CJSON_STDCALL __stdcall
</a><a href="#h5-0-56" id="h5-0-56" class="i">+
</a><a href="#h5-0-57" id="h5-0-57" class="i">+/* export symbols by default, this is necessary for copy pasting the C and header file */
</a><a href="#h5-0-58" id="h5-0-58" class="i">+#if !defined(CJSON_HIDE_SYMBOLS) &amp;&amp; !defined(CJSON_IMPORT_SYMBOLS) &amp;&amp; !defined(CJSON_EXPORT_SYMBOLS)
</a><a href="#h5-0-59" id="h5-0-59" class="i">+#define CJSON_EXPORT_SYMBOLS
</a><a href="#h5-0-60" id="h5-0-60" class="i">+#endif
</a><a href="#h5-0-61" id="h5-0-61" class="i">+
</a><a href="#h5-0-62" id="h5-0-62" class="i">+#if defined(CJSON_HIDE_SYMBOLS)
</a><a href="#h5-0-63" id="h5-0-63" class="i">+#define CJSON_PUBLIC(type)   type CJSON_STDCALL
</a><a href="#h5-0-64" id="h5-0-64" class="i">+#elif defined(CJSON_EXPORT_SYMBOLS)
</a><a href="#h5-0-65" id="h5-0-65" class="i">+#define CJSON_PUBLIC(type)   __declspec(dllexport) type CJSON_STDCALL
</a><a href="#h5-0-66" id="h5-0-66" class="i">+#elif defined(CJSON_IMPORT_SYMBOLS)
</a><a href="#h5-0-67" id="h5-0-67" class="i">+#define CJSON_PUBLIC(type)   __declspec(dllimport) type CJSON_STDCALL
</a><a href="#h5-0-68" id="h5-0-68" class="i">+#endif
</a><a href="#h5-0-69" id="h5-0-69" class="i">+#else /* !__WINDOWS__ */
</a><a href="#h5-0-70" id="h5-0-70" class="i">+#define CJSON_CDECL
</a><a href="#h5-0-71" id="h5-0-71" class="i">+#define CJSON_STDCALL
</a><a href="#h5-0-72" id="h5-0-72" class="i">+
</a><a href="#h5-0-73" id="h5-0-73" class="i">+#if (defined(__GNUC__) || defined(__SUNPRO_CC) || defined (__SUNPRO_C)) &amp;&amp; defined(CJSON_API_VISIBILITY)
</a><a href="#h5-0-74" id="h5-0-74" class="i">+#define CJSON_PUBLIC(type)   __attribute__((visibility(&quot;default&quot;))) type
</a><a href="#h5-0-75" id="h5-0-75" class="i">+#else
</a><a href="#h5-0-76" id="h5-0-76" class="i">+#define CJSON_PUBLIC(type) type
</a><a href="#h5-0-77" id="h5-0-77" class="i">+#endif
</a><a href="#h5-0-78" id="h5-0-78" class="i">+#endif
</a><a href="#h5-0-79" id="h5-0-79" class="i">+
</a><a href="#h5-0-80" id="h5-0-80" class="i">+/* project version */
</a><a href="#h5-0-81" id="h5-0-81" class="i">+#define CJSON_VERSION_MAJOR 1
</a><a href="#h5-0-82" id="h5-0-82" class="i">+#define CJSON_VERSION_MINOR 7
</a><a href="#h5-0-83" id="h5-0-83" class="i">+#define CJSON_VERSION_PATCH 18
</a><a href="#h5-0-84" id="h5-0-84" class="i">+
</a><a href="#h5-0-85" id="h5-0-85" class="i">+#include &lt;stddef.h&gt;
</a><a href="#h5-0-86" id="h5-0-86" class="i">+
</a><a href="#h5-0-87" id="h5-0-87" class="i">+/* cJSON Types: */
</a><a href="#h5-0-88" id="h5-0-88" class="i">+#define cJSON_Invalid (0)
</a><a href="#h5-0-89" id="h5-0-89" class="i">+#define cJSON_False  (1 &lt;&lt; 0)
</a><a href="#h5-0-90" id="h5-0-90" class="i">+#define cJSON_True   (1 &lt;&lt; 1)
</a><a href="#h5-0-91" id="h5-0-91" class="i">+#define cJSON_NULL   (1 &lt;&lt; 2)
</a><a href="#h5-0-92" id="h5-0-92" class="i">+#define cJSON_Number (1 &lt;&lt; 3)
</a><a href="#h5-0-93" id="h5-0-93" class="i">+#define cJSON_String (1 &lt;&lt; 4)
</a><a href="#h5-0-94" id="h5-0-94" class="i">+#define cJSON_Array  (1 &lt;&lt; 5)
</a><a href="#h5-0-95" id="h5-0-95" class="i">+#define cJSON_Object (1 &lt;&lt; 6)
</a><a href="#h5-0-96" id="h5-0-96" class="i">+#define cJSON_Raw    (1 &lt;&lt; 7) /* raw json */
</a><a href="#h5-0-97" id="h5-0-97" class="i">+
</a><a href="#h5-0-98" id="h5-0-98" class="i">+#define cJSON_IsReference 256
</a><a href="#h5-0-99" id="h5-0-99" class="i">+#define cJSON_StringIsConst 512
</a><a href="#h5-0-100" id="h5-0-100" class="i">+
</a><a href="#h5-0-101" id="h5-0-101" class="i">+/* The cJSON structure: */
</a><a href="#h5-0-102" id="h5-0-102" class="i">+typedef struct cJSON
</a><a href="#h5-0-103" id="h5-0-103" class="i">+{
</a><a href="#h5-0-104" id="h5-0-104" class="i">+    /* next/prev allow you to walk array/object chains. Alternatively, use GetArraySize/GetArrayItem/GetObjectItem */
</a><a href="#h5-0-105" id="h5-0-105" class="i">+    struct cJSON *next;
</a><a href="#h5-0-106" id="h5-0-106" class="i">+    struct cJSON *prev;
</a><a href="#h5-0-107" id="h5-0-107" class="i">+    /* An array or object item will have a child pointer pointing to a chain of the items in the array/object. */
</a><a href="#h5-0-108" id="h5-0-108" class="i">+    struct cJSON *child;
</a><a href="#h5-0-109" id="h5-0-109" class="i">+
</a><a href="#h5-0-110" id="h5-0-110" class="i">+    /* The type of the item, as above. */
</a><a href="#h5-0-111" id="h5-0-111" class="i">+    int type;
</a><a href="#h5-0-112" id="h5-0-112" class="i">+
</a><a href="#h5-0-113" id="h5-0-113" class="i">+    /* The item&#39;s string, if type==cJSON_String  and type == cJSON_Raw */
</a><a href="#h5-0-114" id="h5-0-114" class="i">+    char *valuestring;
</a><a href="#h5-0-115" id="h5-0-115" class="i">+    /* writing to valueint is DEPRECATED, use cJSON_SetNumberValue instead */
</a><a href="#h5-0-116" id="h5-0-116" class="i">+    int valueint;
</a><a href="#h5-0-117" id="h5-0-117" class="i">+    /* The item&#39;s number, if type==cJSON_Number */
</a><a href="#h5-0-118" id="h5-0-118" class="i">+    double valuedouble;
</a><a href="#h5-0-119" id="h5-0-119" class="i">+
</a><a href="#h5-0-120" id="h5-0-120" class="i">+    /* The item&#39;s name string, if this item is the child of, or is in the list of subitems of an object. */
</a><a href="#h5-0-121" id="h5-0-121" class="i">+    char *string;
</a><a href="#h5-0-122" id="h5-0-122" class="i">+} cJSON;
</a><a href="#h5-0-123" id="h5-0-123" class="i">+
</a><a href="#h5-0-124" id="h5-0-124" class="i">+typedef struct cJSON_Hooks
</a><a href="#h5-0-125" id="h5-0-125" class="i">+{
</a><a href="#h5-0-126" id="h5-0-126" class="i">+      /* malloc/free are CDECL on Windows regardless of the default calling convention of the compiler, so ensure the hooks allow passing those functions directly. */
</a><a href="#h5-0-127" id="h5-0-127" class="i">+      void *(CJSON_CDECL *malloc_fn)(size_t sz);
</a><a href="#h5-0-128" id="h5-0-128" class="i">+      void (CJSON_CDECL *free_fn)(void *ptr);
</a><a href="#h5-0-129" id="h5-0-129" class="i">+} cJSON_Hooks;
</a><a href="#h5-0-130" id="h5-0-130" class="i">+
</a><a href="#h5-0-131" id="h5-0-131" class="i">+typedef int cJSON_bool;
</a><a href="#h5-0-132" id="h5-0-132" class="i">+
</a><a href="#h5-0-133" id="h5-0-133" class="i">+/* Limits how deeply nested arrays/objects can be before cJSON rejects to parse them.
</a><a href="#h5-0-134" id="h5-0-134" class="i">+ * This is to prevent stack overflows. */
</a><a href="#h5-0-135" id="h5-0-135" class="i">+#ifndef CJSON_NESTING_LIMIT
</a><a href="#h5-0-136" id="h5-0-136" class="i">+#define CJSON_NESTING_LIMIT 1000
</a><a href="#h5-0-137" id="h5-0-137" class="i">+#endif
</a><a href="#h5-0-138" id="h5-0-138" class="i">+
</a><a href="#h5-0-139" id="h5-0-139" class="i">+/* Limits the length of circular references can be before cJSON rejects to parse them.
</a><a href="#h5-0-140" id="h5-0-140" class="i">+ * This is to prevent stack overflows. */
</a><a href="#h5-0-141" id="h5-0-141" class="i">+#ifndef CJSON_CIRCULAR_LIMIT
</a><a href="#h5-0-142" id="h5-0-142" class="i">+#define CJSON_CIRCULAR_LIMIT 10000
</a><a href="#h5-0-143" id="h5-0-143" class="i">+#endif
</a><a href="#h5-0-144" id="h5-0-144" class="i">+
</a><a href="#h5-0-145" id="h5-0-145" class="i">+/* returns the version of cJSON as a string */
</a><a href="#h5-0-146" id="h5-0-146" class="i">+CJSON_PUBLIC(const char*) cJSON_Version(void);
</a><a href="#h5-0-147" id="h5-0-147" class="i">+
</a><a href="#h5-0-148" id="h5-0-148" class="i">+/* Supply malloc, realloc and free functions to cJSON */
</a><a href="#h5-0-149" id="h5-0-149" class="i">+CJSON_PUBLIC(void) cJSON_InitHooks(cJSON_Hooks* hooks);
</a><a href="#h5-0-150" id="h5-0-150" class="i">+
</a><a href="#h5-0-151" id="h5-0-151" class="i">+/* Memory Management: the caller is always responsible to free the results from all variants of cJSON_Parse (with cJSON_Delete) and cJSON_Print (with stdlib free, cJSON_Hooks.free_fn, or cJSON_free as appropriate). The exception is cJSON_PrintPreallocated, where the caller has full responsibility of the buffer. */
</a><a href="#h5-0-152" id="h5-0-152" class="i">+/* Supply a block of JSON, and this returns a cJSON object you can interrogate. */
</a><a href="#h5-0-153" id="h5-0-153" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Parse(const char *value);
</a><a href="#h5-0-154" id="h5-0-154" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLength(const char *value, size_t buffer_length);
</a><a href="#h5-0-155" id="h5-0-155" class="i">+/* ParseWithOpts allows you to require (and check) that the JSON is null terminated, and to retrieve the pointer to the final byte parsed. */
</a><a href="#h5-0-156" id="h5-0-156" class="i">+/* If you supply a ptr in return_parse_end and parsing fails, then return_parse_end will contain a pointer to the error so will match cJSON_GetErrorPtr(). */
</a><a href="#h5-0-157" id="h5-0-157" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithOpts(const char *value, const char **return_parse_end, cJSON_bool require_null_terminated);
</a><a href="#h5-0-158" id="h5-0-158" class="i">+CJSON_PUBLIC(cJSON *) cJSON_ParseWithLengthOpts(const char *value, size_t buffer_length, const char **return_parse_end, cJSON_bool require_null_terminated);
</a><a href="#h5-0-159" id="h5-0-159" class="i">+
</a><a href="#h5-0-160" id="h5-0-160" class="i">+/* Render a cJSON entity to text for transfer/storage. */
</a><a href="#h5-0-161" id="h5-0-161" class="i">+CJSON_PUBLIC(char *) cJSON_Print(const cJSON *item);
</a><a href="#h5-0-162" id="h5-0-162" class="i">+/* Render a cJSON entity to text for transfer/storage without any formatting. */
</a><a href="#h5-0-163" id="h5-0-163" class="i">+CJSON_PUBLIC(char *) cJSON_PrintUnformatted(const cJSON *item);
</a><a href="#h5-0-164" id="h5-0-164" class="i">+/* Render a cJSON entity to text using a buffered strategy. prebuffer is a guess at the final size. guessing well reduces reallocation. fmt=0 gives unformatted, =1 gives formatted */
</a><a href="#h5-0-165" id="h5-0-165" class="i">+CJSON_PUBLIC(char *) cJSON_PrintBuffered(const cJSON *item, int prebuffer, cJSON_bool fmt);
</a><a href="#h5-0-166" id="h5-0-166" class="i">+/* Render a cJSON entity to text using a buffer already allocated in memory with given length. Returns 1 on success and 0 on failure. */
</a><a href="#h5-0-167" id="h5-0-167" class="i">+/* NOTE: cJSON is not always 100% accurate in estimating how much memory it will use, so to be safe allocate 5 bytes more than you actually need */
</a><a href="#h5-0-168" id="h5-0-168" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_PrintPreallocated(cJSON *item, char *buffer, const int length, const cJSON_bool format);
</a><a href="#h5-0-169" id="h5-0-169" class="i">+/* Delete a cJSON entity and all subentities. */
</a><a href="#h5-0-170" id="h5-0-170" class="i">+CJSON_PUBLIC(void) cJSON_Delete(cJSON *item);
</a><a href="#h5-0-171" id="h5-0-171" class="i">+
</a><a href="#h5-0-172" id="h5-0-172" class="i">+/* Returns the number of items in an array (or object). */
</a><a href="#h5-0-173" id="h5-0-173" class="i">+CJSON_PUBLIC(int) cJSON_GetArraySize(const cJSON *array);
</a><a href="#h5-0-174" id="h5-0-174" class="i">+/* Retrieve item number &quot;index&quot; from array &quot;array&quot;. Returns NULL if unsuccessful. */
</a><a href="#h5-0-175" id="h5-0-175" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetArrayItem(const cJSON *array, int index);
</a><a href="#h5-0-176" id="h5-0-176" class="i">+/* Get item &quot;string&quot; from object. Case insensitive. */
</a><a href="#h5-0-177" id="h5-0-177" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItem(const cJSON * const object, const char * const string);
</a><a href="#h5-0-178" id="h5-0-178" class="i">+CJSON_PUBLIC(cJSON *) cJSON_GetObjectItemCaseSensitive(const cJSON * const object, const char * const string);
</a><a href="#h5-0-179" id="h5-0-179" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_HasObjectItem(const cJSON *object, const char *string);
</a><a href="#h5-0-180" id="h5-0-180" class="i">+/* For analysing failed parses. This returns a pointer to the parse error. You&#39;ll probably need to look a few chars back to make sense of it. Defined when cJSON_Parse() returns 0. 0 when cJSON_Parse() succeeds. */
</a><a href="#h5-0-181" id="h5-0-181" class="i">+CJSON_PUBLIC(const char *) cJSON_GetErrorPtr(void);
</a><a href="#h5-0-182" id="h5-0-182" class="i">+
</a><a href="#h5-0-183" id="h5-0-183" class="i">+/* Check item type and return its value */
</a><a href="#h5-0-184" id="h5-0-184" class="i">+CJSON_PUBLIC(char *) cJSON_GetStringValue(const cJSON * const item);
</a><a href="#h5-0-185" id="h5-0-185" class="i">+CJSON_PUBLIC(double) cJSON_GetNumberValue(const cJSON * const item);
</a><a href="#h5-0-186" id="h5-0-186" class="i">+
</a><a href="#h5-0-187" id="h5-0-187" class="i">+/* These functions check the type of an item */
</a><a href="#h5-0-188" id="h5-0-188" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsInvalid(const cJSON * const item);
</a><a href="#h5-0-189" id="h5-0-189" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsFalse(const cJSON * const item);
</a><a href="#h5-0-190" id="h5-0-190" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsTrue(const cJSON * const item);
</a><a href="#h5-0-191" id="h5-0-191" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsBool(const cJSON * const item);
</a><a href="#h5-0-192" id="h5-0-192" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNull(const cJSON * const item);
</a><a href="#h5-0-193" id="h5-0-193" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsNumber(const cJSON * const item);
</a><a href="#h5-0-194" id="h5-0-194" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsString(const cJSON * const item);
</a><a href="#h5-0-195" id="h5-0-195" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsArray(const cJSON * const item);
</a><a href="#h5-0-196" id="h5-0-196" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsObject(const cJSON * const item);
</a><a href="#h5-0-197" id="h5-0-197" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_IsRaw(const cJSON * const item);
</a><a href="#h5-0-198" id="h5-0-198" class="i">+
</a><a href="#h5-0-199" id="h5-0-199" class="i">+/* These calls create a cJSON item of the appropriate type. */
</a><a href="#h5-0-200" id="h5-0-200" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNull(void);
</a><a href="#h5-0-201" id="h5-0-201" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateTrue(void);
</a><a href="#h5-0-202" id="h5-0-202" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFalse(void);
</a><a href="#h5-0-203" id="h5-0-203" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateBool(cJSON_bool boolean);
</a><a href="#h5-0-204" id="h5-0-204" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateNumber(double num);
</a><a href="#h5-0-205" id="h5-0-205" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateString(const char *string);
</a><a href="#h5-0-206" id="h5-0-206" class="i">+/* raw json */
</a><a href="#h5-0-207" id="h5-0-207" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateRaw(const char *raw);
</a><a href="#h5-0-208" id="h5-0-208" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArray(void);
</a><a href="#h5-0-209" id="h5-0-209" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObject(void);
</a><a href="#h5-0-210" id="h5-0-210" class="i">+
</a><a href="#h5-0-211" id="h5-0-211" class="i">+/* Create a string where valuestring references a string so
</a><a href="#h5-0-212" id="h5-0-212" class="i">+ * it will not be freed by cJSON_Delete */
</a><a href="#h5-0-213" id="h5-0-213" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringReference(const char *string);
</a><a href="#h5-0-214" id="h5-0-214" class="i">+/* Create an object/array that only references it&#39;s elements so
</a><a href="#h5-0-215" id="h5-0-215" class="i">+ * they will not be freed by cJSON_Delete */
</a><a href="#h5-0-216" id="h5-0-216" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateObjectReference(const cJSON *child);
</a><a href="#h5-0-217" id="h5-0-217" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateArrayReference(const cJSON *child);
</a><a href="#h5-0-218" id="h5-0-218" class="i">+
</a><a href="#h5-0-219" id="h5-0-219" class="i">+/* These utilities create an Array of count items.
</a><a href="#h5-0-220" id="h5-0-220" class="i">+ * The parameter count cannot be greater than the number of elements in the number array, otherwise array access will be out of bounds.*/
</a><a href="#h5-0-221" id="h5-0-221" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateIntArray(const int *numbers, int count);
</a><a href="#h5-0-222" id="h5-0-222" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateFloatArray(const float *numbers, int count);
</a><a href="#h5-0-223" id="h5-0-223" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateDoubleArray(const double *numbers, int count);
</a><a href="#h5-0-224" id="h5-0-224" class="i">+CJSON_PUBLIC(cJSON *) cJSON_CreateStringArray(const char *const *strings, int count);
</a><a href="#h5-0-225" id="h5-0-225" class="i">+
</a><a href="#h5-0-226" id="h5-0-226" class="i">+/* Append item to the specified array/object. */
</a><a href="#h5-0-227" id="h5-0-227" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToArray(cJSON *array, cJSON *item);
</a><a href="#h5-0-228" id="h5-0-228" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObject(cJSON *object, const char *string, cJSON *item);
</a><a href="#h5-0-229" id="h5-0-229" class="i">+/* Use this when string is definitely const (i.e. a literal, or as good as), and will definitely survive the cJSON object.
</a><a href="#h5-0-230" id="h5-0-230" class="i">+ * WARNING: When this function was used, make sure to always check that (item-&gt;type &amp; cJSON_StringIsConst) is zero before
</a><a href="#h5-0-231" id="h5-0-231" class="i">+ * writing to `item-&gt;string` */
</a><a href="#h5-0-232" id="h5-0-232" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObjectCS(cJSON *object, const char *string, cJSON *item);
</a><a href="#h5-0-233" id="h5-0-233" class="i">+/* Append reference to item to the specified array/object. Use this when you want to add an existing cJSON to a new cJSON, but don&#39;t want to corrupt your existing cJSON. */
</a><a href="#h5-0-234" id="h5-0-234" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToArray(cJSON *array, cJSON *item);
</a><a href="#h5-0-235" id="h5-0-235" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_AddItemReferenceToObject(cJSON *object, const char *string, cJSON *item);
</a><a href="#h5-0-236" id="h5-0-236" class="i">+
</a><a href="#h5-0-237" id="h5-0-237" class="i">+/* Remove/Detach items from Arrays/Objects. */
</a><a href="#h5-0-238" id="h5-0-238" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemViaPointer(cJSON *parent, cJSON * const item);
</a><a href="#h5-0-239" id="h5-0-239" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromArray(cJSON *array, int which);
</a><a href="#h5-0-240" id="h5-0-240" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromArray(cJSON *array, int which);
</a><a href="#h5-0-241" id="h5-0-241" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObject(cJSON *object, const char *string);
</a><a href="#h5-0-242" id="h5-0-242" class="i">+CJSON_PUBLIC(cJSON *) cJSON_DetachItemFromObjectCaseSensitive(cJSON *object, const char *string);
</a><a href="#h5-0-243" id="h5-0-243" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObject(cJSON *object, const char *string);
</a><a href="#h5-0-244" id="h5-0-244" class="i">+CJSON_PUBLIC(void) cJSON_DeleteItemFromObjectCaseSensitive(cJSON *object, const char *string);
</a><a href="#h5-0-245" id="h5-0-245" class="i">+
</a><a href="#h5-0-246" id="h5-0-246" class="i">+/* Update array items. */
</a><a href="#h5-0-247" id="h5-0-247" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_InsertItemInArray(cJSON *array, int which, cJSON *newitem); /* Shifts pre-existing items to the right. */
</a><a href="#h5-0-248" id="h5-0-248" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemViaPointer(cJSON * const parent, cJSON * const item, cJSON * replacement);
</a><a href="#h5-0-249" id="h5-0-249" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInArray(cJSON *array, int which, cJSON *newitem);
</a><a href="#h5-0-250" id="h5-0-250" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObject(cJSON *object,const char *string,cJSON *newitem);
</a><a href="#h5-0-251" id="h5-0-251" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_ReplaceItemInObjectCaseSensitive(cJSON *object,const char *string,cJSON *newitem);
</a><a href="#h5-0-252" id="h5-0-252" class="i">+
</a><a href="#h5-0-253" id="h5-0-253" class="i">+/* Duplicate a cJSON item */
</a><a href="#h5-0-254" id="h5-0-254" class="i">+CJSON_PUBLIC(cJSON *) cJSON_Duplicate(const cJSON *item, cJSON_bool recurse);
</a><a href="#h5-0-255" id="h5-0-255" class="i">+/* Duplicate will create a new, identical cJSON item to the one you pass, in new memory that will
</a><a href="#h5-0-256" id="h5-0-256" class="i">+ * need to be released. With recurse!=0, it will duplicate any children connected to the item.
</a><a href="#h5-0-257" id="h5-0-257" class="i">+ * The item-&gt;next and -&gt;prev pointers are always zero on return from Duplicate. */
</a><a href="#h5-0-258" id="h5-0-258" class="i">+/* Recursively compare two cJSON items for equality. If either a or b is NULL or invalid, they will be considered unequal.
</a><a href="#h5-0-259" id="h5-0-259" class="i">+ * case_sensitive determines if object keys are treated case sensitive (1) or case insensitive (0) */
</a><a href="#h5-0-260" id="h5-0-260" class="i">+CJSON_PUBLIC(cJSON_bool) cJSON_Compare(const cJSON * const a, const cJSON * const b, const cJSON_bool case_sensitive);
</a><a href="#h5-0-261" id="h5-0-261" class="i">+
</a><a href="#h5-0-262" id="h5-0-262" class="i">+/* Minify a strings, remove blank characters(such as &#39; &#39;, &#39;\t&#39;, &#39;\r&#39;, &#39;\n&#39;) from strings.
</a><a href="#h5-0-263" id="h5-0-263" class="i">+ * The input pointer json cannot point to a read-only address area, such as a string constant, 
</a><a href="#h5-0-264" id="h5-0-264" class="i">+ * but should point to a readable and writable address area. */
</a><a href="#h5-0-265" id="h5-0-265" class="i">+CJSON_PUBLIC(void) cJSON_Minify(char *json);
</a><a href="#h5-0-266" id="h5-0-266" class="i">+
</a><a href="#h5-0-267" id="h5-0-267" class="i">+/* Helper functions for creating and adding items to an object at the same time.
</a><a href="#h5-0-268" id="h5-0-268" class="i">+ * They return the added item or NULL on failure. */
</a><a href="#h5-0-269" id="h5-0-269" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNullToObject(cJSON * const object, const char * const name);
</a><a href="#h5-0-270" id="h5-0-270" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddTrueToObject(cJSON * const object, const char * const name);
</a><a href="#h5-0-271" id="h5-0-271" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddFalseToObject(cJSON * const object, const char * const name);
</a><a href="#h5-0-272" id="h5-0-272" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddBoolToObject(cJSON * const object, const char * const name, const cJSON_bool boolean);
</a><a href="#h5-0-273" id="h5-0-273" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddNumberToObject(cJSON * const object, const char * const name, const double number);
</a><a href="#h5-0-274" id="h5-0-274" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddStringToObject(cJSON * const object, const char * const name, const char * const string);
</a><a href="#h5-0-275" id="h5-0-275" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddRawToObject(cJSON * const object, const char * const name, const char * const raw);
</a><a href="#h5-0-276" id="h5-0-276" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddObjectToObject(cJSON * const object, const char * const name);
</a><a href="#h5-0-277" id="h5-0-277" class="i">+CJSON_PUBLIC(cJSON*) cJSON_AddArrayToObject(cJSON * const object, const char * const name);
</a><a href="#h5-0-278" id="h5-0-278" class="i">+
</a><a href="#h5-0-279" id="h5-0-279" class="i">+/* When assigning an integer value, it needs to be propagated to valuedouble too. */
</a><a href="#h5-0-280" id="h5-0-280" class="i">+#define cJSON_SetIntValue(object, number) ((object) ? (object)-&gt;valueint = (object)-&gt;valuedouble = (number) : (number))
</a><a href="#h5-0-281" id="h5-0-281" class="i">+/* helper for the cJSON_SetNumberValue macro */
</a><a href="#h5-0-282" id="h5-0-282" class="i">+CJSON_PUBLIC(double) cJSON_SetNumberHelper(cJSON *object, double number);
</a><a href="#h5-0-283" id="h5-0-283" class="i">+#define cJSON_SetNumberValue(object, number) ((object != NULL) ? cJSON_SetNumberHelper(object, (double)number) : (number))
</a><a href="#h5-0-284" id="h5-0-284" class="i">+/* Change the valuestring of a cJSON_String object, only takes effect when type of object is cJSON_String */
</a><a href="#h5-0-285" id="h5-0-285" class="i">+CJSON_PUBLIC(char*) cJSON_SetValuestring(cJSON *object, const char *valuestring);
</a><a href="#h5-0-286" id="h5-0-286" class="i">+
</a><a href="#h5-0-287" id="h5-0-287" class="i">+/* If the object is not a boolean type this does nothing and returns cJSON_Invalid else it returns the new type*/
</a><a href="#h5-0-288" id="h5-0-288" class="i">+#define cJSON_SetBoolValue(object, boolValue) ( \
</a><a href="#h5-0-289" id="h5-0-289" class="i">+    (object != NULL &amp;&amp; ((object)-&gt;type &amp; (cJSON_False|cJSON_True))) ? \
</a><a href="#h5-0-290" id="h5-0-290" class="i">+    (object)-&gt;type=((object)-&gt;type &amp;(~(cJSON_False|cJSON_True)))|((boolValue)?cJSON_True:cJSON_False) : \
</a><a href="#h5-0-291" id="h5-0-291" class="i">+    cJSON_Invalid\
</a><a href="#h5-0-292" id="h5-0-292" class="i">+)
</a><a href="#h5-0-293" id="h5-0-293" class="i">+
</a><a href="#h5-0-294" id="h5-0-294" class="i">+/* Macro for iterating over an array or object */
</a><a href="#h5-0-295" id="h5-0-295" class="i">+#define cJSON_ArrayForEach(element, array) for(element = (array != NULL) ? (array)-&gt;child : NULL; element != NULL; element = element-&gt;next)
</a><a href="#h5-0-296" id="h5-0-296" class="i">+
</a><a href="#h5-0-297" id="h5-0-297" class="i">+/* malloc/free objects using the malloc/free functions that have been set with cJSON_InitHooks */
</a><a href="#h5-0-298" id="h5-0-298" class="i">+CJSON_PUBLIC(void *) cJSON_malloc(size_t size);
</a><a href="#h5-0-299" id="h5-0-299" class="i">+CJSON_PUBLIC(void) cJSON_free(void *object);
</a><a href="#h5-0-300" id="h5-0-300" class="i">+
</a><a href="#h5-0-301" id="h5-0-301" class="i">+#ifdef __cplusplus
</a><a href="#h5-0-302" id="h5-0-302" class="i">+}
</a><a href="#h5-0-303" id="h5-0-303" class="i">+#endif
</a><a href="#h5-0-304" id="h5-0-304" class="i">+
</a><a href="#h5-0-305" id="h5-0-305" class="i">+#endif
</a><b>diff --git a/<a id="h6" href="../file/compat.h.html">compat.h</a> b/<a href="../file/compat.h.html">compat.h</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -0,0 +1,6 @@
</a><a href="#h6-0-0" id="h6-0-0" class="i">+#undef strlcat
</a><a href="#h6-0-1" id="h6-0-1" class="i">+size_t strlcat(char *, const char *, size_t);
</a><a href="#h6-0-2" id="h6-0-2" class="i">+#undef strlcpy
</a><a href="#h6-0-3" id="h6-0-3" class="i">+size_t strlcpy(char *, const char *, size_t);
</a><a href="#h6-0-4" id="h6-0-4" class="i">+#undef reallocarray
</a><a href="#h6-0-5" id="h6-0-5" class="i">+void *reallocarray(void *, size_t, size_t);
</a><b>diff --git a/<a id="h7" href="../file/example_create.sh.html">example_create.sh</a> b/<a href="../file/example_create.sh.html">example_create.sh</a></b>
<a href="#h7-0" id="h7-0" class="h">@@ -0,0 +1,43 @@
</a><a href="#h7-0-0" id="h7-0-0" class="i">+#!/bin/sh
</a><a href="#h7-0-1" id="h7-0-1" class="i">+# - Makes index for repositories in a single directory.
</a><a href="#h7-0-2" id="h7-0-2" class="i">+# - Makes static pages for each repository directory.
</a><a href="#h7-0-3" id="h7-0-3" class="i">+#
</a><a href="#h7-0-4" id="h7-0-4" class="i">+# NOTE, things to do manually (once) before running this script:
</a><a href="#h7-0-5" id="h7-0-5" class="i">+# - copy style.css, logo.png and favicon.png manually, a style.css example
</a><a href="#h7-0-6" id="h7-0-6" class="i">+#   is included.
</a><a href="#h7-0-7" id="h7-0-7" class="i">+#
</a><a href="#h7-0-8" id="h7-0-8" class="i">+# - write clone URL, for example &quot;git://git.codemadness.org/dir&quot; to the &quot;url&quot;
</a><a href="#h7-0-9" id="h7-0-9" class="i">+#   file for each repo.
</a><a href="#h7-0-10" id="h7-0-10" class="i">+# - write owner of repo to the &quot;owner&quot; file.
</a><a href="#h7-0-11" id="h7-0-11" class="i">+# - write description in &quot;description&quot; file.
</a><a href="#h7-0-12" id="h7-0-12" class="i">+#
</a><a href="#h7-0-13" id="h7-0-13" class="i">+# Usage:
</a><a href="#h7-0-14" id="h7-0-14" class="i">+# - mkdir -p htmldir &amp;&amp; cd htmldir
</a><a href="#h7-0-15" id="h7-0-15" class="i">+# - sh example_create.sh
</a><a href="#h7-0-16" id="h7-0-16" class="i">+
</a><a href="#h7-0-17" id="h7-0-17" class="i">+# path must be absolute.
</a><a href="#h7-0-18" id="h7-0-18" class="i">+reposdir=&quot;/var/www/domains/git.codemadness.nl/home/src&quot;
</a><a href="#h7-0-19" id="h7-0-19" class="i">+curdir=&quot;$(pwd)&quot;
</a><a href="#h7-0-20" id="h7-0-20" class="i">+
</a><a href="#h7-0-21" id="h7-0-21" class="i">+# make index.
</a><a href="#h7-0-22" id="h7-0-22" class="i">+stagit-index &quot;${reposdir}/&quot;*/ &gt; &quot;${curdir}/index.html&quot;
</a><a href="#h7-0-23" id="h7-0-23" class="i">+
</a><a href="#h7-0-24" id="h7-0-24" class="i">+# make files per repo.
</a><a href="#h7-0-25" id="h7-0-25" class="i">+for dir in &quot;${reposdir}/&quot;*/; do
</a><a href="#h7-0-26" id="h7-0-26" class="i">+	# strip .git suffix.
</a><a href="#h7-0-27" id="h7-0-27" class="i">+	r=$(basename &quot;${dir}&quot;)
</a><a href="#h7-0-28" id="h7-0-28" class="i">+	d=$(basename &quot;${dir}&quot; &quot;.git&quot;)
</a><a href="#h7-0-29" id="h7-0-29" class="i">+	printf &quot;%s... &quot; &quot;${d}&quot;
</a><a href="#h7-0-30" id="h7-0-30" class="i">+
</a><a href="#h7-0-31" id="h7-0-31" class="i">+	mkdir -p &quot;${curdir}/${d}&quot;
</a><a href="#h7-0-32" id="h7-0-32" class="i">+	cd &quot;${curdir}/${d}&quot; || continue
</a><a href="#h7-0-33" id="h7-0-33" class="i">+	stagit -c &quot;.cache&quot; -u &quot;https://git.codemadness.nl/$d/&quot; &quot;${reposdir}/${r}&quot;
</a><a href="#h7-0-34" id="h7-0-34" class="i">+
</a><a href="#h7-0-35" id="h7-0-35" class="i">+	# symlinks
</a><a href="#h7-0-36" id="h7-0-36" class="i">+	ln -sf log.html index.html
</a><a href="#h7-0-37" id="h7-0-37" class="i">+	ln -sf ../style.css style.css
</a><a href="#h7-0-38" id="h7-0-38" class="i">+	ln -sf ../logo.png logo.png
</a><a href="#h7-0-39" id="h7-0-39" class="i">+	ln -sf ../favicon.png favicon.png
</a><a href="#h7-0-40" id="h7-0-40" class="i">+
</a><a href="#h7-0-41" id="h7-0-41" class="i">+	echo &quot;done&quot;
</a><a href="#h7-0-42" id="h7-0-42" class="i">+done
</a><b>diff --git a/<a id="h8" href="../file/example_post-receive.sh.html">example_post-receive.sh</a> b/<a href="../file/example_post-receive.sh.html">example_post-receive.sh</a></b>
<a href="#h8-0" id="h8-0" class="h">@@ -0,0 +1,73 @@
</a><a href="#h8-0-0" id="h8-0-0" class="i">+#!/bin/sh
</a><a href="#h8-0-1" id="h8-0-1" class="i">+# generic git post-receive hook.
</a><a href="#h8-0-2" id="h8-0-2" class="i">+# change the config options below and call this script in your post-receive
</a><a href="#h8-0-3" id="h8-0-3" class="i">+# hook or symlink it.
</a><a href="#h8-0-4" id="h8-0-4" class="i">+#
</a><a href="#h8-0-5" id="h8-0-5" class="i">+# usage: $0 [name]
</a><a href="#h8-0-6" id="h8-0-6" class="i">+#
</a><a href="#h8-0-7" id="h8-0-7" class="i">+# if name is not set the basename of the current directory is used,
</a><a href="#h8-0-8" id="h8-0-8" class="i">+# this is the directory of the repo when called from the post-receive script.
</a><a href="#h8-0-9" id="h8-0-9" class="i">+
</a><a href="#h8-0-10" id="h8-0-10" class="i">+# NOTE: needs to be set for correct locale (expects UTF-8) otherwise the
</a><a href="#h8-0-11" id="h8-0-11" class="i">+#       default is LC_CTYPE=&quot;POSIX&quot;.
</a><a href="#h8-0-12" id="h8-0-12" class="i">+export LC_CTYPE=&quot;en_US.UTF-8&quot;
</a><a href="#h8-0-13" id="h8-0-13" class="i">+
</a><a href="#h8-0-14" id="h8-0-14" class="i">+name=&quot;$1&quot;
</a><a href="#h8-0-15" id="h8-0-15" class="i">+if test &quot;${name}&quot; = &quot;&quot;; then
</a><a href="#h8-0-16" id="h8-0-16" class="i">+	name=$(basename &quot;$(pwd)&quot;)
</a><a href="#h8-0-17" id="h8-0-17" class="i">+fi
</a><a href="#h8-0-18" id="h8-0-18" class="i">+
</a><a href="#h8-0-19" id="h8-0-19" class="i">+# config
</a><a href="#h8-0-20" id="h8-0-20" class="i">+# paths must be absolute.
</a><a href="#h8-0-21" id="h8-0-21" class="i">+reposdir=&quot;/home/src/src&quot;
</a><a href="#h8-0-22" id="h8-0-22" class="i">+dir=&quot;${reposdir}/${name}&quot;
</a><a href="#h8-0-23" id="h8-0-23" class="i">+htmldir=&quot;/home/www/domains/git.codemadness.org/htdocs&quot;
</a><a href="#h8-0-24" id="h8-0-24" class="i">+stagitdir=&quot;/&quot;
</a><a href="#h8-0-25" id="h8-0-25" class="i">+destdir=&quot;${htmldir}${stagitdir}&quot;
</a><a href="#h8-0-26" id="h8-0-26" class="i">+cachefile=&quot;.htmlcache&quot;
</a><a href="#h8-0-27" id="h8-0-27" class="i">+# /config
</a><a href="#h8-0-28" id="h8-0-28" class="i">+
</a><a href="#h8-0-29" id="h8-0-29" class="i">+if ! test -d &quot;${dir}&quot;; then
</a><a href="#h8-0-30" id="h8-0-30" class="i">+	echo &quot;${dir} does not exist&quot; &gt;&amp;2
</a><a href="#h8-0-31" id="h8-0-31" class="i">+	exit 1
</a><a href="#h8-0-32" id="h8-0-32" class="i">+fi
</a><a href="#h8-0-33" id="h8-0-33" class="i">+cd &quot;${dir}&quot; || exit 1
</a><a href="#h8-0-34" id="h8-0-34" class="i">+
</a><a href="#h8-0-35" id="h8-0-35" class="i">+# detect git push -f
</a><a href="#h8-0-36" id="h8-0-36" class="i">+force=0
</a><a href="#h8-0-37" id="h8-0-37" class="i">+while read -r old new ref; do
</a><a href="#h8-0-38" id="h8-0-38" class="i">+	test &quot;${old}&quot; = &quot;0000000000000000000000000000000000000000&quot; &amp;&amp; continue
</a><a href="#h8-0-39" id="h8-0-39" class="i">+	test &quot;${new}&quot; = &quot;0000000000000000000000000000000000000000&quot; &amp;&amp; continue
</a><a href="#h8-0-40" id="h8-0-40" class="i">+
</a><a href="#h8-0-41" id="h8-0-41" class="i">+	hasrevs=$(git rev-list &quot;${old}&quot; &quot;^${new}&quot; | sed 1q)
</a><a href="#h8-0-42" id="h8-0-42" class="i">+	if test -n &quot;${hasrevs}&quot;; then
</a><a href="#h8-0-43" id="h8-0-43" class="i">+		force=1
</a><a href="#h8-0-44" id="h8-0-44" class="i">+		break
</a><a href="#h8-0-45" id="h8-0-45" class="i">+	fi
</a><a href="#h8-0-46" id="h8-0-46" class="i">+done
</a><a href="#h8-0-47" id="h8-0-47" class="i">+
</a><a href="#h8-0-48" id="h8-0-48" class="i">+# strip .git suffix.
</a><a href="#h8-0-49" id="h8-0-49" class="i">+r=$(basename &quot;${name}&quot;)
</a><a href="#h8-0-50" id="h8-0-50" class="i">+d=$(basename &quot;${name}&quot; &quot;.git&quot;)
</a><a href="#h8-0-51" id="h8-0-51" class="i">+printf &quot;[%s] stagit HTML pages... &quot; &quot;${d}&quot;
</a><a href="#h8-0-52" id="h8-0-52" class="i">+
</a><a href="#h8-0-53" id="h8-0-53" class="i">+mkdir -p &quot;${destdir}/${d}&quot;
</a><a href="#h8-0-54" id="h8-0-54" class="i">+cd &quot;${destdir}/${d}&quot; || exit 1
</a><a href="#h8-0-55" id="h8-0-55" class="i">+
</a><a href="#h8-0-56" id="h8-0-56" class="i">+# remove commits and ${cachefile} on git push -f, this recreated later on.
</a><a href="#h8-0-57" id="h8-0-57" class="i">+if test &quot;${force}&quot; = &quot;1&quot;; then
</a><a href="#h8-0-58" id="h8-0-58" class="i">+	rm -f &quot;${cachefile}&quot;
</a><a href="#h8-0-59" id="h8-0-59" class="i">+	rm -rf &quot;commit&quot;
</a><a href="#h8-0-60" id="h8-0-60" class="i">+fi
</a><a href="#h8-0-61" id="h8-0-61" class="i">+
</a><a href="#h8-0-62" id="h8-0-62" class="i">+# make index.
</a><a href="#h8-0-63" id="h8-0-63" class="i">+stagit-index &quot;${reposdir}/&quot;*/ &gt; &quot;${destdir}/index.html&quot;
</a><a href="#h8-0-64" id="h8-0-64" class="i">+
</a><a href="#h8-0-65" id="h8-0-65" class="i">+# make pages.
</a><a href="#h8-0-66" id="h8-0-66" class="i">+stagit -c &quot;${cachefile}&quot; -u &quot;https://git.codemadness.nl/$d/&quot; &quot;${reposdir}/${r}&quot;
</a><a href="#h8-0-67" id="h8-0-67" class="i">+
</a><a href="#h8-0-68" id="h8-0-68" class="i">+ln -sf log.html index.html
</a><a href="#h8-0-69" id="h8-0-69" class="i">+ln -sf ../style.css style.css
</a><a href="#h8-0-70" id="h8-0-70" class="i">+ln -sf ../logo.png logo.png
</a><a href="#h8-0-71" id="h8-0-71" class="i">+
</a><a href="#h8-0-72" id="h8-0-72" class="i">+echo &quot;done&quot;
</a><b>diff --git a/<a id="h9" href="../file/exts.json.html">exts.json</a> b/<a href="../file/exts.json.html">exts.json</a></b>
<a href="#h9-0" id="h9-0" class="h">@@ -0,0 +1,1578 @@
</a><a href="#h9-0-0" id="h9-0-0" class="i">+{
</a><a href="#h9-0-1" id="h9-0-1" class="i">+  &quot;abap&quot;: [
</a><a href="#h9-0-2" id="h9-0-2" class="i">+    &quot;abap&quot;
</a><a href="#h9-0-3" id="h9-0-3" class="i">+  ],
</a><a href="#h9-0-4" id="h9-0-4" class="i">+  &quot;ags script&quot;: [
</a><a href="#h9-0-5" id="h9-0-5" class="i">+    &quot;asc&quot;,
</a><a href="#h9-0-6" id="h9-0-6" class="i">+    &quot;ash&quot;
</a><a href="#h9-0-7" id="h9-0-7" class="i">+  ],
</a><a href="#h9-0-8" id="h9-0-8" class="i">+  &quot;ampl&quot;: [
</a><a href="#h9-0-9" id="h9-0-9" class="i">+    &quot;ampl&quot;
</a><a href="#h9-0-10" id="h9-0-10" class="i">+  ],
</a><a href="#h9-0-11" id="h9-0-11" class="i">+  &quot;antlr&quot;: [
</a><a href="#h9-0-12" id="h9-0-12" class="i">+    &quot;g4&quot;
</a><a href="#h9-0-13" id="h9-0-13" class="i">+  ],
</a><a href="#h9-0-14" id="h9-0-14" class="i">+  &quot;apl&quot;: [
</a><a href="#h9-0-15" id="h9-0-15" class="i">+    &quot;apl&quot;,
</a><a href="#h9-0-16" id="h9-0-16" class="i">+    &quot;dyalog&quot;
</a><a href="#h9-0-17" id="h9-0-17" class="i">+  ],
</a><a href="#h9-0-18" id="h9-0-18" class="i">+  &quot;asp&quot;: [
</a><a href="#h9-0-19" id="h9-0-19" class="i">+    &quot;asp&quot;,
</a><a href="#h9-0-20" id="h9-0-20" class="i">+    &quot;asax&quot;,
</a><a href="#h9-0-21" id="h9-0-21" class="i">+    &quot;ascx&quot;,
</a><a href="#h9-0-22" id="h9-0-22" class="i">+    &quot;ashx&quot;,
</a><a href="#h9-0-23" id="h9-0-23" class="i">+    &quot;asmx&quot;,
</a><a href="#h9-0-24" id="h9-0-24" class="i">+    &quot;aspx&quot;,
</a><a href="#h9-0-25" id="h9-0-25" class="i">+    &quot;axd&quot;
</a><a href="#h9-0-26" id="h9-0-26" class="i">+  ],
</a><a href="#h9-0-27" id="h9-0-27" class="i">+  &quot;ats&quot;: [
</a><a href="#h9-0-28" id="h9-0-28" class="i">+    &quot;dats&quot;,
</a><a href="#h9-0-29" id="h9-0-29" class="i">+    &quot;hats&quot;,
</a><a href="#h9-0-30" id="h9-0-30" class="i">+    &quot;sats&quot;
</a><a href="#h9-0-31" id="h9-0-31" class="i">+  ],
</a><a href="#h9-0-32" id="h9-0-32" class="i">+  &quot;actionscript&quot;: [
</a><a href="#h9-0-33" id="h9-0-33" class="i">+    &quot;as&quot;
</a><a href="#h9-0-34" id="h9-0-34" class="i">+  ],
</a><a href="#h9-0-35" id="h9-0-35" class="i">+  &quot;ada&quot;: [
</a><a href="#h9-0-36" id="h9-0-36" class="i">+    &quot;adb&quot;,
</a><a href="#h9-0-37" id="h9-0-37" class="i">+    &quot;ada&quot;,
</a><a href="#h9-0-38" id="h9-0-38" class="i">+    &quot;ads&quot;
</a><a href="#h9-0-39" id="h9-0-39" class="i">+  ],
</a><a href="#h9-0-40" id="h9-0-40" class="i">+  &quot;agda&quot;: [
</a><a href="#h9-0-41" id="h9-0-41" class="i">+    &quot;agda&quot;
</a><a href="#h9-0-42" id="h9-0-42" class="i">+  ],
</a><a href="#h9-0-43" id="h9-0-43" class="i">+  &quot;alloy&quot;: [
</a><a href="#h9-0-44" id="h9-0-44" class="i">+    &quot;als&quot;
</a><a href="#h9-0-45" id="h9-0-45" class="i">+  ],
</a><a href="#h9-0-46" id="h9-0-46" class="i">+  &quot;apacheconf&quot;: [
</a><a href="#h9-0-47" id="h9-0-47" class="i">+    &quot;apacheconf&quot;
</a><a href="#h9-0-48" id="h9-0-48" class="i">+  ],
</a><a href="#h9-0-49" id="h9-0-49" class="i">+  &quot;apex&quot;: [
</a><a href="#h9-0-50" id="h9-0-50" class="i">+    &quot;cls&quot;
</a><a href="#h9-0-51" id="h9-0-51" class="i">+  ],
</a><a href="#h9-0-52" id="h9-0-52" class="i">+  &quot;applescript&quot;: [
</a><a href="#h9-0-53" id="h9-0-53" class="i">+    &quot;applescript&quot;,
</a><a href="#h9-0-54" id="h9-0-54" class="i">+    &quot;scpt&quot;
</a><a href="#h9-0-55" id="h9-0-55" class="i">+  ],
</a><a href="#h9-0-56" id="h9-0-56" class="i">+  &quot;arc&quot;: [
</a><a href="#h9-0-57" id="h9-0-57" class="i">+    &quot;arc&quot;
</a><a href="#h9-0-58" id="h9-0-58" class="i">+  ],
</a><a href="#h9-0-59" id="h9-0-59" class="i">+  &quot;arduino&quot;: [
</a><a href="#h9-0-60" id="h9-0-60" class="i">+    &quot;ino&quot;
</a><a href="#h9-0-61" id="h9-0-61" class="i">+  ],
</a><a href="#h9-0-62" id="h9-0-62" class="i">+  &quot;asciidoc&quot;: [
</a><a href="#h9-0-63" id="h9-0-63" class="i">+    &quot;asciidoc&quot;,
</a><a href="#h9-0-64" id="h9-0-64" class="i">+    &quot;adoc&quot;,
</a><a href="#h9-0-65" id="h9-0-65" class="i">+    &quot;asc&quot;
</a><a href="#h9-0-66" id="h9-0-66" class="i">+  ],
</a><a href="#h9-0-67" id="h9-0-67" class="i">+  &quot;aspectj&quot;: [
</a><a href="#h9-0-68" id="h9-0-68" class="i">+    &quot;aj&quot;
</a><a href="#h9-0-69" id="h9-0-69" class="i">+  ],
</a><a href="#h9-0-70" id="h9-0-70" class="i">+  &quot;assembly&quot;: [
</a><a href="#h9-0-71" id="h9-0-71" class="i">+    &quot;asm&quot;,
</a><a href="#h9-0-72" id="h9-0-72" class="i">+    &quot;a51&quot;,
</a><a href="#h9-0-73" id="h9-0-73" class="i">+    &quot;nasm&quot;
</a><a href="#h9-0-74" id="h9-0-74" class="i">+  ],
</a><a href="#h9-0-75" id="h9-0-75" class="i">+  &quot;augeas&quot;: [
</a><a href="#h9-0-76" id="h9-0-76" class="i">+    &quot;aug&quot;
</a><a href="#h9-0-77" id="h9-0-77" class="i">+  ],
</a><a href="#h9-0-78" id="h9-0-78" class="i">+  &quot;autohotkey&quot;: [
</a><a href="#h9-0-79" id="h9-0-79" class="i">+    &quot;ahk&quot;,
</a><a href="#h9-0-80" id="h9-0-80" class="i">+    &quot;ahkl&quot;
</a><a href="#h9-0-81" id="h9-0-81" class="i">+  ],
</a><a href="#h9-0-82" id="h9-0-82" class="i">+  &quot;autoit&quot;: [
</a><a href="#h9-0-83" id="h9-0-83" class="i">+    &quot;au3&quot;
</a><a href="#h9-0-84" id="h9-0-84" class="i">+  ],
</a><a href="#h9-0-85" id="h9-0-85" class="i">+  &quot;awk&quot;: [
</a><a href="#h9-0-86" id="h9-0-86" class="i">+    &quot;awk&quot;,
</a><a href="#h9-0-87" id="h9-0-87" class="i">+    &quot;auk&quot;,
</a><a href="#h9-0-88" id="h9-0-88" class="i">+    &quot;gawk&quot;,
</a><a href="#h9-0-89" id="h9-0-89" class="i">+    &quot;mawk&quot;,
</a><a href="#h9-0-90" id="h9-0-90" class="i">+    &quot;nawk&quot;
</a><a href="#h9-0-91" id="h9-0-91" class="i">+  ],
</a><a href="#h9-0-92" id="h9-0-92" class="i">+  &quot;batchfile&quot;: [
</a><a href="#h9-0-93" id="h9-0-93" class="i">+    &quot;bat&quot;,
</a><a href="#h9-0-94" id="h9-0-94" class="i">+    &quot;cmd&quot;
</a><a href="#h9-0-95" id="h9-0-95" class="i">+  ],
</a><a href="#h9-0-96" id="h9-0-96" class="i">+  &quot;befunge&quot;: [
</a><a href="#h9-0-97" id="h9-0-97" class="i">+    &quot;befunge&quot;
</a><a href="#h9-0-98" id="h9-0-98" class="i">+  ],
</a><a href="#h9-0-99" id="h9-0-99" class="i">+  &quot;bison&quot;: [
</a><a href="#h9-0-100" id="h9-0-100" class="i">+    &quot;y&quot;
</a><a href="#h9-0-101" id="h9-0-101" class="i">+  ],
</a><a href="#h9-0-102" id="h9-0-102" class="i">+  &quot;bitbake&quot;: [
</a><a href="#h9-0-103" id="h9-0-103" class="i">+    &quot;bb&quot;
</a><a href="#h9-0-104" id="h9-0-104" class="i">+  ],
</a><a href="#h9-0-105" id="h9-0-105" class="i">+  &quot;blitzbasic&quot;: [
</a><a href="#h9-0-106" id="h9-0-106" class="i">+    &quot;bb&quot;,
</a><a href="#h9-0-107" id="h9-0-107" class="i">+    &quot;decls&quot;
</a><a href="#h9-0-108" id="h9-0-108" class="i">+  ],
</a><a href="#h9-0-109" id="h9-0-109" class="i">+  &quot;blitzmax&quot;: [
</a><a href="#h9-0-110" id="h9-0-110" class="i">+    &quot;bmx&quot;
</a><a href="#h9-0-111" id="h9-0-111" class="i">+  ],
</a><a href="#h9-0-112" id="h9-0-112" class="i">+  &quot;bluespec&quot;: [
</a><a href="#h9-0-113" id="h9-0-113" class="i">+    &quot;bsv&quot;
</a><a href="#h9-0-114" id="h9-0-114" class="i">+  ],
</a><a href="#h9-0-115" id="h9-0-115" class="i">+  &quot;boo&quot;: [
</a><a href="#h9-0-116" id="h9-0-116" class="i">+    &quot;boo&quot;
</a><a href="#h9-0-117" id="h9-0-117" class="i">+  ],
</a><a href="#h9-0-118" id="h9-0-118" class="i">+  &quot;brainfuck&quot;: [
</a><a href="#h9-0-119" id="h9-0-119" class="i">+    &quot;b&quot;,
</a><a href="#h9-0-120" id="h9-0-120" class="i">+    &quot;bf&quot;
</a><a href="#h9-0-121" id="h9-0-121" class="i">+  ],
</a><a href="#h9-0-122" id="h9-0-122" class="i">+  &quot;brightscript&quot;: [
</a><a href="#h9-0-123" id="h9-0-123" class="i">+    &quot;brs&quot;
</a><a href="#h9-0-124" id="h9-0-124" class="i">+  ],
</a><a href="#h9-0-125" id="h9-0-125" class="i">+  &quot;bro&quot;: [
</a><a href="#h9-0-126" id="h9-0-126" class="i">+    &quot;bro&quot;
</a><a href="#h9-0-127" id="h9-0-127" class="i">+  ],
</a><a href="#h9-0-128" id="h9-0-128" class="i">+  &quot;c&quot;: [
</a><a href="#h9-0-129" id="h9-0-129" class="i">+    &quot;c&quot;,
</a><a href="#h9-0-130" id="h9-0-130" class="i">+    &quot;cats&quot;,
</a><a href="#h9-0-131" id="h9-0-131" class="i">+    &quot;h&quot;,
</a><a href="#h9-0-132" id="h9-0-132" class="i">+    &quot;idc&quot;,
</a><a href="#h9-0-133" id="h9-0-133" class="i">+    &quot;w&quot;
</a><a href="#h9-0-134" id="h9-0-134" class="i">+  ],
</a><a href="#h9-0-135" id="h9-0-135" class="i">+  &quot;c#&quot;: [
</a><a href="#h9-0-136" id="h9-0-136" class="i">+    &quot;cs&quot;,
</a><a href="#h9-0-137" id="h9-0-137" class="i">+    &quot;cshtml&quot;,
</a><a href="#h9-0-138" id="h9-0-138" class="i">+    &quot;csx&quot;
</a><a href="#h9-0-139" id="h9-0-139" class="i">+  ],
</a><a href="#h9-0-140" id="h9-0-140" class="i">+  &quot;c++&quot;: [
</a><a href="#h9-0-141" id="h9-0-141" class="i">+    &quot;cpp&quot;,
</a><a href="#h9-0-142" id="h9-0-142" class="i">+    &quot;c++&quot;,
</a><a href="#h9-0-143" id="h9-0-143" class="i">+    &quot;cc&quot;,
</a><a href="#h9-0-144" id="h9-0-144" class="i">+    &quot;cp&quot;,
</a><a href="#h9-0-145" id="h9-0-145" class="i">+    &quot;cxx&quot;,
</a><a href="#h9-0-146" id="h9-0-146" class="i">+    &quot;h&quot;,
</a><a href="#h9-0-147" id="h9-0-147" class="i">+    &quot;h++&quot;,
</a><a href="#h9-0-148" id="h9-0-148" class="i">+    &quot;hh&quot;,
</a><a href="#h9-0-149" id="h9-0-149" class="i">+    &quot;hpp&quot;,
</a><a href="#h9-0-150" id="h9-0-150" class="i">+    &quot;hxx&quot;,
</a><a href="#h9-0-151" id="h9-0-151" class="i">+    &quot;inl&quot;,
</a><a href="#h9-0-152" id="h9-0-152" class="i">+    &quot;ipp&quot;,
</a><a href="#h9-0-153" id="h9-0-153" class="i">+    &quot;tcc&quot;,
</a><a href="#h9-0-154" id="h9-0-154" class="i">+    &quot;tpp&quot;
</a><a href="#h9-0-155" id="h9-0-155" class="i">+  ],
</a><a href="#h9-0-156" id="h9-0-156" class="i">+  &quot;c-objdump&quot;: [
</a><a href="#h9-0-157" id="h9-0-157" class="i">+    &quot;c-objdump&quot;
</a><a href="#h9-0-158" id="h9-0-158" class="i">+  ],
</a><a href="#h9-0-159" id="h9-0-159" class="i">+  &quot;c2hs haskell&quot;: [
</a><a href="#h9-0-160" id="h9-0-160" class="i">+    &quot;chs&quot;
</a><a href="#h9-0-161" id="h9-0-161" class="i">+  ],
</a><a href="#h9-0-162" id="h9-0-162" class="i">+  &quot;clips&quot;: [
</a><a href="#h9-0-163" id="h9-0-163" class="i">+    &quot;clp&quot;
</a><a href="#h9-0-164" id="h9-0-164" class="i">+  ],
</a><a href="#h9-0-165" id="h9-0-165" class="i">+  &quot;cmake&quot;: [
</a><a href="#h9-0-166" id="h9-0-166" class="i">+    &quot;cmake&quot;,
</a><a href="#h9-0-167" id="h9-0-167" class="i">+    &quot;cmake.in&quot;
</a><a href="#h9-0-168" id="h9-0-168" class="i">+  ],
</a><a href="#h9-0-169" id="h9-0-169" class="i">+  &quot;cobol&quot;: [
</a><a href="#h9-0-170" id="h9-0-170" class="i">+    &quot;cob&quot;,
</a><a href="#h9-0-171" id="h9-0-171" class="i">+    &quot;cbl&quot;,
</a><a href="#h9-0-172" id="h9-0-172" class="i">+    &quot;ccp&quot;,
</a><a href="#h9-0-173" id="h9-0-173" class="i">+    &quot;cobol&quot;,
</a><a href="#h9-0-174" id="h9-0-174" class="i">+    &quot;cpy&quot;
</a><a href="#h9-0-175" id="h9-0-175" class="i">+  ],
</a><a href="#h9-0-176" id="h9-0-176" class="i">+  &quot;css&quot;: [
</a><a href="#h9-0-177" id="h9-0-177" class="i">+    &quot;css&quot;
</a><a href="#h9-0-178" id="h9-0-178" class="i">+  ],
</a><a href="#h9-0-179" id="h9-0-179" class="i">+  &quot;cap&#39;n proto&quot;: [
</a><a href="#h9-0-180" id="h9-0-180" class="i">+    &quot;capnp&quot;
</a><a href="#h9-0-181" id="h9-0-181" class="i">+  ],
</a><a href="#h9-0-182" id="h9-0-182" class="i">+  &quot;cartocss&quot;: [
</a><a href="#h9-0-183" id="h9-0-183" class="i">+    &quot;mss&quot;
</a><a href="#h9-0-184" id="h9-0-184" class="i">+  ],
</a><a href="#h9-0-185" id="h9-0-185" class="i">+  &quot;ceylon&quot;: [
</a><a href="#h9-0-186" id="h9-0-186" class="i">+    &quot;ceylon&quot;
</a><a href="#h9-0-187" id="h9-0-187" class="i">+  ],
</a><a href="#h9-0-188" id="h9-0-188" class="i">+  &quot;chapel&quot;: [
</a><a href="#h9-0-189" id="h9-0-189" class="i">+    &quot;chpl&quot;
</a><a href="#h9-0-190" id="h9-0-190" class="i">+  ],
</a><a href="#h9-0-191" id="h9-0-191" class="i">+  &quot;chuck&quot;: [
</a><a href="#h9-0-192" id="h9-0-192" class="i">+    &quot;ck&quot;
</a><a href="#h9-0-193" id="h9-0-193" class="i">+  ],
</a><a href="#h9-0-194" id="h9-0-194" class="i">+  &quot;cirru&quot;: [
</a><a href="#h9-0-195" id="h9-0-195" class="i">+    &quot;cirru&quot;
</a><a href="#h9-0-196" id="h9-0-196" class="i">+  ],
</a><a href="#h9-0-197" id="h9-0-197" class="i">+  &quot;clarion&quot;: [
</a><a href="#h9-0-198" id="h9-0-198" class="i">+    &quot;clw&quot;
</a><a href="#h9-0-199" id="h9-0-199" class="i">+  ],
</a><a href="#h9-0-200" id="h9-0-200" class="i">+  &quot;clean&quot;: [
</a><a href="#h9-0-201" id="h9-0-201" class="i">+    &quot;icl&quot;,
</a><a href="#h9-0-202" id="h9-0-202" class="i">+    &quot;dcl&quot;
</a><a href="#h9-0-203" id="h9-0-203" class="i">+  ],
</a><a href="#h9-0-204" id="h9-0-204" class="i">+  &quot;clojure&quot;: [
</a><a href="#h9-0-205" id="h9-0-205" class="i">+    &quot;clj&quot;,
</a><a href="#h9-0-206" id="h9-0-206" class="i">+    &quot;boot&quot;,
</a><a href="#h9-0-207" id="h9-0-207" class="i">+    &quot;cl2&quot;,
</a><a href="#h9-0-208" id="h9-0-208" class="i">+    &quot;cljc&quot;,
</a><a href="#h9-0-209" id="h9-0-209" class="i">+    &quot;cljs&quot;,
</a><a href="#h9-0-210" id="h9-0-210" class="i">+    &quot;cljs.hl&quot;,
</a><a href="#h9-0-211" id="h9-0-211" class="i">+    &quot;cljscm&quot;,
</a><a href="#h9-0-212" id="h9-0-212" class="i">+    &quot;cljx&quot;,
</a><a href="#h9-0-213" id="h9-0-213" class="i">+    &quot;hic&quot;
</a><a href="#h9-0-214" id="h9-0-214" class="i">+  ],
</a><a href="#h9-0-215" id="h9-0-215" class="i">+  &quot;coffeescript&quot;: [
</a><a href="#h9-0-216" id="h9-0-216" class="i">+    &quot;coffee&quot;,
</a><a href="#h9-0-217" id="h9-0-217" class="i">+    &quot;_coffee&quot;,
</a><a href="#h9-0-218" id="h9-0-218" class="i">+    &quot;cjsx&quot;,
</a><a href="#h9-0-219" id="h9-0-219" class="i">+    &quot;cson&quot;,
</a><a href="#h9-0-220" id="h9-0-220" class="i">+    &quot;iced&quot;
</a><a href="#h9-0-221" id="h9-0-221" class="i">+  ],
</a><a href="#h9-0-222" id="h9-0-222" class="i">+  &quot;coldfusion&quot;: [
</a><a href="#h9-0-223" id="h9-0-223" class="i">+    &quot;cfm&quot;,
</a><a href="#h9-0-224" id="h9-0-224" class="i">+    &quot;cfml&quot;
</a><a href="#h9-0-225" id="h9-0-225" class="i">+  ],
</a><a href="#h9-0-226" id="h9-0-226" class="i">+  &quot;coldfusion cfc&quot;: [
</a><a href="#h9-0-227" id="h9-0-227" class="i">+    &quot;cfc&quot;
</a><a href="#h9-0-228" id="h9-0-228" class="i">+  ],
</a><a href="#h9-0-229" id="h9-0-229" class="i">+  &quot;common lisp&quot;: [
</a><a href="#h9-0-230" id="h9-0-230" class="i">+    &quot;lisp&quot;,
</a><a href="#h9-0-231" id="h9-0-231" class="i">+    &quot;asd&quot;,
</a><a href="#h9-0-232" id="h9-0-232" class="i">+    &quot;cl&quot;,
</a><a href="#h9-0-233" id="h9-0-233" class="i">+    &quot;lsp&quot;,
</a><a href="#h9-0-234" id="h9-0-234" class="i">+    &quot;ny&quot;,
</a><a href="#h9-0-235" id="h9-0-235" class="i">+    &quot;podsl&quot;
</a><a href="#h9-0-236" id="h9-0-236" class="i">+  ],
</a><a href="#h9-0-237" id="h9-0-237" class="i">+  &quot;component pascal&quot;: [
</a><a href="#h9-0-238" id="h9-0-238" class="i">+    &quot;cp&quot;,
</a><a href="#h9-0-239" id="h9-0-239" class="i">+    &quot;cps&quot;
</a><a href="#h9-0-240" id="h9-0-240" class="i">+  ],
</a><a href="#h9-0-241" id="h9-0-241" class="i">+  &quot;cool&quot;: [
</a><a href="#h9-0-242" id="h9-0-242" class="i">+    &quot;cl&quot;
</a><a href="#h9-0-243" id="h9-0-243" class="i">+  ],
</a><a href="#h9-0-244" id="h9-0-244" class="i">+  &quot;coq&quot;: [
</a><a href="#h9-0-245" id="h9-0-245" class="i">+    &quot;coq&quot;,
</a><a href="#h9-0-246" id="h9-0-246" class="i">+    &quot;v&quot;
</a><a href="#h9-0-247" id="h9-0-247" class="i">+  ],
</a><a href="#h9-0-248" id="h9-0-248" class="i">+  &quot;cpp-objdump&quot;: [
</a><a href="#h9-0-249" id="h9-0-249" class="i">+    &quot;cppobjdump&quot;,
</a><a href="#h9-0-250" id="h9-0-250" class="i">+    &quot;c++-objdump&quot;,
</a><a href="#h9-0-251" id="h9-0-251" class="i">+    &quot;c++objdump&quot;,
</a><a href="#h9-0-252" id="h9-0-252" class="i">+    &quot;cpp-objdump&quot;,
</a><a href="#h9-0-253" id="h9-0-253" class="i">+    &quot;cxx-objdump&quot;
</a><a href="#h9-0-254" id="h9-0-254" class="i">+  ],
</a><a href="#h9-0-255" id="h9-0-255" class="i">+  &quot;creole&quot;: [
</a><a href="#h9-0-256" id="h9-0-256" class="i">+    &quot;creole&quot;
</a><a href="#h9-0-257" id="h9-0-257" class="i">+  ],
</a><a href="#h9-0-258" id="h9-0-258" class="i">+  &quot;crystal&quot;: [
</a><a href="#h9-0-259" id="h9-0-259" class="i">+    &quot;cr&quot;
</a><a href="#h9-0-260" id="h9-0-260" class="i">+  ],
</a><a href="#h9-0-261" id="h9-0-261" class="i">+  &quot;cucumber&quot;: [
</a><a href="#h9-0-262" id="h9-0-262" class="i">+    &quot;feature&quot;
</a><a href="#h9-0-263" id="h9-0-263" class="i">+  ],
</a><a href="#h9-0-264" id="h9-0-264" class="i">+  &quot;cuda&quot;: [
</a><a href="#h9-0-265" id="h9-0-265" class="i">+    &quot;cu&quot;,
</a><a href="#h9-0-266" id="h9-0-266" class="i">+    &quot;cuh&quot;
</a><a href="#h9-0-267" id="h9-0-267" class="i">+  ],
</a><a href="#h9-0-268" id="h9-0-268" class="i">+  &quot;cycript&quot;: [
</a><a href="#h9-0-269" id="h9-0-269" class="i">+    &quot;cy&quot;
</a><a href="#h9-0-270" id="h9-0-270" class="i">+  ],
</a><a href="#h9-0-271" id="h9-0-271" class="i">+  &quot;cython&quot;: [
</a><a href="#h9-0-272" id="h9-0-272" class="i">+    &quot;pyx&quot;,
</a><a href="#h9-0-273" id="h9-0-273" class="i">+    &quot;pxd&quot;,
</a><a href="#h9-0-274" id="h9-0-274" class="i">+    &quot;pxi&quot;
</a><a href="#h9-0-275" id="h9-0-275" class="i">+  ],
</a><a href="#h9-0-276" id="h9-0-276" class="i">+  &quot;d&quot;: [
</a><a href="#h9-0-277" id="h9-0-277" class="i">+    &quot;d&quot;,
</a><a href="#h9-0-278" id="h9-0-278" class="i">+    &quot;di&quot;
</a><a href="#h9-0-279" id="h9-0-279" class="i">+  ],
</a><a href="#h9-0-280" id="h9-0-280" class="i">+  &quot;d-objdump&quot;: [
</a><a href="#h9-0-281" id="h9-0-281" class="i">+    &quot;d-objdump&quot;
</a><a href="#h9-0-282" id="h9-0-282" class="i">+  ],
</a><a href="#h9-0-283" id="h9-0-283" class="i">+  &quot;digital command language&quot;: [
</a><a href="#h9-0-284" id="h9-0-284" class="i">+    &quot;com&quot;
</a><a href="#h9-0-285" id="h9-0-285" class="i">+  ],
</a><a href="#h9-0-286" id="h9-0-286" class="i">+  &quot;dm&quot;: [
</a><a href="#h9-0-287" id="h9-0-287" class="i">+    &quot;dm&quot;
</a><a href="#h9-0-288" id="h9-0-288" class="i">+  ],
</a><a href="#h9-0-289" id="h9-0-289" class="i">+  &quot;dtrace&quot;: [
</a><a href="#h9-0-290" id="h9-0-290" class="i">+    &quot;d&quot;
</a><a href="#h9-0-291" id="h9-0-291" class="i">+  ],
</a><a href="#h9-0-292" id="h9-0-292" class="i">+  &quot;darcs patch&quot;: [
</a><a href="#h9-0-293" id="h9-0-293" class="i">+    &quot;darcspatch&quot;,
</a><a href="#h9-0-294" id="h9-0-294" class="i">+    &quot;dpatch&quot;
</a><a href="#h9-0-295" id="h9-0-295" class="i">+  ],
</a><a href="#h9-0-296" id="h9-0-296" class="i">+  &quot;dart&quot;: [
</a><a href="#h9-0-297" id="h9-0-297" class="i">+    &quot;dart&quot;
</a><a href="#h9-0-298" id="h9-0-298" class="i">+  ],
</a><a href="#h9-0-299" id="h9-0-299" class="i">+  &quot;diff&quot;: [
</a><a href="#h9-0-300" id="h9-0-300" class="i">+    &quot;diff&quot;,
</a><a href="#h9-0-301" id="h9-0-301" class="i">+    &quot;patch&quot;
</a><a href="#h9-0-302" id="h9-0-302" class="i">+  ],
</a><a href="#h9-0-303" id="h9-0-303" class="i">+  &quot;dockerfile&quot;: [
</a><a href="#h9-0-304" id="h9-0-304" class="i">+    &quot;dockerfile&quot;
</a><a href="#h9-0-305" id="h9-0-305" class="i">+  ],
</a><a href="#h9-0-306" id="h9-0-306" class="i">+  &quot;dogescript&quot;: [
</a><a href="#h9-0-307" id="h9-0-307" class="i">+    &quot;djs&quot;
</a><a href="#h9-0-308" id="h9-0-308" class="i">+  ],
</a><a href="#h9-0-309" id="h9-0-309" class="i">+  &quot;dylan&quot;: [
</a><a href="#h9-0-310" id="h9-0-310" class="i">+    &quot;dylan&quot;,
</a><a href="#h9-0-311" id="h9-0-311" class="i">+    &quot;dyl&quot;,
</a><a href="#h9-0-312" id="h9-0-312" class="i">+    &quot;intr&quot;,
</a><a href="#h9-0-313" id="h9-0-313" class="i">+    &quot;lid&quot;
</a><a href="#h9-0-314" id="h9-0-314" class="i">+  ],
</a><a href="#h9-0-315" id="h9-0-315" class="i">+  &quot;e&quot;: [
</a><a href="#h9-0-316" id="h9-0-316" class="i">+    &quot;E&quot;
</a><a href="#h9-0-317" id="h9-0-317" class="i">+  ],
</a><a href="#h9-0-318" id="h9-0-318" class="i">+  &quot;ecl&quot;: [
</a><a href="#h9-0-319" id="h9-0-319" class="i">+    &quot;ecl&quot;,
</a><a href="#h9-0-320" id="h9-0-320" class="i">+    &quot;eclxml&quot;
</a><a href="#h9-0-321" id="h9-0-321" class="i">+  ],
</a><a href="#h9-0-322" id="h9-0-322" class="i">+  &quot;eagle&quot;: [
</a><a href="#h9-0-323" id="h9-0-323" class="i">+    &quot;sch&quot;,
</a><a href="#h9-0-324" id="h9-0-324" class="i">+    &quot;brd&quot;
</a><a href="#h9-0-325" id="h9-0-325" class="i">+  ],
</a><a href="#h9-0-326" id="h9-0-326" class="i">+  &quot;ecere projects&quot;: [
</a><a href="#h9-0-327" id="h9-0-327" class="i">+    &quot;epj&quot;
</a><a href="#h9-0-328" id="h9-0-328" class="i">+  ],
</a><a href="#h9-0-329" id="h9-0-329" class="i">+  &quot;eiffel&quot;: [
</a><a href="#h9-0-330" id="h9-0-330" class="i">+    &quot;e&quot;
</a><a href="#h9-0-331" id="h9-0-331" class="i">+  ],
</a><a href="#h9-0-332" id="h9-0-332" class="i">+  &quot;elixir&quot;: [
</a><a href="#h9-0-333" id="h9-0-333" class="i">+    &quot;ex&quot;,
</a><a href="#h9-0-334" id="h9-0-334" class="i">+    &quot;exs&quot;
</a><a href="#h9-0-335" id="h9-0-335" class="i">+  ],
</a><a href="#h9-0-336" id="h9-0-336" class="i">+  &quot;elm&quot;: [
</a><a href="#h9-0-337" id="h9-0-337" class="i">+    &quot;elm&quot;
</a><a href="#h9-0-338" id="h9-0-338" class="i">+  ],
</a><a href="#h9-0-339" id="h9-0-339" class="i">+  &quot;emacs lisp&quot;: [
</a><a href="#h9-0-340" id="h9-0-340" class="i">+    &quot;el&quot;,
</a><a href="#h9-0-341" id="h9-0-341" class="i">+    &quot;emacs&quot;,
</a><a href="#h9-0-342" id="h9-0-342" class="i">+    &quot;emacs.desktop&quot;
</a><a href="#h9-0-343" id="h9-0-343" class="i">+  ],
</a><a href="#h9-0-344" id="h9-0-344" class="i">+  &quot;emberscript&quot;: [
</a><a href="#h9-0-345" id="h9-0-345" class="i">+    &quot;em&quot;,
</a><a href="#h9-0-346" id="h9-0-346" class="i">+    &quot;emberscript&quot;
</a><a href="#h9-0-347" id="h9-0-347" class="i">+  ],
</a><a href="#h9-0-348" id="h9-0-348" class="i">+  &quot;erlang&quot;: [
</a><a href="#h9-0-349" id="h9-0-349" class="i">+    &quot;erl&quot;,
</a><a href="#h9-0-350" id="h9-0-350" class="i">+    &quot;es&quot;,
</a><a href="#h9-0-351" id="h9-0-351" class="i">+    &quot;escript&quot;,
</a><a href="#h9-0-352" id="h9-0-352" class="i">+    &quot;hrl&quot;
</a><a href="#h9-0-353" id="h9-0-353" class="i">+  ],
</a><a href="#h9-0-354" id="h9-0-354" class="i">+  &quot;f#&quot;: [
</a><a href="#h9-0-355" id="h9-0-355" class="i">+    &quot;fs&quot;,
</a><a href="#h9-0-356" id="h9-0-356" class="i">+    &quot;fsi&quot;,
</a><a href="#h9-0-357" id="h9-0-357" class="i">+    &quot;fsx&quot;
</a><a href="#h9-0-358" id="h9-0-358" class="i">+  ],
</a><a href="#h9-0-359" id="h9-0-359" class="i">+  &quot;flux&quot;: [
</a><a href="#h9-0-360" id="h9-0-360" class="i">+    &quot;fx&quot;,
</a><a href="#h9-0-361" id="h9-0-361" class="i">+    &quot;flux&quot;
</a><a href="#h9-0-362" id="h9-0-362" class="i">+  ],
</a><a href="#h9-0-363" id="h9-0-363" class="i">+  &quot;fortran&quot;: [
</a><a href="#h9-0-364" id="h9-0-364" class="i">+    &quot;f90&quot;,
</a><a href="#h9-0-365" id="h9-0-365" class="i">+    &quot;f&quot;,
</a><a href="#h9-0-366" id="h9-0-366" class="i">+    &quot;f03&quot;,
</a><a href="#h9-0-367" id="h9-0-367" class="i">+    &quot;f08&quot;,
</a><a href="#h9-0-368" id="h9-0-368" class="i">+    &quot;f77&quot;,
</a><a href="#h9-0-369" id="h9-0-369" class="i">+    &quot;f95&quot;,
</a><a href="#h9-0-370" id="h9-0-370" class="i">+    &quot;for&quot;,
</a><a href="#h9-0-371" id="h9-0-371" class="i">+    &quot;fpp&quot;
</a><a href="#h9-0-372" id="h9-0-372" class="i">+  ],
</a><a href="#h9-0-373" id="h9-0-373" class="i">+  &quot;factor&quot;: [
</a><a href="#h9-0-374" id="h9-0-374" class="i">+    &quot;factor&quot;
</a><a href="#h9-0-375" id="h9-0-375" class="i">+  ],
</a><a href="#h9-0-376" id="h9-0-376" class="i">+  &quot;fancy&quot;: [
</a><a href="#h9-0-377" id="h9-0-377" class="i">+    &quot;fy&quot;,
</a><a href="#h9-0-378" id="h9-0-378" class="i">+    &quot;fancypack&quot;
</a><a href="#h9-0-379" id="h9-0-379" class="i">+  ],
</a><a href="#h9-0-380" id="h9-0-380" class="i">+  &quot;fantom&quot;: [
</a><a href="#h9-0-381" id="h9-0-381" class="i">+    &quot;fan&quot;
</a><a href="#h9-0-382" id="h9-0-382" class="i">+  ],
</a><a href="#h9-0-383" id="h9-0-383" class="i">+  &quot;filterscript&quot;: [
</a><a href="#h9-0-384" id="h9-0-384" class="i">+    &quot;fs&quot;
</a><a href="#h9-0-385" id="h9-0-385" class="i">+  ],
</a><a href="#h9-0-386" id="h9-0-386" class="i">+  &quot;formatted&quot;: [
</a><a href="#h9-0-387" id="h9-0-387" class="i">+    &quot;for&quot;
</a><a href="#h9-0-388" id="h9-0-388" class="i">+  ],
</a><a href="#h9-0-389" id="h9-0-389" class="i">+  &quot;forth&quot;: [
</a><a href="#h9-0-390" id="h9-0-390" class="i">+    &quot;fth&quot;,
</a><a href="#h9-0-391" id="h9-0-391" class="i">+    &quot;4th&quot;,
</a><a href="#h9-0-392" id="h9-0-392" class="i">+    &quot;f&quot;,
</a><a href="#h9-0-393" id="h9-0-393" class="i">+    &quot;for&quot;,
</a><a href="#h9-0-394" id="h9-0-394" class="i">+    &quot;forth&quot;,
</a><a href="#h9-0-395" id="h9-0-395" class="i">+    &quot;fr&quot;,
</a><a href="#h9-0-396" id="h9-0-396" class="i">+    &quot;frt&quot;,
</a><a href="#h9-0-397" id="h9-0-397" class="i">+    &quot;fs&quot;
</a><a href="#h9-0-398" id="h9-0-398" class="i">+  ],
</a><a href="#h9-0-399" id="h9-0-399" class="i">+  &quot;frege&quot;: [
</a><a href="#h9-0-400" id="h9-0-400" class="i">+    &quot;fr&quot;
</a><a href="#h9-0-401" id="h9-0-401" class="i">+  ],
</a><a href="#h9-0-402" id="h9-0-402" class="i">+  &quot;g-code&quot;: [
</a><a href="#h9-0-403" id="h9-0-403" class="i">+    &quot;g&quot;,
</a><a href="#h9-0-404" id="h9-0-404" class="i">+    &quot;gco&quot;,
</a><a href="#h9-0-405" id="h9-0-405" class="i">+    &quot;gcode&quot;
</a><a href="#h9-0-406" id="h9-0-406" class="i">+  ],
</a><a href="#h9-0-407" id="h9-0-407" class="i">+  &quot;gams&quot;: [
</a><a href="#h9-0-408" id="h9-0-408" class="i">+    &quot;gms&quot;
</a><a href="#h9-0-409" id="h9-0-409" class="i">+  ],
</a><a href="#h9-0-410" id="h9-0-410" class="i">+  &quot;gap&quot;: [
</a><a href="#h9-0-411" id="h9-0-411" class="i">+    &quot;g&quot;,
</a><a href="#h9-0-412" id="h9-0-412" class="i">+    &quot;gap&quot;,
</a><a href="#h9-0-413" id="h9-0-413" class="i">+    &quot;gd&quot;,
</a><a href="#h9-0-414" id="h9-0-414" class="i">+    &quot;gi&quot;,
</a><a href="#h9-0-415" id="h9-0-415" class="i">+    &quot;tst&quot;
</a><a href="#h9-0-416" id="h9-0-416" class="i">+  ],
</a><a href="#h9-0-417" id="h9-0-417" class="i">+  &quot;gas&quot;: [
</a><a href="#h9-0-418" id="h9-0-418" class="i">+    &quot;s&quot;
</a><a href="#h9-0-419" id="h9-0-419" class="i">+  ],
</a><a href="#h9-0-420" id="h9-0-420" class="i">+  &quot;gdscript&quot;: [
</a><a href="#h9-0-421" id="h9-0-421" class="i">+    &quot;gd&quot;
</a><a href="#h9-0-422" id="h9-0-422" class="i">+  ],
</a><a href="#h9-0-423" id="h9-0-423" class="i">+  &quot;glsl&quot;: [
</a><a href="#h9-0-424" id="h9-0-424" class="i">+    &quot;glsl&quot;,
</a><a href="#h9-0-425" id="h9-0-425" class="i">+    &quot;fp&quot;,
</a><a href="#h9-0-426" id="h9-0-426" class="i">+    &quot;frag&quot;,
</a><a href="#h9-0-427" id="h9-0-427" class="i">+    &quot;frg&quot;,
</a><a href="#h9-0-428" id="h9-0-428" class="i">+    &quot;fs&quot;,
</a><a href="#h9-0-429" id="h9-0-429" class="i">+    &quot;fshader&quot;,
</a><a href="#h9-0-430" id="h9-0-430" class="i">+    &quot;geo&quot;,
</a><a href="#h9-0-431" id="h9-0-431" class="i">+    &quot;geom&quot;,
</a><a href="#h9-0-432" id="h9-0-432" class="i">+    &quot;glslv&quot;,
</a><a href="#h9-0-433" id="h9-0-433" class="i">+    &quot;gshader&quot;,
</a><a href="#h9-0-434" id="h9-0-434" class="i">+    &quot;shader&quot;,
</a><a href="#h9-0-435" id="h9-0-435" class="i">+    &quot;vert&quot;,
</a><a href="#h9-0-436" id="h9-0-436" class="i">+    &quot;vrx&quot;,
</a><a href="#h9-0-437" id="h9-0-437" class="i">+    &quot;vshader&quot;
</a><a href="#h9-0-438" id="h9-0-438" class="i">+  ],
</a><a href="#h9-0-439" id="h9-0-439" class="i">+  &quot;game maker language&quot;: [
</a><a href="#h9-0-440" id="h9-0-440" class="i">+    &quot;gml&quot;
</a><a href="#h9-0-441" id="h9-0-441" class="i">+  ],
</a><a href="#h9-0-442" id="h9-0-442" class="i">+  &quot;genshi&quot;: [
</a><a href="#h9-0-443" id="h9-0-443" class="i">+    &quot;kid&quot;
</a><a href="#h9-0-444" id="h9-0-444" class="i">+  ],
</a><a href="#h9-0-445" id="h9-0-445" class="i">+  &quot;gentoo ebuild&quot;: [
</a><a href="#h9-0-446" id="h9-0-446" class="i">+    &quot;ebuild&quot;
</a><a href="#h9-0-447" id="h9-0-447" class="i">+  ],
</a><a href="#h9-0-448" id="h9-0-448" class="i">+  &quot;gentoo eclass&quot;: [
</a><a href="#h9-0-449" id="h9-0-449" class="i">+    &quot;eclass&quot;
</a><a href="#h9-0-450" id="h9-0-450" class="i">+  ],
</a><a href="#h9-0-451" id="h9-0-451" class="i">+  &quot;gettext catalog&quot;: [
</a><a href="#h9-0-452" id="h9-0-452" class="i">+    &quot;po&quot;,
</a><a href="#h9-0-453" id="h9-0-453" class="i">+    &quot;pot&quot;
</a><a href="#h9-0-454" id="h9-0-454" class="i">+  ],
</a><a href="#h9-0-455" id="h9-0-455" class="i">+  &quot;glyph&quot;: [
</a><a href="#h9-0-456" id="h9-0-456" class="i">+    &quot;glf&quot;
</a><a href="#h9-0-457" id="h9-0-457" class="i">+  ],
</a><a href="#h9-0-458" id="h9-0-458" class="i">+  &quot;gnuplot&quot;: [
</a><a href="#h9-0-459" id="h9-0-459" class="i">+    &quot;gp&quot;,
</a><a href="#h9-0-460" id="h9-0-460" class="i">+    &quot;gnu&quot;,
</a><a href="#h9-0-461" id="h9-0-461" class="i">+    &quot;gnuplot&quot;,
</a><a href="#h9-0-462" id="h9-0-462" class="i">+    &quot;plot&quot;,
</a><a href="#h9-0-463" id="h9-0-463" class="i">+    &quot;plt&quot;
</a><a href="#h9-0-464" id="h9-0-464" class="i">+  ],
</a><a href="#h9-0-465" id="h9-0-465" class="i">+  &quot;go&quot;: [
</a><a href="#h9-0-466" id="h9-0-466" class="i">+    &quot;go&quot;
</a><a href="#h9-0-467" id="h9-0-467" class="i">+  ],
</a><a href="#h9-0-468" id="h9-0-468" class="i">+  &quot;golo&quot;: [
</a><a href="#h9-0-469" id="h9-0-469" class="i">+    &quot;golo&quot;
</a><a href="#h9-0-470" id="h9-0-470" class="i">+  ],
</a><a href="#h9-0-471" id="h9-0-471" class="i">+  &quot;gosu&quot;: [
</a><a href="#h9-0-472" id="h9-0-472" class="i">+    &quot;gs&quot;,
</a><a href="#h9-0-473" id="h9-0-473" class="i">+    &quot;gst&quot;,
</a><a href="#h9-0-474" id="h9-0-474" class="i">+    &quot;gsx&quot;,
</a><a href="#h9-0-475" id="h9-0-475" class="i">+    &quot;vark&quot;
</a><a href="#h9-0-476" id="h9-0-476" class="i">+  ],
</a><a href="#h9-0-477" id="h9-0-477" class="i">+  &quot;grace&quot;: [
</a><a href="#h9-0-478" id="h9-0-478" class="i">+    &quot;grace&quot;
</a><a href="#h9-0-479" id="h9-0-479" class="i">+  ],
</a><a href="#h9-0-480" id="h9-0-480" class="i">+  &quot;gradle&quot;: [
</a><a href="#h9-0-481" id="h9-0-481" class="i">+    &quot;gradle&quot;
</a><a href="#h9-0-482" id="h9-0-482" class="i">+  ],
</a><a href="#h9-0-483" id="h9-0-483" class="i">+  &quot;grammatical framework&quot;: [
</a><a href="#h9-0-484" id="h9-0-484" class="i">+    &quot;gf&quot;
</a><a href="#h9-0-485" id="h9-0-485" class="i">+  ],
</a><a href="#h9-0-486" id="h9-0-486" class="i">+  &quot;graph modeling language&quot;: [
</a><a href="#h9-0-487" id="h9-0-487" class="i">+    &quot;gml&quot;
</a><a href="#h9-0-488" id="h9-0-488" class="i">+  ],
</a><a href="#h9-0-489" id="h9-0-489" class="i">+  &quot;graphviz (dot)&quot;: [
</a><a href="#h9-0-490" id="h9-0-490" class="i">+    &quot;dot&quot;,
</a><a href="#h9-0-491" id="h9-0-491" class="i">+    &quot;gv&quot;
</a><a href="#h9-0-492" id="h9-0-492" class="i">+  ],
</a><a href="#h9-0-493" id="h9-0-493" class="i">+  &quot;groff&quot;: [
</a><a href="#h9-0-494" id="h9-0-494" class="i">+    &quot;man&quot;,
</a><a href="#h9-0-495" id="h9-0-495" class="i">+    &quot;1&quot;,
</a><a href="#h9-0-496" id="h9-0-496" class="i">+    &quot;2&quot;,
</a><a href="#h9-0-497" id="h9-0-497" class="i">+    &quot;3&quot;,
</a><a href="#h9-0-498" id="h9-0-498" class="i">+    &quot;4&quot;,
</a><a href="#h9-0-499" id="h9-0-499" class="i">+    &quot;5&quot;,
</a><a href="#h9-0-500" id="h9-0-500" class="i">+    &quot;6&quot;,
</a><a href="#h9-0-501" id="h9-0-501" class="i">+    &quot;7&quot;
</a><a href="#h9-0-502" id="h9-0-502" class="i">+  ],
</a><a href="#h9-0-503" id="h9-0-503" class="i">+  &quot;groovy&quot;: [
</a><a href="#h9-0-504" id="h9-0-504" class="i">+    &quot;groovy&quot;,
</a><a href="#h9-0-505" id="h9-0-505" class="i">+    &quot;grt&quot;,
</a><a href="#h9-0-506" id="h9-0-506" class="i">+    &quot;gtpl&quot;,
</a><a href="#h9-0-507" id="h9-0-507" class="i">+    &quot;gvy&quot;
</a><a href="#h9-0-508" id="h9-0-508" class="i">+  ],
</a><a href="#h9-0-509" id="h9-0-509" class="i">+  &quot;groovy server pages&quot;: [
</a><a href="#h9-0-510" id="h9-0-510" class="i">+    &quot;gsp&quot;
</a><a href="#h9-0-511" id="h9-0-511" class="i">+  ],
</a><a href="#h9-0-512" id="h9-0-512" class="i">+  &quot;html&quot;: [
</a><a href="#h9-0-513" id="h9-0-513" class="i">+    &quot;html&quot;,
</a><a href="#h9-0-514" id="h9-0-514" class="i">+    &quot;htm&quot;,
</a><a href="#h9-0-515" id="h9-0-515" class="i">+    &quot;html.hl&quot;,
</a><a href="#h9-0-516" id="h9-0-516" class="i">+    &quot;st&quot;,
</a><a href="#h9-0-517" id="h9-0-517" class="i">+    &quot;xht&quot;,
</a><a href="#h9-0-518" id="h9-0-518" class="i">+    &quot;xhtml&quot;
</a><a href="#h9-0-519" id="h9-0-519" class="i">+  ],
</a><a href="#h9-0-520" id="h9-0-520" class="i">+  &quot;html+django&quot;: [
</a><a href="#h9-0-521" id="h9-0-521" class="i">+    &quot;mustache&quot;,
</a><a href="#h9-0-522" id="h9-0-522" class="i">+    &quot;jinja&quot;
</a><a href="#h9-0-523" id="h9-0-523" class="i">+  ],
</a><a href="#h9-0-524" id="h9-0-524" class="i">+  &quot;html+erb&quot;: [
</a><a href="#h9-0-525" id="h9-0-525" class="i">+    &quot;erb&quot;,
</a><a href="#h9-0-526" id="h9-0-526" class="i">+    &quot;erb.deface&quot;
</a><a href="#h9-0-527" id="h9-0-527" class="i">+  ],
</a><a href="#h9-0-528" id="h9-0-528" class="i">+  &quot;html+php&quot;: [
</a><a href="#h9-0-529" id="h9-0-529" class="i">+    &quot;phtml&quot;
</a><a href="#h9-0-530" id="h9-0-530" class="i">+  ],
</a><a href="#h9-0-531" id="h9-0-531" class="i">+  &quot;http&quot;: [
</a><a href="#h9-0-532" id="h9-0-532" class="i">+    &quot;http&quot;
</a><a href="#h9-0-533" id="h9-0-533" class="i">+  ],
</a><a href="#h9-0-534" id="h9-0-534" class="i">+  &quot;hack&quot;: [
</a><a href="#h9-0-535" id="h9-0-535" class="i">+    &quot;hh&quot;,
</a><a href="#h9-0-536" id="h9-0-536" class="i">+    &quot;php&quot;
</a><a href="#h9-0-537" id="h9-0-537" class="i">+  ],
</a><a href="#h9-0-538" id="h9-0-538" class="i">+  &quot;haml&quot;: [
</a><a href="#h9-0-539" id="h9-0-539" class="i">+    &quot;haml&quot;,
</a><a href="#h9-0-540" id="h9-0-540" class="i">+    &quot;haml.deface&quot;
</a><a href="#h9-0-541" id="h9-0-541" class="i">+  ],
</a><a href="#h9-0-542" id="h9-0-542" class="i">+  &quot;handlebars&quot;: [
</a><a href="#h9-0-543" id="h9-0-543" class="i">+    &quot;handlebars&quot;,
</a><a href="#h9-0-544" id="h9-0-544" class="i">+    &quot;hbs&quot;
</a><a href="#h9-0-545" id="h9-0-545" class="i">+  ],
</a><a href="#h9-0-546" id="h9-0-546" class="i">+  &quot;harbour&quot;: [
</a><a href="#h9-0-547" id="h9-0-547" class="i">+    &quot;hb&quot;
</a><a href="#h9-0-548" id="h9-0-548" class="i">+  ],
</a><a href="#h9-0-549" id="h9-0-549" class="i">+  &quot;haskell&quot;: [
</a><a href="#h9-0-550" id="h9-0-550" class="i">+    &quot;hs&quot;,
</a><a href="#h9-0-551" id="h9-0-551" class="i">+    &quot;hsc&quot;
</a><a href="#h9-0-552" id="h9-0-552" class="i">+  ],
</a><a href="#h9-0-553" id="h9-0-553" class="i">+  &quot;haxe&quot;: [
</a><a href="#h9-0-554" id="h9-0-554" class="i">+    &quot;hx&quot;,
</a><a href="#h9-0-555" id="h9-0-555" class="i">+    &quot;hxsl&quot;
</a><a href="#h9-0-556" id="h9-0-556" class="i">+  ],
</a><a href="#h9-0-557" id="h9-0-557" class="i">+  &quot;hy&quot;: [
</a><a href="#h9-0-558" id="h9-0-558" class="i">+    &quot;hy&quot;
</a><a href="#h9-0-559" id="h9-0-559" class="i">+  ],
</a><a href="#h9-0-560" id="h9-0-560" class="i">+  &quot;idl&quot;: [
</a><a href="#h9-0-561" id="h9-0-561" class="i">+    &quot;pro&quot;,
</a><a href="#h9-0-562" id="h9-0-562" class="i">+    &quot;dlm&quot;
</a><a href="#h9-0-563" id="h9-0-563" class="i">+  ],
</a><a href="#h9-0-564" id="h9-0-564" class="i">+  &quot;igor pro&quot;: [
</a><a href="#h9-0-565" id="h9-0-565" class="i">+    &quot;ipf&quot;
</a><a href="#h9-0-566" id="h9-0-566" class="i">+  ],
</a><a href="#h9-0-567" id="h9-0-567" class="i">+  &quot;ini&quot;: [
</a><a href="#h9-0-568" id="h9-0-568" class="i">+    &quot;ini&quot;,
</a><a href="#h9-0-569" id="h9-0-569" class="i">+    &quot;cfg&quot;,
</a><a href="#h9-0-570" id="h9-0-570" class="i">+    &quot;prefs&quot;,
</a><a href="#h9-0-571" id="h9-0-571" class="i">+    &quot;pro&quot;,
</a><a href="#h9-0-572" id="h9-0-572" class="i">+    &quot;properties&quot;
</a><a href="#h9-0-573" id="h9-0-573" class="i">+  ],
</a><a href="#h9-0-574" id="h9-0-574" class="i">+  &quot;irc log&quot;: [
</a><a href="#h9-0-575" id="h9-0-575" class="i">+    &quot;irclog&quot;,
</a><a href="#h9-0-576" id="h9-0-576" class="i">+    &quot;weechatlog&quot;
</a><a href="#h9-0-577" id="h9-0-577" class="i">+  ],
</a><a href="#h9-0-578" id="h9-0-578" class="i">+  &quot;idris&quot;: [
</a><a href="#h9-0-579" id="h9-0-579" class="i">+    &quot;idr&quot;,
</a><a href="#h9-0-580" id="h9-0-580" class="i">+    &quot;lidr&quot;
</a><a href="#h9-0-581" id="h9-0-581" class="i">+  ],
</a><a href="#h9-0-582" id="h9-0-582" class="i">+  &quot;inform 7&quot;: [
</a><a href="#h9-0-583" id="h9-0-583" class="i">+    &quot;ni&quot;,
</a><a href="#h9-0-584" id="h9-0-584" class="i">+    &quot;i7x&quot;
</a><a href="#h9-0-585" id="h9-0-585" class="i">+  ],
</a><a href="#h9-0-586" id="h9-0-586" class="i">+  &quot;inno setup&quot;: [
</a><a href="#h9-0-587" id="h9-0-587" class="i">+    &quot;iss&quot;
</a><a href="#h9-0-588" id="h9-0-588" class="i">+  ],
</a><a href="#h9-0-589" id="h9-0-589" class="i">+  &quot;io&quot;: [
</a><a href="#h9-0-590" id="h9-0-590" class="i">+    &quot;io&quot;
</a><a href="#h9-0-591" id="h9-0-591" class="i">+  ],
</a><a href="#h9-0-592" id="h9-0-592" class="i">+  &quot;ioke&quot;: [
</a><a href="#h9-0-593" id="h9-0-593" class="i">+    &quot;ik&quot;
</a><a href="#h9-0-594" id="h9-0-594" class="i">+  ],
</a><a href="#h9-0-595" id="h9-0-595" class="i">+  &quot;isabelle&quot;: [
</a><a href="#h9-0-596" id="h9-0-596" class="i">+    &quot;thy&quot;
</a><a href="#h9-0-597" id="h9-0-597" class="i">+  ],
</a><a href="#h9-0-598" id="h9-0-598" class="i">+  &quot;j&quot;: [
</a><a href="#h9-0-599" id="h9-0-599" class="i">+    &quot;ijs&quot;
</a><a href="#h9-0-600" id="h9-0-600" class="i">+  ],
</a><a href="#h9-0-601" id="h9-0-601" class="i">+  &quot;jflex&quot;: [
</a><a href="#h9-0-602" id="h9-0-602" class="i">+    &quot;flex&quot;,
</a><a href="#h9-0-603" id="h9-0-603" class="i">+    &quot;jflex&quot;
</a><a href="#h9-0-604" id="h9-0-604" class="i">+  ],
</a><a href="#h9-0-605" id="h9-0-605" class="i">+  &quot;json&quot;: [
</a><a href="#h9-0-606" id="h9-0-606" class="i">+    &quot;json&quot;,
</a><a href="#h9-0-607" id="h9-0-607" class="i">+    &quot;lock&quot;
</a><a href="#h9-0-608" id="h9-0-608" class="i">+  ],
</a><a href="#h9-0-609" id="h9-0-609" class="i">+  &quot;json5&quot;: [
</a><a href="#h9-0-610" id="h9-0-610" class="i">+    &quot;json5&quot;
</a><a href="#h9-0-611" id="h9-0-611" class="i">+  ],
</a><a href="#h9-0-612" id="h9-0-612" class="i">+  &quot;jsonld&quot;: [
</a><a href="#h9-0-613" id="h9-0-613" class="i">+    &quot;jsonld&quot;
</a><a href="#h9-0-614" id="h9-0-614" class="i">+  ],
</a><a href="#h9-0-615" id="h9-0-615" class="i">+  &quot;jsoniq&quot;: [
</a><a href="#h9-0-616" id="h9-0-616" class="i">+    &quot;jq&quot;
</a><a href="#h9-0-617" id="h9-0-617" class="i">+  ],
</a><a href="#h9-0-618" id="h9-0-618" class="i">+  &quot;jade&quot;: [
</a><a href="#h9-0-619" id="h9-0-619" class="i">+    &quot;jade&quot;
</a><a href="#h9-0-620" id="h9-0-620" class="i">+  ],
</a><a href="#h9-0-621" id="h9-0-621" class="i">+  &quot;jasmin&quot;: [
</a><a href="#h9-0-622" id="h9-0-622" class="i">+    &quot;j&quot;
</a><a href="#h9-0-623" id="h9-0-623" class="i">+  ],
</a><a href="#h9-0-624" id="h9-0-624" class="i">+  &quot;java&quot;: [
</a><a href="#h9-0-625" id="h9-0-625" class="i">+    &quot;java&quot;
</a><a href="#h9-0-626" id="h9-0-626" class="i">+  ],
</a><a href="#h9-0-627" id="h9-0-627" class="i">+  &quot;java server pages&quot;: [
</a><a href="#h9-0-628" id="h9-0-628" class="i">+    &quot;jsp&quot;
</a><a href="#h9-0-629" id="h9-0-629" class="i">+  ],
</a><a href="#h9-0-630" id="h9-0-630" class="i">+  &quot;javascript&quot;: [
</a><a href="#h9-0-631" id="h9-0-631" class="i">+    &quot;js&quot;,
</a><a href="#h9-0-632" id="h9-0-632" class="i">+    &quot;_js&quot;,
</a><a href="#h9-0-633" id="h9-0-633" class="i">+    &quot;bones&quot;,
</a><a href="#h9-0-634" id="h9-0-634" class="i">+    &quot;es6&quot;,
</a><a href="#h9-0-635" id="h9-0-635" class="i">+    &quot;frag&quot;,
</a><a href="#h9-0-636" id="h9-0-636" class="i">+    &quot;gs&quot;,
</a><a href="#h9-0-637" id="h9-0-637" class="i">+    &quot;jake&quot;,
</a><a href="#h9-0-638" id="h9-0-638" class="i">+    &quot;jsb&quot;,
</a><a href="#h9-0-639" id="h9-0-639" class="i">+    &quot;jsfl&quot;,
</a><a href="#h9-0-640" id="h9-0-640" class="i">+    &quot;jsm&quot;,
</a><a href="#h9-0-641" id="h9-0-641" class="i">+    &quot;jss&quot;,
</a><a href="#h9-0-642" id="h9-0-642" class="i">+    &quot;jsx&quot;,
</a><a href="#h9-0-643" id="h9-0-643" class="i">+    &quot;njs&quot;,
</a><a href="#h9-0-644" id="h9-0-644" class="i">+    &quot;pac&quot;,
</a><a href="#h9-0-645" id="h9-0-645" class="i">+    &quot;sjs&quot;,
</a><a href="#h9-0-646" id="h9-0-646" class="i">+    &quot;ssjs&quot;,
</a><a href="#h9-0-647" id="h9-0-647" class="i">+    &quot;sublime-build&quot;,
</a><a href="#h9-0-648" id="h9-0-648" class="i">+    &quot;sublime-commands&quot;,
</a><a href="#h9-0-649" id="h9-0-649" class="i">+    &quot;sublime-completions&quot;,
</a><a href="#h9-0-650" id="h9-0-650" class="i">+    &quot;sublime-keymap&quot;,
</a><a href="#h9-0-651" id="h9-0-651" class="i">+    &quot;sublime-macro&quot;,
</a><a href="#h9-0-652" id="h9-0-652" class="i">+    &quot;sublime-menu&quot;,
</a><a href="#h9-0-653" id="h9-0-653" class="i">+    &quot;sublime-mousemap&quot;,
</a><a href="#h9-0-654" id="h9-0-654" class="i">+    &quot;sublime-project&quot;,
</a><a href="#h9-0-655" id="h9-0-655" class="i">+    &quot;sublime-settings&quot;,
</a><a href="#h9-0-656" id="h9-0-656" class="i">+    &quot;sublime-theme&quot;,
</a><a href="#h9-0-657" id="h9-0-657" class="i">+    &quot;sublime-workspace&quot;,
</a><a href="#h9-0-658" id="h9-0-658" class="i">+    &quot;sublime_metrics&quot;,
</a><a href="#h9-0-659" id="h9-0-659" class="i">+    &quot;sublime_session&quot;,
</a><a href="#h9-0-660" id="h9-0-660" class="i">+    &quot;xsjs&quot;,
</a><a href="#h9-0-661" id="h9-0-661" class="i">+    &quot;xsjslib&quot;
</a><a href="#h9-0-662" id="h9-0-662" class="i">+  ],
</a><a href="#h9-0-663" id="h9-0-663" class="i">+  &quot;julia&quot;: [
</a><a href="#h9-0-664" id="h9-0-664" class="i">+    &quot;jl&quot;
</a><a href="#h9-0-665" id="h9-0-665" class="i">+  ],
</a><a href="#h9-0-666" id="h9-0-666" class="i">+  &quot;krl&quot;: [
</a><a href="#h9-0-667" id="h9-0-667" class="i">+    &quot;krl&quot;
</a><a href="#h9-0-668" id="h9-0-668" class="i">+  ],
</a><a href="#h9-0-669" id="h9-0-669" class="i">+  &quot;kicad&quot;: [
</a><a href="#h9-0-670" id="h9-0-670" class="i">+    &quot;sch&quot;
</a><a href="#h9-0-671" id="h9-0-671" class="i">+  ],
</a><a href="#h9-0-672" id="h9-0-672" class="i">+  &quot;kit&quot;: [
</a><a href="#h9-0-673" id="h9-0-673" class="i">+    &quot;kit&quot;
</a><a href="#h9-0-674" id="h9-0-674" class="i">+  ],
</a><a href="#h9-0-675" id="h9-0-675" class="i">+  &quot;kotlin&quot;: [
</a><a href="#h9-0-676" id="h9-0-676" class="i">+    &quot;kt&quot;,
</a><a href="#h9-0-677" id="h9-0-677" class="i">+    &quot;ktm&quot;,
</a><a href="#h9-0-678" id="h9-0-678" class="i">+    &quot;kts&quot;
</a><a href="#h9-0-679" id="h9-0-679" class="i">+  ],
</a><a href="#h9-0-680" id="h9-0-680" class="i">+  &quot;lfe&quot;: [
</a><a href="#h9-0-681" id="h9-0-681" class="i">+    &quot;lfe&quot;
</a><a href="#h9-0-682" id="h9-0-682" class="i">+  ],
</a><a href="#h9-0-683" id="h9-0-683" class="i">+  &quot;llvm&quot;: [
</a><a href="#h9-0-684" id="h9-0-684" class="i">+    &quot;ll&quot;
</a><a href="#h9-0-685" id="h9-0-685" class="i">+  ],
</a><a href="#h9-0-686" id="h9-0-686" class="i">+  &quot;lolcode&quot;: [
</a><a href="#h9-0-687" id="h9-0-687" class="i">+    &quot;lol&quot;
</a><a href="#h9-0-688" id="h9-0-688" class="i">+  ],
</a><a href="#h9-0-689" id="h9-0-689" class="i">+  &quot;lsl&quot;: [
</a><a href="#h9-0-690" id="h9-0-690" class="i">+    &quot;lsl&quot;
</a><a href="#h9-0-691" id="h9-0-691" class="i">+  ],
</a><a href="#h9-0-692" id="h9-0-692" class="i">+  &quot;labview&quot;: [
</a><a href="#h9-0-693" id="h9-0-693" class="i">+    &quot;lvproj&quot;
</a><a href="#h9-0-694" id="h9-0-694" class="i">+  ],
</a><a href="#h9-0-695" id="h9-0-695" class="i">+  &quot;lasso&quot;: [
</a><a href="#h9-0-696" id="h9-0-696" class="i">+    &quot;lasso&quot;,
</a><a href="#h9-0-697" id="h9-0-697" class="i">+    &quot;las&quot;,
</a><a href="#h9-0-698" id="h9-0-698" class="i">+    &quot;lasso8&quot;,
</a><a href="#h9-0-699" id="h9-0-699" class="i">+    &quot;lasso9&quot;,
</a><a href="#h9-0-700" id="h9-0-700" class="i">+    &quot;ldml&quot;
</a><a href="#h9-0-701" id="h9-0-701" class="i">+  ],
</a><a href="#h9-0-702" id="h9-0-702" class="i">+  &quot;latte&quot;: [
</a><a href="#h9-0-703" id="h9-0-703" class="i">+    &quot;latte&quot;
</a><a href="#h9-0-704" id="h9-0-704" class="i">+  ],
</a><a href="#h9-0-705" id="h9-0-705" class="i">+  &quot;lean&quot;: [
</a><a href="#h9-0-706" id="h9-0-706" class="i">+    &quot;lean&quot;,
</a><a href="#h9-0-707" id="h9-0-707" class="i">+    &quot;hlean&quot;
</a><a href="#h9-0-708" id="h9-0-708" class="i">+  ],
</a><a href="#h9-0-709" id="h9-0-709" class="i">+  &quot;less&quot;: [
</a><a href="#h9-0-710" id="h9-0-710" class="i">+    &quot;less&quot;
</a><a href="#h9-0-711" id="h9-0-711" class="i">+  ],
</a><a href="#h9-0-712" id="h9-0-712" class="i">+  &quot;lilypond&quot;: [
</a><a href="#h9-0-713" id="h9-0-713" class="i">+    &quot;ly&quot;,
</a><a href="#h9-0-714" id="h9-0-714" class="i">+    &quot;ily&quot;
</a><a href="#h9-0-715" id="h9-0-715" class="i">+  ],
</a><a href="#h9-0-716" id="h9-0-716" class="i">+  &quot;limbo&quot;: [
</a><a href="#h9-0-717" id="h9-0-717" class="i">+    &quot;b&quot;,
</a><a href="#h9-0-718" id="h9-0-718" class="i">+    &quot;m&quot;
</a><a href="#h9-0-719" id="h9-0-719" class="i">+  ],
</a><a href="#h9-0-720" id="h9-0-720" class="i">+  &quot;linker script&quot;: [
</a><a href="#h9-0-721" id="h9-0-721" class="i">+    &quot;ld&quot;,
</a><a href="#h9-0-722" id="h9-0-722" class="i">+    &quot;lds&quot;
</a><a href="#h9-0-723" id="h9-0-723" class="i">+  ],
</a><a href="#h9-0-724" id="h9-0-724" class="i">+  &quot;liquid&quot;: [
</a><a href="#h9-0-725" id="h9-0-725" class="i">+    &quot;liquid&quot;
</a><a href="#h9-0-726" id="h9-0-726" class="i">+  ],
</a><a href="#h9-0-727" id="h9-0-727" class="i">+  &quot;literate agda&quot;: [
</a><a href="#h9-0-728" id="h9-0-728" class="i">+    &quot;lagda&quot;
</a><a href="#h9-0-729" id="h9-0-729" class="i">+  ],
</a><a href="#h9-0-730" id="h9-0-730" class="i">+  &quot;literate coffeescript&quot;: [
</a><a href="#h9-0-731" id="h9-0-731" class="i">+    &quot;litcoffee&quot;
</a><a href="#h9-0-732" id="h9-0-732" class="i">+  ],
</a><a href="#h9-0-733" id="h9-0-733" class="i">+  &quot;literate haskell&quot;: [
</a><a href="#h9-0-734" id="h9-0-734" class="i">+    &quot;lhs&quot;
</a><a href="#h9-0-735" id="h9-0-735" class="i">+  ],
</a><a href="#h9-0-736" id="h9-0-736" class="i">+  &quot;livescript&quot;: [
</a><a href="#h9-0-737" id="h9-0-737" class="i">+    &quot;ls&quot;,
</a><a href="#h9-0-738" id="h9-0-738" class="i">+    &quot;_ls&quot;
</a><a href="#h9-0-739" id="h9-0-739" class="i">+  ],
</a><a href="#h9-0-740" id="h9-0-740" class="i">+  &quot;logos&quot;: [
</a><a href="#h9-0-741" id="h9-0-741" class="i">+    &quot;xm&quot;,
</a><a href="#h9-0-742" id="h9-0-742" class="i">+    &quot;x&quot;,
</a><a href="#h9-0-743" id="h9-0-743" class="i">+    &quot;xi&quot;
</a><a href="#h9-0-744" id="h9-0-744" class="i">+  ],
</a><a href="#h9-0-745" id="h9-0-745" class="i">+  &quot;logtalk&quot;: [
</a><a href="#h9-0-746" id="h9-0-746" class="i">+    &quot;lgt&quot;,
</a><a href="#h9-0-747" id="h9-0-747" class="i">+    &quot;logtalk&quot;
</a><a href="#h9-0-748" id="h9-0-748" class="i">+  ],
</a><a href="#h9-0-749" id="h9-0-749" class="i">+  &quot;lookml&quot;: [
</a><a href="#h9-0-750" id="h9-0-750" class="i">+    &quot;lookml&quot;
</a><a href="#h9-0-751" id="h9-0-751" class="i">+  ],
</a><a href="#h9-0-752" id="h9-0-752" class="i">+  &quot;loomscript&quot;: [
</a><a href="#h9-0-753" id="h9-0-753" class="i">+    &quot;ls&quot;
</a><a href="#h9-0-754" id="h9-0-754" class="i">+  ],
</a><a href="#h9-0-755" id="h9-0-755" class="i">+  &quot;lua&quot;: [
</a><a href="#h9-0-756" id="h9-0-756" class="i">+    &quot;lua&quot;,
</a><a href="#h9-0-757" id="h9-0-757" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-758" id="h9-0-758" class="i">+    &quot;nse&quot;,
</a><a href="#h9-0-759" id="h9-0-759" class="i">+    &quot;pd_lua&quot;,
</a><a href="#h9-0-760" id="h9-0-760" class="i">+    &quot;rbxs&quot;,
</a><a href="#h9-0-761" id="h9-0-761" class="i">+    &quot;wlua&quot;
</a><a href="#h9-0-762" id="h9-0-762" class="i">+  ],
</a><a href="#h9-0-763" id="h9-0-763" class="i">+  &quot;m&quot;: [
</a><a href="#h9-0-764" id="h9-0-764" class="i">+    &quot;mumps&quot;,
</a><a href="#h9-0-765" id="h9-0-765" class="i">+    &quot;m&quot;
</a><a href="#h9-0-766" id="h9-0-766" class="i">+  ],
</a><a href="#h9-0-767" id="h9-0-767" class="i">+  &quot;mtml&quot;: [
</a><a href="#h9-0-768" id="h9-0-768" class="i">+    &quot;mtml&quot;
</a><a href="#h9-0-769" id="h9-0-769" class="i">+  ],
</a><a href="#h9-0-770" id="h9-0-770" class="i">+  &quot;muf&quot;: [
</a><a href="#h9-0-771" id="h9-0-771" class="i">+    &quot;muf&quot;,
</a><a href="#h9-0-772" id="h9-0-772" class="i">+    &quot;m&quot;
</a><a href="#h9-0-773" id="h9-0-773" class="i">+  ],
</a><a href="#h9-0-774" id="h9-0-774" class="i">+  &quot;makefile&quot;: [
</a><a href="#h9-0-775" id="h9-0-775" class="i">+    &quot;mak&quot;,
</a><a href="#h9-0-776" id="h9-0-776" class="i">+    &quot;d&quot;,
</a><a href="#h9-0-777" id="h9-0-777" class="i">+    &quot;mk&quot;
</a><a href="#h9-0-778" id="h9-0-778" class="i">+  ],
</a><a href="#h9-0-779" id="h9-0-779" class="i">+  &quot;mako&quot;: [
</a><a href="#h9-0-780" id="h9-0-780" class="i">+    &quot;mako&quot;,
</a><a href="#h9-0-781" id="h9-0-781" class="i">+    &quot;mao&quot;
</a><a href="#h9-0-782" id="h9-0-782" class="i">+  ],
</a><a href="#h9-0-783" id="h9-0-783" class="i">+  &quot;markdown&quot;: [
</a><a href="#h9-0-784" id="h9-0-784" class="i">+    &quot;md&quot;,
</a><a href="#h9-0-785" id="h9-0-785" class="i">+    &quot;markdown&quot;,
</a><a href="#h9-0-786" id="h9-0-786" class="i">+    &quot;mkd&quot;,
</a><a href="#h9-0-787" id="h9-0-787" class="i">+    &quot;mkdn&quot;,
</a><a href="#h9-0-788" id="h9-0-788" class="i">+    &quot;mkdown&quot;,
</a><a href="#h9-0-789" id="h9-0-789" class="i">+    &quot;ron&quot;
</a><a href="#h9-0-790" id="h9-0-790" class="i">+  ],
</a><a href="#h9-0-791" id="h9-0-791" class="i">+  &quot;mask&quot;: [
</a><a href="#h9-0-792" id="h9-0-792" class="i">+    &quot;mask&quot;
</a><a href="#h9-0-793" id="h9-0-793" class="i">+  ],
</a><a href="#h9-0-794" id="h9-0-794" class="i">+  &quot;mathematica&quot;: [
</a><a href="#h9-0-795" id="h9-0-795" class="i">+    &quot;mathematica&quot;,
</a><a href="#h9-0-796" id="h9-0-796" class="i">+    &quot;cdf&quot;,
</a><a href="#h9-0-797" id="h9-0-797" class="i">+    &quot;m&quot;,
</a><a href="#h9-0-798" id="h9-0-798" class="i">+    &quot;ma&quot;,
</a><a href="#h9-0-799" id="h9-0-799" class="i">+    &quot;nb&quot;,
</a><a href="#h9-0-800" id="h9-0-800" class="i">+    &quot;nbp&quot;,
</a><a href="#h9-0-801" id="h9-0-801" class="i">+    &quot;wl&quot;,
</a><a href="#h9-0-802" id="h9-0-802" class="i">+    &quot;wlt&quot;
</a><a href="#h9-0-803" id="h9-0-803" class="i">+  ],
</a><a href="#h9-0-804" id="h9-0-804" class="i">+  &quot;matlab&quot;: [
</a><a href="#h9-0-805" id="h9-0-805" class="i">+    &quot;matlab&quot;,
</a><a href="#h9-0-806" id="h9-0-806" class="i">+    &quot;m&quot;
</a><a href="#h9-0-807" id="h9-0-807" class="i">+  ],
</a><a href="#h9-0-808" id="h9-0-808" class="i">+  &quot;max&quot;: [
</a><a href="#h9-0-809" id="h9-0-809" class="i">+    &quot;maxpat&quot;,
</a><a href="#h9-0-810" id="h9-0-810" class="i">+    &quot;maxhelp&quot;,
</a><a href="#h9-0-811" id="h9-0-811" class="i">+    &quot;maxproj&quot;,
</a><a href="#h9-0-812" id="h9-0-812" class="i">+    &quot;mxt&quot;,
</a><a href="#h9-0-813" id="h9-0-813" class="i">+    &quot;pat&quot;
</a><a href="#h9-0-814" id="h9-0-814" class="i">+  ],
</a><a href="#h9-0-815" id="h9-0-815" class="i">+  &quot;mediawiki&quot;: [
</a><a href="#h9-0-816" id="h9-0-816" class="i">+    &quot;mediawiki&quot;
</a><a href="#h9-0-817" id="h9-0-817" class="i">+  ],
</a><a href="#h9-0-818" id="h9-0-818" class="i">+  &quot;mercury&quot;: [
</a><a href="#h9-0-819" id="h9-0-819" class="i">+    &quot;m&quot;,
</a><a href="#h9-0-820" id="h9-0-820" class="i">+    &quot;moo&quot;
</a><a href="#h9-0-821" id="h9-0-821" class="i">+  ],
</a><a href="#h9-0-822" id="h9-0-822" class="i">+  &quot;minid&quot;: [
</a><a href="#h9-0-823" id="h9-0-823" class="i">+    &quot;minid&quot;
</a><a href="#h9-0-824" id="h9-0-824" class="i">+  ],
</a><a href="#h9-0-825" id="h9-0-825" class="i">+  &quot;mirah&quot;: [
</a><a href="#h9-0-826" id="h9-0-826" class="i">+    &quot;druby&quot;,
</a><a href="#h9-0-827" id="h9-0-827" class="i">+    &quot;duby&quot;,
</a><a href="#h9-0-828" id="h9-0-828" class="i">+    &quot;mir&quot;,
</a><a href="#h9-0-829" id="h9-0-829" class="i">+    &quot;mirah&quot;
</a><a href="#h9-0-830" id="h9-0-830" class="i">+  ],
</a><a href="#h9-0-831" id="h9-0-831" class="i">+  &quot;modelica&quot;: [
</a><a href="#h9-0-832" id="h9-0-832" class="i">+    &quot;mo&quot;
</a><a href="#h9-0-833" id="h9-0-833" class="i">+  ],
</a><a href="#h9-0-834" id="h9-0-834" class="i">+  &quot;module management system&quot;: [
</a><a href="#h9-0-835" id="h9-0-835" class="i">+    &quot;mms&quot;,
</a><a href="#h9-0-836" id="h9-0-836" class="i">+    &quot;mmk&quot;
</a><a href="#h9-0-837" id="h9-0-837" class="i">+  ],
</a><a href="#h9-0-838" id="h9-0-838" class="i">+  &quot;monkey&quot;: [
</a><a href="#h9-0-839" id="h9-0-839" class="i">+    &quot;monkey&quot;
</a><a href="#h9-0-840" id="h9-0-840" class="i">+  ],
</a><a href="#h9-0-841" id="h9-0-841" class="i">+  &quot;moocode&quot;: [
</a><a href="#h9-0-842" id="h9-0-842" class="i">+    &quot;moo&quot;
</a><a href="#h9-0-843" id="h9-0-843" class="i">+  ],
</a><a href="#h9-0-844" id="h9-0-844" class="i">+  &quot;moonscript&quot;: [
</a><a href="#h9-0-845" id="h9-0-845" class="i">+    &quot;moon&quot;
</a><a href="#h9-0-846" id="h9-0-846" class="i">+  ],
</a><a href="#h9-0-847" id="h9-0-847" class="i">+  &quot;myghty&quot;: [
</a><a href="#h9-0-848" id="h9-0-848" class="i">+    &quot;myt&quot;
</a><a href="#h9-0-849" id="h9-0-849" class="i">+  ],
</a><a href="#h9-0-850" id="h9-0-850" class="i">+  &quot;nl&quot;: [
</a><a href="#h9-0-851" id="h9-0-851" class="i">+    &quot;nl&quot;
</a><a href="#h9-0-852" id="h9-0-852" class="i">+  ],
</a><a href="#h9-0-853" id="h9-0-853" class="i">+  &quot;nsis&quot;: [
</a><a href="#h9-0-854" id="h9-0-854" class="i">+    &quot;nsi&quot;,
</a><a href="#h9-0-855" id="h9-0-855" class="i">+    &quot;nsh&quot;
</a><a href="#h9-0-856" id="h9-0-856" class="i">+  ],
</a><a href="#h9-0-857" id="h9-0-857" class="i">+  &quot;nemerle&quot;: [
</a><a href="#h9-0-858" id="h9-0-858" class="i">+    &quot;n&quot;
</a><a href="#h9-0-859" id="h9-0-859" class="i">+  ],
</a><a href="#h9-0-860" id="h9-0-860" class="i">+  &quot;netlinx&quot;: [
</a><a href="#h9-0-861" id="h9-0-861" class="i">+    &quot;axs&quot;,
</a><a href="#h9-0-862" id="h9-0-862" class="i">+    &quot;axi&quot;
</a><a href="#h9-0-863" id="h9-0-863" class="i">+  ],
</a><a href="#h9-0-864" id="h9-0-864" class="i">+  &quot;netlinx+erb&quot;: [
</a><a href="#h9-0-865" id="h9-0-865" class="i">+    &quot;axs.erb&quot;,
</a><a href="#h9-0-866" id="h9-0-866" class="i">+    &quot;axi.erb&quot;
</a><a href="#h9-0-867" id="h9-0-867" class="i">+  ],
</a><a href="#h9-0-868" id="h9-0-868" class="i">+  &quot;netlogo&quot;: [
</a><a href="#h9-0-869" id="h9-0-869" class="i">+    &quot;nlogo&quot;
</a><a href="#h9-0-870" id="h9-0-870" class="i">+  ],
</a><a href="#h9-0-871" id="h9-0-871" class="i">+  &quot;newlisp&quot;: [
</a><a href="#h9-0-872" id="h9-0-872" class="i">+    &quot;nl&quot;,
</a><a href="#h9-0-873" id="h9-0-873" class="i">+    &quot;lisp&quot;,
</a><a href="#h9-0-874" id="h9-0-874" class="i">+    &quot;lsp&quot;
</a><a href="#h9-0-875" id="h9-0-875" class="i">+  ],
</a><a href="#h9-0-876" id="h9-0-876" class="i">+  &quot;nginx&quot;: [
</a><a href="#h9-0-877" id="h9-0-877" class="i">+    &quot;nginxconf&quot;
</a><a href="#h9-0-878" id="h9-0-878" class="i">+  ],
</a><a href="#h9-0-879" id="h9-0-879" class="i">+  &quot;nimrod&quot;: [
</a><a href="#h9-0-880" id="h9-0-880" class="i">+    &quot;nim&quot;,
</a><a href="#h9-0-881" id="h9-0-881" class="i">+    &quot;nimrod&quot;
</a><a href="#h9-0-882" id="h9-0-882" class="i">+  ],
</a><a href="#h9-0-883" id="h9-0-883" class="i">+  &quot;ninja&quot;: [
</a><a href="#h9-0-884" id="h9-0-884" class="i">+    &quot;ninja&quot;
</a><a href="#h9-0-885" id="h9-0-885" class="i">+  ],
</a><a href="#h9-0-886" id="h9-0-886" class="i">+  &quot;nit&quot;: [
</a><a href="#h9-0-887" id="h9-0-887" class="i">+    &quot;nit&quot;
</a><a href="#h9-0-888" id="h9-0-888" class="i">+  ],
</a><a href="#h9-0-889" id="h9-0-889" class="i">+  &quot;nix&quot;: [
</a><a href="#h9-0-890" id="h9-0-890" class="i">+    &quot;nix&quot;
</a><a href="#h9-0-891" id="h9-0-891" class="i">+  ],
</a><a href="#h9-0-892" id="h9-0-892" class="i">+  &quot;nu&quot;: [
</a><a href="#h9-0-893" id="h9-0-893" class="i">+    &quot;nu&quot;
</a><a href="#h9-0-894" id="h9-0-894" class="i">+  ],
</a><a href="#h9-0-895" id="h9-0-895" class="i">+  &quot;numpy&quot;: [
</a><a href="#h9-0-896" id="h9-0-896" class="i">+    &quot;numpy&quot;,
</a><a href="#h9-0-897" id="h9-0-897" class="i">+    &quot;numpyw&quot;,
</a><a href="#h9-0-898" id="h9-0-898" class="i">+    &quot;numsc&quot;
</a><a href="#h9-0-899" id="h9-0-899" class="i">+  ],
</a><a href="#h9-0-900" id="h9-0-900" class="i">+  &quot;ocaml&quot;: [
</a><a href="#h9-0-901" id="h9-0-901" class="i">+    &quot;ml&quot;,
</a><a href="#h9-0-902" id="h9-0-902" class="i">+    &quot;eliom&quot;,
</a><a href="#h9-0-903" id="h9-0-903" class="i">+    &quot;eliomi&quot;,
</a><a href="#h9-0-904" id="h9-0-904" class="i">+    &quot;ml4&quot;,
</a><a href="#h9-0-905" id="h9-0-905" class="i">+    &quot;mli&quot;,
</a><a href="#h9-0-906" id="h9-0-906" class="i">+    &quot;mll&quot;,
</a><a href="#h9-0-907" id="h9-0-907" class="i">+    &quot;mly&quot;
</a><a href="#h9-0-908" id="h9-0-908" class="i">+  ],
</a><a href="#h9-0-909" id="h9-0-909" class="i">+  &quot;objdump&quot;: [
</a><a href="#h9-0-910" id="h9-0-910" class="i">+    &quot;objdump&quot;
</a><a href="#h9-0-911" id="h9-0-911" class="i">+  ],
</a><a href="#h9-0-912" id="h9-0-912" class="i">+  &quot;objective-c&quot;: [
</a><a href="#h9-0-913" id="h9-0-913" class="i">+    &quot;m&quot;,
</a><a href="#h9-0-914" id="h9-0-914" class="i">+    &quot;h&quot;
</a><a href="#h9-0-915" id="h9-0-915" class="i">+  ],
</a><a href="#h9-0-916" id="h9-0-916" class="i">+  &quot;objective-c++&quot;: [
</a><a href="#h9-0-917" id="h9-0-917" class="i">+    &quot;mm&quot;
</a><a href="#h9-0-918" id="h9-0-918" class="i">+  ],
</a><a href="#h9-0-919" id="h9-0-919" class="i">+  &quot;objective-j&quot;: [
</a><a href="#h9-0-920" id="h9-0-920" class="i">+    &quot;j&quot;,
</a><a href="#h9-0-921" id="h9-0-921" class="i">+    &quot;sj&quot;
</a><a href="#h9-0-922" id="h9-0-922" class="i">+  ],
</a><a href="#h9-0-923" id="h9-0-923" class="i">+  &quot;omgrofl&quot;: [
</a><a href="#h9-0-924" id="h9-0-924" class="i">+    &quot;omgrofl&quot;
</a><a href="#h9-0-925" id="h9-0-925" class="i">+  ],
</a><a href="#h9-0-926" id="h9-0-926" class="i">+  &quot;opa&quot;: [
</a><a href="#h9-0-927" id="h9-0-927" class="i">+    &quot;opa&quot;
</a><a href="#h9-0-928" id="h9-0-928" class="i">+  ],
</a><a href="#h9-0-929" id="h9-0-929" class="i">+  &quot;opal&quot;: [
</a><a href="#h9-0-930" id="h9-0-930" class="i">+    &quot;opal&quot;
</a><a href="#h9-0-931" id="h9-0-931" class="i">+  ],
</a><a href="#h9-0-932" id="h9-0-932" class="i">+  &quot;opencl&quot;: [
</a><a href="#h9-0-933" id="h9-0-933" class="i">+    &quot;cl&quot;,
</a><a href="#h9-0-934" id="h9-0-934" class="i">+    &quot;opencl&quot;
</a><a href="#h9-0-935" id="h9-0-935" class="i">+  ],
</a><a href="#h9-0-936" id="h9-0-936" class="i">+  &quot;openedge abl&quot;: [
</a><a href="#h9-0-937" id="h9-0-937" class="i">+    &quot;p&quot;,
</a><a href="#h9-0-938" id="h9-0-938" class="i">+    &quot;cls&quot;
</a><a href="#h9-0-939" id="h9-0-939" class="i">+  ],
</a><a href="#h9-0-940" id="h9-0-940" class="i">+  &quot;openscad&quot;: [
</a><a href="#h9-0-941" id="h9-0-941" class="i">+    &quot;scad&quot;
</a><a href="#h9-0-942" id="h9-0-942" class="i">+  ],
</a><a href="#h9-0-943" id="h9-0-943" class="i">+  &quot;org&quot;: [
</a><a href="#h9-0-944" id="h9-0-944" class="i">+    &quot;org&quot;
</a><a href="#h9-0-945" id="h9-0-945" class="i">+  ],
</a><a href="#h9-0-946" id="h9-0-946" class="i">+  &quot;ox&quot;: [
</a><a href="#h9-0-947" id="h9-0-947" class="i">+    &quot;ox&quot;,
</a><a href="#h9-0-948" id="h9-0-948" class="i">+    &quot;oxh&quot;,
</a><a href="#h9-0-949" id="h9-0-949" class="i">+    &quot;oxo&quot;
</a><a href="#h9-0-950" id="h9-0-950" class="i">+  ],
</a><a href="#h9-0-951" id="h9-0-951" class="i">+  &quot;oxygene&quot;: [
</a><a href="#h9-0-952" id="h9-0-952" class="i">+    &quot;oxygene&quot;
</a><a href="#h9-0-953" id="h9-0-953" class="i">+  ],
</a><a href="#h9-0-954" id="h9-0-954" class="i">+  &quot;oz&quot;: [
</a><a href="#h9-0-955" id="h9-0-955" class="i">+    &quot;oz&quot;
</a><a href="#h9-0-956" id="h9-0-956" class="i">+  ],
</a><a href="#h9-0-957" id="h9-0-957" class="i">+  &quot;pawn&quot;: [
</a><a href="#h9-0-958" id="h9-0-958" class="i">+    &quot;pwn&quot;
</a><a href="#h9-0-959" id="h9-0-959" class="i">+  ],
</a><a href="#h9-0-960" id="h9-0-960" class="i">+  &quot;php&quot;: [
</a><a href="#h9-0-961" id="h9-0-961" class="i">+    &quot;php&quot;,
</a><a href="#h9-0-962" id="h9-0-962" class="i">+    &quot;aw&quot;,
</a><a href="#h9-0-963" id="h9-0-963" class="i">+    &quot;ctp&quot;,
</a><a href="#h9-0-964" id="h9-0-964" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-965" id="h9-0-965" class="i">+    &quot;php3&quot;,
</a><a href="#h9-0-966" id="h9-0-966" class="i">+    &quot;php4&quot;,
</a><a href="#h9-0-967" id="h9-0-967" class="i">+    &quot;php5&quot;,
</a><a href="#h9-0-968" id="h9-0-968" class="i">+    &quot;phpt&quot;
</a><a href="#h9-0-969" id="h9-0-969" class="i">+  ],
</a><a href="#h9-0-970" id="h9-0-970" class="i">+  &quot;plsql&quot;: [
</a><a href="#h9-0-971" id="h9-0-971" class="i">+    &quot;pls&quot;,
</a><a href="#h9-0-972" id="h9-0-972" class="i">+    &quot;pkb&quot;,
</a><a href="#h9-0-973" id="h9-0-973" class="i">+    &quot;pks&quot;,
</a><a href="#h9-0-974" id="h9-0-974" class="i">+    &quot;plb&quot;,
</a><a href="#h9-0-975" id="h9-0-975" class="i">+    &quot;plsql&quot;,
</a><a href="#h9-0-976" id="h9-0-976" class="i">+    &quot;sql&quot;
</a><a href="#h9-0-977" id="h9-0-977" class="i">+  ],
</a><a href="#h9-0-978" id="h9-0-978" class="i">+  &quot;plpgsql&quot;: [
</a><a href="#h9-0-979" id="h9-0-979" class="i">+    &quot;sql&quot;
</a><a href="#h9-0-980" id="h9-0-980" class="i">+  ],
</a><a href="#h9-0-981" id="h9-0-981" class="i">+  &quot;pan&quot;: [
</a><a href="#h9-0-982" id="h9-0-982" class="i">+    &quot;pan&quot;
</a><a href="#h9-0-983" id="h9-0-983" class="i">+  ],
</a><a href="#h9-0-984" id="h9-0-984" class="i">+  &quot;papyrus&quot;: [
</a><a href="#h9-0-985" id="h9-0-985" class="i">+    &quot;psc&quot;
</a><a href="#h9-0-986" id="h9-0-986" class="i">+  ],
</a><a href="#h9-0-987" id="h9-0-987" class="i">+  &quot;parrot&quot;: [
</a><a href="#h9-0-988" id="h9-0-988" class="i">+    &quot;parrot&quot;
</a><a href="#h9-0-989" id="h9-0-989" class="i">+  ],
</a><a href="#h9-0-990" id="h9-0-990" class="i">+  &quot;parrot assembly&quot;: [
</a><a href="#h9-0-991" id="h9-0-991" class="i">+    &quot;pasm&quot;
</a><a href="#h9-0-992" id="h9-0-992" class="i">+  ],
</a><a href="#h9-0-993" id="h9-0-993" class="i">+  &quot;parrot internal representation&quot;: [
</a><a href="#h9-0-994" id="h9-0-994" class="i">+    &quot;pir&quot;
</a><a href="#h9-0-995" id="h9-0-995" class="i">+  ],
</a><a href="#h9-0-996" id="h9-0-996" class="i">+  &quot;pascal&quot;: [
</a><a href="#h9-0-997" id="h9-0-997" class="i">+    &quot;pas&quot;,
</a><a href="#h9-0-998" id="h9-0-998" class="i">+    &quot;dfm&quot;,
</a><a href="#h9-0-999" id="h9-0-999" class="i">+    &quot;dpr&quot;,
</a><a href="#h9-0-1000" id="h9-0-1000" class="i">+    &quot;lpr&quot;,
</a><a href="#h9-0-1001" id="h9-0-1001" class="i">+    &quot;pp&quot;
</a><a href="#h9-0-1002" id="h9-0-1002" class="i">+  ],
</a><a href="#h9-0-1003" id="h9-0-1003" class="i">+  &quot;perl&quot;: [
</a><a href="#h9-0-1004" id="h9-0-1004" class="i">+    &quot;pl&quot;,
</a><a href="#h9-0-1005" id="h9-0-1005" class="i">+    &quot;cgi&quot;,
</a><a href="#h9-0-1006" id="h9-0-1006" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-1007" id="h9-0-1007" class="i">+    &quot;perl&quot;,
</a><a href="#h9-0-1008" id="h9-0-1008" class="i">+    &quot;ph&quot;,
</a><a href="#h9-0-1009" id="h9-0-1009" class="i">+    &quot;plx&quot;,
</a><a href="#h9-0-1010" id="h9-0-1010" class="i">+    &quot;pm&quot;,
</a><a href="#h9-0-1011" id="h9-0-1011" class="i">+    &quot;pod&quot;,
</a><a href="#h9-0-1012" id="h9-0-1012" class="i">+    &quot;psgi&quot;,
</a><a href="#h9-0-1013" id="h9-0-1013" class="i">+    &quot;t&quot;
</a><a href="#h9-0-1014" id="h9-0-1014" class="i">+  ],
</a><a href="#h9-0-1015" id="h9-0-1015" class="i">+  &quot;perl6&quot;: [
</a><a href="#h9-0-1016" id="h9-0-1016" class="i">+    &quot;6pl&quot;,
</a><a href="#h9-0-1017" id="h9-0-1017" class="i">+    &quot;6pm&quot;,
</a><a href="#h9-0-1018" id="h9-0-1018" class="i">+    &quot;nqp&quot;,
</a><a href="#h9-0-1019" id="h9-0-1019" class="i">+    &quot;p6&quot;,
</a><a href="#h9-0-1020" id="h9-0-1020" class="i">+    &quot;p6l&quot;,
</a><a href="#h9-0-1021" id="h9-0-1021" class="i">+    &quot;p6m&quot;,
</a><a href="#h9-0-1022" id="h9-0-1022" class="i">+    &quot;pl&quot;,
</a><a href="#h9-0-1023" id="h9-0-1023" class="i">+    &quot;pl6&quot;,
</a><a href="#h9-0-1024" id="h9-0-1024" class="i">+    &quot;pm&quot;,
</a><a href="#h9-0-1025" id="h9-0-1025" class="i">+    &quot;pm6&quot;,
</a><a href="#h9-0-1026" id="h9-0-1026" class="i">+    &quot;t&quot;
</a><a href="#h9-0-1027" id="h9-0-1027" class="i">+  ],
</a><a href="#h9-0-1028" id="h9-0-1028" class="i">+  &quot;piglatin&quot;: [
</a><a href="#h9-0-1029" id="h9-0-1029" class="i">+    &quot;pig&quot;
</a><a href="#h9-0-1030" id="h9-0-1030" class="i">+  ],
</a><a href="#h9-0-1031" id="h9-0-1031" class="i">+  &quot;pike&quot;: [
</a><a href="#h9-0-1032" id="h9-0-1032" class="i">+    &quot;pike&quot;,
</a><a href="#h9-0-1033" id="h9-0-1033" class="i">+    &quot;pmod&quot;
</a><a href="#h9-0-1034" id="h9-0-1034" class="i">+  ],
</a><a href="#h9-0-1035" id="h9-0-1035" class="i">+  &quot;pod&quot;: [
</a><a href="#h9-0-1036" id="h9-0-1036" class="i">+    &quot;pod&quot;
</a><a href="#h9-0-1037" id="h9-0-1037" class="i">+  ],
</a><a href="#h9-0-1038" id="h9-0-1038" class="i">+  &quot;pogoscript&quot;: [
</a><a href="#h9-0-1039" id="h9-0-1039" class="i">+    &quot;pogo&quot;
</a><a href="#h9-0-1040" id="h9-0-1040" class="i">+  ],
</a><a href="#h9-0-1041" id="h9-0-1041" class="i">+  &quot;postscript&quot;: [
</a><a href="#h9-0-1042" id="h9-0-1042" class="i">+    &quot;ps&quot;,
</a><a href="#h9-0-1043" id="h9-0-1043" class="i">+    &quot;eps&quot;
</a><a href="#h9-0-1044" id="h9-0-1044" class="i">+  ],
</a><a href="#h9-0-1045" id="h9-0-1045" class="i">+  &quot;powershell&quot;: [
</a><a href="#h9-0-1046" id="h9-0-1046" class="i">+    &quot;ps1&quot;,
</a><a href="#h9-0-1047" id="h9-0-1047" class="i">+    &quot;psd1&quot;,
</a><a href="#h9-0-1048" id="h9-0-1048" class="i">+    &quot;psm1&quot;
</a><a href="#h9-0-1049" id="h9-0-1049" class="i">+  ],
</a><a href="#h9-0-1050" id="h9-0-1050" class="i">+  &quot;processing&quot;: [
</a><a href="#h9-0-1051" id="h9-0-1051" class="i">+    &quot;pde&quot;
</a><a href="#h9-0-1052" id="h9-0-1052" class="i">+  ],
</a><a href="#h9-0-1053" id="h9-0-1053" class="i">+  &quot;prolog&quot;: [
</a><a href="#h9-0-1054" id="h9-0-1054" class="i">+    &quot;pl&quot;,
</a><a href="#h9-0-1055" id="h9-0-1055" class="i">+    &quot;ecl&quot;,
</a><a href="#h9-0-1056" id="h9-0-1056" class="i">+    &quot;pro&quot;,
</a><a href="#h9-0-1057" id="h9-0-1057" class="i">+    &quot;prolog&quot;
</a><a href="#h9-0-1058" id="h9-0-1058" class="i">+  ],
</a><a href="#h9-0-1059" id="h9-0-1059" class="i">+  &quot;propeller spin&quot;: [
</a><a href="#h9-0-1060" id="h9-0-1060" class="i">+    &quot;spin&quot;
</a><a href="#h9-0-1061" id="h9-0-1061" class="i">+  ],
</a><a href="#h9-0-1062" id="h9-0-1062" class="i">+  &quot;protocol buffer&quot;: [
</a><a href="#h9-0-1063" id="h9-0-1063" class="i">+    &quot;proto&quot;
</a><a href="#h9-0-1064" id="h9-0-1064" class="i">+  ],
</a><a href="#h9-0-1065" id="h9-0-1065" class="i">+  &quot;public key&quot;: [
</a><a href="#h9-0-1066" id="h9-0-1066" class="i">+    &quot;asc&quot;,
</a><a href="#h9-0-1067" id="h9-0-1067" class="i">+    &quot;pub&quot;
</a><a href="#h9-0-1068" id="h9-0-1068" class="i">+  ],
</a><a href="#h9-0-1069" id="h9-0-1069" class="i">+  &quot;puppet&quot;: [
</a><a href="#h9-0-1070" id="h9-0-1070" class="i">+    &quot;pp&quot;
</a><a href="#h9-0-1071" id="h9-0-1071" class="i">+  ],
</a><a href="#h9-0-1072" id="h9-0-1072" class="i">+  &quot;pure data&quot;: [
</a><a href="#h9-0-1073" id="h9-0-1073" class="i">+    &quot;pd&quot;
</a><a href="#h9-0-1074" id="h9-0-1074" class="i">+  ],
</a><a href="#h9-0-1075" id="h9-0-1075" class="i">+  &quot;purebasic&quot;: [
</a><a href="#h9-0-1076" id="h9-0-1076" class="i">+    &quot;pb&quot;,
</a><a href="#h9-0-1077" id="h9-0-1077" class="i">+    &quot;pbi&quot;
</a><a href="#h9-0-1078" id="h9-0-1078" class="i">+  ],
</a><a href="#h9-0-1079" id="h9-0-1079" class="i">+  &quot;purescript&quot;: [
</a><a href="#h9-0-1080" id="h9-0-1080" class="i">+    &quot;purs&quot;
</a><a href="#h9-0-1081" id="h9-0-1081" class="i">+  ],
</a><a href="#h9-0-1082" id="h9-0-1082" class="i">+  &quot;python&quot;: [
</a><a href="#h9-0-1083" id="h9-0-1083" class="i">+    &quot;py&quot;,
</a><a href="#h9-0-1084" id="h9-0-1084" class="i">+    &quot;cgi&quot;,
</a><a href="#h9-0-1085" id="h9-0-1085" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-1086" id="h9-0-1086" class="i">+    &quot;gyp&quot;,
</a><a href="#h9-0-1087" id="h9-0-1087" class="i">+    &quot;lmi&quot;,
</a><a href="#h9-0-1088" id="h9-0-1088" class="i">+    &quot;pyde&quot;,
</a><a href="#h9-0-1089" id="h9-0-1089" class="i">+    &quot;pyp&quot;,
</a><a href="#h9-0-1090" id="h9-0-1090" class="i">+    &quot;pyt&quot;,
</a><a href="#h9-0-1091" id="h9-0-1091" class="i">+    &quot;pyw&quot;,
</a><a href="#h9-0-1092" id="h9-0-1092" class="i">+    &quot;tac&quot;,
</a><a href="#h9-0-1093" id="h9-0-1093" class="i">+    &quot;wsgi&quot;,
</a><a href="#h9-0-1094" id="h9-0-1094" class="i">+    &quot;xpy&quot;
</a><a href="#h9-0-1095" id="h9-0-1095" class="i">+  ],
</a><a href="#h9-0-1096" id="h9-0-1096" class="i">+  &quot;python traceback&quot;: [
</a><a href="#h9-0-1097" id="h9-0-1097" class="i">+    &quot;pytb&quot;
</a><a href="#h9-0-1098" id="h9-0-1098" class="i">+  ],
</a><a href="#h9-0-1099" id="h9-0-1099" class="i">+  &quot;qml&quot;: [
</a><a href="#h9-0-1100" id="h9-0-1100" class="i">+    &quot;qml&quot;
</a><a href="#h9-0-1101" id="h9-0-1101" class="i">+  ],
</a><a href="#h9-0-1102" id="h9-0-1102" class="i">+  &quot;qmake&quot;: [
</a><a href="#h9-0-1103" id="h9-0-1103" class="i">+    &quot;pro&quot;,
</a><a href="#h9-0-1104" id="h9-0-1104" class="i">+    &quot;pri&quot;
</a><a href="#h9-0-1105" id="h9-0-1105" class="i">+  ],
</a><a href="#h9-0-1106" id="h9-0-1106" class="i">+  &quot;r&quot;: [
</a><a href="#h9-0-1107" id="h9-0-1107" class="i">+    &quot;r&quot;,
</a><a href="#h9-0-1108" id="h9-0-1108" class="i">+    &quot;rd&quot;,
</a><a href="#h9-0-1109" id="h9-0-1109" class="i">+    &quot;rsx&quot;
</a><a href="#h9-0-1110" id="h9-0-1110" class="i">+  ],
</a><a href="#h9-0-1111" id="h9-0-1111" class="i">+  &quot;raml&quot;: [
</a><a href="#h9-0-1112" id="h9-0-1112" class="i">+    &quot;raml&quot;
</a><a href="#h9-0-1113" id="h9-0-1113" class="i">+  ],
</a><a href="#h9-0-1114" id="h9-0-1114" class="i">+  &quot;rdoc&quot;: [
</a><a href="#h9-0-1115" id="h9-0-1115" class="i">+    &quot;rdoc&quot;
</a><a href="#h9-0-1116" id="h9-0-1116" class="i">+  ],
</a><a href="#h9-0-1117" id="h9-0-1117" class="i">+  &quot;realbasic&quot;: [
</a><a href="#h9-0-1118" id="h9-0-1118" class="i">+    &quot;rbbas&quot;,
</a><a href="#h9-0-1119" id="h9-0-1119" class="i">+    &quot;rbfrm&quot;,
</a><a href="#h9-0-1120" id="h9-0-1120" class="i">+    &quot;rbmnu&quot;,
</a><a href="#h9-0-1121" id="h9-0-1121" class="i">+    &quot;rbres&quot;,
</a><a href="#h9-0-1122" id="h9-0-1122" class="i">+    &quot;rbtbar&quot;,
</a><a href="#h9-0-1123" id="h9-0-1123" class="i">+    &quot;rbuistate&quot;
</a><a href="#h9-0-1124" id="h9-0-1124" class="i">+  ],
</a><a href="#h9-0-1125" id="h9-0-1125" class="i">+  &quot;rhtml&quot;: [
</a><a href="#h9-0-1126" id="h9-0-1126" class="i">+    &quot;rhtml&quot;
</a><a href="#h9-0-1127" id="h9-0-1127" class="i">+  ],
</a><a href="#h9-0-1128" id="h9-0-1128" class="i">+  &quot;rmarkdown&quot;: [
</a><a href="#h9-0-1129" id="h9-0-1129" class="i">+    &quot;rmd&quot;
</a><a href="#h9-0-1130" id="h9-0-1130" class="i">+  ],
</a><a href="#h9-0-1131" id="h9-0-1131" class="i">+  &quot;racket&quot;: [
</a><a href="#h9-0-1132" id="h9-0-1132" class="i">+    &quot;rkt&quot;,
</a><a href="#h9-0-1133" id="h9-0-1133" class="i">+    &quot;rktd&quot;,
</a><a href="#h9-0-1134" id="h9-0-1134" class="i">+    &quot;rktl&quot;,
</a><a href="#h9-0-1135" id="h9-0-1135" class="i">+    &quot;scrbl&quot;
</a><a href="#h9-0-1136" id="h9-0-1136" class="i">+  ],
</a><a href="#h9-0-1137" id="h9-0-1137" class="i">+  &quot;ragel in ruby host&quot;: [
</a><a href="#h9-0-1138" id="h9-0-1138" class="i">+    &quot;rl&quot;
</a><a href="#h9-0-1139" id="h9-0-1139" class="i">+  ],
</a><a href="#h9-0-1140" id="h9-0-1140" class="i">+  &quot;raw token data&quot;: [
</a><a href="#h9-0-1141" id="h9-0-1141" class="i">+    &quot;raw&quot;
</a><a href="#h9-0-1142" id="h9-0-1142" class="i">+  ],
</a><a href="#h9-0-1143" id="h9-0-1143" class="i">+  &quot;rebol&quot;: [
</a><a href="#h9-0-1144" id="h9-0-1144" class="i">+    &quot;reb&quot;,
</a><a href="#h9-0-1145" id="h9-0-1145" class="i">+    &quot;r&quot;,
</a><a href="#h9-0-1146" id="h9-0-1146" class="i">+    &quot;r2&quot;,
</a><a href="#h9-0-1147" id="h9-0-1147" class="i">+    &quot;r3&quot;,
</a><a href="#h9-0-1148" id="h9-0-1148" class="i">+    &quot;rebol&quot;
</a><a href="#h9-0-1149" id="h9-0-1149" class="i">+  ],
</a><a href="#h9-0-1150" id="h9-0-1150" class="i">+  &quot;red&quot;: [
</a><a href="#h9-0-1151" id="h9-0-1151" class="i">+    &quot;red&quot;,
</a><a href="#h9-0-1152" id="h9-0-1152" class="i">+    &quot;reds&quot;
</a><a href="#h9-0-1153" id="h9-0-1153" class="i">+  ],
</a><a href="#h9-0-1154" id="h9-0-1154" class="i">+  &quot;redcode&quot;: [
</a><a href="#h9-0-1155" id="h9-0-1155" class="i">+    &quot;cw&quot;
</a><a href="#h9-0-1156" id="h9-0-1156" class="i">+  ],
</a><a href="#h9-0-1157" id="h9-0-1157" class="i">+  &quot;robotframework&quot;: [
</a><a href="#h9-0-1158" id="h9-0-1158" class="i">+    &quot;robot&quot;
</a><a href="#h9-0-1159" id="h9-0-1159" class="i">+  ],
</a><a href="#h9-0-1160" id="h9-0-1160" class="i">+  &quot;rouge&quot;: [
</a><a href="#h9-0-1161" id="h9-0-1161" class="i">+    &quot;rg&quot;
</a><a href="#h9-0-1162" id="h9-0-1162" class="i">+  ],
</a><a href="#h9-0-1163" id="h9-0-1163" class="i">+  &quot;ruby&quot;: [
</a><a href="#h9-0-1164" id="h9-0-1164" class="i">+    &quot;rb&quot;,
</a><a href="#h9-0-1165" id="h9-0-1165" class="i">+    &quot;builder&quot;,
</a><a href="#h9-0-1166" id="h9-0-1166" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-1167" id="h9-0-1167" class="i">+    &quot;gemspec&quot;,
</a><a href="#h9-0-1168" id="h9-0-1168" class="i">+    &quot;god&quot;,
</a><a href="#h9-0-1169" id="h9-0-1169" class="i">+    &quot;irbrc&quot;,
</a><a href="#h9-0-1170" id="h9-0-1170" class="i">+    &quot;jbuilder&quot;,
</a><a href="#h9-0-1171" id="h9-0-1171" class="i">+    &quot;mspec&quot;,
</a><a href="#h9-0-1172" id="h9-0-1172" class="i">+    &quot;pluginspec&quot;,
</a><a href="#h9-0-1173" id="h9-0-1173" class="i">+    &quot;podspec&quot;,
</a><a href="#h9-0-1174" id="h9-0-1174" class="i">+    &quot;rabl&quot;,
</a><a href="#h9-0-1175" id="h9-0-1175" class="i">+    &quot;rake&quot;,
</a><a href="#h9-0-1176" id="h9-0-1176" class="i">+    &quot;rbuild&quot;,
</a><a href="#h9-0-1177" id="h9-0-1177" class="i">+    &quot;rbw&quot;,
</a><a href="#h9-0-1178" id="h9-0-1178" class="i">+    &quot;rbx&quot;,
</a><a href="#h9-0-1179" id="h9-0-1179" class="i">+    &quot;ru&quot;,
</a><a href="#h9-0-1180" id="h9-0-1180" class="i">+    &quot;ruby&quot;,
</a><a href="#h9-0-1181" id="h9-0-1181" class="i">+    &quot;thor&quot;,
</a><a href="#h9-0-1182" id="h9-0-1182" class="i">+    &quot;watchr&quot;
</a><a href="#h9-0-1183" id="h9-0-1183" class="i">+  ],
</a><a href="#h9-0-1184" id="h9-0-1184" class="i">+  &quot;rust&quot;: [
</a><a href="#h9-0-1185" id="h9-0-1185" class="i">+    &quot;rs&quot;
</a><a href="#h9-0-1186" id="h9-0-1186" class="i">+  ],
</a><a href="#h9-0-1187" id="h9-0-1187" class="i">+  &quot;sas&quot;: [
</a><a href="#h9-0-1188" id="h9-0-1188" class="i">+    &quot;sas&quot;
</a><a href="#h9-0-1189" id="h9-0-1189" class="i">+  ],
</a><a href="#h9-0-1190" id="h9-0-1190" class="i">+  &quot;scss&quot;: [
</a><a href="#h9-0-1191" id="h9-0-1191" class="i">+    &quot;scss&quot;
</a><a href="#h9-0-1192" id="h9-0-1192" class="i">+  ],
</a><a href="#h9-0-1193" id="h9-0-1193" class="i">+  &quot;sparql&quot;: [
</a><a href="#h9-0-1194" id="h9-0-1194" class="i">+    &quot;sparql&quot;,
</a><a href="#h9-0-1195" id="h9-0-1195" class="i">+    &quot;rq&quot;
</a><a href="#h9-0-1196" id="h9-0-1196" class="i">+  ],
</a><a href="#h9-0-1197" id="h9-0-1197" class="i">+  &quot;sqf&quot;: [
</a><a href="#h9-0-1198" id="h9-0-1198" class="i">+    &quot;sqf&quot;,
</a><a href="#h9-0-1199" id="h9-0-1199" class="i">+    &quot;hqf&quot;
</a><a href="#h9-0-1200" id="h9-0-1200" class="i">+  ],
</a><a href="#h9-0-1201" id="h9-0-1201" class="i">+  &quot;sql&quot;: [
</a><a href="#h9-0-1202" id="h9-0-1202" class="i">+    &quot;sql&quot;,
</a><a href="#h9-0-1203" id="h9-0-1203" class="i">+    &quot;cql&quot;,
</a><a href="#h9-0-1204" id="h9-0-1204" class="i">+    &quot;ddl&quot;,
</a><a href="#h9-0-1205" id="h9-0-1205" class="i">+    &quot;prc&quot;,
</a><a href="#h9-0-1206" id="h9-0-1206" class="i">+    &quot;tab&quot;,
</a><a href="#h9-0-1207" id="h9-0-1207" class="i">+    &quot;udf&quot;,
</a><a href="#h9-0-1208" id="h9-0-1208" class="i">+    &quot;viw&quot;
</a><a href="#h9-0-1209" id="h9-0-1209" class="i">+  ],
</a><a href="#h9-0-1210" id="h9-0-1210" class="i">+  &quot;sqlpl&quot;: [
</a><a href="#h9-0-1211" id="h9-0-1211" class="i">+    &quot;sql&quot;,
</a><a href="#h9-0-1212" id="h9-0-1212" class="i">+    &quot;db2&quot;
</a><a href="#h9-0-1213" id="h9-0-1213" class="i">+  ],
</a><a href="#h9-0-1214" id="h9-0-1214" class="i">+  &quot;ston&quot;: [
</a><a href="#h9-0-1215" id="h9-0-1215" class="i">+    &quot;ston&quot;
</a><a href="#h9-0-1216" id="h9-0-1216" class="i">+  ],
</a><a href="#h9-0-1217" id="h9-0-1217" class="i">+  &quot;svg&quot;: [
</a><a href="#h9-0-1218" id="h9-0-1218" class="i">+    &quot;svg&quot;
</a><a href="#h9-0-1219" id="h9-0-1219" class="i">+  ],
</a><a href="#h9-0-1220" id="h9-0-1220" class="i">+  &quot;sage&quot;: [
</a><a href="#h9-0-1221" id="h9-0-1221" class="i">+    &quot;sage&quot;,
</a><a href="#h9-0-1222" id="h9-0-1222" class="i">+    &quot;sagews&quot;
</a><a href="#h9-0-1223" id="h9-0-1223" class="i">+  ],
</a><a href="#h9-0-1224" id="h9-0-1224" class="i">+  &quot;saltstack&quot;: [
</a><a href="#h9-0-1225" id="h9-0-1225" class="i">+    &quot;sls&quot;
</a><a href="#h9-0-1226" id="h9-0-1226" class="i">+  ],
</a><a href="#h9-0-1227" id="h9-0-1227" class="i">+  &quot;sass&quot;: [
</a><a href="#h9-0-1228" id="h9-0-1228" class="i">+    &quot;sass&quot;
</a><a href="#h9-0-1229" id="h9-0-1229" class="i">+  ],
</a><a href="#h9-0-1230" id="h9-0-1230" class="i">+  &quot;scala&quot;: [
</a><a href="#h9-0-1231" id="h9-0-1231" class="i">+    &quot;scala&quot;,
</a><a href="#h9-0-1232" id="h9-0-1232" class="i">+    &quot;sbt&quot;,
</a><a href="#h9-0-1233" id="h9-0-1233" class="i">+    &quot;sc&quot;
</a><a href="#h9-0-1234" id="h9-0-1234" class="i">+  ],
</a><a href="#h9-0-1235" id="h9-0-1235" class="i">+  &quot;scaml&quot;: [
</a><a href="#h9-0-1236" id="h9-0-1236" class="i">+    &quot;scaml&quot;
</a><a href="#h9-0-1237" id="h9-0-1237" class="i">+  ],
</a><a href="#h9-0-1238" id="h9-0-1238" class="i">+  &quot;scheme&quot;: [
</a><a href="#h9-0-1239" id="h9-0-1239" class="i">+    &quot;scm&quot;,
</a><a href="#h9-0-1240" id="h9-0-1240" class="i">+    &quot;sld&quot;,
</a><a href="#h9-0-1241" id="h9-0-1241" class="i">+    &quot;sls&quot;,
</a><a href="#h9-0-1242" id="h9-0-1242" class="i">+    &quot;sps&quot;,
</a><a href="#h9-0-1243" id="h9-0-1243" class="i">+    &quot;ss&quot;
</a><a href="#h9-0-1244" id="h9-0-1244" class="i">+  ],
</a><a href="#h9-0-1245" id="h9-0-1245" class="i">+  &quot;scilab&quot;: [
</a><a href="#h9-0-1246" id="h9-0-1246" class="i">+    &quot;sci&quot;,
</a><a href="#h9-0-1247" id="h9-0-1247" class="i">+    &quot;sce&quot;,
</a><a href="#h9-0-1248" id="h9-0-1248" class="i">+    &quot;tst&quot;
</a><a href="#h9-0-1249" id="h9-0-1249" class="i">+  ],
</a><a href="#h9-0-1250" id="h9-0-1250" class="i">+  &quot;self&quot;: [
</a><a href="#h9-0-1251" id="h9-0-1251" class="i">+    &quot;self&quot;
</a><a href="#h9-0-1252" id="h9-0-1252" class="i">+  ],
</a><a href="#h9-0-1253" id="h9-0-1253" class="i">+  &quot;shell&quot;: [
</a><a href="#h9-0-1254" id="h9-0-1254" class="i">+    &quot;sh&quot;,
</a><a href="#h9-0-1255" id="h9-0-1255" class="i">+    &quot;bash&quot;,
</a><a href="#h9-0-1256" id="h9-0-1256" class="i">+    &quot;bats&quot;,
</a><a href="#h9-0-1257" id="h9-0-1257" class="i">+    &quot;cgi&quot;,
</a><a href="#h9-0-1258" id="h9-0-1258" class="i">+    &quot;command&quot;,
</a><a href="#h9-0-1259" id="h9-0-1259" class="i">+    &quot;fcgi&quot;,
</a><a href="#h9-0-1260" id="h9-0-1260" class="i">+    &quot;ksh&quot;,
</a><a href="#h9-0-1261" id="h9-0-1261" class="i">+    &quot;tmux&quot;,
</a><a href="#h9-0-1262" id="h9-0-1262" class="i">+    &quot;tool&quot;,
</a><a href="#h9-0-1263" id="h9-0-1263" class="i">+    &quot;zsh&quot;
</a><a href="#h9-0-1264" id="h9-0-1264" class="i">+  ],
</a><a href="#h9-0-1265" id="h9-0-1265" class="i">+  &quot;shellsession&quot;: [
</a><a href="#h9-0-1266" id="h9-0-1266" class="i">+    &quot;sh-session&quot;
</a><a href="#h9-0-1267" id="h9-0-1267" class="i">+  ],
</a><a href="#h9-0-1268" id="h9-0-1268" class="i">+  &quot;shen&quot;: [
</a><a href="#h9-0-1269" id="h9-0-1269" class="i">+    &quot;shen&quot;
</a><a href="#h9-0-1270" id="h9-0-1270" class="i">+  ],
</a><a href="#h9-0-1271" id="h9-0-1271" class="i">+  &quot;slash&quot;: [
</a><a href="#h9-0-1272" id="h9-0-1272" class="i">+    &quot;sl&quot;
</a><a href="#h9-0-1273" id="h9-0-1273" class="i">+  ],
</a><a href="#h9-0-1274" id="h9-0-1274" class="i">+  &quot;slim&quot;: [
</a><a href="#h9-0-1275" id="h9-0-1275" class="i">+    &quot;slim&quot;
</a><a href="#h9-0-1276" id="h9-0-1276" class="i">+  ],
</a><a href="#h9-0-1277" id="h9-0-1277" class="i">+  &quot;smalltalk&quot;: [
</a><a href="#h9-0-1278" id="h9-0-1278" class="i">+    &quot;st&quot;,
</a><a href="#h9-0-1279" id="h9-0-1279" class="i">+    &quot;cs&quot;
</a><a href="#h9-0-1280" id="h9-0-1280" class="i">+  ],
</a><a href="#h9-0-1281" id="h9-0-1281" class="i">+  &quot;smarty&quot;: [
</a><a href="#h9-0-1282" id="h9-0-1282" class="i">+    &quot;tpl&quot;
</a><a href="#h9-0-1283" id="h9-0-1283" class="i">+  ],
</a><a href="#h9-0-1284" id="h9-0-1284" class="i">+  &quot;sourcepawn&quot;: [
</a><a href="#h9-0-1285" id="h9-0-1285" class="i">+    &quot;sp&quot;,
</a><a href="#h9-0-1286" id="h9-0-1286" class="i">+    &quot;sma&quot;
</a><a href="#h9-0-1287" id="h9-0-1287" class="i">+  ],
</a><a href="#h9-0-1288" id="h9-0-1288" class="i">+  &quot;squirrel&quot;: [
</a><a href="#h9-0-1289" id="h9-0-1289" class="i">+    &quot;nut&quot;
</a><a href="#h9-0-1290" id="h9-0-1290" class="i">+  ],
</a><a href="#h9-0-1291" id="h9-0-1291" class="i">+  &quot;standard ml&quot;: [
</a><a href="#h9-0-1292" id="h9-0-1292" class="i">+    &quot;ML&quot;,
</a><a href="#h9-0-1293" id="h9-0-1293" class="i">+    &quot;fun&quot;,
</a><a href="#h9-0-1294" id="h9-0-1294" class="i">+    &quot;sig&quot;,
</a><a href="#h9-0-1295" id="h9-0-1295" class="i">+    &quot;sml&quot;
</a><a href="#h9-0-1296" id="h9-0-1296" class="i">+  ],
</a><a href="#h9-0-1297" id="h9-0-1297" class="i">+  &quot;stata&quot;: [
</a><a href="#h9-0-1298" id="h9-0-1298" class="i">+    &quot;do&quot;,
</a><a href="#h9-0-1299" id="h9-0-1299" class="i">+    &quot;ado&quot;,
</a><a href="#h9-0-1300" id="h9-0-1300" class="i">+    &quot;doh&quot;,
</a><a href="#h9-0-1301" id="h9-0-1301" class="i">+    &quot;ihlp&quot;,
</a><a href="#h9-0-1302" id="h9-0-1302" class="i">+    &quot;mata&quot;,
</a><a href="#h9-0-1303" id="h9-0-1303" class="i">+    &quot;matah&quot;,
</a><a href="#h9-0-1304" id="h9-0-1304" class="i">+    &quot;sthlp&quot;
</a><a href="#h9-0-1305" id="h9-0-1305" class="i">+  ],
</a><a href="#h9-0-1306" id="h9-0-1306" class="i">+  &quot;stylus&quot;: [
</a><a href="#h9-0-1307" id="h9-0-1307" class="i">+    &quot;styl&quot;
</a><a href="#h9-0-1308" id="h9-0-1308" class="i">+  ],
</a><a href="#h9-0-1309" id="h9-0-1309" class="i">+  &quot;supercollider&quot;: [
</a><a href="#h9-0-1310" id="h9-0-1310" class="i">+    &quot;scd&quot;,
</a><a href="#h9-0-1311" id="h9-0-1311" class="i">+    &quot;sc&quot;
</a><a href="#h9-0-1312" id="h9-0-1312" class="i">+  ],
</a><a href="#h9-0-1313" id="h9-0-1313" class="i">+  &quot;swift&quot;: [
</a><a href="#h9-0-1314" id="h9-0-1314" class="i">+    &quot;swift&quot;
</a><a href="#h9-0-1315" id="h9-0-1315" class="i">+  ],
</a><a href="#h9-0-1316" id="h9-0-1316" class="i">+  &quot;systemverilog&quot;: [
</a><a href="#h9-0-1317" id="h9-0-1317" class="i">+    &quot;sv&quot;,
</a><a href="#h9-0-1318" id="h9-0-1318" class="i">+    &quot;svh&quot;,
</a><a href="#h9-0-1319" id="h9-0-1319" class="i">+    &quot;vh&quot;
</a><a href="#h9-0-1320" id="h9-0-1320" class="i">+  ],
</a><a href="#h9-0-1321" id="h9-0-1321" class="i">+  &quot;toml&quot;: [
</a><a href="#h9-0-1322" id="h9-0-1322" class="i">+    &quot;toml&quot;
</a><a href="#h9-0-1323" id="h9-0-1323" class="i">+  ],
</a><a href="#h9-0-1324" id="h9-0-1324" class="i">+  &quot;txl&quot;: [
</a><a href="#h9-0-1325" id="h9-0-1325" class="i">+    &quot;txl&quot;
</a><a href="#h9-0-1326" id="h9-0-1326" class="i">+  ],
</a><a href="#h9-0-1327" id="h9-0-1327" class="i">+  &quot;tcl&quot;: [
</a><a href="#h9-0-1328" id="h9-0-1328" class="i">+    &quot;tcl&quot;,
</a><a href="#h9-0-1329" id="h9-0-1329" class="i">+    &quot;adp&quot;,
</a><a href="#h9-0-1330" id="h9-0-1330" class="i">+    &quot;tm&quot;
</a><a href="#h9-0-1331" id="h9-0-1331" class="i">+  ],
</a><a href="#h9-0-1332" id="h9-0-1332" class="i">+  &quot;tcsh&quot;: [
</a><a href="#h9-0-1333" id="h9-0-1333" class="i">+    &quot;tcsh&quot;,
</a><a href="#h9-0-1334" id="h9-0-1334" class="i">+    &quot;csh&quot;
</a><a href="#h9-0-1335" id="h9-0-1335" class="i">+  ],
</a><a href="#h9-0-1336" id="h9-0-1336" class="i">+  &quot;tex&quot;: [
</a><a href="#h9-0-1337" id="h9-0-1337" class="i">+    &quot;tex&quot;,
</a><a href="#h9-0-1338" id="h9-0-1338" class="i">+    &quot;aux&quot;,
</a><a href="#h9-0-1339" id="h9-0-1339" class="i">+    &quot;bbx&quot;,
</a><a href="#h9-0-1340" id="h9-0-1340" class="i">+    &quot;bib&quot;,
</a><a href="#h9-0-1341" id="h9-0-1341" class="i">+    &quot;cbx&quot;,
</a><a href="#h9-0-1342" id="h9-0-1342" class="i">+    &quot;cls&quot;,
</a><a href="#h9-0-1343" id="h9-0-1343" class="i">+    &quot;dtx&quot;,
</a><a href="#h9-0-1344" id="h9-0-1344" class="i">+    &quot;ins&quot;,
</a><a href="#h9-0-1345" id="h9-0-1345" class="i">+    &quot;lbx&quot;,
</a><a href="#h9-0-1346" id="h9-0-1346" class="i">+    &quot;ltx&quot;,
</a><a href="#h9-0-1347" id="h9-0-1347" class="i">+    &quot;mkii&quot;,
</a><a href="#h9-0-1348" id="h9-0-1348" class="i">+    &quot;mkiv&quot;,
</a><a href="#h9-0-1349" id="h9-0-1349" class="i">+    &quot;mkvi&quot;,
</a><a href="#h9-0-1350" id="h9-0-1350" class="i">+    &quot;sty&quot;,
</a><a href="#h9-0-1351" id="h9-0-1351" class="i">+    &quot;toc&quot;
</a><a href="#h9-0-1352" id="h9-0-1352" class="i">+  ],
</a><a href="#h9-0-1353" id="h9-0-1353" class="i">+  &quot;tea&quot;: [
</a><a href="#h9-0-1354" id="h9-0-1354" class="i">+    &quot;tea&quot;
</a><a href="#h9-0-1355" id="h9-0-1355" class="i">+  ],
</a><a href="#h9-0-1356" id="h9-0-1356" class="i">+  &quot;text&quot;: [
</a><a href="#h9-0-1357" id="h9-0-1357" class="i">+    &quot;txt&quot;,
</a><a href="#h9-0-1358" id="h9-0-1358" class="i">+    &quot;fr&quot;
</a><a href="#h9-0-1359" id="h9-0-1359" class="i">+  ],
</a><a href="#h9-0-1360" id="h9-0-1360" class="i">+  &quot;textile&quot;: [
</a><a href="#h9-0-1361" id="h9-0-1361" class="i">+    &quot;textile&quot;
</a><a href="#h9-0-1362" id="h9-0-1362" class="i">+  ],
</a><a href="#h9-0-1363" id="h9-0-1363" class="i">+  &quot;thrift&quot;: [
</a><a href="#h9-0-1364" id="h9-0-1364" class="i">+    &quot;thrift&quot;
</a><a href="#h9-0-1365" id="h9-0-1365" class="i">+  ],
</a><a href="#h9-0-1366" id="h9-0-1366" class="i">+  &quot;turing&quot;: [
</a><a href="#h9-0-1367" id="h9-0-1367" class="i">+    &quot;t&quot;,
</a><a href="#h9-0-1368" id="h9-0-1368" class="i">+    &quot;tu&quot;
</a><a href="#h9-0-1369" id="h9-0-1369" class="i">+  ],
</a><a href="#h9-0-1370" id="h9-0-1370" class="i">+  &quot;turtle&quot;: [
</a><a href="#h9-0-1371" id="h9-0-1371" class="i">+    &quot;ttl&quot;
</a><a href="#h9-0-1372" id="h9-0-1372" class="i">+  ],
</a><a href="#h9-0-1373" id="h9-0-1373" class="i">+  &quot;twig&quot;: [
</a><a href="#h9-0-1374" id="h9-0-1374" class="i">+    &quot;twig&quot;
</a><a href="#h9-0-1375" id="h9-0-1375" class="i">+  ],
</a><a href="#h9-0-1376" id="h9-0-1376" class="i">+  &quot;typescript&quot;: [
</a><a href="#h9-0-1377" id="h9-0-1377" class="i">+    &quot;ts&quot;
</a><a href="#h9-0-1378" id="h9-0-1378" class="i">+  ],
</a><a href="#h9-0-1379" id="h9-0-1379" class="i">+  &quot;unified parallel c&quot;: [
</a><a href="#h9-0-1380" id="h9-0-1380" class="i">+    &quot;upc&quot;
</a><a href="#h9-0-1381" id="h9-0-1381" class="i">+  ],
</a><a href="#h9-0-1382" id="h9-0-1382" class="i">+  &quot;unrealscript&quot;: [
</a><a href="#h9-0-1383" id="h9-0-1383" class="i">+    &quot;uc&quot;
</a><a href="#h9-0-1384" id="h9-0-1384" class="i">+  ],
</a><a href="#h9-0-1385" id="h9-0-1385" class="i">+  &quot;vcl&quot;: [
</a><a href="#h9-0-1386" id="h9-0-1386" class="i">+    &quot;vcl&quot;
</a><a href="#h9-0-1387" id="h9-0-1387" class="i">+  ],
</a><a href="#h9-0-1388" id="h9-0-1388" class="i">+  &quot;vhdl&quot;: [
</a><a href="#h9-0-1389" id="h9-0-1389" class="i">+    &quot;vhdl&quot;,
</a><a href="#h9-0-1390" id="h9-0-1390" class="i">+    &quot;vhd&quot;,
</a><a href="#h9-0-1391" id="h9-0-1391" class="i">+    &quot;vhf&quot;,
</a><a href="#h9-0-1392" id="h9-0-1392" class="i">+    &quot;vhi&quot;,
</a><a href="#h9-0-1393" id="h9-0-1393" class="i">+    &quot;vho&quot;,
</a><a href="#h9-0-1394" id="h9-0-1394" class="i">+    &quot;vhs&quot;,
</a><a href="#h9-0-1395" id="h9-0-1395" class="i">+    &quot;vht&quot;,
</a><a href="#h9-0-1396" id="h9-0-1396" class="i">+    &quot;vhw&quot;
</a><a href="#h9-0-1397" id="h9-0-1397" class="i">+  ],
</a><a href="#h9-0-1398" id="h9-0-1398" class="i">+  &quot;vala&quot;: [
</a><a href="#h9-0-1399" id="h9-0-1399" class="i">+    &quot;vala&quot;,
</a><a href="#h9-0-1400" id="h9-0-1400" class="i">+    &quot;vapi&quot;
</a><a href="#h9-0-1401" id="h9-0-1401" class="i">+  ],
</a><a href="#h9-0-1402" id="h9-0-1402" class="i">+  &quot;verilog&quot;: [
</a><a href="#h9-0-1403" id="h9-0-1403" class="i">+    &quot;v&quot;,
</a><a href="#h9-0-1404" id="h9-0-1404" class="i">+    &quot;veo&quot;
</a><a href="#h9-0-1405" id="h9-0-1405" class="i">+  ],
</a><a href="#h9-0-1406" id="h9-0-1406" class="i">+  &quot;viml&quot;: [
</a><a href="#h9-0-1407" id="h9-0-1407" class="i">+    &quot;vim&quot;
</a><a href="#h9-0-1408" id="h9-0-1408" class="i">+  ],
</a><a href="#h9-0-1409" id="h9-0-1409" class="i">+  &quot;visual basic&quot;: [
</a><a href="#h9-0-1410" id="h9-0-1410" class="i">+    &quot;vb&quot;,
</a><a href="#h9-0-1411" id="h9-0-1411" class="i">+    &quot;bas&quot;,
</a><a href="#h9-0-1412" id="h9-0-1412" class="i">+    &quot;cls&quot;,
</a><a href="#h9-0-1413" id="h9-0-1413" class="i">+    &quot;frm&quot;,
</a><a href="#h9-0-1414" id="h9-0-1414" class="i">+    &quot;frx&quot;,
</a><a href="#h9-0-1415" id="h9-0-1415" class="i">+    &quot;vba&quot;,
</a><a href="#h9-0-1416" id="h9-0-1416" class="i">+    &quot;vbhtml&quot;,
</a><a href="#h9-0-1417" id="h9-0-1417" class="i">+    &quot;vbs&quot;
</a><a href="#h9-0-1418" id="h9-0-1418" class="i">+  ],
</a><a href="#h9-0-1419" id="h9-0-1419" class="i">+  &quot;volt&quot;: [
</a><a href="#h9-0-1420" id="h9-0-1420" class="i">+    &quot;volt&quot;
</a><a href="#h9-0-1421" id="h9-0-1421" class="i">+  ],
</a><a href="#h9-0-1422" id="h9-0-1422" class="i">+  &quot;web ontology language&quot;: [
</a><a href="#h9-0-1423" id="h9-0-1423" class="i">+    &quot;owl&quot;
</a><a href="#h9-0-1424" id="h9-0-1424" class="i">+  ],
</a><a href="#h9-0-1425" id="h9-0-1425" class="i">+  &quot;webidl&quot;: [
</a><a href="#h9-0-1426" id="h9-0-1426" class="i">+    &quot;webidl&quot;
</a><a href="#h9-0-1427" id="h9-0-1427" class="i">+  ],
</a><a href="#h9-0-1428" id="h9-0-1428" class="i">+  &quot;xc&quot;: [
</a><a href="#h9-0-1429" id="h9-0-1429" class="i">+    &quot;xc&quot;
</a><a href="#h9-0-1430" id="h9-0-1430" class="i">+  ],
</a><a href="#h9-0-1431" id="h9-0-1431" class="i">+  &quot;xml&quot;: [
</a><a href="#h9-0-1432" id="h9-0-1432" class="i">+    &quot;xml&quot;,
</a><a href="#h9-0-1433" id="h9-0-1433" class="i">+    &quot;ant&quot;,
</a><a href="#h9-0-1434" id="h9-0-1434" class="i">+    &quot;axml&quot;,
</a><a href="#h9-0-1435" id="h9-0-1435" class="i">+    &quot;ccxml&quot;,
</a><a href="#h9-0-1436" id="h9-0-1436" class="i">+    &quot;clixml&quot;,
</a><a href="#h9-0-1437" id="h9-0-1437" class="i">+    &quot;cproject&quot;,
</a><a href="#h9-0-1438" id="h9-0-1438" class="i">+    &quot;csproj&quot;,
</a><a href="#h9-0-1439" id="h9-0-1439" class="i">+    &quot;ct&quot;,
</a><a href="#h9-0-1440" id="h9-0-1440" class="i">+    &quot;dita&quot;,
</a><a href="#h9-0-1441" id="h9-0-1441" class="i">+    &quot;ditamap&quot;,
</a><a href="#h9-0-1442" id="h9-0-1442" class="i">+    &quot;ditaval&quot;,
</a><a href="#h9-0-1443" id="h9-0-1443" class="i">+    &quot;dll.config&quot;,
</a><a href="#h9-0-1444" id="h9-0-1444" class="i">+    &quot;filters&quot;,
</a><a href="#h9-0-1445" id="h9-0-1445" class="i">+    &quot;fsproj&quot;,
</a><a href="#h9-0-1446" id="h9-0-1446" class="i">+    &quot;fxml&quot;,
</a><a href="#h9-0-1447" id="h9-0-1447" class="i">+    &quot;glade&quot;,
</a><a href="#h9-0-1448" id="h9-0-1448" class="i">+    &quot;grxml&quot;,
</a><a href="#h9-0-1449" id="h9-0-1449" class="i">+    &quot;ivy&quot;,
</a><a href="#h9-0-1450" id="h9-0-1450" class="i">+    &quot;jelly&quot;,
</a><a href="#h9-0-1451" id="h9-0-1451" class="i">+    &quot;kml&quot;,
</a><a href="#h9-0-1452" id="h9-0-1452" class="i">+    &quot;launch&quot;,
</a><a href="#h9-0-1453" id="h9-0-1453" class="i">+    &quot;mm&quot;,
</a><a href="#h9-0-1454" id="h9-0-1454" class="i">+    &quot;mxml&quot;,
</a><a href="#h9-0-1455" id="h9-0-1455" class="i">+    &quot;nproj&quot;,
</a><a href="#h9-0-1456" id="h9-0-1456" class="i">+    &quot;nuspec&quot;,
</a><a href="#h9-0-1457" id="h9-0-1457" class="i">+    &quot;odd&quot;,
</a><a href="#h9-0-1458" id="h9-0-1458" class="i">+    &quot;osm&quot;,
</a><a href="#h9-0-1459" id="h9-0-1459" class="i">+    &quot;plist&quot;,
</a><a href="#h9-0-1460" id="h9-0-1460" class="i">+    &quot;pluginspec&quot;,
</a><a href="#h9-0-1461" id="h9-0-1461" class="i">+    &quot;ps1xml&quot;,
</a><a href="#h9-0-1462" id="h9-0-1462" class="i">+    &quot;psc1&quot;,
</a><a href="#h9-0-1463" id="h9-0-1463" class="i">+    &quot;pt&quot;,
</a><a href="#h9-0-1464" id="h9-0-1464" class="i">+    &quot;rdf&quot;,
</a><a href="#h9-0-1465" id="h9-0-1465" class="i">+    &quot;rss&quot;,
</a><a href="#h9-0-1466" id="h9-0-1466" class="i">+    &quot;scxml&quot;,
</a><a href="#h9-0-1467" id="h9-0-1467" class="i">+    &quot;srdf&quot;,
</a><a href="#h9-0-1468" id="h9-0-1468" class="i">+    &quot;storyboard&quot;,
</a><a href="#h9-0-1469" id="h9-0-1469" class="i">+    &quot;stTheme&quot;,
</a><a href="#h9-0-1470" id="h9-0-1470" class="i">+    &quot;sublime-snippet&quot;,
</a><a href="#h9-0-1471" id="h9-0-1471" class="i">+    &quot;targets&quot;,
</a><a href="#h9-0-1472" id="h9-0-1472" class="i">+    &quot;tmCommand&quot;,
</a><a href="#h9-0-1473" id="h9-0-1473" class="i">+    &quot;tml&quot;,
</a><a href="#h9-0-1474" id="h9-0-1474" class="i">+    &quot;tmLanguage&quot;,
</a><a href="#h9-0-1475" id="h9-0-1475" class="i">+    &quot;tmPreferences&quot;,
</a><a href="#h9-0-1476" id="h9-0-1476" class="i">+    &quot;tmSnippet&quot;,
</a><a href="#h9-0-1477" id="h9-0-1477" class="i">+    &quot;tmTheme&quot;,
</a><a href="#h9-0-1478" id="h9-0-1478" class="i">+    &quot;ts&quot;,
</a><a href="#h9-0-1479" id="h9-0-1479" class="i">+    &quot;ui&quot;,
</a><a href="#h9-0-1480" id="h9-0-1480" class="i">+    &quot;urdf&quot;,
</a><a href="#h9-0-1481" id="h9-0-1481" class="i">+    &quot;vbproj&quot;,
</a><a href="#h9-0-1482" id="h9-0-1482" class="i">+    &quot;vcxproj&quot;,
</a><a href="#h9-0-1483" id="h9-0-1483" class="i">+    &quot;vxml&quot;,
</a><a href="#h9-0-1484" id="h9-0-1484" class="i">+    &quot;wsdl&quot;,
</a><a href="#h9-0-1485" id="h9-0-1485" class="i">+    &quot;wsf&quot;,
</a><a href="#h9-0-1486" id="h9-0-1486" class="i">+    &quot;wxi&quot;,
</a><a href="#h9-0-1487" id="h9-0-1487" class="i">+    &quot;wxl&quot;,
</a><a href="#h9-0-1488" id="h9-0-1488" class="i">+    &quot;wxs&quot;,
</a><a href="#h9-0-1489" id="h9-0-1489" class="i">+    &quot;x3d&quot;,
</a><a href="#h9-0-1490" id="h9-0-1490" class="i">+    &quot;xacro&quot;,
</a><a href="#h9-0-1491" id="h9-0-1491" class="i">+    &quot;xaml&quot;,
</a><a href="#h9-0-1492" id="h9-0-1492" class="i">+    &quot;xib&quot;,
</a><a href="#h9-0-1493" id="h9-0-1493" class="i">+    &quot;xlf&quot;,
</a><a href="#h9-0-1494" id="h9-0-1494" class="i">+    &quot;xliff&quot;,
</a><a href="#h9-0-1495" id="h9-0-1495" class="i">+    &quot;xmi&quot;,
</a><a href="#h9-0-1496" id="h9-0-1496" class="i">+    &quot;xml.dist&quot;,
</a><a href="#h9-0-1497" id="h9-0-1497" class="i">+    &quot;xsd&quot;,
</a><a href="#h9-0-1498" id="h9-0-1498" class="i">+    &quot;xul&quot;,
</a><a href="#h9-0-1499" id="h9-0-1499" class="i">+    &quot;zcml&quot;
</a><a href="#h9-0-1500" id="h9-0-1500" class="i">+  ],
</a><a href="#h9-0-1501" id="h9-0-1501" class="i">+  &quot;xproc&quot;: [
</a><a href="#h9-0-1502" id="h9-0-1502" class="i">+    &quot;xpl&quot;,
</a><a href="#h9-0-1503" id="h9-0-1503" class="i">+    &quot;xproc&quot;
</a><a href="#h9-0-1504" id="h9-0-1504" class="i">+  ],
</a><a href="#h9-0-1505" id="h9-0-1505" class="i">+  &quot;xquery&quot;: [
</a><a href="#h9-0-1506" id="h9-0-1506" class="i">+    &quot;xquery&quot;,
</a><a href="#h9-0-1507" id="h9-0-1507" class="i">+    &quot;xq&quot;,
</a><a href="#h9-0-1508" id="h9-0-1508" class="i">+    &quot;xql&quot;,
</a><a href="#h9-0-1509" id="h9-0-1509" class="i">+    &quot;xqm&quot;,
</a><a href="#h9-0-1510" id="h9-0-1510" class="i">+    &quot;xqy&quot;
</a><a href="#h9-0-1511" id="h9-0-1511" class="i">+  ],
</a><a href="#h9-0-1512" id="h9-0-1512" class="i">+  &quot;xs&quot;: [
</a><a href="#h9-0-1513" id="h9-0-1513" class="i">+    &quot;xs&quot;
</a><a href="#h9-0-1514" id="h9-0-1514" class="i">+  ],
</a><a href="#h9-0-1515" id="h9-0-1515" class="i">+  &quot;xslt&quot;: [
</a><a href="#h9-0-1516" id="h9-0-1516" class="i">+    &quot;xslt&quot;,
</a><a href="#h9-0-1517" id="h9-0-1517" class="i">+    &quot;xsl&quot;
</a><a href="#h9-0-1518" id="h9-0-1518" class="i">+  ],
</a><a href="#h9-0-1519" id="h9-0-1519" class="i">+  &quot;xojo&quot;: [
</a><a href="#h9-0-1520" id="h9-0-1520" class="i">+    &quot;xojo_code&quot;,
</a><a href="#h9-0-1521" id="h9-0-1521" class="i">+    &quot;xojo_menu&quot;,
</a><a href="#h9-0-1522" id="h9-0-1522" class="i">+    &quot;xojo_report&quot;,
</a><a href="#h9-0-1523" id="h9-0-1523" class="i">+    &quot;xojo_script&quot;,
</a><a href="#h9-0-1524" id="h9-0-1524" class="i">+    &quot;xojo_toolbar&quot;,
</a><a href="#h9-0-1525" id="h9-0-1525" class="i">+    &quot;xojo_window&quot;
</a><a href="#h9-0-1526" id="h9-0-1526" class="i">+  ],
</a><a href="#h9-0-1527" id="h9-0-1527" class="i">+  &quot;xtend&quot;: [
</a><a href="#h9-0-1528" id="h9-0-1528" class="i">+    &quot;xtend&quot;
</a><a href="#h9-0-1529" id="h9-0-1529" class="i">+  ],
</a><a href="#h9-0-1530" id="h9-0-1530" class="i">+  &quot;yaml&quot;: [
</a><a href="#h9-0-1531" id="h9-0-1531" class="i">+    &quot;yml&quot;,
</a><a href="#h9-0-1532" id="h9-0-1532" class="i">+    &quot;reek&quot;,
</a><a href="#h9-0-1533" id="h9-0-1533" class="i">+    &quot;rviz&quot;,
</a><a href="#h9-0-1534" id="h9-0-1534" class="i">+    &quot;yaml&quot;
</a><a href="#h9-0-1535" id="h9-0-1535" class="i">+  ],
</a><a href="#h9-0-1536" id="h9-0-1536" class="i">+  &quot;zephir&quot;: [
</a><a href="#h9-0-1537" id="h9-0-1537" class="i">+    &quot;zep&quot;
</a><a href="#h9-0-1538" id="h9-0-1538" class="i">+  ],
</a><a href="#h9-0-1539" id="h9-0-1539" class="i">+  &quot;zimpl&quot;: [
</a><a href="#h9-0-1540" id="h9-0-1540" class="i">+    &quot;zimpl&quot;,
</a><a href="#h9-0-1541" id="h9-0-1541" class="i">+    &quot;zmpl&quot;,
</a><a href="#h9-0-1542" id="h9-0-1542" class="i">+    &quot;zpl&quot;
</a><a href="#h9-0-1543" id="h9-0-1543" class="i">+  ],
</a><a href="#h9-0-1544" id="h9-0-1544" class="i">+  &quot;desktop&quot;: [
</a><a href="#h9-0-1545" id="h9-0-1545" class="i">+    &quot;desktop&quot;,
</a><a href="#h9-0-1546" id="h9-0-1546" class="i">+    &quot;desktop.in&quot;
</a><a href="#h9-0-1547" id="h9-0-1547" class="i">+  ],
</a><a href="#h9-0-1548" id="h9-0-1548" class="i">+  &quot;ec&quot;: [
</a><a href="#h9-0-1549" id="h9-0-1549" class="i">+    &quot;ec&quot;,
</a><a href="#h9-0-1550" id="h9-0-1550" class="i">+    &quot;eh&quot;
</a><a href="#h9-0-1551" id="h9-0-1551" class="i">+  ],
</a><a href="#h9-0-1552" id="h9-0-1552" class="i">+  &quot;edn&quot;: [
</a><a href="#h9-0-1553" id="h9-0-1553" class="i">+    &quot;edn&quot;
</a><a href="#h9-0-1554" id="h9-0-1554" class="i">+  ],
</a><a href="#h9-0-1555" id="h9-0-1555" class="i">+  &quot;fish&quot;: [
</a><a href="#h9-0-1556" id="h9-0-1556" class="i">+    &quot;fish&quot;
</a><a href="#h9-0-1557" id="h9-0-1557" class="i">+  ],
</a><a href="#h9-0-1558" id="h9-0-1558" class="i">+  &quot;mupad&quot;: [
</a><a href="#h9-0-1559" id="h9-0-1559" class="i">+    &quot;mu&quot;
</a><a href="#h9-0-1560" id="h9-0-1560" class="i">+  ],
</a><a href="#h9-0-1561" id="h9-0-1561" class="i">+  &quot;nesc&quot;: [
</a><a href="#h9-0-1562" id="h9-0-1562" class="i">+    &quot;nc&quot;
</a><a href="#h9-0-1563" id="h9-0-1563" class="i">+  ],
</a><a href="#h9-0-1564" id="h9-0-1564" class="i">+  &quot;ooc&quot;: [
</a><a href="#h9-0-1565" id="h9-0-1565" class="i">+    &quot;ooc&quot;
</a><a href="#h9-0-1566" id="h9-0-1566" class="i">+  ],
</a><a href="#h9-0-1567" id="h9-0-1567" class="i">+  &quot;restructuredtext&quot;: [
</a><a href="#h9-0-1568" id="h9-0-1568" class="i">+    &quot;rst&quot;,
</a><a href="#h9-0-1569" id="h9-0-1569" class="i">+    &quot;rest&quot;
</a><a href="#h9-0-1570" id="h9-0-1570" class="i">+  ],
</a><a href="#h9-0-1571" id="h9-0-1571" class="i">+  &quot;wisp&quot;: [
</a><a href="#h9-0-1572" id="h9-0-1572" class="i">+    &quot;wisp&quot;
</a><a href="#h9-0-1573" id="h9-0-1573" class="i">+  ],
</a><a href="#h9-0-1574" id="h9-0-1574" class="i">+  &quot;xbase&quot;: [
</a><a href="#h9-0-1575" id="h9-0-1575" class="i">+    &quot;prg&quot;
</a><a href="#h9-0-1576" id="h9-0-1576" class="i">+  ]
</a><a href="#h9-0-1577" id="h9-0-1577" class="i">+}
</a><b>diff --git a/<a id="h10" href="../file/favicon.png.html">favicon.png</a> b/<a href="../file/favicon.png.html">favicon.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h11" href="../file/get_lang.c.html">get_lang.c</a> b/<a href="../file/get_lang.c.html">get_lang.c</a></b>
<a href="#h11-0" id="h11-0" class="h">@@ -0,0 +1,87 @@
</a><a href="#h11-0-0" id="h11-0-0" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h11-0-1" id="h11-0-1" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h11-0-2" id="h11-0-2" class="i">+#include &lt;string.h&gt;
</a><a href="#h11-0-3" id="h11-0-3" class="i">+#include &quot;cJSON.h&quot;
</a><a href="#h11-0-4" id="h11-0-4" class="i">+
</a><a href="#h11-0-5" id="h11-0-5" class="i">+// Function to find language based on extension
</a><a href="#h11-0-6" id="h11-0-6" class="i">+const char* getLanguageByExtension(const char *extension, cJSON *langMap) {
</a><a href="#h11-0-7" id="h11-0-7" class="i">+    cJSON *languageItem;
</a><a href="#h11-0-8" id="h11-0-8" class="i">+    cJSON_ArrayForEach(languageItem, langMap) {
</a><a href="#h11-0-9" id="h11-0-9" class="i">+        const char *language = languageItem-&gt;string;
</a><a href="#h11-0-10" id="h11-0-10" class="i">+        cJSON *extensions = cJSON_GetObjectItemCaseSensitive(langMap, language);
</a><a href="#h11-0-11" id="h11-0-11" class="i">+        
</a><a href="#h11-0-12" id="h11-0-12" class="i">+        cJSON *extItem;
</a><a href="#h11-0-13" id="h11-0-13" class="i">+        cJSON_ArrayForEach(extItem, extensions) {
</a><a href="#h11-0-14" id="h11-0-14" class="i">+            if (strcmp(extension, extItem-&gt;valuestring) == 0) {
</a><a href="#h11-0-15" id="h11-0-15" class="i">+                return language;
</a><a href="#h11-0-16" id="h11-0-16" class="i">+            }
</a><a href="#h11-0-17" id="h11-0-17" class="i">+        }
</a><a href="#h11-0-18" id="h11-0-18" class="i">+    }
</a><a href="#h11-0-19" id="h11-0-19" class="i">+    return NULL;
</a><a href="#h11-0-20" id="h11-0-20" class="i">+}
</a><a href="#h11-0-21" id="h11-0-21" class="i">+
</a><a href="#h11-0-22" id="h11-0-22" class="i">+// Function to load and parse the JSON file
</a><a href="#h11-0-23" id="h11-0-23" class="i">+cJSON* loadLangMapFromFile(const char *filename) {
</a><a href="#h11-0-24" id="h11-0-24" class="i">+    FILE *file = fopen(filename, &quot;r&quot;);
</a><a href="#h11-0-25" id="h11-0-25" class="i">+    if (!file) {
</a><a href="#h11-0-26" id="h11-0-26" class="i">+        printf(&quot;Unable to open file: %s\n&quot;, filename);
</a><a href="#h11-0-27" id="h11-0-27" class="i">+        return NULL;
</a><a href="#h11-0-28" id="h11-0-28" class="i">+    }
</a><a href="#h11-0-29" id="h11-0-29" class="i">+
</a><a href="#h11-0-30" id="h11-0-30" class="i">+    // Get the file size
</a><a href="#h11-0-31" id="h11-0-31" class="i">+    fseek(file, 0, SEEK_END);
</a><a href="#h11-0-32" id="h11-0-32" class="i">+    long length = ftell(file);
</a><a href="#h11-0-33" id="h11-0-33" class="i">+    fseek(file, 0, SEEK_SET);
</a><a href="#h11-0-34" id="h11-0-34" class="i">+
</a><a href="#h11-0-35" id="h11-0-35" class="i">+    // Read the file into a string
</a><a href="#h11-0-36" id="h11-0-36" class="i">+    char *data = (char*)malloc(length + 1);
</a><a href="#h11-0-37" id="h11-0-37" class="i">+    if (!data) {
</a><a href="#h11-0-38" id="h11-0-38" class="i">+        printf(&quot;Unable to allocate memory\n&quot;);
</a><a href="#h11-0-39" id="h11-0-39" class="i">+        fclose(file);
</a><a href="#h11-0-40" id="h11-0-40" class="i">+        return NULL;
</a><a href="#h11-0-41" id="h11-0-41" class="i">+    }
</a><a href="#h11-0-42" id="h11-0-42" class="i">+    fread(data, 1, length, file);
</a><a href="#h11-0-43" id="h11-0-43" class="i">+    data[length] = &#39;\0&#39;;  // Null-terminate the string
</a><a href="#h11-0-44" id="h11-0-44" class="i">+
</a><a href="#h11-0-45" id="h11-0-45" class="i">+    fclose(file);
</a><a href="#h11-0-46" id="h11-0-46" class="i">+
</a><a href="#h11-0-47" id="h11-0-47" class="i">+    // Parse the JSON string
</a><a href="#h11-0-48" id="h11-0-48" class="i">+    cJSON *langMap = cJSON_Parse(data);
</a><a href="#h11-0-49" id="h11-0-49" class="i">+    free(data);  // Free the memory allocated for the file content
</a><a href="#h11-0-50" id="h11-0-50" class="i">+
</a><a href="#h11-0-51" id="h11-0-51" class="i">+    if (!langMap) {
</a><a href="#h11-0-52" id="h11-0-52" class="i">+        printf(&quot;Error parsing JSON file\n&quot;);
</a><a href="#h11-0-53" id="h11-0-53" class="i">+        return NULL;
</a><a href="#h11-0-54" id="h11-0-54" class="i">+    }
</a><a href="#h11-0-55" id="h11-0-55" class="i">+
</a><a href="#h11-0-56" id="h11-0-56" class="i">+    return langMap;
</a><a href="#h11-0-57" id="h11-0-57" class="i">+}
</a><a href="#h11-0-58" id="h11-0-58" class="i">+
</a><a href="#h11-0-59" id="h11-0-59" class="i">+int main() {
</a><a href="#h11-0-60" id="h11-0-60" class="i">+    const char *filename = &quot;exts.json&quot;;
</a><a href="#h11-0-61" id="h11-0-61" class="i">+    
</a><a href="#h11-0-62" id="h11-0-62" class="i">+    // Load the JSON data
</a><a href="#h11-0-63" id="h11-0-63" class="i">+    cJSON *langMap = loadLangMapFromFile(filename);
</a><a href="#h11-0-64" id="h11-0-64" class="i">+    if (!langMap) {
</a><a href="#h11-0-65" id="h11-0-65" class="i">+        return 1;  // Exit if there was an error loading the JSON
</a><a href="#h11-0-66" id="h11-0-66" class="i">+    }
</a><a href="#h11-0-67" id="h11-0-67" class="i">+
</a><a href="#h11-0-68" id="h11-0-68" class="i">+    // Find the language for a given file extension
</a><a href="#h11-0-69" id="h11-0-69" class="i">+    const char *extensions[] = {&quot;py&quot;, &quot;rs&quot;, &quot;c&quot;, &quot;h&quot;,	 &quot;js&quot;, &quot;java&quot;, &quot;cpp&quot;};
</a><a href="#h11-0-70" id="h11-0-70" class="i">+    int len = 7;
</a><a href="#h11-0-71" id="h11-0-71" class="i">+
</a><a href="#h11-0-72" id="h11-0-72" class="i">+	    for (int i = 0; i &lt; len; i++) {
</a><a href="#h11-0-73" id="h11-0-73" class="i">+		const char *ext = extensions[i];
</a><a href="#h11-0-74" id="h11-0-74" class="i">+		const char *language = getLanguageByExtension(ext, langMap);
</a><a href="#h11-0-75" id="h11-0-75" class="i">+		if (language) {
</a><a href="#h11-0-76" id="h11-0-76" class="i">+			printf(&quot;The language for extension &#39;%s&#39; is: %s\n&quot;, ext, language);
</a><a href="#h11-0-77" id="h11-0-77" class="i">+		} else {
</a><a href="#h11-0-78" id="h11-0-78" class="i">+			printf(&quot;No language found for extension &#39;%s&#39;\n&quot;, ext);
</a><a href="#h11-0-79" id="h11-0-79" class="i">+		}
</a><a href="#h11-0-80" id="h11-0-80" class="i">+	     }
</a><a href="#h11-0-81" id="h11-0-81" class="i">+
</a><a href="#h11-0-82" id="h11-0-82" class="i">+    // Clean up and free the JSON structure
</a><a href="#h11-0-83" id="h11-0-83" class="i">+    cJSON_Delete(langMap);
</a><a href="#h11-0-84" id="h11-0-84" class="i">+
</a><a href="#h11-0-85" id="h11-0-85" class="i">+    return 0;
</a><a href="#h11-0-86" id="h11-0-86" class="i">+}
</a><b>diff --git a/<a id="h12" href="../file/get_lang.h.html">get_lang.h</a> b/<a href="../file/get_lang.h.html">get_lang.h</a></b>
<a href="#h12-0" id="h12-0" class="h">@@ -0,0 +1 @@
</a><a href="#h12-0-0" id="h12-0-0" class="i">+#include &lt;stdio.h&gt;
</a><b>diff --git a/<a id="h13" href="../file/logo.png.html">logo.png</a> b/<a href="../file/logo.png.html">logo.png</a></b>
Binary files differ.
<b>diff --git a/<a id="h14" href="../file/reallocarray.c.html">reallocarray.c</a> b/<a href="../file/reallocarray.c.html">reallocarray.c</a></b>
<a href="#h14-0" id="h14-0" class="h">@@ -0,0 +1,39 @@
</a><a href="#h14-0-0" id="h14-0-0" class="i">+/*
</a><a href="#h14-0-1" id="h14-0-1" class="i">+ * Copyright (c) 2008 Otto Moerbeek &lt;otto@drijf.net&gt;
</a><a href="#h14-0-2" id="h14-0-2" class="i">+ *
</a><a href="#h14-0-3" id="h14-0-3" class="i">+ * Permission to use, copy, modify, and distribute this software for any
</a><a href="#h14-0-4" id="h14-0-4" class="i">+ * purpose with or without fee is hereby granted, provided that the above
</a><a href="#h14-0-5" id="h14-0-5" class="i">+ * copyright notice and this permission notice appear in all copies.
</a><a href="#h14-0-6" id="h14-0-6" class="i">+ *
</a><a href="#h14-0-7" id="h14-0-7" class="i">+ * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES
</a><a href="#h14-0-8" id="h14-0-8" class="i">+ * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
</a><a href="#h14-0-9" id="h14-0-9" class="i">+ * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
</a><a href="#h14-0-10" id="h14-0-10" class="i">+ * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
</a><a href="#h14-0-11" id="h14-0-11" class="i">+ * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
</a><a href="#h14-0-12" id="h14-0-12" class="i">+ * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
</a><a href="#h14-0-13" id="h14-0-13" class="i">+ * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
</a><a href="#h14-0-14" id="h14-0-14" class="i">+ */
</a><a href="#h14-0-15" id="h14-0-15" class="i">+
</a><a href="#h14-0-16" id="h14-0-16" class="i">+#include &lt;sys/types.h&gt;
</a><a href="#h14-0-17" id="h14-0-17" class="i">+#include &lt;errno.h&gt;
</a><a href="#h14-0-18" id="h14-0-18" class="i">+#include &lt;stdint.h&gt;
</a><a href="#h14-0-19" id="h14-0-19" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h14-0-20" id="h14-0-20" class="i">+
</a><a href="#h14-0-21" id="h14-0-21" class="i">+#include &quot;compat.h&quot;
</a><a href="#h14-0-22" id="h14-0-22" class="i">+
</a><a href="#h14-0-23" id="h14-0-23" class="i">+/*
</a><a href="#h14-0-24" id="h14-0-24" class="i">+ * This is sqrt(SIZE_MAX+1), as s1*s2 &lt;= SIZE_MAX
</a><a href="#h14-0-25" id="h14-0-25" class="i">+ * if both s1 &lt; MUL_NO_OVERFLOW and s2 &lt; MUL_NO_OVERFLOW
</a><a href="#h14-0-26" id="h14-0-26" class="i">+ */
</a><a href="#h14-0-27" id="h14-0-27" class="i">+#define MUL_NO_OVERFLOW	(1UL &lt;&lt; (sizeof(size_t) * 4))
</a><a href="#h14-0-28" id="h14-0-28" class="i">+
</a><a href="#h14-0-29" id="h14-0-29" class="i">+void *
</a><a href="#h14-0-30" id="h14-0-30" class="i">+reallocarray(void *optr, size_t nmemb, size_t size)
</a><a href="#h14-0-31" id="h14-0-31" class="i">+{
</a><a href="#h14-0-32" id="h14-0-32" class="i">+	if ((nmemb &gt;= MUL_NO_OVERFLOW || size &gt;= MUL_NO_OVERFLOW) &amp;&amp;
</a><a href="#h14-0-33" id="h14-0-33" class="i">+	    nmemb &gt; 0 &amp;&amp; SIZE_MAX / nmemb &lt; size) {
</a><a href="#h14-0-34" id="h14-0-34" class="i">+		errno = ENOMEM;
</a><a href="#h14-0-35" id="h14-0-35" class="i">+		return NULL;
</a><a href="#h14-0-36" id="h14-0-36" class="i">+	}
</a><a href="#h14-0-37" id="h14-0-37" class="i">+	return realloc(optr, size * nmemb);
</a><a href="#h14-0-38" id="h14-0-38" class="i">+}
</a><b>diff --git a/<a id="h15" href="../file/reallocarray.o.html">reallocarray.o</a> b/<a href="../file/reallocarray.o.html">reallocarray.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h16" href="../file/stagit.html">stagit</a> b/<a href="../file/stagit.html">stagit</a></b>
Binary files differ.
<b>diff --git a/<a id="h17" href="../file/stagit-index.html">stagit-index</a> b/<a href="../file/stagit-index.html">stagit-index</a></b>
Binary files differ.
<b>diff --git a/<a id="h18" href="../file/stagit-index.1.html">stagit-index.1</a> b/<a href="../file/stagit-index.1.html">stagit-index.1</a></b>
<a href="#h18-0" id="h18-0" class="h">@@ -0,0 +1,47 @@
</a><a href="#h18-0-0" id="h18-0-0" class="i">+.Dd August 2, 2021
</a><a href="#h18-0-1" id="h18-0-1" class="i">+.Dt STAGIT-INDEX 1
</a><a href="#h18-0-2" id="h18-0-2" class="i">+.Os
</a><a href="#h18-0-3" id="h18-0-3" class="i">+.Sh NAME
</a><a href="#h18-0-4" id="h18-0-4" class="i">+.Nm stagit-index
</a><a href="#h18-0-5" id="h18-0-5" class="i">+.Nd static git index page generator
</a><a href="#h18-0-6" id="h18-0-6" class="i">+.Sh SYNOPSIS
</a><a href="#h18-0-7" id="h18-0-7" class="i">+.Nm
</a><a href="#h18-0-8" id="h18-0-8" class="i">+.Op Ar repodir...
</a><a href="#h18-0-9" id="h18-0-9" class="i">+.Sh DESCRIPTION
</a><a href="#h18-0-10" id="h18-0-10" class="i">+.Nm
</a><a href="#h18-0-11" id="h18-0-11" class="i">+will create an index HTML page for the repositories specified and writes
</a><a href="#h18-0-12" id="h18-0-12" class="i">+the HTML data to stdout.
</a><a href="#h18-0-13" id="h18-0-13" class="i">+The repos in the index are in the same order as the arguments
</a><a href="#h18-0-14" id="h18-0-14" class="i">+.Ar repodir
</a><a href="#h18-0-15" id="h18-0-15" class="i">+specified.
</a><a href="#h18-0-16" id="h18-0-16" class="i">+.Pp
</a><a href="#h18-0-17" id="h18-0-17" class="i">+The basename of the directory is used as the repository name.
</a><a href="#h18-0-18" id="h18-0-18" class="i">+The suffix &quot;.git&quot; is removed from the basename, this suffix is commonly used
</a><a href="#h18-0-19" id="h18-0-19" class="i">+for &quot;bare&quot; repos.
</a><a href="#h18-0-20" id="h18-0-20" class="i">+.Pp
</a><a href="#h18-0-21" id="h18-0-21" class="i">+The content of the follow files specifies the meta data for each repository:
</a><a href="#h18-0-22" id="h18-0-22" class="i">+.Bl -tag -width Ds
</a><a href="#h18-0-23" id="h18-0-23" class="i">+.It .git/description or description (bare repos).
</a><a href="#h18-0-24" id="h18-0-24" class="i">+description
</a><a href="#h18-0-25" id="h18-0-25" class="i">+.It .git/owner or owner (bare repo).
</a><a href="#h18-0-26" id="h18-0-26" class="i">+owner of repository
</a><a href="#h18-0-27" id="h18-0-27" class="i">+.El
</a><a href="#h18-0-28" id="h18-0-28" class="i">+.Pp
</a><a href="#h18-0-29" id="h18-0-29" class="i">+For changing the style of the page you can use the following files:
</a><a href="#h18-0-30" id="h18-0-30" class="i">+.Bl -tag -width Ds
</a><a href="#h18-0-31" id="h18-0-31" class="i">+.It favicon.png
</a><a href="#h18-0-32" id="h18-0-32" class="i">+favicon image.
</a><a href="#h18-0-33" id="h18-0-33" class="i">+.It logo.png
</a><a href="#h18-0-34" id="h18-0-34" class="i">+32x32 logo.
</a><a href="#h18-0-35" id="h18-0-35" class="i">+.It style.css
</a><a href="#h18-0-36" id="h18-0-36" class="i">+CSS stylesheet.
</a><a href="#h18-0-37" id="h18-0-37" class="i">+.El
</a><a href="#h18-0-38" id="h18-0-38" class="i">+.Sh EXAMPLES
</a><a href="#h18-0-39" id="h18-0-39" class="i">+.Bd -literal
</a><a href="#h18-0-40" id="h18-0-40" class="i">+cd htmlroot
</a><a href="#h18-0-41" id="h18-0-41" class="i">+stagit-index path/to/gitrepo1 path/to/gitrepo2 &gt; index.html
</a><a href="#h18-0-42" id="h18-0-42" class="i">+.Ed
</a><a href="#h18-0-43" id="h18-0-43" class="i">+.Sh SEE ALSO
</a><a href="#h18-0-44" id="h18-0-44" class="i">+.Xr stagit 1
</a><a href="#h18-0-45" id="h18-0-45" class="i">+.Sh AUTHORS
</a><a href="#h18-0-46" id="h18-0-46" class="i">+.An Hiltjo Posthuma Aq Mt hiltjo@codemadness.org
</a><b>diff --git a/<a id="h19" href="../file/stagit-index.c.html">stagit-index.c</a> b/<a href="../file/stagit-index.c.html">stagit-index.c</a></b>
<a href="#h19-0" id="h19-0" class="h">@@ -0,0 +1,263 @@
</a><a href="#h19-0-0" id="h19-0-0" class="i">+#include &lt;err.h&gt;
</a><a href="#h19-0-1" id="h19-0-1" class="i">+#include &lt;limits.h&gt;
</a><a href="#h19-0-2" id="h19-0-2" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h19-0-3" id="h19-0-3" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h19-0-4" id="h19-0-4" class="i">+#include &lt;string.h&gt;
</a><a href="#h19-0-5" id="h19-0-5" class="i">+#include &lt;time.h&gt;
</a><a href="#h19-0-6" id="h19-0-6" class="i">+#include &lt;unistd.h&gt;
</a><a href="#h19-0-7" id="h19-0-7" class="i">+
</a><a href="#h19-0-8" id="h19-0-8" class="i">+#include &lt;git2.h&gt;
</a><a href="#h19-0-9" id="h19-0-9" class="i">+
</a><a href="#h19-0-10" id="h19-0-10" class="i">+static git_repository *repo;
</a><a href="#h19-0-11" id="h19-0-11" class="i">+
</a><a href="#h19-0-12" id="h19-0-12" class="i">+static const char *relpath = &quot;&quot;;
</a><a href="#h19-0-13" id="h19-0-13" class="i">+
</a><a href="#h19-0-14" id="h19-0-14" class="i">+static char description[255] = &quot;Repositories&quot;;
</a><a href="#h19-0-15" id="h19-0-15" class="i">+static char *name = &quot;&quot;;
</a><a href="#h19-0-16" id="h19-0-16" class="i">+static char owner[255];
</a><a href="#h19-0-17" id="h19-0-17" class="i">+
</a><a href="#h19-0-18" id="h19-0-18" class="i">+/* Handle read or write errors for a FILE * stream */
</a><a href="#h19-0-19" id="h19-0-19" class="i">+void
</a><a href="#h19-0-20" id="h19-0-20" class="i">+checkfileerror(FILE *fp, const char *name, int mode)
</a><a href="#h19-0-21" id="h19-0-21" class="i">+{
</a><a href="#h19-0-22" id="h19-0-22" class="i">+	if (mode == &#39;r&#39; &amp;&amp; ferror(fp))
</a><a href="#h19-0-23" id="h19-0-23" class="i">+		errx(1, &quot;read error: %s&quot;, name);
</a><a href="#h19-0-24" id="h19-0-24" class="i">+	else if (mode == &#39;w&#39; &amp;&amp; (fflush(fp) || ferror(fp)))
</a><a href="#h19-0-25" id="h19-0-25" class="i">+		errx(1, &quot;write error: %s&quot;, name);
</a><a href="#h19-0-26" id="h19-0-26" class="i">+}
</a><a href="#h19-0-27" id="h19-0-27" class="i">+
</a><a href="#h19-0-28" id="h19-0-28" class="i">+void
</a><a href="#h19-0-29" id="h19-0-29" class="i">+joinpath(char *buf, size_t bufsiz, const char *path, const char *path2)
</a><a href="#h19-0-30" id="h19-0-30" class="i">+{
</a><a href="#h19-0-31" id="h19-0-31" class="i">+	int r;
</a><a href="#h19-0-32" id="h19-0-32" class="i">+
</a><a href="#h19-0-33" id="h19-0-33" class="i">+	r = snprintf(buf, bufsiz, &quot;%s%s%s&quot;,
</a><a href="#h19-0-34" id="h19-0-34" class="i">+		path, path[0] &amp;&amp; path[strlen(path) - 1] != &#39;/&#39; ? &quot;/&quot; : &quot;&quot;, path2);
</a><a href="#h19-0-35" id="h19-0-35" class="i">+	if (r &lt; 0 || (size_t)r &gt;= bufsiz)
</a><a href="#h19-0-36" id="h19-0-36" class="i">+		errx(1, &quot;path truncated: &#39;%s%s%s&#39;&quot;,
</a><a href="#h19-0-37" id="h19-0-37" class="i">+			path, path[0] &amp;&amp; path[strlen(path) - 1] != &#39;/&#39; ? &quot;/&quot; : &quot;&quot;, path2);
</a><a href="#h19-0-38" id="h19-0-38" class="i">+}
</a><a href="#h19-0-39" id="h19-0-39" class="i">+
</a><a href="#h19-0-40" id="h19-0-40" class="i">+/* Percent-encode, see RFC3986 section 2.1. */
</a><a href="#h19-0-41" id="h19-0-41" class="i">+void
</a><a href="#h19-0-42" id="h19-0-42" class="i">+percentencode(FILE *fp, const char *s, size_t len)
</a><a href="#h19-0-43" id="h19-0-43" class="i">+{
</a><a href="#h19-0-44" id="h19-0-44" class="i">+	static char tab[] = &quot;0123456789ABCDEF&quot;;
</a><a href="#h19-0-45" id="h19-0-45" class="i">+	unsigned char uc;
</a><a href="#h19-0-46" id="h19-0-46" class="i">+	size_t i;
</a><a href="#h19-0-47" id="h19-0-47" class="i">+
</a><a href="#h19-0-48" id="h19-0-48" class="i">+	for (i = 0; *s &amp;&amp; i &lt; len; s++, i++) {
</a><a href="#h19-0-49" id="h19-0-49" class="i">+		uc = *s;
</a><a href="#h19-0-50" id="h19-0-50" class="i">+		/* NOTE: do not encode &#39;/&#39; for paths or &quot;,-.&quot; */
</a><a href="#h19-0-51" id="h19-0-51" class="i">+		if (uc &lt; &#39;,&#39; || uc &gt;= 127 || (uc &gt;= &#39;:&#39; &amp;&amp; uc &lt;= &#39;@&#39;) ||
</a><a href="#h19-0-52" id="h19-0-52" class="i">+		    uc == &#39;[&#39; || uc == &#39;]&#39;) {
</a><a href="#h19-0-53" id="h19-0-53" class="i">+			putc(&#39;%&#39;, fp);
</a><a href="#h19-0-54" id="h19-0-54" class="i">+			putc(tab[(uc &gt;&gt; 4) &amp; 0x0f], fp);
</a><a href="#h19-0-55" id="h19-0-55" class="i">+			putc(tab[uc &amp; 0x0f], fp);
</a><a href="#h19-0-56" id="h19-0-56" class="i">+		} else {
</a><a href="#h19-0-57" id="h19-0-57" class="i">+			putc(uc, fp);
</a><a href="#h19-0-58" id="h19-0-58" class="i">+		}
</a><a href="#h19-0-59" id="h19-0-59" class="i">+	}
</a><a href="#h19-0-60" id="h19-0-60" class="i">+}
</a><a href="#h19-0-61" id="h19-0-61" class="i">+
</a><a href="#h19-0-62" id="h19-0-62" class="i">+/* Escape characters below as HTML 2.0 / XML 1.0. */
</a><a href="#h19-0-63" id="h19-0-63" class="i">+void
</a><a href="#h19-0-64" id="h19-0-64" class="i">+xmlencode(FILE *fp, const char *s, size_t len)
</a><a href="#h19-0-65" id="h19-0-65" class="i">+{
</a><a href="#h19-0-66" id="h19-0-66" class="i">+	size_t i;
</a><a href="#h19-0-67" id="h19-0-67" class="i">+
</a><a href="#h19-0-68" id="h19-0-68" class="i">+	for (i = 0; *s &amp;&amp; i &lt; len; s++, i++) {
</a><a href="#h19-0-69" id="h19-0-69" class="i">+		switch(*s) {
</a><a href="#h19-0-70" id="h19-0-70" class="i">+		case &#39;&lt;&#39;:  fputs(&quot;&amp;lt;&quot;,   fp); break;
</a><a href="#h19-0-71" id="h19-0-71" class="i">+		case &#39;&gt;&#39;:  fputs(&quot;&amp;gt;&quot;,   fp); break;
</a><a href="#h19-0-72" id="h19-0-72" class="i">+		case &#39;\&#39;&#39;: fputs(&quot;&amp;#39;&quot; , fp); break;
</a><a href="#h19-0-73" id="h19-0-73" class="i">+		case &#39;&amp;&#39;:  fputs(&quot;&amp;amp;&quot;,  fp); break;
</a><a href="#h19-0-74" id="h19-0-74" class="i">+		case &#39;&quot;&#39;:  fputs(&quot;&amp;quot;&quot;, fp); break;
</a><a href="#h19-0-75" id="h19-0-75" class="i">+		default:   putc(*s, fp);
</a><a href="#h19-0-76" id="h19-0-76" class="i">+		}
</a><a href="#h19-0-77" id="h19-0-77" class="i">+	}
</a><a href="#h19-0-78" id="h19-0-78" class="i">+}
</a><a href="#h19-0-79" id="h19-0-79" class="i">+
</a><a href="#h19-0-80" id="h19-0-80" class="i">+void
</a><a href="#h19-0-81" id="h19-0-81" class="i">+printtimeshort(FILE *fp, const git_time *intime)
</a><a href="#h19-0-82" id="h19-0-82" class="i">+{
</a><a href="#h19-0-83" id="h19-0-83" class="i">+	struct tm *intm;
</a><a href="#h19-0-84" id="h19-0-84" class="i">+	time_t t;
</a><a href="#h19-0-85" id="h19-0-85" class="i">+	char out[32];
</a><a href="#h19-0-86" id="h19-0-86" class="i">+
</a><a href="#h19-0-87" id="h19-0-87" class="i">+	t = (time_t)intime-&gt;time;
</a><a href="#h19-0-88" id="h19-0-88" class="i">+	if (!(intm = gmtime(&amp;t)))
</a><a href="#h19-0-89" id="h19-0-89" class="i">+		return;
</a><a href="#h19-0-90" id="h19-0-90" class="i">+	strftime(out, sizeof(out), &quot;%Y-%m-%d %H:%M&quot;, intm);
</a><a href="#h19-0-91" id="h19-0-91" class="i">+	fputs(out, fp);
</a><a href="#h19-0-92" id="h19-0-92" class="i">+}
</a><a href="#h19-0-93" id="h19-0-93" class="i">+
</a><a href="#h19-0-94" id="h19-0-94" class="i">+void
</a><a href="#h19-0-95" id="h19-0-95" class="i">+writeheader(FILE *fp)
</a><a href="#h19-0-96" id="h19-0-96" class="i">+{
</a><a href="#h19-0-97" id="h19-0-97" class="i">+	fputs(&quot;&lt;!DOCTYPE html&gt;\n&quot;
</a><a href="#h19-0-98" id="h19-0-98" class="i">+		&quot;&lt;html&gt;\n&lt;head&gt;\n&quot;
</a><a href="#h19-0-99" id="h19-0-99" class="i">+		&quot;&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=UTF-8\&quot; /&gt;\n&quot;
</a><a href="#h19-0-100" id="h19-0-100" class="i">+		&quot;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1\&quot; /&gt;\n&quot;
</a><a href="#h19-0-101" id="h19-0-101" class="i">+		&quot;&lt;title&gt;&quot;, fp);
</a><a href="#h19-0-102" id="h19-0-102" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h19-0-103" id="h19-0-103" class="i">+	fprintf(fp, &quot;&lt;/title&gt;\n&lt;link rel=\&quot;icon\&quot; type=\&quot;image/png\&quot; href=\&quot;%sfavicon.png\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h19-0-104" id="h19-0-104" class="i">+	fprintf(fp, &quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;%sstyle.css\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h19-0-105" id="h19-0-105" class="i">+	fputs(&quot;&lt;/head&gt;\n&lt;body&gt;\n&quot;, fp);
</a><a href="#h19-0-106" id="h19-0-106" class="i">+	fprintf(fp, &quot;&lt;table&gt;\n&lt;tr&gt;&lt;td&gt;&lt;img src=\&quot;%slogo.png\&quot; alt=\&quot;\&quot; width=\&quot;32\&quot; height=\&quot;32\&quot; /&gt;&lt;/td&gt;\n&quot;
</a><a href="#h19-0-107" id="h19-0-107" class="i">+	        &quot;&lt;td&gt;&lt;span class=\&quot;desc\&quot;&gt;&quot;, relpath);
</a><a href="#h19-0-108" id="h19-0-108" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h19-0-109" id="h19-0-109" class="i">+	fputs(&quot;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\n&quot;
</a><a href="#h19-0-110" id="h19-0-110" class="i">+		&quot;&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;hr/&gt;\n&lt;div id=\&quot;content\&quot;&gt;\n&quot;
</a><a href="#h19-0-111" id="h19-0-111" class="i">+		&quot;&lt;table id=\&quot;index\&quot;&gt;&lt;thead&gt;\n&quot;
</a><a href="#h19-0-112" id="h19-0-112" class="i">+		&quot;&lt;tr&gt;&lt;td&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Owner&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h19-0-113" id="h19-0-113" class="i">+		&quot;&lt;td&gt;&lt;b&gt;Last commit&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;&quot;
</a><a href="#h19-0-114" id="h19-0-114" class="i">+		&quot;&lt;/thead&gt;&lt;tbody&gt;\n&quot;, fp);
</a><a href="#h19-0-115" id="h19-0-115" class="i">+}
</a><a href="#h19-0-116" id="h19-0-116" class="i">+
</a><a href="#h19-0-117" id="h19-0-117" class="i">+void
</a><a href="#h19-0-118" id="h19-0-118" class="i">+writefooter(FILE *fp)
</a><a href="#h19-0-119" id="h19-0-119" class="i">+{
</a><a href="#h19-0-120" id="h19-0-120" class="i">+	fputs(&quot;&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;, fp);
</a><a href="#h19-0-121" id="h19-0-121" class="i">+}
</a><a href="#h19-0-122" id="h19-0-122" class="i">+
</a><a href="#h19-0-123" id="h19-0-123" class="i">+int
</a><a href="#h19-0-124" id="h19-0-124" class="i">+writelog(FILE *fp)
</a><a href="#h19-0-125" id="h19-0-125" class="i">+{
</a><a href="#h19-0-126" id="h19-0-126" class="i">+	git_commit *commit = NULL;
</a><a href="#h19-0-127" id="h19-0-127" class="i">+	const git_signature *author;
</a><a href="#h19-0-128" id="h19-0-128" class="i">+	git_revwalk *w = NULL;
</a><a href="#h19-0-129" id="h19-0-129" class="i">+	git_oid id;
</a><a href="#h19-0-130" id="h19-0-130" class="i">+	char *stripped_name = NULL, *p;
</a><a href="#h19-0-131" id="h19-0-131" class="i">+	int ret = 0;
</a><a href="#h19-0-132" id="h19-0-132" class="i">+
</a><a href="#h19-0-133" id="h19-0-133" class="i">+	git_revwalk_new(&amp;w, repo);
</a><a href="#h19-0-134" id="h19-0-134" class="i">+	git_revwalk_push_head(w);
</a><a href="#h19-0-135" id="h19-0-135" class="i">+
</a><a href="#h19-0-136" id="h19-0-136" class="i">+	if (git_revwalk_next(&amp;id, w) ||
</a><a href="#h19-0-137" id="h19-0-137" class="i">+	    git_commit_lookup(&amp;commit, repo, &amp;id)) {
</a><a href="#h19-0-138" id="h19-0-138" class="i">+		ret = -1;
</a><a href="#h19-0-139" id="h19-0-139" class="i">+		goto err;
</a><a href="#h19-0-140" id="h19-0-140" class="i">+	}
</a><a href="#h19-0-141" id="h19-0-141" class="i">+
</a><a href="#h19-0-142" id="h19-0-142" class="i">+	author = git_commit_author(commit);
</a><a href="#h19-0-143" id="h19-0-143" class="i">+
</a><a href="#h19-0-144" id="h19-0-144" class="i">+	/* strip .git suffix */
</a><a href="#h19-0-145" id="h19-0-145" class="i">+	if (!(stripped_name = strdup(name)))
</a><a href="#h19-0-146" id="h19-0-146" class="i">+		err(1, &quot;strdup&quot;);
</a><a href="#h19-0-147" id="h19-0-147" class="i">+	if ((p = strrchr(stripped_name, &#39;.&#39;)))
</a><a href="#h19-0-148" id="h19-0-148" class="i">+		if (!strcmp(p, &quot;.git&quot;))
</a><a href="#h19-0-149" id="h19-0-149" class="i">+			*p = &#39;\0&#39;;
</a><a href="#h19-0-150" id="h19-0-150" class="i">+
</a><a href="#h19-0-151" id="h19-0-151" class="i">+	fputs(&quot;&lt;tr&gt;&lt;td&gt;&lt;a href=\&quot;&quot;, fp);
</a><a href="#h19-0-152" id="h19-0-152" class="i">+	percentencode(fp, stripped_name, strlen(stripped_name));
</a><a href="#h19-0-153" id="h19-0-153" class="i">+	/*
</a><a href="#h19-0-154" id="h19-0-154" class="i">+	 * changing landing page on repo from log.html to files.html
</a><a href="#h19-0-155" id="h19-0-155" class="i">+	 */
</a><a href="#h19-0-156" id="h19-0-156" class="i">+	//fputs(&quot;/log.html\&quot;&gt;&quot;, fp);
</a><a href="#h19-0-157" id="h19-0-157" class="i">+	fputs(&quot;/files.html\&quot;&gt;&quot;, fp);
</a><a href="#h19-0-158" id="h19-0-158" class="i">+
</a><a href="#h19-0-159" id="h19-0-159" class="i">+	xmlencode(fp, stripped_name, strlen(stripped_name));
</a><a href="#h19-0-160" id="h19-0-160" class="i">+	fputs(&quot;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h19-0-161" id="h19-0-161" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h19-0-162" id="h19-0-162" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h19-0-163" id="h19-0-163" class="i">+	xmlencode(fp, owner, strlen(owner));
</a><a href="#h19-0-164" id="h19-0-164" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h19-0-165" id="h19-0-165" class="i">+	if (author)
</a><a href="#h19-0-166" id="h19-0-166" class="i">+		printtimeshort(fp, &amp;(author-&gt;when));
</a><a href="#h19-0-167" id="h19-0-167" class="i">+	fputs(&quot;&lt;/td&gt;&lt;/tr&gt;&quot;, fp);
</a><a href="#h19-0-168" id="h19-0-168" class="i">+
</a><a href="#h19-0-169" id="h19-0-169" class="i">+	git_commit_free(commit);
</a><a href="#h19-0-170" id="h19-0-170" class="i">+err:
</a><a href="#h19-0-171" id="h19-0-171" class="i">+	git_revwalk_free(w);
</a><a href="#h19-0-172" id="h19-0-172" class="i">+	free(stripped_name);
</a><a href="#h19-0-173" id="h19-0-173" class="i">+
</a><a href="#h19-0-174" id="h19-0-174" class="i">+	return ret;
</a><a href="#h19-0-175" id="h19-0-175" class="i">+}
</a><a href="#h19-0-176" id="h19-0-176" class="i">+
</a><a href="#h19-0-177" id="h19-0-177" class="i">+int
</a><a href="#h19-0-178" id="h19-0-178" class="i">+main(int argc, char *argv[])
</a><a href="#h19-0-179" id="h19-0-179" class="i">+{
</a><a href="#h19-0-180" id="h19-0-180" class="i">+	FILE *fp;
</a><a href="#h19-0-181" id="h19-0-181" class="i">+	char path[PATH_MAX], repodirabs[PATH_MAX + 1];
</a><a href="#h19-0-182" id="h19-0-182" class="i">+	const char *repodir;
</a><a href="#h19-0-183" id="h19-0-183" class="i">+	int i, ret = 0;
</a><a href="#h19-0-184" id="h19-0-184" class="i">+
</a><a href="#h19-0-185" id="h19-0-185" class="i">+	if (argc &lt; 2) {
</a><a href="#h19-0-186" id="h19-0-186" class="i">+		fprintf(stderr, &quot;usage: %s [repodir...]\n&quot;, argv[0]);
</a><a href="#h19-0-187" id="h19-0-187" class="i">+		return 1;
</a><a href="#h19-0-188" id="h19-0-188" class="i">+	}
</a><a href="#h19-0-189" id="h19-0-189" class="i">+
</a><a href="#h19-0-190" id="h19-0-190" class="i">+	/* do not search outside the git repository:
</a><a href="#h19-0-191" id="h19-0-191" class="i">+	   GIT_CONFIG_LEVEL_APP is the highest level currently */
</a><a href="#h19-0-192" id="h19-0-192" class="i">+	git_libgit2_init();
</a><a href="#h19-0-193" id="h19-0-193" class="i">+	for (i = 1; i &lt;= GIT_CONFIG_LEVEL_APP; i++)
</a><a href="#h19-0-194" id="h19-0-194" class="i">+		git_libgit2_opts(GIT_OPT_SET_SEARCH_PATH, i, &quot;&quot;);
</a><a href="#h19-0-195" id="h19-0-195" class="i">+	/* do not require the git repository to be owned by the current user */
</a><a href="#h19-0-196" id="h19-0-196" class="i">+	git_libgit2_opts(GIT_OPT_SET_OWNER_VALIDATION, 0);
</a><a href="#h19-0-197" id="h19-0-197" class="i">+
</a><a href="#h19-0-198" id="h19-0-198" class="i">+#ifdef __OpenBSD__
</a><a href="#h19-0-199" id="h19-0-199" class="i">+	if (pledge(&quot;stdio rpath&quot;, NULL) == -1)
</a><a href="#h19-0-200" id="h19-0-200" class="i">+		err(1, &quot;pledge&quot;);
</a><a href="#h19-0-201" id="h19-0-201" class="i">+#endif
</a><a href="#h19-0-202" id="h19-0-202" class="i">+
</a><a href="#h19-0-203" id="h19-0-203" class="i">+	writeheader(stdout);
</a><a href="#h19-0-204" id="h19-0-204" class="i">+
</a><a href="#h19-0-205" id="h19-0-205" class="i">+	for (i = 1; i &lt; argc; i++) {
</a><a href="#h19-0-206" id="h19-0-206" class="i">+		repodir = argv[i];
</a><a href="#h19-0-207" id="h19-0-207" class="i">+		if (!realpath(repodir, repodirabs))
</a><a href="#h19-0-208" id="h19-0-208" class="i">+			err(1, &quot;realpath&quot;);
</a><a href="#h19-0-209" id="h19-0-209" class="i">+
</a><a href="#h19-0-210" id="h19-0-210" class="i">+		if (git_repository_open_ext(&amp;repo, repodir,
</a><a href="#h19-0-211" id="h19-0-211" class="i">+		    GIT_REPOSITORY_OPEN_NO_SEARCH, NULL)) {
</a><a href="#h19-0-212" id="h19-0-212" class="i">+			fprintf(stderr, &quot;%s: cannot open repository\n&quot;, argv[0]);
</a><a href="#h19-0-213" id="h19-0-213" class="i">+			ret = 1;
</a><a href="#h19-0-214" id="h19-0-214" class="i">+			continue;
</a><a href="#h19-0-215" id="h19-0-215" class="i">+		}
</a><a href="#h19-0-216" id="h19-0-216" class="i">+
</a><a href="#h19-0-217" id="h19-0-217" class="i">+		/* use directory name as name */
</a><a href="#h19-0-218" id="h19-0-218" class="i">+		if ((name = strrchr(repodirabs, &#39;/&#39;)))
</a><a href="#h19-0-219" id="h19-0-219" class="i">+			name++;
</a><a href="#h19-0-220" id="h19-0-220" class="i">+		else
</a><a href="#h19-0-221" id="h19-0-221" class="i">+			name = &quot;&quot;;
</a><a href="#h19-0-222" id="h19-0-222" class="i">+
</a><a href="#h19-0-223" id="h19-0-223" class="i">+		/* read description or .git/description */
</a><a href="#h19-0-224" id="h19-0-224" class="i">+		joinpath(path, sizeof(path), repodir, &quot;description&quot;);
</a><a href="#h19-0-225" id="h19-0-225" class="i">+		if (!(fp = fopen(path, &quot;r&quot;))) {
</a><a href="#h19-0-226" id="h19-0-226" class="i">+			joinpath(path, sizeof(path), repodir, &quot;.git/description&quot;);
</a><a href="#h19-0-227" id="h19-0-227" class="i">+			fp = fopen(path, &quot;r&quot;);
</a><a href="#h19-0-228" id="h19-0-228" class="i">+		}
</a><a href="#h19-0-229" id="h19-0-229" class="i">+		description[0] = &#39;\0&#39;;
</a><a href="#h19-0-230" id="h19-0-230" class="i">+		if (fp) {
</a><a href="#h19-0-231" id="h19-0-231" class="i">+			if (!fgets(description, sizeof(description), fp))
</a><a href="#h19-0-232" id="h19-0-232" class="i">+				description[0] = &#39;\0&#39;;
</a><a href="#h19-0-233" id="h19-0-233" class="i">+			checkfileerror(fp, &quot;description&quot;, &#39;r&#39;);
</a><a href="#h19-0-234" id="h19-0-234" class="i">+			fclose(fp);
</a><a href="#h19-0-235" id="h19-0-235" class="i">+		}
</a><a href="#h19-0-236" id="h19-0-236" class="i">+
</a><a href="#h19-0-237" id="h19-0-237" class="i">+		/* read owner or .git/owner */
</a><a href="#h19-0-238" id="h19-0-238" class="i">+		joinpath(path, sizeof(path), repodir, &quot;owner&quot;);
</a><a href="#h19-0-239" id="h19-0-239" class="i">+		if (!(fp = fopen(path, &quot;r&quot;))) {
</a><a href="#h19-0-240" id="h19-0-240" class="i">+			joinpath(path, sizeof(path), repodir, &quot;.git/owner&quot;);
</a><a href="#h19-0-241" id="h19-0-241" class="i">+			fp = fopen(path, &quot;r&quot;);
</a><a href="#h19-0-242" id="h19-0-242" class="i">+		}
</a><a href="#h19-0-243" id="h19-0-243" class="i">+		owner[0] = &#39;\0&#39;;
</a><a href="#h19-0-244" id="h19-0-244" class="i">+		if (fp) {
</a><a href="#h19-0-245" id="h19-0-245" class="i">+			if (!fgets(owner, sizeof(owner), fp))
</a><a href="#h19-0-246" id="h19-0-246" class="i">+				owner[0] = &#39;\0&#39;;
</a><a href="#h19-0-247" id="h19-0-247" class="i">+			checkfileerror(fp, &quot;owner&quot;, &#39;r&#39;);
</a><a href="#h19-0-248" id="h19-0-248" class="i">+			fclose(fp);
</a><a href="#h19-0-249" id="h19-0-249" class="i">+			owner[strcspn(owner, &quot;\n&quot;)] = &#39;\0&#39;;
</a><a href="#h19-0-250" id="h19-0-250" class="i">+		}
</a><a href="#h19-0-251" id="h19-0-251" class="i">+		writelog(stdout);
</a><a href="#h19-0-252" id="h19-0-252" class="i">+	}
</a><a href="#h19-0-253" id="h19-0-253" class="i">+	writefooter(stdout);
</a><a href="#h19-0-254" id="h19-0-254" class="i">+
</a><a href="#h19-0-255" id="h19-0-255" class="i">+	/* cleanup */
</a><a href="#h19-0-256" id="h19-0-256" class="i">+	git_repository_free(repo);
</a><a href="#h19-0-257" id="h19-0-257" class="i">+	git_libgit2_shutdown();
</a><a href="#h19-0-258" id="h19-0-258" class="i">+
</a><a href="#h19-0-259" id="h19-0-259" class="i">+	checkfileerror(stdout, &quot;&lt;stdout&gt;&quot;, &#39;w&#39;);
</a><a href="#h19-0-260" id="h19-0-260" class="i">+
</a><a href="#h19-0-261" id="h19-0-261" class="i">+	return ret;
</a><a href="#h19-0-262" id="h19-0-262" class="i">+}
</a><b>diff --git a/<a id="h20" href="../file/stagit-index.o.html">stagit-index.o</a> b/<a href="../file/stagit-index.o.html">stagit-index.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h21" href="../file/stagit.1.html">stagit.1</a> b/<a href="../file/stagit.1.html">stagit.1</a></b>
<a href="#h21-0" id="h21-0" class="h">@@ -0,0 +1,125 @@
</a><a href="#h21-0-0" id="h21-0-0" class="i">+.Dd August 2, 2021
</a><a href="#h21-0-1" id="h21-0-1" class="i">+.Dt STAGIT 1
</a><a href="#h21-0-2" id="h21-0-2" class="i">+.Os
</a><a href="#h21-0-3" id="h21-0-3" class="i">+.Sh NAME
</a><a href="#h21-0-4" id="h21-0-4" class="i">+.Nm stagit
</a><a href="#h21-0-5" id="h21-0-5" class="i">+.Nd static git page generator
</a><a href="#h21-0-6" id="h21-0-6" class="i">+.Sh SYNOPSIS
</a><a href="#h21-0-7" id="h21-0-7" class="i">+.Nm
</a><a href="#h21-0-8" id="h21-0-8" class="i">+.Op Fl c Ar cachefile
</a><a href="#h21-0-9" id="h21-0-9" class="i">+.Op Fl l Ar commits
</a><a href="#h21-0-10" id="h21-0-10" class="i">+.Op Fl u Ar baseurl
</a><a href="#h21-0-11" id="h21-0-11" class="i">+.Ar repodir
</a><a href="#h21-0-12" id="h21-0-12" class="i">+.Sh DESCRIPTION
</a><a href="#h21-0-13" id="h21-0-13" class="i">+.Nm
</a><a href="#h21-0-14" id="h21-0-14" class="i">+writes HTML pages for the repository
</a><a href="#h21-0-15" id="h21-0-15" class="i">+.Ar repodir
</a><a href="#h21-0-16" id="h21-0-16" class="i">+to the current directory.
</a><a href="#h21-0-17" id="h21-0-17" class="i">+.Pp
</a><a href="#h21-0-18" id="h21-0-18" class="i">+The options are as follows:
</a><a href="#h21-0-19" id="h21-0-19" class="i">+.Bl -tag -width Ds
</a><a href="#h21-0-20" id="h21-0-20" class="i">+.It Fl c Ar cachefile
</a><a href="#h21-0-21" id="h21-0-21" class="i">+Cache the entries of the log page up to the point of
</a><a href="#h21-0-22" id="h21-0-22" class="i">+the last commit.
</a><a href="#h21-0-23" id="h21-0-23" class="i">+The
</a><a href="#h21-0-24" id="h21-0-24" class="i">+.Ar cachefile
</a><a href="#h21-0-25" id="h21-0-25" class="i">+will store the last commit id and the entries in the HTML table.
</a><a href="#h21-0-26" id="h21-0-26" class="i">+It is up to the user to make sure the state of the
</a><a href="#h21-0-27" id="h21-0-27" class="i">+.Ar cachefile
</a><a href="#h21-0-28" id="h21-0-28" class="i">+is in sync with the history of the repository.
</a><a href="#h21-0-29" id="h21-0-29" class="i">+.It Fl l Ar commits
</a><a href="#h21-0-30" id="h21-0-30" class="i">+Write a maximum number of
</a><a href="#h21-0-31" id="h21-0-31" class="i">+.Ar commits
</a><a href="#h21-0-32" id="h21-0-32" class="i">+to the log.html file only.
</a><a href="#h21-0-33" id="h21-0-33" class="i">+However the commit files are written as usual.
</a><a href="#h21-0-34" id="h21-0-34" class="i">+.It Fl u Ar baseurl
</a><a href="#h21-0-35" id="h21-0-35" class="i">+Base URL to make links in the Atom feeds absolute.
</a><a href="#h21-0-36" id="h21-0-36" class="i">+For example: &quot;https://git.codemadness.org/stagit/&quot;.
</a><a href="#h21-0-37" id="h21-0-37" class="i">+.El
</a><a href="#h21-0-38" id="h21-0-38" class="i">+.Pp
</a><a href="#h21-0-39" id="h21-0-39" class="i">+The options
</a><a href="#h21-0-40" id="h21-0-40" class="i">+.Fl c
</a><a href="#h21-0-41" id="h21-0-41" class="i">+and
</a><a href="#h21-0-42" id="h21-0-42" class="i">+.Fl l
</a><a href="#h21-0-43" id="h21-0-43" class="i">+cannot be used at the same time.
</a><a href="#h21-0-44" id="h21-0-44" class="i">+.Pp
</a><a href="#h21-0-45" id="h21-0-45" class="i">+The following files will be written:
</a><a href="#h21-0-46" id="h21-0-46" class="i">+.Bl -tag -width Ds
</a><a href="#h21-0-47" id="h21-0-47" class="i">+.It atom.xml
</a><a href="#h21-0-48" id="h21-0-48" class="i">+Atom XML feed of the last 100 commits.
</a><a href="#h21-0-49" id="h21-0-49" class="i">+.It tags.xml
</a><a href="#h21-0-50" id="h21-0-50" class="i">+Atom XML feed of the tags.
</a><a href="#h21-0-51" id="h21-0-51" class="i">+.It files.html
</a><a href="#h21-0-52" id="h21-0-52" class="i">+List of files in the latest tree, linking to the file.
</a><a href="#h21-0-53" id="h21-0-53" class="i">+.It log.html
</a><a href="#h21-0-54" id="h21-0-54" class="i">+List of commits in reverse chronological applied commit order, each commit
</a><a href="#h21-0-55" id="h21-0-55" class="i">+links to a page with a diffstat and diff of the commit.
</a><a href="#h21-0-56" id="h21-0-56" class="i">+.It refs.html
</a><a href="#h21-0-57" id="h21-0-57" class="i">+Lists references of the repository such as branches and tags.
</a><a href="#h21-0-58" id="h21-0-58" class="i">+.El
</a><a href="#h21-0-59" id="h21-0-59" class="i">+.Pp
</a><a href="#h21-0-60" id="h21-0-60" class="i">+For each entry in HEAD a file will be written in the format:
</a><a href="#h21-0-61" id="h21-0-61" class="i">+file/filepath.html.
</a><a href="#h21-0-62" id="h21-0-62" class="i">+This file will contain the textual data of the file prefixed by line numbers.
</a><a href="#h21-0-63" id="h21-0-63" class="i">+The file will have the string &quot;Binary file&quot; if the data is considered to be
</a><a href="#h21-0-64" id="h21-0-64" class="i">+non-textual.
</a><a href="#h21-0-65" id="h21-0-65" class="i">+.Pp
</a><a href="#h21-0-66" id="h21-0-66" class="i">+For each commit a file will be written in the format:
</a><a href="#h21-0-67" id="h21-0-67" class="i">+commit/commitid.html.
</a><a href="#h21-0-68" id="h21-0-68" class="i">+This file will contain the diffstat and diff of the commit.
</a><a href="#h21-0-69" id="h21-0-69" class="i">+It will write the string &quot;Binary files differ&quot; if the data is considered to
</a><a href="#h21-0-70" id="h21-0-70" class="i">+be non-textual.
</a><a href="#h21-0-71" id="h21-0-71" class="i">+Too large diffs will be suppressed and a string
</a><a href="#h21-0-72" id="h21-0-72" class="i">+&quot;Diff is too large, output suppressed&quot; will be written.
</a><a href="#h21-0-73" id="h21-0-73" class="i">+.Pp
</a><a href="#h21-0-74" id="h21-0-74" class="i">+When a commit HTML file exists it won&#39;t be overwritten again, note that if
</a><a href="#h21-0-75" id="h21-0-75" class="i">+you&#39;ve changed
</a><a href="#h21-0-76" id="h21-0-76" class="i">+.Nm
</a><a href="#h21-0-77" id="h21-0-77" class="i">+or changed one of the metadata files of the repository it is recommended to
</a><a href="#h21-0-78" id="h21-0-78" class="i">+recreate all the output files because it will contain old data.
</a><a href="#h21-0-79" id="h21-0-79" class="i">+To do this remove the output directory and
</a><a href="#h21-0-80" id="h21-0-80" class="i">+.Ar cachefile ,
</a><a href="#h21-0-81" id="h21-0-81" class="i">+then recreate the files.
</a><a href="#h21-0-82" id="h21-0-82" class="i">+.Pp
</a><a href="#h21-0-83" id="h21-0-83" class="i">+The basename of the directory is used as the repository name.
</a><a href="#h21-0-84" id="h21-0-84" class="i">+The suffix &quot;.git&quot; is removed from the basename, this suffix is commonly used
</a><a href="#h21-0-85" id="h21-0-85" class="i">+for &quot;bare&quot; repos.
</a><a href="#h21-0-86" id="h21-0-86" class="i">+.Pp
</a><a href="#h21-0-87" id="h21-0-87" class="i">+The content of the follow files specifies the metadata for each repository:
</a><a href="#h21-0-88" id="h21-0-88" class="i">+.Bl -tag -width Ds
</a><a href="#h21-0-89" id="h21-0-89" class="i">+.It .git/description or description (bare repo).
</a><a href="#h21-0-90" id="h21-0-90" class="i">+description
</a><a href="#h21-0-91" id="h21-0-91" class="i">+.It .git/owner or owner (bare repo).
</a><a href="#h21-0-92" id="h21-0-92" class="i">+owner of repository
</a><a href="#h21-0-93" id="h21-0-93" class="i">+.It .git/url or url (bare repo).
</a><a href="#h21-0-94" id="h21-0-94" class="i">+primary clone URL of the repository, for example:
</a><a href="#h21-0-95" id="h21-0-95" class="i">+git://git.codemadness.org/stagit
</a><a href="#h21-0-96" id="h21-0-96" class="i">+.El
</a><a href="#h21-0-97" id="h21-0-97" class="i">+.Pp
</a><a href="#h21-0-98" id="h21-0-98" class="i">+When a README or LICENSE file exists in HEAD or a .gitmodules submodules file
</a><a href="#h21-0-99" id="h21-0-99" class="i">+exists in HEAD a direct link in the menu is made.
</a><a href="#h21-0-100" id="h21-0-100" class="i">+.Pp
</a><a href="#h21-0-101" id="h21-0-101" class="i">+For changing the style of the page you can use the following files:
</a><a href="#h21-0-102" id="h21-0-102" class="i">+.Bl -tag -width Ds
</a><a href="#h21-0-103" id="h21-0-103" class="i">+.It favicon.png
</a><a href="#h21-0-104" id="h21-0-104" class="i">+favicon image.
</a><a href="#h21-0-105" id="h21-0-105" class="i">+.It logo.png
</a><a href="#h21-0-106" id="h21-0-106" class="i">+32x32 logo.
</a><a href="#h21-0-107" id="h21-0-107" class="i">+.It style.css
</a><a href="#h21-0-108" id="h21-0-108" class="i">+CSS stylesheet.
</a><a href="#h21-0-109" id="h21-0-109" class="i">+.El
</a><a href="#h21-0-110" id="h21-0-110" class="i">+.Sh EXIT STATUS
</a><a href="#h21-0-111" id="h21-0-111" class="i">+.Ex -std
</a><a href="#h21-0-112" id="h21-0-112" class="i">+.Sh EXAMPLES
</a><a href="#h21-0-113" id="h21-0-113" class="i">+.Bd -literal
</a><a href="#h21-0-114" id="h21-0-114" class="i">+mkdir -p htmlroot/htmlrepo1 &amp;&amp; cd htmlroot/htmlrepo1
</a><a href="#h21-0-115" id="h21-0-115" class="i">+stagit path/to/gitrepo1
</a><a href="#h21-0-116" id="h21-0-116" class="i">+# repeat for other repositories.
</a><a href="#h21-0-117" id="h21-0-117" class="i">+.Ed
</a><a href="#h21-0-118" id="h21-0-118" class="i">+.Pp
</a><a href="#h21-0-119" id="h21-0-119" class="i">+To update the HTML files when the repository is changed a git post-receive hook
</a><a href="#h21-0-120" id="h21-0-120" class="i">+can be used, see the file example_post-receive.sh for an example.
</a><a href="#h21-0-121" id="h21-0-121" class="i">+.Sh SEE ALSO
</a><a href="#h21-0-122" id="h21-0-122" class="i">+.Xr stagit-index 1
</a><a href="#h21-0-123" id="h21-0-123" class="i">+.Sh AUTHORS
</a><a href="#h21-0-124" id="h21-0-124" class="i">+.An Hiltjo Posthuma Aq Mt hiltjo@codemadness.org
</a><b>diff --git a/<a id="h22" href="../file/stagit.c.html">stagit.c</a> b/<a href="../file/stagit.c.html">stagit.c</a></b>
<a href="#h22-0" id="h22-0" class="h">@@ -0,0 +1,1487 @@
</a><a href="#h22-0-0" id="h22-0-0" class="i">+#include &lt;sys/stat.h&gt;
</a><a href="#h22-0-1" id="h22-0-1" class="i">+#include &lt;sys/types.h&gt;
</a><a href="#h22-0-2" id="h22-0-2" class="i">+
</a><a href="#h22-0-3" id="h22-0-3" class="i">+#include &lt;err.h&gt;
</a><a href="#h22-0-4" id="h22-0-4" class="i">+#include &lt;errno.h&gt;
</a><a href="#h22-0-5" id="h22-0-5" class="i">+#include &lt;libgen.h&gt;
</a><a href="#h22-0-6" id="h22-0-6" class="i">+#include &lt;limits.h&gt;
</a><a href="#h22-0-7" id="h22-0-7" class="i">+#include &lt;stdint.h&gt;
</a><a href="#h22-0-8" id="h22-0-8" class="i">+#include &lt;stdio.h&gt;
</a><a href="#h22-0-9" id="h22-0-9" class="i">+#include &lt;stdlib.h&gt;
</a><a href="#h22-0-10" id="h22-0-10" class="i">+#include &lt;string.h&gt;
</a><a href="#h22-0-11" id="h22-0-11" class="i">+#include &lt;time.h&gt;
</a><a href="#h22-0-12" id="h22-0-12" class="i">+#include &lt;unistd.h&gt;
</a><a href="#h22-0-13" id="h22-0-13" class="i">+
</a><a href="#h22-0-14" id="h22-0-14" class="i">+#include &lt;git2.h&gt;
</a><a href="#h22-0-15" id="h22-0-15" class="i">+
</a><a href="#h22-0-16" id="h22-0-16" class="i">+#include &quot;compat.h&quot;
</a><a href="#h22-0-17" id="h22-0-17" class="i">+#include &quot;get_lang.h&quot; // for the get_lang function
</a><a href="#h22-0-18" id="h22-0-18" class="i">+
</a><a href="#h22-0-19" id="h22-0-19" class="i">+#define LEN(s)    (sizeof(s)/sizeof(*s))
</a><a href="#h22-0-20" id="h22-0-20" class="i">+
</a><a href="#h22-0-21" id="h22-0-21" class="i">+struct deltainfo {
</a><a href="#h22-0-22" id="h22-0-22" class="i">+	git_patch *patch;
</a><a href="#h22-0-23" id="h22-0-23" class="i">+
</a><a href="#h22-0-24" id="h22-0-24" class="i">+	size_t addcount;
</a><a href="#h22-0-25" id="h22-0-25" class="i">+	size_t delcount;
</a><a href="#h22-0-26" id="h22-0-26" class="i">+};
</a><a href="#h22-0-27" id="h22-0-27" class="i">+
</a><a href="#h22-0-28" id="h22-0-28" class="i">+struct commitinfo {
</a><a href="#h22-0-29" id="h22-0-29" class="i">+	const git_oid *id;
</a><a href="#h22-0-30" id="h22-0-30" class="i">+
</a><a href="#h22-0-31" id="h22-0-31" class="i">+	char oid[GIT_OID_HEXSZ + 1];
</a><a href="#h22-0-32" id="h22-0-32" class="i">+	char parentoid[GIT_OID_HEXSZ + 1];
</a><a href="#h22-0-33" id="h22-0-33" class="i">+
</a><a href="#h22-0-34" id="h22-0-34" class="i">+	const git_signature *author;
</a><a href="#h22-0-35" id="h22-0-35" class="i">+	const git_signature *committer;
</a><a href="#h22-0-36" id="h22-0-36" class="i">+	const char          *summary;
</a><a href="#h22-0-37" id="h22-0-37" class="i">+	const char          *msg;
</a><a href="#h22-0-38" id="h22-0-38" class="i">+
</a><a href="#h22-0-39" id="h22-0-39" class="i">+	git_diff   *diff;
</a><a href="#h22-0-40" id="h22-0-40" class="i">+	git_commit *commit;
</a><a href="#h22-0-41" id="h22-0-41" class="i">+	git_commit *parent;
</a><a href="#h22-0-42" id="h22-0-42" class="i">+	git_tree   *commit_tree;
</a><a href="#h22-0-43" id="h22-0-43" class="i">+	git_tree   *parent_tree;
</a><a href="#h22-0-44" id="h22-0-44" class="i">+
</a><a href="#h22-0-45" id="h22-0-45" class="i">+	size_t addcount;
</a><a href="#h22-0-46" id="h22-0-46" class="i">+	size_t delcount;
</a><a href="#h22-0-47" id="h22-0-47" class="i">+	size_t filecount;
</a><a href="#h22-0-48" id="h22-0-48" class="i">+
</a><a href="#h22-0-49" id="h22-0-49" class="i">+	struct deltainfo **deltas;
</a><a href="#h22-0-50" id="h22-0-50" class="i">+	size_t ndeltas;
</a><a href="#h22-0-51" id="h22-0-51" class="i">+};
</a><a href="#h22-0-52" id="h22-0-52" class="i">+
</a><a href="#h22-0-53" id="h22-0-53" class="i">+/* reference and associated data for sorting */
</a><a href="#h22-0-54" id="h22-0-54" class="i">+struct referenceinfo {
</a><a href="#h22-0-55" id="h22-0-55" class="i">+	struct git_reference *ref;
</a><a href="#h22-0-56" id="h22-0-56" class="i">+	struct commitinfo *ci;
</a><a href="#h22-0-57" id="h22-0-57" class="i">+};
</a><a href="#h22-0-58" id="h22-0-58" class="i">+
</a><a href="#h22-0-59" id="h22-0-59" class="i">+static git_repository *repo;
</a><a href="#h22-0-60" id="h22-0-60" class="i">+
</a><a href="#h22-0-61" id="h22-0-61" class="i">+static const char *baseurl = &quot;&quot;; /* base URL to make absolute RSS/Atom URI */
</a><a href="#h22-0-62" id="h22-0-62" class="i">+static const char *relpath = &quot;&quot;;
</a><a href="#h22-0-63" id="h22-0-63" class="i">+static const char *repodir;
</a><a href="#h22-0-64" id="h22-0-64" class="i">+
</a><a href="#h22-0-65" id="h22-0-65" class="i">+static char *name = &quot;&quot;;
</a><a href="#h22-0-66" id="h22-0-66" class="i">+static char *strippedname = &quot;&quot;;
</a><a href="#h22-0-67" id="h22-0-67" class="i">+static char description[255];
</a><a href="#h22-0-68" id="h22-0-68" class="i">+static char cloneurl[1024];
</a><a href="#h22-0-69" id="h22-0-69" class="i">+static char *submodules;
</a><a href="#h22-0-70" id="h22-0-70" class="i">+static char *licensefiles[] = { &quot;HEAD:LICENSE&quot;, &quot;HEAD:LICENSE.md&quot;, &quot;HEAD:COPYING&quot; };
</a><a href="#h22-0-71" id="h22-0-71" class="i">+static char *license;
</a><a href="#h22-0-72" id="h22-0-72" class="i">+static char *readmefiles[] = { &quot;HEAD:README&quot;, &quot;HEAD:README.md&quot; };
</a><a href="#h22-0-73" id="h22-0-73" class="i">+static char *readme;
</a><a href="#h22-0-74" id="h22-0-74" class="i">+static long long nlogcommits = -1; /* -1 indicates not used */
</a><a href="#h22-0-75" id="h22-0-75" class="i">+
</a><a href="#h22-0-76" id="h22-0-76" class="i">+/* cache */
</a><a href="#h22-0-77" id="h22-0-77" class="i">+static git_oid lastoid;
</a><a href="#h22-0-78" id="h22-0-78" class="i">+static char lastoidstr[GIT_OID_HEXSZ + 2]; /* id + newline + NUL byte */
</a><a href="#h22-0-79" id="h22-0-79" class="i">+static FILE *rcachefp, *wcachefp;
</a><a href="#h22-0-80" id="h22-0-80" class="i">+static const char *cachefile;
</a><a href="#h22-0-81" id="h22-0-81" class="i">+
</a><a href="#h22-0-82" id="h22-0-82" class="i">+/* Handle read or write errors for a FILE * stream */
</a><a href="#h22-0-83" id="h22-0-83" class="i">+void
</a><a href="#h22-0-84" id="h22-0-84" class="i">+checkfileerror(FILE *fp, const char *name, int mode)
</a><a href="#h22-0-85" id="h22-0-85" class="i">+{
</a><a href="#h22-0-86" id="h22-0-86" class="i">+	if (mode == &#39;r&#39; &amp;&amp; ferror(fp))
</a><a href="#h22-0-87" id="h22-0-87" class="i">+		errx(1, &quot;read error: %s&quot;, name);
</a><a href="#h22-0-88" id="h22-0-88" class="i">+	else if (mode == &#39;w&#39; &amp;&amp; (fflush(fp) || ferror(fp)))
</a><a href="#h22-0-89" id="h22-0-89" class="i">+		errx(1, &quot;write error: %s&quot;, name);
</a><a href="#h22-0-90" id="h22-0-90" class="i">+}
</a><a href="#h22-0-91" id="h22-0-91" class="i">+
</a><a href="#h22-0-92" id="h22-0-92" class="i">+void
</a><a href="#h22-0-93" id="h22-0-93" class="i">+joinpath(char *buf, size_t bufsiz, const char *path, const char *path2)
</a><a href="#h22-0-94" id="h22-0-94" class="i">+{
</a><a href="#h22-0-95" id="h22-0-95" class="i">+	int r;
</a><a href="#h22-0-96" id="h22-0-96" class="i">+
</a><a href="#h22-0-97" id="h22-0-97" class="i">+	r = snprintf(buf, bufsiz, &quot;%s%s%s&quot;,
</a><a href="#h22-0-98" id="h22-0-98" class="i">+		path, path[0] &amp;&amp; path[strlen(path) - 1] != &#39;/&#39; ? &quot;/&quot; : &quot;&quot;, path2);
</a><a href="#h22-0-99" id="h22-0-99" class="i">+	if (r &lt; 0 || (size_t)r &gt;= bufsiz)
</a><a href="#h22-0-100" id="h22-0-100" class="i">+		errx(1, &quot;path truncated: &#39;%s%s%s&#39;&quot;,
</a><a href="#h22-0-101" id="h22-0-101" class="i">+			path, path[0] &amp;&amp; path[strlen(path) - 1] != &#39;/&#39; ? &quot;/&quot; : &quot;&quot;, path2);
</a><a href="#h22-0-102" id="h22-0-102" class="i">+}
</a><a href="#h22-0-103" id="h22-0-103" class="i">+
</a><a href="#h22-0-104" id="h22-0-104" class="i">+void
</a><a href="#h22-0-105" id="h22-0-105" class="i">+deltainfo_free(struct deltainfo *di)
</a><a href="#h22-0-106" id="h22-0-106" class="i">+{
</a><a href="#h22-0-107" id="h22-0-107" class="i">+	if (!di)
</a><a href="#h22-0-108" id="h22-0-108" class="i">+		return;
</a><a href="#h22-0-109" id="h22-0-109" class="i">+	git_patch_free(di-&gt;patch);
</a><a href="#h22-0-110" id="h22-0-110" class="i">+	memset(di, 0, sizeof(*di));
</a><a href="#h22-0-111" id="h22-0-111" class="i">+	free(di);
</a><a href="#h22-0-112" id="h22-0-112" class="i">+}
</a><a href="#h22-0-113" id="h22-0-113" class="i">+
</a><a href="#h22-0-114" id="h22-0-114" class="i">+int
</a><a href="#h22-0-115" id="h22-0-115" class="i">+commitinfo_getstats(struct commitinfo *ci)
</a><a href="#h22-0-116" id="h22-0-116" class="i">+{
</a><a href="#h22-0-117" id="h22-0-117" class="i">+	struct deltainfo *di;
</a><a href="#h22-0-118" id="h22-0-118" class="i">+	git_diff_options opts;
</a><a href="#h22-0-119" id="h22-0-119" class="i">+	git_diff_find_options fopts;
</a><a href="#h22-0-120" id="h22-0-120" class="i">+	const git_diff_delta *delta;
</a><a href="#h22-0-121" id="h22-0-121" class="i">+	const git_diff_hunk *hunk;
</a><a href="#h22-0-122" id="h22-0-122" class="i">+	const git_diff_line *line;
</a><a href="#h22-0-123" id="h22-0-123" class="i">+	git_patch *patch = NULL;
</a><a href="#h22-0-124" id="h22-0-124" class="i">+	size_t ndeltas, nhunks, nhunklines;
</a><a href="#h22-0-125" id="h22-0-125" class="i">+	size_t i, j, k;
</a><a href="#h22-0-126" id="h22-0-126" class="i">+
</a><a href="#h22-0-127" id="h22-0-127" class="i">+	if (git_tree_lookup(&amp;(ci-&gt;commit_tree), repo, git_commit_tree_id(ci-&gt;commit)))
</a><a href="#h22-0-128" id="h22-0-128" class="i">+		goto err;
</a><a href="#h22-0-129" id="h22-0-129" class="i">+	if (!git_commit_parent(&amp;(ci-&gt;parent), ci-&gt;commit, 0)) {
</a><a href="#h22-0-130" id="h22-0-130" class="i">+		if (git_tree_lookup(&amp;(ci-&gt;parent_tree), repo, git_commit_tree_id(ci-&gt;parent))) {
</a><a href="#h22-0-131" id="h22-0-131" class="i">+			ci-&gt;parent = NULL;
</a><a href="#h22-0-132" id="h22-0-132" class="i">+			ci-&gt;parent_tree = NULL;
</a><a href="#h22-0-133" id="h22-0-133" class="i">+		}
</a><a href="#h22-0-134" id="h22-0-134" class="i">+	}
</a><a href="#h22-0-135" id="h22-0-135" class="i">+
</a><a href="#h22-0-136" id="h22-0-136" class="i">+	git_diff_init_options(&amp;opts, GIT_DIFF_OPTIONS_VERSION);
</a><a href="#h22-0-137" id="h22-0-137" class="i">+	opts.flags |= GIT_DIFF_DISABLE_PATHSPEC_MATCH |
</a><a href="#h22-0-138" id="h22-0-138" class="i">+	              GIT_DIFF_IGNORE_SUBMODULES |
</a><a href="#h22-0-139" id="h22-0-139" class="i">+		      GIT_DIFF_INCLUDE_TYPECHANGE;
</a><a href="#h22-0-140" id="h22-0-140" class="i">+	if (git_diff_tree_to_tree(&amp;(ci-&gt;diff), repo, ci-&gt;parent_tree, ci-&gt;commit_tree, &amp;opts))
</a><a href="#h22-0-141" id="h22-0-141" class="i">+		goto err;
</a><a href="#h22-0-142" id="h22-0-142" class="i">+
</a><a href="#h22-0-143" id="h22-0-143" class="i">+	if (git_diff_find_init_options(&amp;fopts, GIT_DIFF_FIND_OPTIONS_VERSION))
</a><a href="#h22-0-144" id="h22-0-144" class="i">+		goto err;
</a><a href="#h22-0-145" id="h22-0-145" class="i">+	/* find renames and copies, exact matches (no heuristic) for renames. */
</a><a href="#h22-0-146" id="h22-0-146" class="i">+	fopts.flags |= GIT_DIFF_FIND_RENAMES | GIT_DIFF_FIND_COPIES |
</a><a href="#h22-0-147" id="h22-0-147" class="i">+	               GIT_DIFF_FIND_EXACT_MATCH_ONLY;
</a><a href="#h22-0-148" id="h22-0-148" class="i">+	if (git_diff_find_similar(ci-&gt;diff, &amp;fopts))
</a><a href="#h22-0-149" id="h22-0-149" class="i">+		goto err;
</a><a href="#h22-0-150" id="h22-0-150" class="i">+
</a><a href="#h22-0-151" id="h22-0-151" class="i">+	ndeltas = git_diff_num_deltas(ci-&gt;diff);
</a><a href="#h22-0-152" id="h22-0-152" class="i">+	if (ndeltas &amp;&amp; !(ci-&gt;deltas = calloc(ndeltas, sizeof(struct deltainfo *))))
</a><a href="#h22-0-153" id="h22-0-153" class="i">+		err(1, &quot;calloc&quot;);
</a><a href="#h22-0-154" id="h22-0-154" class="i">+
</a><a href="#h22-0-155" id="h22-0-155" class="i">+	for (i = 0; i &lt; ndeltas; i++) {
</a><a href="#h22-0-156" id="h22-0-156" class="i">+		if (git_patch_from_diff(&amp;patch, ci-&gt;diff, i))
</a><a href="#h22-0-157" id="h22-0-157" class="i">+			goto err;
</a><a href="#h22-0-158" id="h22-0-158" class="i">+
</a><a href="#h22-0-159" id="h22-0-159" class="i">+		if (!(di = calloc(1, sizeof(struct deltainfo))))
</a><a href="#h22-0-160" id="h22-0-160" class="i">+			err(1, &quot;calloc&quot;);
</a><a href="#h22-0-161" id="h22-0-161" class="i">+		di-&gt;patch = patch;
</a><a href="#h22-0-162" id="h22-0-162" class="i">+		ci-&gt;deltas[i] = di;
</a><a href="#h22-0-163" id="h22-0-163" class="i">+
</a><a href="#h22-0-164" id="h22-0-164" class="i">+		delta = git_patch_get_delta(patch);
</a><a href="#h22-0-165" id="h22-0-165" class="i">+
</a><a href="#h22-0-166" id="h22-0-166" class="i">+		/* skip stats for binary data */
</a><a href="#h22-0-167" id="h22-0-167" class="i">+		if (delta-&gt;flags &amp; GIT_DIFF_FLAG_BINARY)
</a><a href="#h22-0-168" id="h22-0-168" class="i">+			continue;
</a><a href="#h22-0-169" id="h22-0-169" class="i">+
</a><a href="#h22-0-170" id="h22-0-170" class="i">+		nhunks = git_patch_num_hunks(patch);
</a><a href="#h22-0-171" id="h22-0-171" class="i">+		for (j = 0; j &lt; nhunks; j++) {
</a><a href="#h22-0-172" id="h22-0-172" class="i">+			if (git_patch_get_hunk(&amp;hunk, &amp;nhunklines, patch, j))
</a><a href="#h22-0-173" id="h22-0-173" class="i">+				break;
</a><a href="#h22-0-174" id="h22-0-174" class="i">+			for (k = 0; ; k++) {
</a><a href="#h22-0-175" id="h22-0-175" class="i">+				if (git_patch_get_line_in_hunk(&amp;line, patch, j, k))
</a><a href="#h22-0-176" id="h22-0-176" class="i">+					break;
</a><a href="#h22-0-177" id="h22-0-177" class="i">+				if (line-&gt;old_lineno == -1) {
</a><a href="#h22-0-178" id="h22-0-178" class="i">+					di-&gt;addcount++;
</a><a href="#h22-0-179" id="h22-0-179" class="i">+					ci-&gt;addcount++;
</a><a href="#h22-0-180" id="h22-0-180" class="i">+				} else if (line-&gt;new_lineno == -1) {
</a><a href="#h22-0-181" id="h22-0-181" class="i">+					di-&gt;delcount++;
</a><a href="#h22-0-182" id="h22-0-182" class="i">+					ci-&gt;delcount++;
</a><a href="#h22-0-183" id="h22-0-183" class="i">+				}
</a><a href="#h22-0-184" id="h22-0-184" class="i">+			}
</a><a href="#h22-0-185" id="h22-0-185" class="i">+		}
</a><a href="#h22-0-186" id="h22-0-186" class="i">+	}
</a><a href="#h22-0-187" id="h22-0-187" class="i">+	ci-&gt;ndeltas = i;
</a><a href="#h22-0-188" id="h22-0-188" class="i">+	ci-&gt;filecount = i;
</a><a href="#h22-0-189" id="h22-0-189" class="i">+
</a><a href="#h22-0-190" id="h22-0-190" class="i">+	return 0;
</a><a href="#h22-0-191" id="h22-0-191" class="i">+
</a><a href="#h22-0-192" id="h22-0-192" class="i">+err:
</a><a href="#h22-0-193" id="h22-0-193" class="i">+	git_diff_free(ci-&gt;diff);
</a><a href="#h22-0-194" id="h22-0-194" class="i">+	ci-&gt;diff = NULL;
</a><a href="#h22-0-195" id="h22-0-195" class="i">+	git_tree_free(ci-&gt;commit_tree);
</a><a href="#h22-0-196" id="h22-0-196" class="i">+	ci-&gt;commit_tree = NULL;
</a><a href="#h22-0-197" id="h22-0-197" class="i">+	git_tree_free(ci-&gt;parent_tree);
</a><a href="#h22-0-198" id="h22-0-198" class="i">+	ci-&gt;parent_tree = NULL;
</a><a href="#h22-0-199" id="h22-0-199" class="i">+	git_commit_free(ci-&gt;parent);
</a><a href="#h22-0-200" id="h22-0-200" class="i">+	ci-&gt;parent = NULL;
</a><a href="#h22-0-201" id="h22-0-201" class="i">+
</a><a href="#h22-0-202" id="h22-0-202" class="i">+	if (ci-&gt;deltas)
</a><a href="#h22-0-203" id="h22-0-203" class="i">+		for (i = 0; i &lt; ci-&gt;ndeltas; i++)
</a><a href="#h22-0-204" id="h22-0-204" class="i">+			deltainfo_free(ci-&gt;deltas[i]);
</a><a href="#h22-0-205" id="h22-0-205" class="i">+	free(ci-&gt;deltas);
</a><a href="#h22-0-206" id="h22-0-206" class="i">+	ci-&gt;deltas = NULL;
</a><a href="#h22-0-207" id="h22-0-207" class="i">+	ci-&gt;ndeltas = 0;
</a><a href="#h22-0-208" id="h22-0-208" class="i">+	ci-&gt;addcount = 0;
</a><a href="#h22-0-209" id="h22-0-209" class="i">+	ci-&gt;delcount = 0;
</a><a href="#h22-0-210" id="h22-0-210" class="i">+	ci-&gt;filecount = 0;
</a><a href="#h22-0-211" id="h22-0-211" class="i">+
</a><a href="#h22-0-212" id="h22-0-212" class="i">+	return -1;
</a><a href="#h22-0-213" id="h22-0-213" class="i">+}
</a><a href="#h22-0-214" id="h22-0-214" class="i">+
</a><a href="#h22-0-215" id="h22-0-215" class="i">+void
</a><a href="#h22-0-216" id="h22-0-216" class="i">+commitinfo_free(struct commitinfo *ci)
</a><a href="#h22-0-217" id="h22-0-217" class="i">+{
</a><a href="#h22-0-218" id="h22-0-218" class="i">+	size_t i;
</a><a href="#h22-0-219" id="h22-0-219" class="i">+
</a><a href="#h22-0-220" id="h22-0-220" class="i">+	if (!ci)
</a><a href="#h22-0-221" id="h22-0-221" class="i">+		return;
</a><a href="#h22-0-222" id="h22-0-222" class="i">+	if (ci-&gt;deltas)
</a><a href="#h22-0-223" id="h22-0-223" class="i">+		for (i = 0; i &lt; ci-&gt;ndeltas; i++)
</a><a href="#h22-0-224" id="h22-0-224" class="i">+			deltainfo_free(ci-&gt;deltas[i]);
</a><a href="#h22-0-225" id="h22-0-225" class="i">+
</a><a href="#h22-0-226" id="h22-0-226" class="i">+	free(ci-&gt;deltas);
</a><a href="#h22-0-227" id="h22-0-227" class="i">+	git_diff_free(ci-&gt;diff);
</a><a href="#h22-0-228" id="h22-0-228" class="i">+	git_tree_free(ci-&gt;commit_tree);
</a><a href="#h22-0-229" id="h22-0-229" class="i">+	git_tree_free(ci-&gt;parent_tree);
</a><a href="#h22-0-230" id="h22-0-230" class="i">+	git_commit_free(ci-&gt;commit);
</a><a href="#h22-0-231" id="h22-0-231" class="i">+	git_commit_free(ci-&gt;parent);
</a><a href="#h22-0-232" id="h22-0-232" class="i">+	memset(ci, 0, sizeof(*ci));
</a><a href="#h22-0-233" id="h22-0-233" class="i">+	free(ci);
</a><a href="#h22-0-234" id="h22-0-234" class="i">+}
</a><a href="#h22-0-235" id="h22-0-235" class="i">+
</a><a href="#h22-0-236" id="h22-0-236" class="i">+struct commitinfo *
</a><a href="#h22-0-237" id="h22-0-237" class="i">+commitinfo_getbyoid(const git_oid *id)
</a><a href="#h22-0-238" id="h22-0-238" class="i">+{
</a><a href="#h22-0-239" id="h22-0-239" class="i">+	struct commitinfo *ci;
</a><a href="#h22-0-240" id="h22-0-240" class="i">+
</a><a href="#h22-0-241" id="h22-0-241" class="i">+	if (!(ci = calloc(1, sizeof(struct commitinfo))))
</a><a href="#h22-0-242" id="h22-0-242" class="i">+		err(1, &quot;calloc&quot;);
</a><a href="#h22-0-243" id="h22-0-243" class="i">+
</a><a href="#h22-0-244" id="h22-0-244" class="i">+	if (git_commit_lookup(&amp;(ci-&gt;commit), repo, id))
</a><a href="#h22-0-245" id="h22-0-245" class="i">+		goto err;
</a><a href="#h22-0-246" id="h22-0-246" class="i">+	ci-&gt;id = id;
</a><a href="#h22-0-247" id="h22-0-247" class="i">+
</a><a href="#h22-0-248" id="h22-0-248" class="i">+	git_oid_tostr(ci-&gt;oid, sizeof(ci-&gt;oid), git_commit_id(ci-&gt;commit));
</a><a href="#h22-0-249" id="h22-0-249" class="i">+	git_oid_tostr(ci-&gt;parentoid, sizeof(ci-&gt;parentoid), git_commit_parent_id(ci-&gt;commit, 0));
</a><a href="#h22-0-250" id="h22-0-250" class="i">+
</a><a href="#h22-0-251" id="h22-0-251" class="i">+	ci-&gt;author = git_commit_author(ci-&gt;commit);
</a><a href="#h22-0-252" id="h22-0-252" class="i">+	ci-&gt;committer = git_commit_committer(ci-&gt;commit);
</a><a href="#h22-0-253" id="h22-0-253" class="i">+	ci-&gt;summary = git_commit_summary(ci-&gt;commit);
</a><a href="#h22-0-254" id="h22-0-254" class="i">+	ci-&gt;msg = git_commit_message(ci-&gt;commit);
</a><a href="#h22-0-255" id="h22-0-255" class="i">+
</a><a href="#h22-0-256" id="h22-0-256" class="i">+	return ci;
</a><a href="#h22-0-257" id="h22-0-257" class="i">+
</a><a href="#h22-0-258" id="h22-0-258" class="i">+err:
</a><a href="#h22-0-259" id="h22-0-259" class="i">+	commitinfo_free(ci);
</a><a href="#h22-0-260" id="h22-0-260" class="i">+
</a><a href="#h22-0-261" id="h22-0-261" class="i">+	return NULL;
</a><a href="#h22-0-262" id="h22-0-262" class="i">+}
</a><a href="#h22-0-263" id="h22-0-263" class="i">+
</a><a href="#h22-0-264" id="h22-0-264" class="i">+int
</a><a href="#h22-0-265" id="h22-0-265" class="i">+refs_cmp(const void *v1, const void *v2)
</a><a href="#h22-0-266" id="h22-0-266" class="i">+{
</a><a href="#h22-0-267" id="h22-0-267" class="i">+	const struct referenceinfo *r1 = v1, *r2 = v2;
</a><a href="#h22-0-268" id="h22-0-268" class="i">+	time_t t1, t2;
</a><a href="#h22-0-269" id="h22-0-269" class="i">+	int r;
</a><a href="#h22-0-270" id="h22-0-270" class="i">+
</a><a href="#h22-0-271" id="h22-0-271" class="i">+	if ((r = git_reference_is_tag(r1-&gt;ref) - git_reference_is_tag(r2-&gt;ref)))
</a><a href="#h22-0-272" id="h22-0-272" class="i">+		return r;
</a><a href="#h22-0-273" id="h22-0-273" class="i">+
</a><a href="#h22-0-274" id="h22-0-274" class="i">+	t1 = r1-&gt;ci-&gt;author ? r1-&gt;ci-&gt;author-&gt;when.time : 0;
</a><a href="#h22-0-275" id="h22-0-275" class="i">+	t2 = r2-&gt;ci-&gt;author ? r2-&gt;ci-&gt;author-&gt;when.time : 0;
</a><a href="#h22-0-276" id="h22-0-276" class="i">+	if ((r = t1 &gt; t2 ? -1 : (t1 == t2 ? 0 : 1)))
</a><a href="#h22-0-277" id="h22-0-277" class="i">+		return r;
</a><a href="#h22-0-278" id="h22-0-278" class="i">+
</a><a href="#h22-0-279" id="h22-0-279" class="i">+	return strcmp(git_reference_shorthand(r1-&gt;ref),
</a><a href="#h22-0-280" id="h22-0-280" class="i">+	              git_reference_shorthand(r2-&gt;ref));
</a><a href="#h22-0-281" id="h22-0-281" class="i">+}
</a><a href="#h22-0-282" id="h22-0-282" class="i">+
</a><a href="#h22-0-283" id="h22-0-283" class="i">+int
</a><a href="#h22-0-284" id="h22-0-284" class="i">+getrefs(struct referenceinfo **pris, size_t *prefcount)
</a><a href="#h22-0-285" id="h22-0-285" class="i">+{
</a><a href="#h22-0-286" id="h22-0-286" class="i">+	struct referenceinfo *ris = NULL;
</a><a href="#h22-0-287" id="h22-0-287" class="i">+	struct commitinfo *ci = NULL;
</a><a href="#h22-0-288" id="h22-0-288" class="i">+	git_reference_iterator *it = NULL;
</a><a href="#h22-0-289" id="h22-0-289" class="i">+	const git_oid *id = NULL;
</a><a href="#h22-0-290" id="h22-0-290" class="i">+	git_object *obj = NULL;
</a><a href="#h22-0-291" id="h22-0-291" class="i">+	git_reference *dref = NULL, *r, *ref = NULL;
</a><a href="#h22-0-292" id="h22-0-292" class="i">+	size_t i, refcount;
</a><a href="#h22-0-293" id="h22-0-293" class="i">+
</a><a href="#h22-0-294" id="h22-0-294" class="i">+	*pris = NULL;
</a><a href="#h22-0-295" id="h22-0-295" class="i">+	*prefcount = 0;
</a><a href="#h22-0-296" id="h22-0-296" class="i">+
</a><a href="#h22-0-297" id="h22-0-297" class="i">+	if (git_reference_iterator_new(&amp;it, repo))
</a><a href="#h22-0-298" id="h22-0-298" class="i">+		return -1;
</a><a href="#h22-0-299" id="h22-0-299" class="i">+
</a><a href="#h22-0-300" id="h22-0-300" class="i">+	for (refcount = 0; !git_reference_next(&amp;ref, it); ) {
</a><a href="#h22-0-301" id="h22-0-301" class="i">+		if (!git_reference_is_branch(ref) &amp;&amp; !git_reference_is_tag(ref)) {
</a><a href="#h22-0-302" id="h22-0-302" class="i">+			git_reference_free(ref);
</a><a href="#h22-0-303" id="h22-0-303" class="i">+			ref = NULL;
</a><a href="#h22-0-304" id="h22-0-304" class="i">+			continue;
</a><a href="#h22-0-305" id="h22-0-305" class="i">+		}
</a><a href="#h22-0-306" id="h22-0-306" class="i">+
</a><a href="#h22-0-307" id="h22-0-307" class="i">+		switch (git_reference_type(ref)) {
</a><a href="#h22-0-308" id="h22-0-308" class="i">+		case GIT_REF_SYMBOLIC:
</a><a href="#h22-0-309" id="h22-0-309" class="i">+			if (git_reference_resolve(&amp;dref, ref))
</a><a href="#h22-0-310" id="h22-0-310" class="i">+				goto err;
</a><a href="#h22-0-311" id="h22-0-311" class="i">+			r = dref;
</a><a href="#h22-0-312" id="h22-0-312" class="i">+			break;
</a><a href="#h22-0-313" id="h22-0-313" class="i">+		case GIT_REF_OID:
</a><a href="#h22-0-314" id="h22-0-314" class="i">+			r = ref;
</a><a href="#h22-0-315" id="h22-0-315" class="i">+			break;
</a><a href="#h22-0-316" id="h22-0-316" class="i">+		default:
</a><a href="#h22-0-317" id="h22-0-317" class="i">+			continue;
</a><a href="#h22-0-318" id="h22-0-318" class="i">+		}
</a><a href="#h22-0-319" id="h22-0-319" class="i">+		if (!git_reference_target(r) ||
</a><a href="#h22-0-320" id="h22-0-320" class="i">+		    git_reference_peel(&amp;obj, r, GIT_OBJ_ANY))
</a><a href="#h22-0-321" id="h22-0-321" class="i">+			goto err;
</a><a href="#h22-0-322" id="h22-0-322" class="i">+		if (!(id = git_object_id(obj)))
</a><a href="#h22-0-323" id="h22-0-323" class="i">+			goto err;
</a><a href="#h22-0-324" id="h22-0-324" class="i">+		if (!(ci = commitinfo_getbyoid(id)))
</a><a href="#h22-0-325" id="h22-0-325" class="i">+			break;
</a><a href="#h22-0-326" id="h22-0-326" class="i">+
</a><a href="#h22-0-327" id="h22-0-327" class="i">+		if (!(ris = reallocarray(ris, refcount + 1, sizeof(*ris))))
</a><a href="#h22-0-328" id="h22-0-328" class="i">+			err(1, &quot;realloc&quot;);
</a><a href="#h22-0-329" id="h22-0-329" class="i">+		ris[refcount].ci = ci;
</a><a href="#h22-0-330" id="h22-0-330" class="i">+		ris[refcount].ref = r;
</a><a href="#h22-0-331" id="h22-0-331" class="i">+		refcount++;
</a><a href="#h22-0-332" id="h22-0-332" class="i">+
</a><a href="#h22-0-333" id="h22-0-333" class="i">+		git_object_free(obj);
</a><a href="#h22-0-334" id="h22-0-334" class="i">+		obj = NULL;
</a><a href="#h22-0-335" id="h22-0-335" class="i">+		git_reference_free(dref);
</a><a href="#h22-0-336" id="h22-0-336" class="i">+		dref = NULL;
</a><a href="#h22-0-337" id="h22-0-337" class="i">+	}
</a><a href="#h22-0-338" id="h22-0-338" class="i">+	git_reference_iterator_free(it);
</a><a href="#h22-0-339" id="h22-0-339" class="i">+
</a><a href="#h22-0-340" id="h22-0-340" class="i">+	/* sort by type, date then shorthand name */
</a><a href="#h22-0-341" id="h22-0-341" class="i">+	qsort(ris, refcount, sizeof(*ris), refs_cmp);
</a><a href="#h22-0-342" id="h22-0-342" class="i">+
</a><a href="#h22-0-343" id="h22-0-343" class="i">+	*pris = ris;
</a><a href="#h22-0-344" id="h22-0-344" class="i">+	*prefcount = refcount;
</a><a href="#h22-0-345" id="h22-0-345" class="i">+
</a><a href="#h22-0-346" id="h22-0-346" class="i">+	return 0;
</a><a href="#h22-0-347" id="h22-0-347" class="i">+
</a><a href="#h22-0-348" id="h22-0-348" class="i">+err:
</a><a href="#h22-0-349" id="h22-0-349" class="i">+	git_object_free(obj);
</a><a href="#h22-0-350" id="h22-0-350" class="i">+	git_reference_free(dref);
</a><a href="#h22-0-351" id="h22-0-351" class="i">+	commitinfo_free(ci);
</a><a href="#h22-0-352" id="h22-0-352" class="i">+	for (i = 0; i &lt; refcount; i++) {
</a><a href="#h22-0-353" id="h22-0-353" class="i">+		commitinfo_free(ris[i].ci);
</a><a href="#h22-0-354" id="h22-0-354" class="i">+		git_reference_free(ris[i].ref);
</a><a href="#h22-0-355" id="h22-0-355" class="i">+	}
</a><a href="#h22-0-356" id="h22-0-356" class="i">+	free(ris);
</a><a href="#h22-0-357" id="h22-0-357" class="i">+
</a><a href="#h22-0-358" id="h22-0-358" class="i">+	return -1;
</a><a href="#h22-0-359" id="h22-0-359" class="i">+}
</a><a href="#h22-0-360" id="h22-0-360" class="i">+
</a><a href="#h22-0-361" id="h22-0-361" class="i">+FILE *
</a><a href="#h22-0-362" id="h22-0-362" class="i">+efopen(const char *filename, const char *flags)
</a><a href="#h22-0-363" id="h22-0-363" class="i">+{
</a><a href="#h22-0-364" id="h22-0-364" class="i">+	FILE *fp;
</a><a href="#h22-0-365" id="h22-0-365" class="i">+
</a><a href="#h22-0-366" id="h22-0-366" class="i">+	if (!(fp = fopen(filename, flags)))
</a><a href="#h22-0-367" id="h22-0-367" class="i">+		err(1, &quot;fopen: &#39;%s&#39;&quot;, filename);
</a><a href="#h22-0-368" id="h22-0-368" class="i">+
</a><a href="#h22-0-369" id="h22-0-369" class="i">+	return fp;
</a><a href="#h22-0-370" id="h22-0-370" class="i">+}
</a><a href="#h22-0-371" id="h22-0-371" class="i">+
</a><a href="#h22-0-372" id="h22-0-372" class="i">+/* Percent-encode, see RFC3986 section 2.1. */
</a><a href="#h22-0-373" id="h22-0-373" class="i">+void
</a><a href="#h22-0-374" id="h22-0-374" class="i">+percentencode(FILE *fp, const char *s, size_t len)
</a><a href="#h22-0-375" id="h22-0-375" class="i">+{
</a><a href="#h22-0-376" id="h22-0-376" class="i">+	static char tab[] = &quot;0123456789ABCDEF&quot;;
</a><a href="#h22-0-377" id="h22-0-377" class="i">+	unsigned char uc;
</a><a href="#h22-0-378" id="h22-0-378" class="i">+	size_t i;
</a><a href="#h22-0-379" id="h22-0-379" class="i">+
</a><a href="#h22-0-380" id="h22-0-380" class="i">+	for (i = 0; *s &amp;&amp; i &lt; len; s++, i++) {
</a><a href="#h22-0-381" id="h22-0-381" class="i">+		uc = *s;
</a><a href="#h22-0-382" id="h22-0-382" class="i">+		/* NOTE: do not encode &#39;/&#39; for paths or &quot;,-.&quot; */
</a><a href="#h22-0-383" id="h22-0-383" class="i">+		if (uc &lt; &#39;,&#39; || uc &gt;= 127 || (uc &gt;= &#39;:&#39; &amp;&amp; uc &lt;= &#39;@&#39;) ||
</a><a href="#h22-0-384" id="h22-0-384" class="i">+		    uc == &#39;[&#39; || uc == &#39;]&#39;) {
</a><a href="#h22-0-385" id="h22-0-385" class="i">+			putc(&#39;%&#39;, fp);
</a><a href="#h22-0-386" id="h22-0-386" class="i">+			putc(tab[(uc &gt;&gt; 4) &amp; 0x0f], fp);
</a><a href="#h22-0-387" id="h22-0-387" class="i">+			putc(tab[uc &amp; 0x0f], fp);
</a><a href="#h22-0-388" id="h22-0-388" class="i">+		} else {
</a><a href="#h22-0-389" id="h22-0-389" class="i">+			putc(uc, fp);
</a><a href="#h22-0-390" id="h22-0-390" class="i">+		}
</a><a href="#h22-0-391" id="h22-0-391" class="i">+	}
</a><a href="#h22-0-392" id="h22-0-392" class="i">+}
</a><a href="#h22-0-393" id="h22-0-393" class="i">+
</a><a href="#h22-0-394" id="h22-0-394" class="i">+/* Escape characters below as HTML 2.0 / XML 1.0. */
</a><a href="#h22-0-395" id="h22-0-395" class="i">+void
</a><a href="#h22-0-396" id="h22-0-396" class="i">+xmlencode(FILE *fp, const char *s, size_t len)
</a><a href="#h22-0-397" id="h22-0-397" class="i">+{
</a><a href="#h22-0-398" id="h22-0-398" class="i">+	size_t i;
</a><a href="#h22-0-399" id="h22-0-399" class="i">+
</a><a href="#h22-0-400" id="h22-0-400" class="i">+	for (i = 0; *s &amp;&amp; i &lt; len; s++, i++) {
</a><a href="#h22-0-401" id="h22-0-401" class="i">+		switch(*s) {
</a><a href="#h22-0-402" id="h22-0-402" class="i">+		case &#39;&lt;&#39;:  fputs(&quot;&amp;lt;&quot;,   fp); break;
</a><a href="#h22-0-403" id="h22-0-403" class="i">+		case &#39;&gt;&#39;:  fputs(&quot;&amp;gt;&quot;,   fp); break;
</a><a href="#h22-0-404" id="h22-0-404" class="i">+		case &#39;\&#39;&#39;: fputs(&quot;&amp;#39;&quot;,  fp); break;
</a><a href="#h22-0-405" id="h22-0-405" class="i">+		case &#39;&amp;&#39;:  fputs(&quot;&amp;amp;&quot;,  fp); break;
</a><a href="#h22-0-406" id="h22-0-406" class="i">+		case &#39;&quot;&#39;:  fputs(&quot;&amp;quot;&quot;, fp); break;
</a><a href="#h22-0-407" id="h22-0-407" class="i">+		default:   putc(*s, fp);
</a><a href="#h22-0-408" id="h22-0-408" class="i">+		}
</a><a href="#h22-0-409" id="h22-0-409" class="i">+	}
</a><a href="#h22-0-410" id="h22-0-410" class="i">+}
</a><a href="#h22-0-411" id="h22-0-411" class="i">+
</a><a href="#h22-0-412" id="h22-0-412" class="i">+/* Escape characters below as HTML 2.0 / XML 1.0, ignore printing &#39;\r&#39;, &#39;\n&#39; */
</a><a href="#h22-0-413" id="h22-0-413" class="i">+void
</a><a href="#h22-0-414" id="h22-0-414" class="i">+xmlencodeline(FILE *fp, const char *s, size_t len)
</a><a href="#h22-0-415" id="h22-0-415" class="i">+{
</a><a href="#h22-0-416" id="h22-0-416" class="i">+	size_t i;
</a><a href="#h22-0-417" id="h22-0-417" class="i">+
</a><a href="#h22-0-418" id="h22-0-418" class="i">+	for (i = 0; *s &amp;&amp; i &lt; len; s++, i++) {
</a><a href="#h22-0-419" id="h22-0-419" class="i">+		switch(*s) {
</a><a href="#h22-0-420" id="h22-0-420" class="i">+		case &#39;&lt;&#39;:  fputs(&quot;&amp;lt;&quot;,   fp); break;
</a><a href="#h22-0-421" id="h22-0-421" class="i">+		case &#39;&gt;&#39;:  fputs(&quot;&amp;gt;&quot;,   fp); break;
</a><a href="#h22-0-422" id="h22-0-422" class="i">+		case &#39;\&#39;&#39;: fputs(&quot;&amp;#39;&quot;,  fp); break;
</a><a href="#h22-0-423" id="h22-0-423" class="i">+		case &#39;&amp;&#39;:  fputs(&quot;&amp;amp;&quot;,  fp); break;
</a><a href="#h22-0-424" id="h22-0-424" class="i">+		case &#39;&quot;&#39;:  fputs(&quot;&amp;quot;&quot;, fp); break;
</a><a href="#h22-0-425" id="h22-0-425" class="i">+		case &#39;\r&#39;: break; /* ignore CR */
</a><a href="#h22-0-426" id="h22-0-426" class="i">+		case &#39;\n&#39;: break; /* ignore LF */
</a><a href="#h22-0-427" id="h22-0-427" class="i">+		default:   putc(*s, fp);
</a><a href="#h22-0-428" id="h22-0-428" class="i">+		}
</a><a href="#h22-0-429" id="h22-0-429" class="i">+	}
</a><a href="#h22-0-430" id="h22-0-430" class="i">+}
</a><a href="#h22-0-431" id="h22-0-431" class="i">+
</a><a href="#h22-0-432" id="h22-0-432" class="i">+int
</a><a href="#h22-0-433" id="h22-0-433" class="i">+mkdirp(const char *path)
</a><a href="#h22-0-434" id="h22-0-434" class="i">+{
</a><a href="#h22-0-435" id="h22-0-435" class="i">+	char tmp[PATH_MAX], *p;
</a><a href="#h22-0-436" id="h22-0-436" class="i">+
</a><a href="#h22-0-437" id="h22-0-437" class="i">+	if (strlcpy(tmp, path, sizeof(tmp)) &gt;= sizeof(tmp))
</a><a href="#h22-0-438" id="h22-0-438" class="i">+		errx(1, &quot;path truncated: &#39;%s&#39;&quot;, path);
</a><a href="#h22-0-439" id="h22-0-439" class="i">+	for (p = tmp + (tmp[0] == &#39;/&#39;); *p; p++) {
</a><a href="#h22-0-440" id="h22-0-440" class="i">+		if (*p != &#39;/&#39;)
</a><a href="#h22-0-441" id="h22-0-441" class="i">+			continue;
</a><a href="#h22-0-442" id="h22-0-442" class="i">+		*p = &#39;\0&#39;;
</a><a href="#h22-0-443" id="h22-0-443" class="i">+		if (mkdir(tmp, S_IRWXU | S_IRWXG | S_IRWXO) &lt; 0 &amp;&amp; errno != EEXIST)
</a><a href="#h22-0-444" id="h22-0-444" class="i">+			return -1;
</a><a href="#h22-0-445" id="h22-0-445" class="i">+		*p = &#39;/&#39;;
</a><a href="#h22-0-446" id="h22-0-446" class="i">+	}
</a><a href="#h22-0-447" id="h22-0-447" class="i">+	if (mkdir(tmp, S_IRWXU | S_IRWXG | S_IRWXO) &lt; 0 &amp;&amp; errno != EEXIST)
</a><a href="#h22-0-448" id="h22-0-448" class="i">+		return -1;
</a><a href="#h22-0-449" id="h22-0-449" class="i">+	return 0;
</a><a href="#h22-0-450" id="h22-0-450" class="i">+}
</a><a href="#h22-0-451" id="h22-0-451" class="i">+
</a><a href="#h22-0-452" id="h22-0-452" class="i">+void
</a><a href="#h22-0-453" id="h22-0-453" class="i">+printtimez(FILE *fp, const git_time *intime)
</a><a href="#h22-0-454" id="h22-0-454" class="i">+{
</a><a href="#h22-0-455" id="h22-0-455" class="i">+	struct tm *intm;
</a><a href="#h22-0-456" id="h22-0-456" class="i">+	time_t t;
</a><a href="#h22-0-457" id="h22-0-457" class="i">+	char out[32];
</a><a href="#h22-0-458" id="h22-0-458" class="i">+
</a><a href="#h22-0-459" id="h22-0-459" class="i">+	t = (time_t)intime-&gt;time;
</a><a href="#h22-0-460" id="h22-0-460" class="i">+	if (!(intm = gmtime(&amp;t)))
</a><a href="#h22-0-461" id="h22-0-461" class="i">+		return;
</a><a href="#h22-0-462" id="h22-0-462" class="i">+	strftime(out, sizeof(out), &quot;%Y-%m-%dT%H:%M:%SZ&quot;, intm);
</a><a href="#h22-0-463" id="h22-0-463" class="i">+	fputs(out, fp);
</a><a href="#h22-0-464" id="h22-0-464" class="i">+}
</a><a href="#h22-0-465" id="h22-0-465" class="i">+
</a><a href="#h22-0-466" id="h22-0-466" class="i">+void
</a><a href="#h22-0-467" id="h22-0-467" class="i">+printtime(FILE *fp, const git_time *intime)
</a><a href="#h22-0-468" id="h22-0-468" class="i">+{
</a><a href="#h22-0-469" id="h22-0-469" class="i">+	struct tm *intm;
</a><a href="#h22-0-470" id="h22-0-470" class="i">+	time_t t;
</a><a href="#h22-0-471" id="h22-0-471" class="i">+	char out[32];
</a><a href="#h22-0-472" id="h22-0-472" class="i">+
</a><a href="#h22-0-473" id="h22-0-473" class="i">+	t = (time_t)intime-&gt;time + (intime-&gt;offset * 60);
</a><a href="#h22-0-474" id="h22-0-474" class="i">+	if (!(intm = gmtime(&amp;t)))
</a><a href="#h22-0-475" id="h22-0-475" class="i">+		return;
</a><a href="#h22-0-476" id="h22-0-476" class="i">+	strftime(out, sizeof(out), &quot;%a, %e %b %Y %H:%M:%S&quot;, intm);
</a><a href="#h22-0-477" id="h22-0-477" class="i">+	if (intime-&gt;offset &lt; 0)
</a><a href="#h22-0-478" id="h22-0-478" class="i">+		fprintf(fp, &quot;%s -%02d%02d&quot;, out,
</a><a href="#h22-0-479" id="h22-0-479" class="i">+		            -(intime-&gt;offset) / 60, -(intime-&gt;offset) % 60);
</a><a href="#h22-0-480" id="h22-0-480" class="i">+	else
</a><a href="#h22-0-481" id="h22-0-481" class="i">+		fprintf(fp, &quot;%s +%02d%02d&quot;, out,
</a><a href="#h22-0-482" id="h22-0-482" class="i">+		            intime-&gt;offset / 60, intime-&gt;offset % 60);
</a><a href="#h22-0-483" id="h22-0-483" class="i">+}
</a><a href="#h22-0-484" id="h22-0-484" class="i">+
</a><a href="#h22-0-485" id="h22-0-485" class="i">+void
</a><a href="#h22-0-486" id="h22-0-486" class="i">+printtimeshort(FILE *fp, const git_time *intime)
</a><a href="#h22-0-487" id="h22-0-487" class="i">+{
</a><a href="#h22-0-488" id="h22-0-488" class="i">+	struct tm *intm;
</a><a href="#h22-0-489" id="h22-0-489" class="i">+	time_t t;
</a><a href="#h22-0-490" id="h22-0-490" class="i">+	char out[32];
</a><a href="#h22-0-491" id="h22-0-491" class="i">+
</a><a href="#h22-0-492" id="h22-0-492" class="i">+	t = (time_t)intime-&gt;time;
</a><a href="#h22-0-493" id="h22-0-493" class="i">+	if (!(intm = gmtime(&amp;t)))
</a><a href="#h22-0-494" id="h22-0-494" class="i">+		return;
</a><a href="#h22-0-495" id="h22-0-495" class="i">+	strftime(out, sizeof(out), &quot;%Y-%m-%d %H:%M&quot;, intm);
</a><a href="#h22-0-496" id="h22-0-496" class="i">+	fputs(out, fp);
</a><a href="#h22-0-497" id="h22-0-497" class="i">+}
</a><a href="#h22-0-498" id="h22-0-498" class="i">+
</a><a href="#h22-0-499" id="h22-0-499" class="i">+void
</a><a href="#h22-0-500" id="h22-0-500" class="i">+writeheader(FILE *fp, const char *title)
</a><a href="#h22-0-501" id="h22-0-501" class="i">+{
</a><a href="#h22-0-502" id="h22-0-502" class="i">+	fputs(&quot;&lt;!DOCTYPE html&gt;\n&quot;
</a><a href="#h22-0-503" id="h22-0-503" class="i">+		&quot;&lt;html lang=\&quot;en\&quot;&gt;\n&lt;head&gt;\n&quot;
</a><a href="#h22-0-504" id="h22-0-504" class="i">+		&quot;&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=UTF-8\&quot; /&gt;\n&quot;
</a><a href="#h22-0-505" id="h22-0-505" class="i">+		&quot;&lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1\&quot; /&gt;\n&quot;
</a><a href="#h22-0-506" id="h22-0-506" class="i">+		&quot;&lt;title&gt;&quot;, fp);
</a><a href="#h22-0-507" id="h22-0-507" class="i">+	xmlencode(fp, title, strlen(title));
</a><a href="#h22-0-508" id="h22-0-508" class="i">+	if (title[0] &amp;&amp; strippedname[0])
</a><a href="#h22-0-509" id="h22-0-509" class="i">+		fputs(&quot; - &quot;, fp);
</a><a href="#h22-0-510" id="h22-0-510" class="i">+	xmlencode(fp, strippedname, strlen(strippedname));
</a><a href="#h22-0-511" id="h22-0-511" class="i">+	if (description[0])
</a><a href="#h22-0-512" id="h22-0-512" class="i">+		fputs(&quot; - &quot;, fp);
</a><a href="#h22-0-513" id="h22-0-513" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h22-0-514" id="h22-0-514" class="i">+	fprintf(fp, &quot;&lt;/title&gt;\n&lt;link rel=\&quot;icon\&quot; type=\&quot;image/png\&quot; href=\&quot;%sfavicon.png\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h22-0-515" id="h22-0-515" class="i">+	fputs(&quot;&lt;link rel=\&quot;alternate\&quot; type=\&quot;application/atom+xml\&quot; title=\&quot;&quot;, fp);
</a><a href="#h22-0-516" id="h22-0-516" class="i">+	xmlencode(fp, name, strlen(name));
</a><a href="#h22-0-517" id="h22-0-517" class="i">+	fprintf(fp, &quot; Atom Feed\&quot; href=\&quot;%satom.xml\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h22-0-518" id="h22-0-518" class="i">+	fputs(&quot;&lt;link rel=\&quot;alternate\&quot; type=\&quot;application/atom+xml\&quot; title=\&quot;&quot;, fp);
</a><a href="#h22-0-519" id="h22-0-519" class="i">+	xmlencode(fp, name, strlen(name));
</a><a href="#h22-0-520" id="h22-0-520" class="i">+	fprintf(fp, &quot; Atom Feed (tags)\&quot; href=\&quot;%stags.xml\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h22-0-521" id="h22-0-521" class="i">+	fprintf(fp, &quot;&lt;link rel=\&quot;stylesheet\&quot; type=\&quot;text/css\&quot; href=\&quot;%sstyle.css\&quot; /&gt;\n&quot;, relpath);
</a><a href="#h22-0-522" id="h22-0-522" class="i">+
</a><a href="#h22-0-523" id="h22-0-523" class="i">+	/*
</a><a href="#h22-0-524" id="h22-0-524" class="i">+	 * add font and script for syntax highlighting
</a><a href="#h22-0-525" id="h22-0-525" class="i">+	 */
</a><a href="#h22-0-526" id="h22-0-526" class="i">+
</a><a href="#h22-0-527" id="h22-0-527" class="i">+	fputs(&quot;&lt;link rel=\&quot;preconnect\&quot; href=\&quot;https://fonts.googleapis.com\&quot;&gt;\n&quot;, fp);
</a><a href="#h22-0-528" id="h22-0-528" class="i">+
</a><a href="#h22-0-529" id="h22-0-529" class="i">+	fputs(&quot;&lt;link rel=\&quot;preconnect\&quot; href=\&quot;https://fonts.gstatic.com\&quot; crossorigin&gt;\n&quot;, fp);
</a><a href="#h22-0-530" id="h22-0-530" class="i">+
</a><a href="#h22-0-531" id="h22-0-531" class="i">+	fputs(&quot;&lt;link href=\&quot;https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&amp;display=swap\&quot; rel=\&quot;stylesheet\&quot;&gt;\n&quot;,fp);
</a><a href="#h22-0-532" id="h22-0-532" class="i">+
</a><a href="#h22-0-533" id="h22-0-533" class="i">+	/*
</a><a href="#h22-0-534" id="h22-0-534" class="i">+	 * syntax highlight
</a><a href="#h22-0-535" id="h22-0-535" class="i">+	 */
</a><a href="#h22-0-536" id="h22-0-536" class="i">+	fputs(&quot;&lt;link rel=\&quot;stylesheet\&quot; href=\&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/tender.css\&quot;&gt;\n&quot;, fp);
</a><a href="#h22-0-537" id="h22-0-537" class="i">+
</a><a href="#h22-0-538" id="h22-0-538" class="i">+	fputs(&quot;&lt;script src=\&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js\&quot;&gt;&lt;/script&gt;\n&quot;, fp);
</a><a href="#h22-0-539" id="h22-0-539" class="i">+
</a><a href="#h22-0-540" id="h22-0-540" class="i">+	fputs(&quot;&lt;script src=\&quot;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js\&quot;&gt;&lt;/script&gt;\n&quot;, fp);
</a><a href="#h22-0-541" id="h22-0-541" class="i">+
</a><a href="#h22-0-542" id="h22-0-542" class="i">+	fputs(&quot;&lt;script&gt;\n&quot;
</a><a href="#h22-0-543" id="h22-0-543" class="i">+		&quot;hljs.highlightAll();\n&quot;
</a><a href="#h22-0-544" id="h22-0-544" class="i">+		&quot;&lt;/script&gt;\n&quot;, fp);
</a><a href="#h22-0-545" id="h22-0-545" class="i">+	
</a><a href="#h22-0-546" id="h22-0-546" class="i">+	// for fixing the nextline issues
</a><a href="#h22-0-547" id="h22-0-547" class="i">+	fputs(&quot;&lt;style&gt;pre code.hljs {display: inline;padding: 0;} code.hljs {padding: 0;} .hljs {background: initial;} .hljs-comment{color: rgb(96, 96, 96);}&lt;/style&gt;&quot;, fp);
</a><a href="#h22-0-548" id="h22-0-548" class="i">+	// Doesnt make sense to change these properties, insted, change
</a><a href="#h22-0-549" id="h22-0-549" class="i">+	// your style.css to match the theme
</a><a href="#h22-0-550" id="h22-0-550" class="i">+	// .hljs::selection, .hljs ::selection {background-color: initial;}
</a><a href="#h22-0-551" id="h22-0-551" class="i">+
</a><a href="#h22-0-552" id="h22-0-552" class="i">+	fputs(&quot;&lt;/head&gt;\n&lt;body&gt;\n&lt;table&gt;&lt;tr&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-553" id="h22-0-553" class="i">+	fprintf(fp, &quot;&lt;a href=\&quot;../%s\&quot;&gt;&lt;img src=\&quot;%slogo.png\&quot; alt=\&quot;\&quot; width=\&quot;32\&quot; height=\&quot;32\&quot; /&gt;&lt;/a&gt;&quot;,
</a><a href="#h22-0-554" id="h22-0-554" class="i">+	        relpath, relpath);
</a><a href="#h22-0-555" id="h22-0-555" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td&gt;&lt;h1&gt;&quot;, fp);
</a><a href="#h22-0-556" id="h22-0-556" class="i">+	xmlencode(fp, strippedname, strlen(strippedname));
</a><a href="#h22-0-557" id="h22-0-557" class="i">+	fputs(&quot;&lt;/h1&gt;&lt;span class=\&quot;desc\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-558" id="h22-0-558" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h22-0-559" id="h22-0-559" class="i">+	fputs(&quot;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&quot;, fp);
</a><a href="#h22-0-560" id="h22-0-560" class="i">+	if (cloneurl[0]) {
</a><a href="#h22-0-561" id="h22-0-561" class="i">+		fputs(&quot;&lt;tr class=\&quot;url\&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;git clone &lt;a href=\&quot;&quot;, fp);
</a><a href="#h22-0-562" id="h22-0-562" class="i">+		xmlencode(fp, cloneurl, strlen(cloneurl)); /* not percent-encoded */
</a><a href="#h22-0-563" id="h22-0-563" class="i">+		fputs(&quot;\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-564" id="h22-0-564" class="i">+		xmlencode(fp, cloneurl, strlen(cloneurl));
</a><a href="#h22-0-565" id="h22-0-565" class="i">+		fputs(&quot;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&quot;, fp);
</a><a href="#h22-0-566" id="h22-0-566" class="i">+	}
</a><a href="#h22-0-567" id="h22-0-567" class="i">+	fputs(&quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;\n&quot;, fp);
</a><a href="#h22-0-568" id="h22-0-568" class="i">+	/*
</a><a href="#h22-0-569" id="h22-0-569" class="i">+	 * more space before files, log etc.
</a><a href="#h22-0-570" id="h22-0-570" class="i">+	 */
</a><a href="#h22-0-571" id="h22-0-571" class="i">+	fputs(&quot;&lt;br&gt;\n&quot;, fp);
</a><a href="#h22-0-572" id="h22-0-572" class="i">+	fprintf(fp, &quot;&lt;a href=\&quot;%slog.html\&quot;&gt;Log&lt;/a&gt; | &quot;, relpath);
</a><a href="#h22-0-573" id="h22-0-573" class="i">+	fprintf(fp, &quot;&lt;a href=\&quot;%sfiles.html\&quot;&gt;Files&lt;/a&gt; | &quot;, relpath);
</a><a href="#h22-0-574" id="h22-0-574" class="i">+	fprintf(fp, &quot;&lt;a href=\&quot;%srefs.html\&quot;&gt;Refs&lt;/a&gt;&quot;, relpath);
</a><a href="#h22-0-575" id="h22-0-575" class="i">+	if (submodules)
</a><a href="#h22-0-576" id="h22-0-576" class="i">+		fprintf(fp, &quot; | &lt;a href=\&quot;%sfile/%s.html\&quot;&gt;Submodules&lt;/a&gt;&quot;,
</a><a href="#h22-0-577" id="h22-0-577" class="i">+		        relpath, submodules);
</a><a href="#h22-0-578" id="h22-0-578" class="i">+	if (readme)
</a><a href="#h22-0-579" id="h22-0-579" class="i">+		fprintf(fp, &quot; | &lt;a href=\&quot;%sfile/%s.html\&quot;&gt;README&lt;/a&gt;&quot;,
</a><a href="#h22-0-580" id="h22-0-580" class="i">+		        relpath, readme);
</a><a href="#h22-0-581" id="h22-0-581" class="i">+	if (license)
</a><a href="#h22-0-582" id="h22-0-582" class="i">+		fprintf(fp, &quot; | &lt;a href=\&quot;%sfile/%s.html\&quot;&gt;LICENSE&lt;/a&gt;&quot;,
</a><a href="#h22-0-583" id="h22-0-583" class="i">+		        relpath, license);
</a><a href="#h22-0-584" id="h22-0-584" class="i">+	fputs(&quot;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n&lt;hr/&gt;\n&lt;div id=\&quot;content\&quot;&gt;\n&quot;, fp);
</a><a href="#h22-0-585" id="h22-0-585" class="i">+}
</a><a href="#h22-0-586" id="h22-0-586" class="i">+
</a><a href="#h22-0-587" id="h22-0-587" class="i">+void
</a><a href="#h22-0-588" id="h22-0-588" class="i">+writefooter(FILE *fp)
</a><a href="#h22-0-589" id="h22-0-589" class="i">+{
</a><a href="#h22-0-590" id="h22-0-590" class="i">+	fputs(&quot;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&quot;, fp);
</a><a href="#h22-0-591" id="h22-0-591" class="i">+}
</a><a href="#h22-0-592" id="h22-0-592" class="i">+
</a><a href="#h22-0-593" id="h22-0-593" class="i">+/*
</a><a href="#h22-0-594" id="h22-0-594" class="i">+ *  added parameter filename, so the &lt;code class=?&gt; can be determined
</a><a href="#h22-0-595" id="h22-0-595" class="i">+ */
</a><a href="#h22-0-596" id="h22-0-596" class="i">+size_t
</a><a href="#h22-0-597" id="h22-0-597" class="i">+writeblobhtml(FILE *fp, const git_blob *blob, char* filename)
</a><a href="#h22-0-598" id="h22-0-598" class="i">+{
</a><a href="#h22-0-599" id="h22-0-599" class="i">+	size_t n = 0, i, len, prev;
</a><a href="#h22-0-600" id="h22-0-600" class="i">+	const char *nfmt_old = &quot;&lt;a href=\&quot;#l%zu\&quot; class=\&quot;line\&quot; id=\&quot;l%zu\&quot;&gt;%7zu&lt;/a&gt;&quot;; //removed &lt;code&gt; here
</a><a href="#h22-0-601" id="h22-0-601" class="i">+	const char *s = git_blob_rawcontent(blob);
</a><a href="#h22-0-602" id="h22-0-602" class="i">+
</a><a href="#h22-0-603" id="h22-0-603" class="i">+	len = git_blob_rawsize(blob);
</a><a href="#h22-0-604" id="h22-0-604" class="i">+	fputs(&quot;&lt;pre id=\&quot;blob\&quot;&gt;\n&quot;, fp);
</a><a href="#h22-0-605" id="h22-0-605" class="i">+	//fputs(&quot;&lt;code&gt;\n&quot;, fp);
</a><a href="#h22-0-606" id="h22-0-606" class="i">+	
</a><a href="#h22-0-607" id="h22-0-607" class="i">+	char *language = (char *) malloc( strlen(filename) + 20 );
</a><a href="#h22-0-608" id="h22-0-608" class="i">+	if (!language)
</a><a href="#h22-0-609" id="h22-0-609" class="i">+		return 30;
</a><a href="#h22-0-610" id="h22-0-610" class="i">+
</a><a href="#h22-0-611" id="h22-0-611" class="i">+	// TODO the language should contain the actual language
</a><a href="#h22-0-612" id="h22-0-612" class="i">+
</a><a href="#h22-0-613" id="h22-0-613" class="i">+	sprintf(language, &quot;&lt;code class=\&quot;language-%s\&quot;&gt; &quot;, filename);
</a><a href="#h22-0-614" id="h22-0-614" class="i">+	char *nfmt = (char *) malloc( strlen(nfmt_old) + strlen(language) + 1);
</a><a href="#h22-0-615" id="h22-0-615" class="i">+	strcpy(nfmt, nfmt_old);
</a><a href="#h22-0-616" id="h22-0-616" class="i">+	strcat(nfmt, language);
</a><a href="#h22-0-617" id="h22-0-617" class="i">+
</a><a href="#h22-0-618" id="h22-0-618" class="i">+	if (len &gt; 0) {
</a><a href="#h22-0-619" id="h22-0-619" class="i">+		for (i = 0, prev = 0; i &lt; len; i++) {
</a><a href="#h22-0-620" id="h22-0-620" class="i">+			if (s[i] != &#39;\n&#39;)
</a><a href="#h22-0-621" id="h22-0-621" class="i">+				continue;
</a><a href="#h22-0-622" id="h22-0-622" class="i">+			n++;
</a><a href="#h22-0-623" id="h22-0-623" class="i">+			fprintf(fp, nfmt, n, n, n);
</a><a href="#h22-0-624" id="h22-0-624" class="i">+			xmlencodeline(fp, &amp;s[prev], i - prev + 1);
</a><a href="#h22-0-625" id="h22-0-625" class="i">+			/*
</a><a href="#h22-0-626" id="h22-0-626" class="i">+			 * odd but maybe highlight.js inserts its own
</a><a href="#h22-0-627" id="h22-0-627" class="i">+			 * newline, so we are not putting ours
</a><a href="#h22-0-628" id="h22-0-628" class="i">+			 * that did&#39;nt fix it
</a><a href="#h22-0-629" id="h22-0-629" class="i">+			 */
</a><a href="#h22-0-630" id="h22-0-630" class="i">+			fputs(&quot;&lt;/code&gt;\n&quot;, fp);
</a><a href="#h22-0-631" id="h22-0-631" class="i">+			prev = i + 1;
</a><a href="#h22-0-632" id="h22-0-632" class="i">+		}
</a><a href="#h22-0-633" id="h22-0-633" class="i">+		/* trailing data */
</a><a href="#h22-0-634" id="h22-0-634" class="i">+		if ((len - prev) &gt; 0) {
</a><a href="#h22-0-635" id="h22-0-635" class="i">+			n++;
</a><a href="#h22-0-636" id="h22-0-636" class="i">+			fprintf(fp, nfmt, n, n, n);
</a><a href="#h22-0-637" id="h22-0-637" class="i">+			xmlencodeline(fp, &amp;s[prev], len - prev);
</a><a href="#h22-0-638" id="h22-0-638" class="i">+		}
</a><a href="#h22-0-639" id="h22-0-639" class="i">+	}
</a><a href="#h22-0-640" id="h22-0-640" class="i">+
</a><a href="#h22-0-641" id="h22-0-641" class="i">+	//fputs(&quot;&lt;/code&gt;\n&quot;, fp);
</a><a href="#h22-0-642" id="h22-0-642" class="i">+	fputs(&quot;&lt;/pre&gt;\n&quot;, fp);
</a><a href="#h22-0-643" id="h22-0-643" class="i">+
</a><a href="#h22-0-644" id="h22-0-644" class="i">+	return n;
</a><a href="#h22-0-645" id="h22-0-645" class="i">+}
</a><a href="#h22-0-646" id="h22-0-646" class="i">+
</a><a href="#h22-0-647" id="h22-0-647" class="i">+void
</a><a href="#h22-0-648" id="h22-0-648" class="i">+printcommit(FILE *fp, struct commitinfo *ci)
</a><a href="#h22-0-649" id="h22-0-649" class="i">+{
</a><a href="#h22-0-650" id="h22-0-650" class="i">+	fprintf(fp, &quot;&lt;b&gt;commit&lt;/b&gt; &lt;a href=\&quot;%scommit/%s.html\&quot;&gt;%s&lt;/a&gt;\n&quot;,
</a><a href="#h22-0-651" id="h22-0-651" class="i">+		relpath, ci-&gt;oid, ci-&gt;oid);
</a><a href="#h22-0-652" id="h22-0-652" class="i">+
</a><a href="#h22-0-653" id="h22-0-653" class="i">+	if (ci-&gt;parentoid[0])
</a><a href="#h22-0-654" id="h22-0-654" class="i">+		fprintf(fp, &quot;&lt;b&gt;parent&lt;/b&gt; &lt;a href=\&quot;%scommit/%s.html\&quot;&gt;%s&lt;/a&gt;\n&quot;,
</a><a href="#h22-0-655" id="h22-0-655" class="i">+			relpath, ci-&gt;parentoid, ci-&gt;parentoid);
</a><a href="#h22-0-656" id="h22-0-656" class="i">+
</a><a href="#h22-0-657" id="h22-0-657" class="i">+	if (ci-&gt;author) {
</a><a href="#h22-0-658" id="h22-0-658" class="i">+		fputs(&quot;&lt;b&gt;Author:&lt;/b&gt; &quot;, fp);
</a><a href="#h22-0-659" id="h22-0-659" class="i">+		xmlencode(fp, ci-&gt;author-&gt;name, strlen(ci-&gt;author-&gt;name));
</a><a href="#h22-0-660" id="h22-0-660" class="i">+		fputs(&quot; &amp;lt;&lt;a href=\&quot;mailto:&quot;, fp);
</a><a href="#h22-0-661" id="h22-0-661" class="i">+		xmlencode(fp, ci-&gt;author-&gt;email, strlen(ci-&gt;author-&gt;email)); /* not percent-encoded */
</a><a href="#h22-0-662" id="h22-0-662" class="i">+		fputs(&quot;\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-663" id="h22-0-663" class="i">+		xmlencode(fp, ci-&gt;author-&gt;email, strlen(ci-&gt;author-&gt;email));
</a><a href="#h22-0-664" id="h22-0-664" class="i">+		fputs(&quot;&lt;/a&gt;&amp;gt;\n&lt;b&gt;Date:&lt;/b&gt;   &quot;, fp);
</a><a href="#h22-0-665" id="h22-0-665" class="i">+		printtime(fp, &amp;(ci-&gt;author-&gt;when));
</a><a href="#h22-0-666" id="h22-0-666" class="i">+		putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-667" id="h22-0-667" class="i">+	}
</a><a href="#h22-0-668" id="h22-0-668" class="i">+	if (ci-&gt;msg) {
</a><a href="#h22-0-669" id="h22-0-669" class="i">+		putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-670" id="h22-0-670" class="i">+		xmlencode(fp, ci-&gt;msg, strlen(ci-&gt;msg));
</a><a href="#h22-0-671" id="h22-0-671" class="i">+		putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-672" id="h22-0-672" class="i">+	}
</a><a href="#h22-0-673" id="h22-0-673" class="i">+}
</a><a href="#h22-0-674" id="h22-0-674" class="i">+
</a><a href="#h22-0-675" id="h22-0-675" class="i">+void
</a><a href="#h22-0-676" id="h22-0-676" class="i">+printshowfile(FILE *fp, struct commitinfo *ci)
</a><a href="#h22-0-677" id="h22-0-677" class="i">+{
</a><a href="#h22-0-678" id="h22-0-678" class="i">+	const git_diff_delta *delta;
</a><a href="#h22-0-679" id="h22-0-679" class="i">+	const git_diff_hunk *hunk;
</a><a href="#h22-0-680" id="h22-0-680" class="i">+	const git_diff_line *line;
</a><a href="#h22-0-681" id="h22-0-681" class="i">+	git_patch *patch;
</a><a href="#h22-0-682" id="h22-0-682" class="i">+	size_t nhunks, nhunklines, changed, add, del, total, i, j, k;
</a><a href="#h22-0-683" id="h22-0-683" class="i">+	char linestr[80];
</a><a href="#h22-0-684" id="h22-0-684" class="i">+	int c;
</a><a href="#h22-0-685" id="h22-0-685" class="i">+
</a><a href="#h22-0-686" id="h22-0-686" class="i">+	printcommit(fp, ci);
</a><a href="#h22-0-687" id="h22-0-687" class="i">+
</a><a href="#h22-0-688" id="h22-0-688" class="i">+	if (!ci-&gt;deltas)
</a><a href="#h22-0-689" id="h22-0-689" class="i">+		return;
</a><a href="#h22-0-690" id="h22-0-690" class="i">+
</a><a href="#h22-0-691" id="h22-0-691" class="i">+	if (ci-&gt;filecount &gt; 1000   ||
</a><a href="#h22-0-692" id="h22-0-692" class="i">+	    ci-&gt;ndeltas   &gt; 1000   ||
</a><a href="#h22-0-693" id="h22-0-693" class="i">+	    ci-&gt;addcount  &gt; 100000 ||
</a><a href="#h22-0-694" id="h22-0-694" class="i">+	    ci-&gt;delcount  &gt; 100000) {
</a><a href="#h22-0-695" id="h22-0-695" class="i">+		fputs(&quot;Diff is too large, output suppressed.\n&quot;, fp);
</a><a href="#h22-0-696" id="h22-0-696" class="i">+		return;
</a><a href="#h22-0-697" id="h22-0-697" class="i">+	}
</a><a href="#h22-0-698" id="h22-0-698" class="i">+
</a><a href="#h22-0-699" id="h22-0-699" class="i">+	/* diff stat */
</a><a href="#h22-0-700" id="h22-0-700" class="i">+	fputs(&quot;&lt;b&gt;Diffstat:&lt;/b&gt;\n&lt;table&gt;&quot;, fp);
</a><a href="#h22-0-701" id="h22-0-701" class="i">+	for (i = 0; i &lt; ci-&gt;ndeltas; i++) {
</a><a href="#h22-0-702" id="h22-0-702" class="i">+		delta = git_patch_get_delta(ci-&gt;deltas[i]-&gt;patch);
</a><a href="#h22-0-703" id="h22-0-703" class="i">+
</a><a href="#h22-0-704" id="h22-0-704" class="i">+		switch (delta-&gt;status) {
</a><a href="#h22-0-705" id="h22-0-705" class="i">+		case GIT_DELTA_ADDED:      c = &#39;A&#39;; break;
</a><a href="#h22-0-706" id="h22-0-706" class="i">+		case GIT_DELTA_COPIED:     c = &#39;C&#39;; break;
</a><a href="#h22-0-707" id="h22-0-707" class="i">+		case GIT_DELTA_DELETED:    c = &#39;D&#39;; break;
</a><a href="#h22-0-708" id="h22-0-708" class="i">+		case GIT_DELTA_MODIFIED:   c = &#39;M&#39;; break;
</a><a href="#h22-0-709" id="h22-0-709" class="i">+		case GIT_DELTA_RENAMED:    c = &#39;R&#39;; break;
</a><a href="#h22-0-710" id="h22-0-710" class="i">+		case GIT_DELTA_TYPECHANGE: c = &#39;T&#39;; break;
</a><a href="#h22-0-711" id="h22-0-711" class="i">+		default:                   c = &#39; &#39;; break;
</a><a href="#h22-0-712" id="h22-0-712" class="i">+		}
</a><a href="#h22-0-713" id="h22-0-713" class="i">+		if (c == &#39; &#39;)
</a><a href="#h22-0-714" id="h22-0-714" class="i">+			fprintf(fp, &quot;&lt;tr&gt;&lt;td&gt;%c&quot;, c);
</a><a href="#h22-0-715" id="h22-0-715" class="i">+		else
</a><a href="#h22-0-716" id="h22-0-716" class="i">+			fprintf(fp, &quot;&lt;tr&gt;&lt;td class=\&quot;%c\&quot;&gt;%c&quot;, c, c);
</a><a href="#h22-0-717" id="h22-0-717" class="i">+
</a><a href="#h22-0-718" id="h22-0-718" class="i">+		fprintf(fp, &quot;&lt;/td&gt;&lt;td&gt;&lt;a href=\&quot;#h%zu\&quot;&gt;&quot;, i);
</a><a href="#h22-0-719" id="h22-0-719" class="i">+		xmlencode(fp, delta-&gt;old_file.path, strlen(delta-&gt;old_file.path));
</a><a href="#h22-0-720" id="h22-0-720" class="i">+		if (strcmp(delta-&gt;old_file.path, delta-&gt;new_file.path)) {
</a><a href="#h22-0-721" id="h22-0-721" class="i">+			fputs(&quot; -&amp;gt; &quot;, fp);
</a><a href="#h22-0-722" id="h22-0-722" class="i">+			xmlencode(fp, delta-&gt;new_file.path, strlen(delta-&gt;new_file.path));
</a><a href="#h22-0-723" id="h22-0-723" class="i">+		}
</a><a href="#h22-0-724" id="h22-0-724" class="i">+
</a><a href="#h22-0-725" id="h22-0-725" class="i">+		add = ci-&gt;deltas[i]-&gt;addcount;
</a><a href="#h22-0-726" id="h22-0-726" class="i">+		del = ci-&gt;deltas[i]-&gt;delcount;
</a><a href="#h22-0-727" id="h22-0-727" class="i">+		changed = add + del;
</a><a href="#h22-0-728" id="h22-0-728" class="i">+		total = sizeof(linestr) - 2;
</a><a href="#h22-0-729" id="h22-0-729" class="i">+		if (changed &gt; total) {
</a><a href="#h22-0-730" id="h22-0-730" class="i">+			if (add)
</a><a href="#h22-0-731" id="h22-0-731" class="i">+				add = ((float)total / changed * add) + 1;
</a><a href="#h22-0-732" id="h22-0-732" class="i">+			if (del)
</a><a href="#h22-0-733" id="h22-0-733" class="i">+				del = ((float)total / changed * del) + 1;
</a><a href="#h22-0-734" id="h22-0-734" class="i">+		}
</a><a href="#h22-0-735" id="h22-0-735" class="i">+		memset(&amp;linestr, &#39;+&#39;, add);
</a><a href="#h22-0-736" id="h22-0-736" class="i">+		memset(&amp;linestr[add], &#39;-&#39;, del);
</a><a href="#h22-0-737" id="h22-0-737" class="i">+
</a><a href="#h22-0-738" id="h22-0-738" class="i">+		fprintf(fp, &quot;&lt;/a&gt;&lt;/td&gt;&lt;td&gt; | &lt;/td&gt;&lt;td class=\&quot;num\&quot;&gt;%zu&lt;/td&gt;&lt;td&gt;&lt;span class=\&quot;i\&quot;&gt;&quot;,
</a><a href="#h22-0-739" id="h22-0-739" class="i">+		        ci-&gt;deltas[i]-&gt;addcount + ci-&gt;deltas[i]-&gt;delcount);
</a><a href="#h22-0-740" id="h22-0-740" class="i">+		fwrite(&amp;linestr, 1, add, fp);
</a><a href="#h22-0-741" id="h22-0-741" class="i">+		fputs(&quot;&lt;/span&gt;&lt;span class=\&quot;d\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-742" id="h22-0-742" class="i">+		fwrite(&amp;linestr[add], 1, del, fp);
</a><a href="#h22-0-743" id="h22-0-743" class="i">+		fputs(&quot;&lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;\n&quot;, fp);
</a><a href="#h22-0-744" id="h22-0-744" class="i">+	}
</a><a href="#h22-0-745" id="h22-0-745" class="i">+	fprintf(fp, &quot;&lt;/table&gt;&lt;/pre&gt;&lt;pre&gt;%zu file%s changed, %zu insertion%s(+), %zu deletion%s(-)\n&quot;,
</a><a href="#h22-0-746" id="h22-0-746" class="i">+		ci-&gt;filecount, ci-&gt;filecount == 1 ? &quot;&quot; : &quot;s&quot;,
</a><a href="#h22-0-747" id="h22-0-747" class="i">+	        ci-&gt;addcount,  ci-&gt;addcount  == 1 ? &quot;&quot; : &quot;s&quot;,
</a><a href="#h22-0-748" id="h22-0-748" class="i">+	        ci-&gt;delcount,  ci-&gt;delcount  == 1 ? &quot;&quot; : &quot;s&quot;);
</a><a href="#h22-0-749" id="h22-0-749" class="i">+
</a><a href="#h22-0-750" id="h22-0-750" class="i">+	fputs(&quot;&lt;hr/&gt;&quot;, fp);
</a><a href="#h22-0-751" id="h22-0-751" class="i">+
</a><a href="#h22-0-752" id="h22-0-752" class="i">+	for (i = 0; i &lt; ci-&gt;ndeltas; i++) {
</a><a href="#h22-0-753" id="h22-0-753" class="i">+		patch = ci-&gt;deltas[i]-&gt;patch;
</a><a href="#h22-0-754" id="h22-0-754" class="i">+		delta = git_patch_get_delta(patch);
</a><a href="#h22-0-755" id="h22-0-755" class="i">+		fprintf(fp, &quot;&lt;b&gt;diff --git a/&lt;a id=\&quot;h%zu\&quot; href=\&quot;%sfile/&quot;, i, relpath);
</a><a href="#h22-0-756" id="h22-0-756" class="i">+		percentencode(fp, delta-&gt;old_file.path, strlen(delta-&gt;old_file.path));
</a><a href="#h22-0-757" id="h22-0-757" class="i">+		fputs(&quot;.html\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-758" id="h22-0-758" class="i">+		xmlencode(fp, delta-&gt;old_file.path, strlen(delta-&gt;old_file.path));
</a><a href="#h22-0-759" id="h22-0-759" class="i">+		fprintf(fp, &quot;&lt;/a&gt; b/&lt;a href=\&quot;%sfile/&quot;, relpath);
</a><a href="#h22-0-760" id="h22-0-760" class="i">+		percentencode(fp, delta-&gt;new_file.path, strlen(delta-&gt;new_file.path));
</a><a href="#h22-0-761" id="h22-0-761" class="i">+		fprintf(fp, &quot;.html\&quot;&gt;&quot;);
</a><a href="#h22-0-762" id="h22-0-762" class="i">+		xmlencode(fp, delta-&gt;new_file.path, strlen(delta-&gt;new_file.path));
</a><a href="#h22-0-763" id="h22-0-763" class="i">+		fprintf(fp, &quot;&lt;/a&gt;&lt;/b&gt;\n&quot;);
</a><a href="#h22-0-764" id="h22-0-764" class="i">+
</a><a href="#h22-0-765" id="h22-0-765" class="i">+		/* check binary data */
</a><a href="#h22-0-766" id="h22-0-766" class="i">+		if (delta-&gt;flags &amp; GIT_DIFF_FLAG_BINARY) {
</a><a href="#h22-0-767" id="h22-0-767" class="i">+			fputs(&quot;Binary files differ.\n&quot;, fp);
</a><a href="#h22-0-768" id="h22-0-768" class="i">+			continue;
</a><a href="#h22-0-769" id="h22-0-769" class="i">+		}
</a><a href="#h22-0-770" id="h22-0-770" class="i">+
</a><a href="#h22-0-771" id="h22-0-771" class="i">+		nhunks = git_patch_num_hunks(patch);
</a><a href="#h22-0-772" id="h22-0-772" class="i">+		for (j = 0; j &lt; nhunks; j++) {
</a><a href="#h22-0-773" id="h22-0-773" class="i">+			if (git_patch_get_hunk(&amp;hunk, &amp;nhunklines, patch, j))
</a><a href="#h22-0-774" id="h22-0-774" class="i">+				break;
</a><a href="#h22-0-775" id="h22-0-775" class="i">+
</a><a href="#h22-0-776" id="h22-0-776" class="i">+			fprintf(fp, &quot;&lt;a href=\&quot;#h%zu-%zu\&quot; id=\&quot;h%zu-%zu\&quot; class=\&quot;h\&quot;&gt;&quot;, i, j, i, j);
</a><a href="#h22-0-777" id="h22-0-777" class="i">+			xmlencode(fp, hunk-&gt;header, hunk-&gt;header_len);
</a><a href="#h22-0-778" id="h22-0-778" class="i">+			fputs(&quot;&lt;/a&gt;&quot;, fp);
</a><a href="#h22-0-779" id="h22-0-779" class="i">+
</a><a href="#h22-0-780" id="h22-0-780" class="i">+			for (k = 0; ; k++) {
</a><a href="#h22-0-781" id="h22-0-781" class="i">+				if (git_patch_get_line_in_hunk(&amp;line, patch, j, k))
</a><a href="#h22-0-782" id="h22-0-782" class="i">+					break;
</a><a href="#h22-0-783" id="h22-0-783" class="i">+				if (line-&gt;old_lineno == -1)
</a><a href="#h22-0-784" id="h22-0-784" class="i">+					fprintf(fp, &quot;&lt;a href=\&quot;#h%zu-%zu-%zu\&quot; id=\&quot;h%zu-%zu-%zu\&quot; class=\&quot;i\&quot;&gt;+&quot;,
</a><a href="#h22-0-785" id="h22-0-785" class="i">+						i, j, k, i, j, k);
</a><a href="#h22-0-786" id="h22-0-786" class="i">+				else if (line-&gt;new_lineno == -1)
</a><a href="#h22-0-787" id="h22-0-787" class="i">+					fprintf(fp, &quot;&lt;a href=\&quot;#h%zu-%zu-%zu\&quot; id=\&quot;h%zu-%zu-%zu\&quot; class=\&quot;d\&quot;&gt;-&quot;,
</a><a href="#h22-0-788" id="h22-0-788" class="i">+						i, j, k, i, j, k);
</a><a href="#h22-0-789" id="h22-0-789" class="i">+				else
</a><a href="#h22-0-790" id="h22-0-790" class="i">+					putc(&#39; &#39;, fp);
</a><a href="#h22-0-791" id="h22-0-791" class="i">+				xmlencodeline(fp, line-&gt;content, line-&gt;content_len);
</a><a href="#h22-0-792" id="h22-0-792" class="i">+				putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-793" id="h22-0-793" class="i">+				if (line-&gt;old_lineno == -1 || line-&gt;new_lineno == -1)
</a><a href="#h22-0-794" id="h22-0-794" class="i">+					fputs(&quot;&lt;/a&gt;&quot;, fp);
</a><a href="#h22-0-795" id="h22-0-795" class="i">+			}
</a><a href="#h22-0-796" id="h22-0-796" class="i">+		}
</a><a href="#h22-0-797" id="h22-0-797" class="i">+	}
</a><a href="#h22-0-798" id="h22-0-798" class="i">+}
</a><a href="#h22-0-799" id="h22-0-799" class="i">+
</a><a href="#h22-0-800" id="h22-0-800" class="i">+void
</a><a href="#h22-0-801" id="h22-0-801" class="i">+writelogline(FILE *fp, struct commitinfo *ci)
</a><a href="#h22-0-802" id="h22-0-802" class="i">+{
</a><a href="#h22-0-803" id="h22-0-803" class="i">+	fputs(&quot;&lt;tr&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-804" id="h22-0-804" class="i">+	if (ci-&gt;author)
</a><a href="#h22-0-805" id="h22-0-805" class="i">+		printtimeshort(fp, &amp;(ci-&gt;author-&gt;when));
</a><a href="#h22-0-806" id="h22-0-806" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-807" id="h22-0-807" class="i">+	if (ci-&gt;summary) {
</a><a href="#h22-0-808" id="h22-0-808" class="i">+		fprintf(fp, &quot;&lt;a href=\&quot;%scommit/%s.html\&quot;&gt;&quot;, relpath, ci-&gt;oid);
</a><a href="#h22-0-809" id="h22-0-809" class="i">+		xmlencode(fp, ci-&gt;summary, strlen(ci-&gt;summary));
</a><a href="#h22-0-810" id="h22-0-810" class="i">+		fputs(&quot;&lt;/a&gt;&quot;, fp);
</a><a href="#h22-0-811" id="h22-0-811" class="i">+	}
</a><a href="#h22-0-812" id="h22-0-812" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-813" id="h22-0-813" class="i">+	if (ci-&gt;author)
</a><a href="#h22-0-814" id="h22-0-814" class="i">+		xmlencode(fp, ci-&gt;author-&gt;name, strlen(ci-&gt;author-&gt;name));
</a><a href="#h22-0-815" id="h22-0-815" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-816" id="h22-0-816" class="i">+	fprintf(fp, &quot;%zu&quot;, ci-&gt;filecount);
</a><a href="#h22-0-817" id="h22-0-817" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-818" id="h22-0-818" class="i">+	fprintf(fp, &quot;+%zu&quot;, ci-&gt;addcount);
</a><a href="#h22-0-819" id="h22-0-819" class="i">+	fputs(&quot;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-820" id="h22-0-820" class="i">+	fprintf(fp, &quot;-%zu&quot;, ci-&gt;delcount);
</a><a href="#h22-0-821" id="h22-0-821" class="i">+	fputs(&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;, fp);
</a><a href="#h22-0-822" id="h22-0-822" class="i">+}
</a><a href="#h22-0-823" id="h22-0-823" class="i">+
</a><a href="#h22-0-824" id="h22-0-824" class="i">+int
</a><a href="#h22-0-825" id="h22-0-825" class="i">+writelog(FILE *fp, const git_oid *oid)
</a><a href="#h22-0-826" id="h22-0-826" class="i">+{
</a><a href="#h22-0-827" id="h22-0-827" class="i">+	struct commitinfo *ci;
</a><a href="#h22-0-828" id="h22-0-828" class="i">+	git_revwalk *w = NULL;
</a><a href="#h22-0-829" id="h22-0-829" class="i">+	git_oid id;
</a><a href="#h22-0-830" id="h22-0-830" class="i">+	char path[PATH_MAX], oidstr[GIT_OID_HEXSZ + 1];
</a><a href="#h22-0-831" id="h22-0-831" class="i">+	FILE *fpfile;
</a><a href="#h22-0-832" id="h22-0-832" class="i">+	size_t remcommits = 0;
</a><a href="#h22-0-833" id="h22-0-833" class="i">+	int r;
</a><a href="#h22-0-834" id="h22-0-834" class="i">+
</a><a href="#h22-0-835" id="h22-0-835" class="i">+	git_revwalk_new(&amp;w, repo);
</a><a href="#h22-0-836" id="h22-0-836" class="i">+	git_revwalk_push(w, oid);
</a><a href="#h22-0-837" id="h22-0-837" class="i">+
</a><a href="#h22-0-838" id="h22-0-838" class="i">+	while (!git_revwalk_next(&amp;id, w)) {
</a><a href="#h22-0-839" id="h22-0-839" class="i">+		relpath = &quot;&quot;;
</a><a href="#h22-0-840" id="h22-0-840" class="i">+
</a><a href="#h22-0-841" id="h22-0-841" class="i">+		if (cachefile &amp;&amp; !memcmp(&amp;id, &amp;lastoid, sizeof(id)))
</a><a href="#h22-0-842" id="h22-0-842" class="i">+			break;
</a><a href="#h22-0-843" id="h22-0-843" class="i">+
</a><a href="#h22-0-844" id="h22-0-844" class="i">+		git_oid_tostr(oidstr, sizeof(oidstr), &amp;id);
</a><a href="#h22-0-845" id="h22-0-845" class="i">+		r = snprintf(path, sizeof(path), &quot;commit/%s.html&quot;, oidstr);
</a><a href="#h22-0-846" id="h22-0-846" class="i">+		if (r &lt; 0 || (size_t)r &gt;= sizeof(path))
</a><a href="#h22-0-847" id="h22-0-847" class="i">+			errx(1, &quot;path truncated: &#39;commit/%s.html&#39;&quot;, oidstr);
</a><a href="#h22-0-848" id="h22-0-848" class="i">+		r = access(path, F_OK);
</a><a href="#h22-0-849" id="h22-0-849" class="i">+
</a><a href="#h22-0-850" id="h22-0-850" class="i">+		/* optimization: if there are no log lines to write and
</a><a href="#h22-0-851" id="h22-0-851" class="i">+		   the commit file already exists: skip the diffstat */
</a><a href="#h22-0-852" id="h22-0-852" class="i">+		if (!nlogcommits) {
</a><a href="#h22-0-853" id="h22-0-853" class="i">+			remcommits++;
</a><a href="#h22-0-854" id="h22-0-854" class="i">+			if (!r)
</a><a href="#h22-0-855" id="h22-0-855" class="i">+				continue;
</a><a href="#h22-0-856" id="h22-0-856" class="i">+		}
</a><a href="#h22-0-857" id="h22-0-857" class="i">+
</a><a href="#h22-0-858" id="h22-0-858" class="i">+		if (!(ci = commitinfo_getbyoid(&amp;id)))
</a><a href="#h22-0-859" id="h22-0-859" class="i">+			break;
</a><a href="#h22-0-860" id="h22-0-860" class="i">+		/* diffstat: for stagit HTML required for the log.html line */
</a><a href="#h22-0-861" id="h22-0-861" class="i">+		if (commitinfo_getstats(ci) == -1)
</a><a href="#h22-0-862" id="h22-0-862" class="i">+			goto err;
</a><a href="#h22-0-863" id="h22-0-863" class="i">+
</a><a href="#h22-0-864" id="h22-0-864" class="i">+		if (nlogcommits != 0) {
</a><a href="#h22-0-865" id="h22-0-865" class="i">+			writelogline(fp, ci);
</a><a href="#h22-0-866" id="h22-0-866" class="i">+			if (nlogcommits &gt; 0)
</a><a href="#h22-0-867" id="h22-0-867" class="i">+				nlogcommits--;
</a><a href="#h22-0-868" id="h22-0-868" class="i">+		}
</a><a href="#h22-0-869" id="h22-0-869" class="i">+
</a><a href="#h22-0-870" id="h22-0-870" class="i">+		if (cachefile)
</a><a href="#h22-0-871" id="h22-0-871" class="i">+			writelogline(wcachefp, ci);
</a><a href="#h22-0-872" id="h22-0-872" class="i">+
</a><a href="#h22-0-873" id="h22-0-873" class="i">+		/* check if file exists if so skip it */
</a><a href="#h22-0-874" id="h22-0-874" class="i">+		if (r) {
</a><a href="#h22-0-875" id="h22-0-875" class="i">+			relpath = &quot;../&quot;;
</a><a href="#h22-0-876" id="h22-0-876" class="i">+			fpfile = efopen(path, &quot;w&quot;);
</a><a href="#h22-0-877" id="h22-0-877" class="i">+			writeheader(fpfile, ci-&gt;summary);
</a><a href="#h22-0-878" id="h22-0-878" class="i">+			fputs(&quot;&lt;pre&gt;&quot;, fpfile);
</a><a href="#h22-0-879" id="h22-0-879" class="i">+			printshowfile(fpfile, ci);
</a><a href="#h22-0-880" id="h22-0-880" class="i">+			fputs(&quot;&lt;/pre&gt;\n&quot;, fpfile);
</a><a href="#h22-0-881" id="h22-0-881" class="i">+			writefooter(fpfile);
</a><a href="#h22-0-882" id="h22-0-882" class="i">+			checkfileerror(fpfile, path, &#39;w&#39;);
</a><a href="#h22-0-883" id="h22-0-883" class="i">+			fclose(fpfile);
</a><a href="#h22-0-884" id="h22-0-884" class="i">+		}
</a><a href="#h22-0-885" id="h22-0-885" class="i">+err:
</a><a href="#h22-0-886" id="h22-0-886" class="i">+		commitinfo_free(ci);
</a><a href="#h22-0-887" id="h22-0-887" class="i">+	}
</a><a href="#h22-0-888" id="h22-0-888" class="i">+	git_revwalk_free(w);
</a><a href="#h22-0-889" id="h22-0-889" class="i">+
</a><a href="#h22-0-890" id="h22-0-890" class="i">+	if (nlogcommits == 0 &amp;&amp; remcommits != 0) {
</a><a href="#h22-0-891" id="h22-0-891" class="i">+		fprintf(fp, &quot;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td colspan=\&quot;5\&quot;&gt;&quot;
</a><a href="#h22-0-892" id="h22-0-892" class="i">+		        &quot;%zu more commits remaining, fetch the repository&quot;
</a><a href="#h22-0-893" id="h22-0-893" class="i">+		        &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;, remcommits);
</a><a href="#h22-0-894" id="h22-0-894" class="i">+	}
</a><a href="#h22-0-895" id="h22-0-895" class="i">+
</a><a href="#h22-0-896" id="h22-0-896" class="i">+	relpath = &quot;&quot;;
</a><a href="#h22-0-897" id="h22-0-897" class="i">+
</a><a href="#h22-0-898" id="h22-0-898" class="i">+	return 0;
</a><a href="#h22-0-899" id="h22-0-899" class="i">+}
</a><a href="#h22-0-900" id="h22-0-900" class="i">+
</a><a href="#h22-0-901" id="h22-0-901" class="i">+void
</a><a href="#h22-0-902" id="h22-0-902" class="i">+printcommitatom(FILE *fp, struct commitinfo *ci, const char *tag)
</a><a href="#h22-0-903" id="h22-0-903" class="i">+{
</a><a href="#h22-0-904" id="h22-0-904" class="i">+	fputs(&quot;&lt;entry&gt;\n&quot;, fp);
</a><a href="#h22-0-905" id="h22-0-905" class="i">+
</a><a href="#h22-0-906" id="h22-0-906" class="i">+	fprintf(fp, &quot;&lt;id&gt;%s&lt;/id&gt;\n&quot;, ci-&gt;oid);
</a><a href="#h22-0-907" id="h22-0-907" class="i">+	if (ci-&gt;author) {
</a><a href="#h22-0-908" id="h22-0-908" class="i">+		fputs(&quot;&lt;published&gt;&quot;, fp);
</a><a href="#h22-0-909" id="h22-0-909" class="i">+		printtimez(fp, &amp;(ci-&gt;author-&gt;when));
</a><a href="#h22-0-910" id="h22-0-910" class="i">+		fputs(&quot;&lt;/published&gt;\n&quot;, fp);
</a><a href="#h22-0-911" id="h22-0-911" class="i">+	}
</a><a href="#h22-0-912" id="h22-0-912" class="i">+	if (ci-&gt;committer) {
</a><a href="#h22-0-913" id="h22-0-913" class="i">+		fputs(&quot;&lt;updated&gt;&quot;, fp);
</a><a href="#h22-0-914" id="h22-0-914" class="i">+		printtimez(fp, &amp;(ci-&gt;committer-&gt;when));
</a><a href="#h22-0-915" id="h22-0-915" class="i">+		fputs(&quot;&lt;/updated&gt;\n&quot;, fp);
</a><a href="#h22-0-916" id="h22-0-916" class="i">+	}
</a><a href="#h22-0-917" id="h22-0-917" class="i">+	if (ci-&gt;summary) {
</a><a href="#h22-0-918" id="h22-0-918" class="i">+		fputs(&quot;&lt;title&gt;&quot;, fp);
</a><a href="#h22-0-919" id="h22-0-919" class="i">+		if (tag &amp;&amp; tag[0]) {
</a><a href="#h22-0-920" id="h22-0-920" class="i">+			fputs(&quot;[&quot;, fp);
</a><a href="#h22-0-921" id="h22-0-921" class="i">+			xmlencode(fp, tag, strlen(tag));
</a><a href="#h22-0-922" id="h22-0-922" class="i">+			fputs(&quot;] &quot;, fp);
</a><a href="#h22-0-923" id="h22-0-923" class="i">+		}
</a><a href="#h22-0-924" id="h22-0-924" class="i">+		xmlencode(fp, ci-&gt;summary, strlen(ci-&gt;summary));
</a><a href="#h22-0-925" id="h22-0-925" class="i">+		fputs(&quot;&lt;/title&gt;\n&quot;, fp);
</a><a href="#h22-0-926" id="h22-0-926" class="i">+	}
</a><a href="#h22-0-927" id="h22-0-927" class="i">+	fprintf(fp, &quot;&lt;link rel=\&quot;alternate\&quot; type=\&quot;text/html\&quot; href=\&quot;%scommit/%s.html\&quot; /&gt;\n&quot;,
</a><a href="#h22-0-928" id="h22-0-928" class="i">+	        baseurl, ci-&gt;oid);
</a><a href="#h22-0-929" id="h22-0-929" class="i">+
</a><a href="#h22-0-930" id="h22-0-930" class="i">+	if (ci-&gt;author) {
</a><a href="#h22-0-931" id="h22-0-931" class="i">+		fputs(&quot;&lt;author&gt;\n&lt;name&gt;&quot;, fp);
</a><a href="#h22-0-932" id="h22-0-932" class="i">+		xmlencode(fp, ci-&gt;author-&gt;name, strlen(ci-&gt;author-&gt;name));
</a><a href="#h22-0-933" id="h22-0-933" class="i">+		fputs(&quot;&lt;/name&gt;\n&lt;email&gt;&quot;, fp);
</a><a href="#h22-0-934" id="h22-0-934" class="i">+		xmlencode(fp, ci-&gt;author-&gt;email, strlen(ci-&gt;author-&gt;email));
</a><a href="#h22-0-935" id="h22-0-935" class="i">+		fputs(&quot;&lt;/email&gt;\n&lt;/author&gt;\n&quot;, fp);
</a><a href="#h22-0-936" id="h22-0-936" class="i">+	}
</a><a href="#h22-0-937" id="h22-0-937" class="i">+
</a><a href="#h22-0-938" id="h22-0-938" class="i">+	fputs(&quot;&lt;content&gt;&quot;, fp);
</a><a href="#h22-0-939" id="h22-0-939" class="i">+	fprintf(fp, &quot;commit %s\n&quot;, ci-&gt;oid);
</a><a href="#h22-0-940" id="h22-0-940" class="i">+	if (ci-&gt;parentoid[0])
</a><a href="#h22-0-941" id="h22-0-941" class="i">+		fprintf(fp, &quot;parent %s\n&quot;, ci-&gt;parentoid);
</a><a href="#h22-0-942" id="h22-0-942" class="i">+	if (ci-&gt;author) {
</a><a href="#h22-0-943" id="h22-0-943" class="i">+		fputs(&quot;Author: &quot;, fp);
</a><a href="#h22-0-944" id="h22-0-944" class="i">+		xmlencode(fp, ci-&gt;author-&gt;name, strlen(ci-&gt;author-&gt;name));
</a><a href="#h22-0-945" id="h22-0-945" class="i">+		fputs(&quot; &amp;lt;&quot;, fp);
</a><a href="#h22-0-946" id="h22-0-946" class="i">+		xmlencode(fp, ci-&gt;author-&gt;email, strlen(ci-&gt;author-&gt;email));
</a><a href="#h22-0-947" id="h22-0-947" class="i">+		fputs(&quot;&amp;gt;\nDate:   &quot;, fp);
</a><a href="#h22-0-948" id="h22-0-948" class="i">+		printtime(fp, &amp;(ci-&gt;author-&gt;when));
</a><a href="#h22-0-949" id="h22-0-949" class="i">+		putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-950" id="h22-0-950" class="i">+	}
</a><a href="#h22-0-951" id="h22-0-951" class="i">+	if (ci-&gt;msg) {
</a><a href="#h22-0-952" id="h22-0-952" class="i">+		putc(&#39;\n&#39;, fp);
</a><a href="#h22-0-953" id="h22-0-953" class="i">+		xmlencode(fp, ci-&gt;msg, strlen(ci-&gt;msg));
</a><a href="#h22-0-954" id="h22-0-954" class="i">+	}
</a><a href="#h22-0-955" id="h22-0-955" class="i">+	fputs(&quot;\n&lt;/content&gt;\n&lt;/entry&gt;\n&quot;, fp);
</a><a href="#h22-0-956" id="h22-0-956" class="i">+}
</a><a href="#h22-0-957" id="h22-0-957" class="i">+
</a><a href="#h22-0-958" id="h22-0-958" class="i">+int
</a><a href="#h22-0-959" id="h22-0-959" class="i">+writeatom(FILE *fp, int all)
</a><a href="#h22-0-960" id="h22-0-960" class="i">+{
</a><a href="#h22-0-961" id="h22-0-961" class="i">+	struct referenceinfo *ris = NULL;
</a><a href="#h22-0-962" id="h22-0-962" class="i">+	size_t refcount = 0;
</a><a href="#h22-0-963" id="h22-0-963" class="i">+	struct commitinfo *ci;
</a><a href="#h22-0-964" id="h22-0-964" class="i">+	git_revwalk *w = NULL;
</a><a href="#h22-0-965" id="h22-0-965" class="i">+	git_oid id;
</a><a href="#h22-0-966" id="h22-0-966" class="i">+	size_t i, m = 100; /* last &#39;m&#39; commits */
</a><a href="#h22-0-967" id="h22-0-967" class="i">+
</a><a href="#h22-0-968" id="h22-0-968" class="i">+	fputs(&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n&quot;
</a><a href="#h22-0-969" id="h22-0-969" class="i">+	      &quot;&lt;feed xmlns=\&quot;http://www.w3.org/2005/Atom\&quot;&gt;\n&lt;title&gt;&quot;, fp);
</a><a href="#h22-0-970" id="h22-0-970" class="i">+	xmlencode(fp, strippedname, strlen(strippedname));
</a><a href="#h22-0-971" id="h22-0-971" class="i">+	fputs(&quot;, branch HEAD&lt;/title&gt;\n&lt;subtitle&gt;&quot;, fp);
</a><a href="#h22-0-972" id="h22-0-972" class="i">+	xmlencode(fp, description, strlen(description));
</a><a href="#h22-0-973" id="h22-0-973" class="i">+	fputs(&quot;&lt;/subtitle&gt;\n&quot;, fp);
</a><a href="#h22-0-974" id="h22-0-974" class="i">+
</a><a href="#h22-0-975" id="h22-0-975" class="i">+	/* all commits or only tags? */
</a><a href="#h22-0-976" id="h22-0-976" class="i">+	if (all) {
</a><a href="#h22-0-977" id="h22-0-977" class="i">+		git_revwalk_new(&amp;w, repo);
</a><a href="#h22-0-978" id="h22-0-978" class="i">+		git_revwalk_push_head(w);
</a><a href="#h22-0-979" id="h22-0-979" class="i">+		for (i = 0; i &lt; m &amp;&amp; !git_revwalk_next(&amp;id, w); i++) {
</a><a href="#h22-0-980" id="h22-0-980" class="i">+			if (!(ci = commitinfo_getbyoid(&amp;id)))
</a><a href="#h22-0-981" id="h22-0-981" class="i">+				break;
</a><a href="#h22-0-982" id="h22-0-982" class="i">+			printcommitatom(fp, ci, &quot;&quot;);
</a><a href="#h22-0-983" id="h22-0-983" class="i">+			commitinfo_free(ci);
</a><a href="#h22-0-984" id="h22-0-984" class="i">+		}
</a><a href="#h22-0-985" id="h22-0-985" class="i">+		git_revwalk_free(w);
</a><a href="#h22-0-986" id="h22-0-986" class="i">+	} else if (getrefs(&amp;ris, &amp;refcount) != -1) {
</a><a href="#h22-0-987" id="h22-0-987" class="i">+		/* references: tags */
</a><a href="#h22-0-988" id="h22-0-988" class="i">+		for (i = 0; i &lt; refcount; i++) {
</a><a href="#h22-0-989" id="h22-0-989" class="i">+			if (git_reference_is_tag(ris[i].ref))
</a><a href="#h22-0-990" id="h22-0-990" class="i">+				printcommitatom(fp, ris[i].ci,
</a><a href="#h22-0-991" id="h22-0-991" class="i">+				                git_reference_shorthand(ris[i].ref));
</a><a href="#h22-0-992" id="h22-0-992" class="i">+
</a><a href="#h22-0-993" id="h22-0-993" class="i">+			commitinfo_free(ris[i].ci);
</a><a href="#h22-0-994" id="h22-0-994" class="i">+			git_reference_free(ris[i].ref);
</a><a href="#h22-0-995" id="h22-0-995" class="i">+		}
</a><a href="#h22-0-996" id="h22-0-996" class="i">+		free(ris);
</a><a href="#h22-0-997" id="h22-0-997" class="i">+	}
</a><a href="#h22-0-998" id="h22-0-998" class="i">+
</a><a href="#h22-0-999" id="h22-0-999" class="i">+	fputs(&quot;&lt;/feed&gt;\n&quot;, fp);
</a><a href="#h22-0-1000" id="h22-0-1000" class="i">+
</a><a href="#h22-0-1001" id="h22-0-1001" class="i">+	return 0;
</a><a href="#h22-0-1002" id="h22-0-1002" class="i">+}
</a><a href="#h22-0-1003" id="h22-0-1003" class="i">+
</a><a href="#h22-0-1004" id="h22-0-1004" class="i">+size_t
</a><a href="#h22-0-1005" id="h22-0-1005" class="i">+writeblob(git_object *obj, const char *fpath, const char *filename, size_t filesize)
</a><a href="#h22-0-1006" id="h22-0-1006" class="i">+{
</a><a href="#h22-0-1007" id="h22-0-1007" class="i">+	char tmp[PATH_MAX] = &quot;&quot;, *d;
</a><a href="#h22-0-1008" id="h22-0-1008" class="i">+	const char *p;
</a><a href="#h22-0-1009" id="h22-0-1009" class="i">+	size_t lc = 0;
</a><a href="#h22-0-1010" id="h22-0-1010" class="i">+	FILE *fp;
</a><a href="#h22-0-1011" id="h22-0-1011" class="i">+
</a><a href="#h22-0-1012" id="h22-0-1012" class="i">+	if (strlcpy(tmp, fpath, sizeof(tmp)) &gt;= sizeof(tmp))
</a><a href="#h22-0-1013" id="h22-0-1013" class="i">+		errx(1, &quot;path truncated: &#39;%s&#39;&quot;, fpath);
</a><a href="#h22-0-1014" id="h22-0-1014" class="i">+	if (!(d = dirname(tmp)))
</a><a href="#h22-0-1015" id="h22-0-1015" class="i">+		err(1, &quot;dirname&quot;);
</a><a href="#h22-0-1016" id="h22-0-1016" class="i">+	if (mkdirp(d))
</a><a href="#h22-0-1017" id="h22-0-1017" class="i">+		return -1;
</a><a href="#h22-0-1018" id="h22-0-1018" class="i">+
</a><a href="#h22-0-1019" id="h22-0-1019" class="i">+	for (p = fpath, tmp[0] = &#39;\0&#39;; *p; p++) {
</a><a href="#h22-0-1020" id="h22-0-1020" class="i">+		if (*p == &#39;/&#39; &amp;&amp; strlcat(tmp, &quot;../&quot;, sizeof(tmp)) &gt;= sizeof(tmp))
</a><a href="#h22-0-1021" id="h22-0-1021" class="i">+			errx(1, &quot;path truncated: &#39;../%s&#39;&quot;, tmp);
</a><a href="#h22-0-1022" id="h22-0-1022" class="i">+	}
</a><a href="#h22-0-1023" id="h22-0-1023" class="i">+	relpath = tmp;
</a><a href="#h22-0-1024" id="h22-0-1024" class="i">+
</a><a href="#h22-0-1025" id="h22-0-1025" class="i">+	fp = efopen(fpath, &quot;w&quot;);
</a><a href="#h22-0-1026" id="h22-0-1026" class="i">+	writeheader(fp, filename);
</a><a href="#h22-0-1027" id="h22-0-1027" class="i">+	fputs(&quot;&lt;p&gt; &quot;, fp);
</a><a href="#h22-0-1028" id="h22-0-1028" class="i">+	xmlencode(fp, filename, strlen(filename));
</a><a href="#h22-0-1029" id="h22-0-1029" class="i">+	fprintf(fp, &quot; (%zuB)&quot;, filesize);
</a><a href="#h22-0-1030" id="h22-0-1030" class="i">+	fputs(&quot;&lt;/p&gt;&lt;hr/&gt;&quot;, fp);
</a><a href="#h22-0-1031" id="h22-0-1031" class="i">+
</a><a href="#h22-0-1032" id="h22-0-1032" class="i">+	if (git_blob_is_binary((git_blob *)obj))
</a><a href="#h22-0-1033" id="h22-0-1033" class="i">+		fputs(&quot;&lt;p&gt;Binary file.&lt;/p&gt;\n&quot;, fp);
</a><a href="#h22-0-1034" id="h22-0-1034" class="i">+	else
</a><a href="#h22-0-1035" id="h22-0-1035" class="i">+		// passing parameter to be used by the code
</a><a href="#h22-0-1036" id="h22-0-1036" class="i">+		lc = writeblobhtml(fp, (git_blob *)obj, filename);
</a><a href="#h22-0-1037" id="h22-0-1037" class="i">+
</a><a href="#h22-0-1038" id="h22-0-1038" class="i">+	writefooter(fp);
</a><a href="#h22-0-1039" id="h22-0-1039" class="i">+	checkfileerror(fp, fpath, &#39;w&#39;);
</a><a href="#h22-0-1040" id="h22-0-1040" class="i">+	fclose(fp);
</a><a href="#h22-0-1041" id="h22-0-1041" class="i">+
</a><a href="#h22-0-1042" id="h22-0-1042" class="i">+	relpath = &quot;&quot;;
</a><a href="#h22-0-1043" id="h22-0-1043" class="i">+
</a><a href="#h22-0-1044" id="h22-0-1044" class="i">+	return lc;
</a><a href="#h22-0-1045" id="h22-0-1045" class="i">+}
</a><a href="#h22-0-1046" id="h22-0-1046" class="i">+
</a><a href="#h22-0-1047" id="h22-0-1047" class="i">+const char *
</a><a href="#h22-0-1048" id="h22-0-1048" class="i">+filemode(git_filemode_t m)
</a><a href="#h22-0-1049" id="h22-0-1049" class="i">+{
</a><a href="#h22-0-1050" id="h22-0-1050" class="i">+	static char mode[11];
</a><a href="#h22-0-1051" id="h22-0-1051" class="i">+
</a><a href="#h22-0-1052" id="h22-0-1052" class="i">+	memset(mode, &#39;-&#39;, sizeof(mode) - 1);
</a><a href="#h22-0-1053" id="h22-0-1053" class="i">+	mode[10] = &#39;\0&#39;;
</a><a href="#h22-0-1054" id="h22-0-1054" class="i">+
</a><a href="#h22-0-1055" id="h22-0-1055" class="i">+	if (S_ISREG(m))
</a><a href="#h22-0-1056" id="h22-0-1056" class="i">+		mode[0] = &#39;-&#39;;
</a><a href="#h22-0-1057" id="h22-0-1057" class="i">+	else if (S_ISBLK(m))
</a><a href="#h22-0-1058" id="h22-0-1058" class="i">+		mode[0] = &#39;b&#39;;
</a><a href="#h22-0-1059" id="h22-0-1059" class="i">+	else if (S_ISCHR(m))
</a><a href="#h22-0-1060" id="h22-0-1060" class="i">+		mode[0] = &#39;c&#39;;
</a><a href="#h22-0-1061" id="h22-0-1061" class="i">+	else if (S_ISDIR(m))
</a><a href="#h22-0-1062" id="h22-0-1062" class="i">+		mode[0] = &#39;d&#39;;
</a><a href="#h22-0-1063" id="h22-0-1063" class="i">+	else if (S_ISFIFO(m))
</a><a href="#h22-0-1064" id="h22-0-1064" class="i">+		mode[0] = &#39;p&#39;;
</a><a href="#h22-0-1065" id="h22-0-1065" class="i">+	else if (S_ISLNK(m))
</a><a href="#h22-0-1066" id="h22-0-1066" class="i">+		mode[0] = &#39;l&#39;;
</a><a href="#h22-0-1067" id="h22-0-1067" class="i">+	else if (S_ISSOCK(m))
</a><a href="#h22-0-1068" id="h22-0-1068" class="i">+		mode[0] = &#39;s&#39;;
</a><a href="#h22-0-1069" id="h22-0-1069" class="i">+	else
</a><a href="#h22-0-1070" id="h22-0-1070" class="i">+		mode[0] = &#39;?&#39;;
</a><a href="#h22-0-1071" id="h22-0-1071" class="i">+
</a><a href="#h22-0-1072" id="h22-0-1072" class="i">+	if (m &amp; S_IRUSR) mode[1] = &#39;r&#39;;
</a><a href="#h22-0-1073" id="h22-0-1073" class="i">+	if (m &amp; S_IWUSR) mode[2] = &#39;w&#39;;
</a><a href="#h22-0-1074" id="h22-0-1074" class="i">+	if (m &amp; S_IXUSR) mode[3] = &#39;x&#39;;
</a><a href="#h22-0-1075" id="h22-0-1075" class="i">+	if (m &amp; S_IRGRP) mode[4] = &#39;r&#39;;
</a><a href="#h22-0-1076" id="h22-0-1076" class="i">+	if (m &amp; S_IWGRP) mode[5] = &#39;w&#39;;
</a><a href="#h22-0-1077" id="h22-0-1077" class="i">+	if (m &amp; S_IXGRP) mode[6] = &#39;x&#39;;
</a><a href="#h22-0-1078" id="h22-0-1078" class="i">+	if (m &amp; S_IROTH) mode[7] = &#39;r&#39;;
</a><a href="#h22-0-1079" id="h22-0-1079" class="i">+	if (m &amp; S_IWOTH) mode[8] = &#39;w&#39;;
</a><a href="#h22-0-1080" id="h22-0-1080" class="i">+	if (m &amp; S_IXOTH) mode[9] = &#39;x&#39;;
</a><a href="#h22-0-1081" id="h22-0-1081" class="i">+
</a><a href="#h22-0-1082" id="h22-0-1082" class="i">+	if (m &amp; S_ISUID) mode[3] = (mode[3] == &#39;x&#39;) ? &#39;s&#39; : &#39;S&#39;;
</a><a href="#h22-0-1083" id="h22-0-1083" class="i">+	if (m &amp; S_ISGID) mode[6] = (mode[6] == &#39;x&#39;) ? &#39;s&#39; : &#39;S&#39;;
</a><a href="#h22-0-1084" id="h22-0-1084" class="i">+	if (m &amp; S_ISVTX) mode[9] = (mode[9] == &#39;x&#39;) ? &#39;t&#39; : &#39;T&#39;;
</a><a href="#h22-0-1085" id="h22-0-1085" class="i">+
</a><a href="#h22-0-1086" id="h22-0-1086" class="i">+	return mode;
</a><a href="#h22-0-1087" id="h22-0-1087" class="i">+}
</a><a href="#h22-0-1088" id="h22-0-1088" class="i">+
</a><a href="#h22-0-1089" id="h22-0-1089" class="i">+int
</a><a href="#h22-0-1090" id="h22-0-1090" class="i">+writefilestree(FILE *fp, git_tree *tree, const char *path)
</a><a href="#h22-0-1091" id="h22-0-1091" class="i">+{
</a><a href="#h22-0-1092" id="h22-0-1092" class="i">+	const git_tree_entry *entry = NULL;
</a><a href="#h22-0-1093" id="h22-0-1093" class="i">+	git_object *obj = NULL;
</a><a href="#h22-0-1094" id="h22-0-1094" class="i">+	const char *entryname;
</a><a href="#h22-0-1095" id="h22-0-1095" class="i">+	char filepath[PATH_MAX], entrypath[PATH_MAX], oid[8];
</a><a href="#h22-0-1096" id="h22-0-1096" class="i">+	size_t count, i, lc, filesize;
</a><a href="#h22-0-1097" id="h22-0-1097" class="i">+	int r, ret;
</a><a href="#h22-0-1098" id="h22-0-1098" class="i">+
</a><a href="#h22-0-1099" id="h22-0-1099" class="i">+	count = git_tree_entrycount(tree);
</a><a href="#h22-0-1100" id="h22-0-1100" class="i">+	for (i = 0; i &lt; count; i++) {
</a><a href="#h22-0-1101" id="h22-0-1101" class="i">+		if (!(entry = git_tree_entry_byindex(tree, i)) ||
</a><a href="#h22-0-1102" id="h22-0-1102" class="i">+		    !(entryname = git_tree_entry_name(entry)))
</a><a href="#h22-0-1103" id="h22-0-1103" class="i">+			return -1;
</a><a href="#h22-0-1104" id="h22-0-1104" class="i">+		joinpath(entrypath, sizeof(entrypath), path, entryname);
</a><a href="#h22-0-1105" id="h22-0-1105" class="i">+
</a><a href="#h22-0-1106" id="h22-0-1106" class="i">+		r = snprintf(filepath, sizeof(filepath), &quot;file/%s.html&quot;,
</a><a href="#h22-0-1107" id="h22-0-1107" class="i">+		         entrypath);
</a><a href="#h22-0-1108" id="h22-0-1108" class="i">+		if (r &lt; 0 || (size_t)r &gt;= sizeof(filepath))
</a><a href="#h22-0-1109" id="h22-0-1109" class="i">+			errx(1, &quot;path truncated: &#39;file/%s.html&#39;&quot;, entrypath);
</a><a href="#h22-0-1110" id="h22-0-1110" class="i">+
</a><a href="#h22-0-1111" id="h22-0-1111" class="i">+		if (!git_tree_entry_to_object(&amp;obj, repo, entry)) {
</a><a href="#h22-0-1112" id="h22-0-1112" class="i">+			switch (git_object_type(obj)) {
</a><a href="#h22-0-1113" id="h22-0-1113" class="i">+			case GIT_OBJ_BLOB:
</a><a href="#h22-0-1114" id="h22-0-1114" class="i">+				break;
</a><a href="#h22-0-1115" id="h22-0-1115" class="i">+			case GIT_OBJ_TREE:
</a><a href="#h22-0-1116" id="h22-0-1116" class="i">+				/* NOTE: recurses */
</a><a href="#h22-0-1117" id="h22-0-1117" class="i">+				ret = writefilestree(fp, (git_tree *)obj,
</a><a href="#h22-0-1118" id="h22-0-1118" class="i">+				                     entrypath);
</a><a href="#h22-0-1119" id="h22-0-1119" class="i">+				git_object_free(obj);
</a><a href="#h22-0-1120" id="h22-0-1120" class="i">+				if (ret)
</a><a href="#h22-0-1121" id="h22-0-1121" class="i">+					return ret;
</a><a href="#h22-0-1122" id="h22-0-1122" class="i">+				continue;
</a><a href="#h22-0-1123" id="h22-0-1123" class="i">+			default:
</a><a href="#h22-0-1124" id="h22-0-1124" class="i">+				git_object_free(obj);
</a><a href="#h22-0-1125" id="h22-0-1125" class="i">+				continue;
</a><a href="#h22-0-1126" id="h22-0-1126" class="i">+			}
</a><a href="#h22-0-1127" id="h22-0-1127" class="i">+
</a><a href="#h22-0-1128" id="h22-0-1128" class="i">+			filesize = git_blob_rawsize((git_blob *)obj);
</a><a href="#h22-0-1129" id="h22-0-1129" class="i">+			lc = writeblob(obj, filepath, entryname, filesize);
</a><a href="#h22-0-1130" id="h22-0-1130" class="i">+
</a><a href="#h22-0-1131" id="h22-0-1131" class="i">+			fputs(&quot;&lt;tr&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-1132" id="h22-0-1132" class="i">+			fputs(filemode(git_tree_entry_filemode(entry)), fp);
</a><a href="#h22-0-1133" id="h22-0-1133" class="i">+			fprintf(fp, &quot;&lt;/td&gt;&lt;td&gt;&lt;a href=\&quot;%s&quot;, relpath);
</a><a href="#h22-0-1134" id="h22-0-1134" class="i">+			percentencode(fp, filepath, strlen(filepath));
</a><a href="#h22-0-1135" id="h22-0-1135" class="i">+			fputs(&quot;\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-1136" id="h22-0-1136" class="i">+			xmlencode(fp, entrypath, strlen(entrypath));
</a><a href="#h22-0-1137" id="h22-0-1137" class="i">+			fputs(&quot;&lt;/a&gt;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&quot;, fp);
</a><a href="#h22-0-1138" id="h22-0-1138" class="i">+			if (lc &gt; 0)
</a><a href="#h22-0-1139" id="h22-0-1139" class="i">+				fprintf(fp, &quot;%zuL&quot;, lc);
</a><a href="#h22-0-1140" id="h22-0-1140" class="i">+			else
</a><a href="#h22-0-1141" id="h22-0-1141" class="i">+				fprintf(fp, &quot;%zuB&quot;, filesize);
</a><a href="#h22-0-1142" id="h22-0-1142" class="i">+			fputs(&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;, fp);
</a><a href="#h22-0-1143" id="h22-0-1143" class="i">+			git_object_free(obj);
</a><a href="#h22-0-1144" id="h22-0-1144" class="i">+		} else if (git_tree_entry_type(entry) == GIT_OBJ_COMMIT) {
</a><a href="#h22-0-1145" id="h22-0-1145" class="i">+			/* commit object in tree is a submodule */
</a><a href="#h22-0-1146" id="h22-0-1146" class="i">+			fprintf(fp, &quot;&lt;tr&gt;&lt;td&gt;m---------&lt;/td&gt;&lt;td&gt;&lt;a href=\&quot;%sfile/.gitmodules.html\&quot;&gt;&quot;,
</a><a href="#h22-0-1147" id="h22-0-1147" class="i">+				relpath);
</a><a href="#h22-0-1148" id="h22-0-1148" class="i">+			xmlencode(fp, entrypath, strlen(entrypath));
</a><a href="#h22-0-1149" id="h22-0-1149" class="i">+			fputs(&quot;&lt;/a&gt; @ &quot;, fp);
</a><a href="#h22-0-1150" id="h22-0-1150" class="i">+			git_oid_tostr(oid, sizeof(oid), git_tree_entry_id(entry));
</a><a href="#h22-0-1151" id="h22-0-1151" class="i">+			xmlencode(fp, oid, strlen(oid));
</a><a href="#h22-0-1152" id="h22-0-1152" class="i">+			fputs(&quot;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&lt;/td&gt;&lt;/tr&gt;\n&quot;, fp);
</a><a href="#h22-0-1153" id="h22-0-1153" class="i">+		}
</a><a href="#h22-0-1154" id="h22-0-1154" class="i">+	}
</a><a href="#h22-0-1155" id="h22-0-1155" class="i">+
</a><a href="#h22-0-1156" id="h22-0-1156" class="i">+	return 0;
</a><a href="#h22-0-1157" id="h22-0-1157" class="i">+}
</a><a href="#h22-0-1158" id="h22-0-1158" class="i">+
</a><a href="#h22-0-1159" id="h22-0-1159" class="i">+int
</a><a href="#h22-0-1160" id="h22-0-1160" class="i">+writefiles(FILE *fp, const git_oid *id)
</a><a href="#h22-0-1161" id="h22-0-1161" class="i">+{
</a><a href="#h22-0-1162" id="h22-0-1162" class="i">+	git_tree *tree = NULL;
</a><a href="#h22-0-1163" id="h22-0-1163" class="i">+	git_commit *commit = NULL;
</a><a href="#h22-0-1164" id="h22-0-1164" class="i">+	int ret = -1;
</a><a href="#h22-0-1165" id="h22-0-1165" class="i">+
</a><a href="#h22-0-1166" id="h22-0-1166" class="i">+	fputs(&quot;&lt;table id=\&quot;files\&quot;&gt;&lt;thead&gt;\n&lt;tr&gt;&quot;
</a><a href="#h22-0-1167" id="h22-0-1167" class="i">+	      &quot;&lt;td&gt;&lt;b&gt;Mode&lt;/b&gt;&lt;/td&gt;&lt;td&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1168" id="h22-0-1168" class="i">+	      &quot;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&lt;b&gt;Size&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1169" id="h22-0-1169" class="i">+	      &quot;&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&quot;, fp);
</a><a href="#h22-0-1170" id="h22-0-1170" class="i">+
</a><a href="#h22-0-1171" id="h22-0-1171" class="i">+	if (!git_commit_lookup(&amp;commit, repo, id) &amp;&amp;
</a><a href="#h22-0-1172" id="h22-0-1172" class="i">+	    !git_commit_tree(&amp;tree, commit))
</a><a href="#h22-0-1173" id="h22-0-1173" class="i">+		ret = writefilestree(fp, tree, &quot;&quot;);
</a><a href="#h22-0-1174" id="h22-0-1174" class="i">+
</a><a href="#h22-0-1175" id="h22-0-1175" class="i">+	fputs(&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;, fp);
</a><a href="#h22-0-1176" id="h22-0-1176" class="i">+
</a><a href="#h22-0-1177" id="h22-0-1177" class="i">+	git_commit_free(commit);
</a><a href="#h22-0-1178" id="h22-0-1178" class="i">+	git_tree_free(tree);
</a><a href="#h22-0-1179" id="h22-0-1179" class="i">+
</a><a href="#h22-0-1180" id="h22-0-1180" class="i">+	return ret;
</a><a href="#h22-0-1181" id="h22-0-1181" class="i">+}
</a><a href="#h22-0-1182" id="h22-0-1182" class="i">+
</a><a href="#h22-0-1183" id="h22-0-1183" class="i">+int
</a><a href="#h22-0-1184" id="h22-0-1184" class="i">+writerefs(FILE *fp)
</a><a href="#h22-0-1185" id="h22-0-1185" class="i">+{
</a><a href="#h22-0-1186" id="h22-0-1186" class="i">+	struct referenceinfo *ris = NULL;
</a><a href="#h22-0-1187" id="h22-0-1187" class="i">+	struct commitinfo *ci;
</a><a href="#h22-0-1188" id="h22-0-1188" class="i">+	size_t count, i, j, refcount;
</a><a href="#h22-0-1189" id="h22-0-1189" class="i">+	const char *titles[] = { &quot;Branches&quot;, &quot;Tags&quot; };
</a><a href="#h22-0-1190" id="h22-0-1190" class="i">+	const char *ids[] = { &quot;branches&quot;, &quot;tags&quot; };
</a><a href="#h22-0-1191" id="h22-0-1191" class="i">+	const char *s;
</a><a href="#h22-0-1192" id="h22-0-1192" class="i">+
</a><a href="#h22-0-1193" id="h22-0-1193" class="i">+	if (getrefs(&amp;ris, &amp;refcount) == -1)
</a><a href="#h22-0-1194" id="h22-0-1194" class="i">+		return -1;
</a><a href="#h22-0-1195" id="h22-0-1195" class="i">+
</a><a href="#h22-0-1196" id="h22-0-1196" class="i">+	for (i = 0, j = 0, count = 0; i &lt; refcount; i++) {
</a><a href="#h22-0-1197" id="h22-0-1197" class="i">+		if (j == 0 &amp;&amp; git_reference_is_tag(ris[i].ref)) {
</a><a href="#h22-0-1198" id="h22-0-1198" class="i">+			if (count)
</a><a href="#h22-0-1199" id="h22-0-1199" class="i">+				fputs(&quot;&lt;/tbody&gt;&lt;/table&gt;&lt;br/&gt;\n&quot;, fp);
</a><a href="#h22-0-1200" id="h22-0-1200" class="i">+			count = 0;
</a><a href="#h22-0-1201" id="h22-0-1201" class="i">+			j = 1;
</a><a href="#h22-0-1202" id="h22-0-1202" class="i">+		}
</a><a href="#h22-0-1203" id="h22-0-1203" class="i">+
</a><a href="#h22-0-1204" id="h22-0-1204" class="i">+		/* print header if it has an entry (first). */
</a><a href="#h22-0-1205" id="h22-0-1205" class="i">+		if (++count == 1) {
</a><a href="#h22-0-1206" id="h22-0-1206" class="i">+			fprintf(fp, &quot;&lt;h2&gt;%s&lt;/h2&gt;&lt;table id=\&quot;%s\&quot;&gt;&quot;
</a><a href="#h22-0-1207" id="h22-0-1207" class="i">+		                &quot;&lt;thead&gt;\n&lt;tr&gt;&lt;td&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1208" id="h22-0-1208" class="i">+			        &quot;&lt;td&gt;&lt;b&gt;Last commit date&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1209" id="h22-0-1209" class="i">+			        &quot;&lt;td&gt;&lt;b&gt;Author&lt;/b&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&quot;
</a><a href="#h22-0-1210" id="h22-0-1210" class="i">+			        &quot;&lt;/thead&gt;&lt;tbody&gt;\n&quot;,
</a><a href="#h22-0-1211" id="h22-0-1211" class="i">+			         titles[j], ids[j]);
</a><a href="#h22-0-1212" id="h22-0-1212" class="i">+		}
</a><a href="#h22-0-1213" id="h22-0-1213" class="i">+
</a><a href="#h22-0-1214" id="h22-0-1214" class="i">+		ci = ris[i].ci;
</a><a href="#h22-0-1215" id="h22-0-1215" class="i">+		s = git_reference_shorthand(ris[i].ref);
</a><a href="#h22-0-1216" id="h22-0-1216" class="i">+
</a><a href="#h22-0-1217" id="h22-0-1217" class="i">+		fputs(&quot;&lt;tr&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-1218" id="h22-0-1218" class="i">+		xmlencode(fp, s, strlen(s));
</a><a href="#h22-0-1219" id="h22-0-1219" class="i">+		fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-1220" id="h22-0-1220" class="i">+		if (ci-&gt;author)
</a><a href="#h22-0-1221" id="h22-0-1221" class="i">+			printtimeshort(fp, &amp;(ci-&gt;author-&gt;when));
</a><a href="#h22-0-1222" id="h22-0-1222" class="i">+		fputs(&quot;&lt;/td&gt;&lt;td&gt;&quot;, fp);
</a><a href="#h22-0-1223" id="h22-0-1223" class="i">+		if (ci-&gt;author)
</a><a href="#h22-0-1224" id="h22-0-1224" class="i">+			xmlencode(fp, ci-&gt;author-&gt;name, strlen(ci-&gt;author-&gt;name));
</a><a href="#h22-0-1225" id="h22-0-1225" class="i">+		fputs(&quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;, fp);
</a><a href="#h22-0-1226" id="h22-0-1226" class="i">+	}
</a><a href="#h22-0-1227" id="h22-0-1227" class="i">+	/* table footer */
</a><a href="#h22-0-1228" id="h22-0-1228" class="i">+	if (count)
</a><a href="#h22-0-1229" id="h22-0-1229" class="i">+		fputs(&quot;&lt;/tbody&gt;&lt;/table&gt;&lt;br/&gt;\n&quot;, fp);
</a><a href="#h22-0-1230" id="h22-0-1230" class="i">+
</a><a href="#h22-0-1231" id="h22-0-1231" class="i">+	for (i = 0; i &lt; refcount; i++) {
</a><a href="#h22-0-1232" id="h22-0-1232" class="i">+		commitinfo_free(ris[i].ci);
</a><a href="#h22-0-1233" id="h22-0-1233" class="i">+		git_reference_free(ris[i].ref);
</a><a href="#h22-0-1234" id="h22-0-1234" class="i">+	}
</a><a href="#h22-0-1235" id="h22-0-1235" class="i">+	free(ris);
</a><a href="#h22-0-1236" id="h22-0-1236" class="i">+
</a><a href="#h22-0-1237" id="h22-0-1237" class="i">+	return 0;
</a><a href="#h22-0-1238" id="h22-0-1238" class="i">+}
</a><a href="#h22-0-1239" id="h22-0-1239" class="i">+
</a><a href="#h22-0-1240" id="h22-0-1240" class="i">+void
</a><a href="#h22-0-1241" id="h22-0-1241" class="i">+usage(char *argv0)
</a><a href="#h22-0-1242" id="h22-0-1242" class="i">+{
</a><a href="#h22-0-1243" id="h22-0-1243" class="i">+	fprintf(stderr, &quot;usage: %s [-c cachefile | -l commits] &quot;
</a><a href="#h22-0-1244" id="h22-0-1244" class="i">+	        &quot;[-u baseurl] repodir\n&quot;, argv0);
</a><a href="#h22-0-1245" id="h22-0-1245" class="i">+	exit(1);
</a><a href="#h22-0-1246" id="h22-0-1246" class="i">+}
</a><a href="#h22-0-1247" id="h22-0-1247" class="i">+
</a><a href="#h22-0-1248" id="h22-0-1248" class="i">+int
</a><a href="#h22-0-1249" id="h22-0-1249" class="i">+main(int argc, char *argv[])
</a><a href="#h22-0-1250" id="h22-0-1250" class="i">+{
</a><a href="#h22-0-1251" id="h22-0-1251" class="i">+	git_object *obj = NULL;
</a><a href="#h22-0-1252" id="h22-0-1252" class="i">+	const git_oid *head = NULL;
</a><a href="#h22-0-1253" id="h22-0-1253" class="i">+	mode_t mask;
</a><a href="#h22-0-1254" id="h22-0-1254" class="i">+	FILE *fp, *fpread;
</a><a href="#h22-0-1255" id="h22-0-1255" class="i">+	char path[PATH_MAX], repodirabs[PATH_MAX + 1], *p;
</a><a href="#h22-0-1256" id="h22-0-1256" class="i">+	char tmppath[64] = &quot;cache.XXXXXXXXXXXX&quot;, buf[BUFSIZ];
</a><a href="#h22-0-1257" id="h22-0-1257" class="i">+	size_t n;
</a><a href="#h22-0-1258" id="h22-0-1258" class="i">+	int i, fd;
</a><a href="#h22-0-1259" id="h22-0-1259" class="i">+
</a><a href="#h22-0-1260" id="h22-0-1260" class="i">+	for (i = 1; i &lt; argc; i++) {
</a><a href="#h22-0-1261" id="h22-0-1261" class="i">+		if (argv[i][0] != &#39;-&#39;) {
</a><a href="#h22-0-1262" id="h22-0-1262" class="i">+			if (repodir)
</a><a href="#h22-0-1263" id="h22-0-1263" class="i">+				usage(argv[0]);
</a><a href="#h22-0-1264" id="h22-0-1264" class="i">+			repodir = argv[i];
</a><a href="#h22-0-1265" id="h22-0-1265" class="i">+		} else if (argv[i][1] == &#39;c&#39;) {
</a><a href="#h22-0-1266" id="h22-0-1266" class="i">+			if (nlogcommits &gt; 0 || i + 1 &gt;= argc)
</a><a href="#h22-0-1267" id="h22-0-1267" class="i">+				usage(argv[0]);
</a><a href="#h22-0-1268" id="h22-0-1268" class="i">+			cachefile = argv[++i];
</a><a href="#h22-0-1269" id="h22-0-1269" class="i">+		} else if (argv[i][1] == &#39;l&#39;) {
</a><a href="#h22-0-1270" id="h22-0-1270" class="i">+			if (cachefile || i + 1 &gt;= argc)
</a><a href="#h22-0-1271" id="h22-0-1271" class="i">+				usage(argv[0]);
</a><a href="#h22-0-1272" id="h22-0-1272" class="i">+			errno = 0;
</a><a href="#h22-0-1273" id="h22-0-1273" class="i">+			nlogcommits = strtoll(argv[++i], &amp;p, 10);
</a><a href="#h22-0-1274" id="h22-0-1274" class="i">+			if (argv[i][0] == &#39;\0&#39; || *p != &#39;\0&#39; ||
</a><a href="#h22-0-1275" id="h22-0-1275" class="i">+			    nlogcommits &lt;= 0 || errno)
</a><a href="#h22-0-1276" id="h22-0-1276" class="i">+				usage(argv[0]);
</a><a href="#h22-0-1277" id="h22-0-1277" class="i">+		} else if (argv[i][1] == &#39;u&#39;) {
</a><a href="#h22-0-1278" id="h22-0-1278" class="i">+			if (i + 1 &gt;= argc)
</a><a href="#h22-0-1279" id="h22-0-1279" class="i">+				usage(argv[0]);
</a><a href="#h22-0-1280" id="h22-0-1280" class="i">+			baseurl = argv[++i];
</a><a href="#h22-0-1281" id="h22-0-1281" class="i">+		}
</a><a href="#h22-0-1282" id="h22-0-1282" class="i">+	}
</a><a href="#h22-0-1283" id="h22-0-1283" class="i">+	if (!repodir)
</a><a href="#h22-0-1284" id="h22-0-1284" class="i">+		usage(argv[0]);
</a><a href="#h22-0-1285" id="h22-0-1285" class="i">+
</a><a href="#h22-0-1286" id="h22-0-1286" class="i">+	if (!realpath(repodir, repodirabs))
</a><a href="#h22-0-1287" id="h22-0-1287" class="i">+		err(1, &quot;realpath&quot;);
</a><a href="#h22-0-1288" id="h22-0-1288" class="i">+
</a><a href="#h22-0-1289" id="h22-0-1289" class="i">+	/* do not search outside the git repository:
</a><a href="#h22-0-1290" id="h22-0-1290" class="i">+	   GIT_CONFIG_LEVEL_APP is the highest level currently */
</a><a href="#h22-0-1291" id="h22-0-1291" class="i">+	git_libgit2_init();
</a><a href="#h22-0-1292" id="h22-0-1292" class="i">+	for (i = 1; i &lt;= GIT_CONFIG_LEVEL_APP; i++)
</a><a href="#h22-0-1293" id="h22-0-1293" class="i">+		git_libgit2_opts(GIT_OPT_SET_SEARCH_PATH, i, &quot;&quot;);
</a><a href="#h22-0-1294" id="h22-0-1294" class="i">+	/* do not require the git repository to be owned by the current user */
</a><a href="#h22-0-1295" id="h22-0-1295" class="i">+	git_libgit2_opts(GIT_OPT_SET_OWNER_VALIDATION, 0);
</a><a href="#h22-0-1296" id="h22-0-1296" class="i">+
</a><a href="#h22-0-1297" id="h22-0-1297" class="i">+#ifdef __OpenBSD__
</a><a href="#h22-0-1298" id="h22-0-1298" class="i">+	if (unveil(repodir, &quot;r&quot;) == -1)
</a><a href="#h22-0-1299" id="h22-0-1299" class="i">+		err(1, &quot;unveil: %s&quot;, repodir);
</a><a href="#h22-0-1300" id="h22-0-1300" class="i">+	if (unveil(&quot;.&quot;, &quot;rwc&quot;) == -1)
</a><a href="#h22-0-1301" id="h22-0-1301" class="i">+		err(1, &quot;unveil: .&quot;);
</a><a href="#h22-0-1302" id="h22-0-1302" class="i">+	if (cachefile &amp;&amp; unveil(cachefile, &quot;rwc&quot;) == -1)
</a><a href="#h22-0-1303" id="h22-0-1303" class="i">+		err(1, &quot;unveil: %s&quot;, cachefile);
</a><a href="#h22-0-1304" id="h22-0-1304" class="i">+
</a><a href="#h22-0-1305" id="h22-0-1305" class="i">+	if (cachefile) {
</a><a href="#h22-0-1306" id="h22-0-1306" class="i">+		if (pledge(&quot;stdio rpath wpath cpath fattr&quot;, NULL) == -1)
</a><a href="#h22-0-1307" id="h22-0-1307" class="i">+			err(1, &quot;pledge&quot;);
</a><a href="#h22-0-1308" id="h22-0-1308" class="i">+	} else {
</a><a href="#h22-0-1309" id="h22-0-1309" class="i">+		if (pledge(&quot;stdio rpath wpath cpath&quot;, NULL) == -1)
</a><a href="#h22-0-1310" id="h22-0-1310" class="i">+			err(1, &quot;pledge&quot;);
</a><a href="#h22-0-1311" id="h22-0-1311" class="i">+	}
</a><a href="#h22-0-1312" id="h22-0-1312" class="i">+#endif
</a><a href="#h22-0-1313" id="h22-0-1313" class="i">+
</a><a href="#h22-0-1314" id="h22-0-1314" class="i">+	if (git_repository_open_ext(&amp;repo, repodir,
</a><a href="#h22-0-1315" id="h22-0-1315" class="i">+		GIT_REPOSITORY_OPEN_NO_SEARCH, NULL) &lt; 0) {
</a><a href="#h22-0-1316" id="h22-0-1316" class="i">+		fprintf(stderr, &quot;%s: cannot open repository\n&quot;, argv[0]);
</a><a href="#h22-0-1317" id="h22-0-1317" class="i">+		return 1;
</a><a href="#h22-0-1318" id="h22-0-1318" class="i">+	}
</a><a href="#h22-0-1319" id="h22-0-1319" class="i">+
</a><a href="#h22-0-1320" id="h22-0-1320" class="i">+	/* find HEAD */
</a><a href="#h22-0-1321" id="h22-0-1321" class="i">+	if (!git_revparse_single(&amp;obj, repo, &quot;HEAD&quot;))
</a><a href="#h22-0-1322" id="h22-0-1322" class="i">+		head = git_object_id(obj);
</a><a href="#h22-0-1323" id="h22-0-1323" class="i">+	git_object_free(obj);
</a><a href="#h22-0-1324" id="h22-0-1324" class="i">+
</a><a href="#h22-0-1325" id="h22-0-1325" class="i">+	/* use directory name as name */
</a><a href="#h22-0-1326" id="h22-0-1326" class="i">+	if ((name = strrchr(repodirabs, &#39;/&#39;)))
</a><a href="#h22-0-1327" id="h22-0-1327" class="i">+		name++;
</a><a href="#h22-0-1328" id="h22-0-1328" class="i">+	else
</a><a href="#h22-0-1329" id="h22-0-1329" class="i">+		name = &quot;&quot;;
</a><a href="#h22-0-1330" id="h22-0-1330" class="i">+
</a><a href="#h22-0-1331" id="h22-0-1331" class="i">+	/* strip .git suffix */
</a><a href="#h22-0-1332" id="h22-0-1332" class="i">+	if (!(strippedname = strdup(name)))
</a><a href="#h22-0-1333" id="h22-0-1333" class="i">+		err(1, &quot;strdup&quot;);
</a><a href="#h22-0-1334" id="h22-0-1334" class="i">+	if ((p = strrchr(strippedname, &#39;.&#39;)))
</a><a href="#h22-0-1335" id="h22-0-1335" class="i">+		if (!strcmp(p, &quot;.git&quot;))
</a><a href="#h22-0-1336" id="h22-0-1336" class="i">+			*p = &#39;\0&#39;;
</a><a href="#h22-0-1337" id="h22-0-1337" class="i">+
</a><a href="#h22-0-1338" id="h22-0-1338" class="i">+	/* read description or .git/description */
</a><a href="#h22-0-1339" id="h22-0-1339" class="i">+	joinpath(path, sizeof(path), repodir, &quot;description&quot;);
</a><a href="#h22-0-1340" id="h22-0-1340" class="i">+	if (!(fpread = fopen(path, &quot;r&quot;))) {
</a><a href="#h22-0-1341" id="h22-0-1341" class="i">+		joinpath(path, sizeof(path), repodir, &quot;.git/description&quot;);
</a><a href="#h22-0-1342" id="h22-0-1342" class="i">+		fpread = fopen(path, &quot;r&quot;);
</a><a href="#h22-0-1343" id="h22-0-1343" class="i">+	}
</a><a href="#h22-0-1344" id="h22-0-1344" class="i">+	if (fpread) {
</a><a href="#h22-0-1345" id="h22-0-1345" class="i">+		if (!fgets(description, sizeof(description), fpread))
</a><a href="#h22-0-1346" id="h22-0-1346" class="i">+			description[0] = &#39;\0&#39;;
</a><a href="#h22-0-1347" id="h22-0-1347" class="i">+		checkfileerror(fpread, path, &#39;r&#39;);
</a><a href="#h22-0-1348" id="h22-0-1348" class="i">+		fclose(fpread);
</a><a href="#h22-0-1349" id="h22-0-1349" class="i">+	}
</a><a href="#h22-0-1350" id="h22-0-1350" class="i">+
</a><a href="#h22-0-1351" id="h22-0-1351" class="i">+	/* read url or .git/url */
</a><a href="#h22-0-1352" id="h22-0-1352" class="i">+	joinpath(path, sizeof(path), repodir, &quot;url&quot;);
</a><a href="#h22-0-1353" id="h22-0-1353" class="i">+	if (!(fpread = fopen(path, &quot;r&quot;))) {
</a><a href="#h22-0-1354" id="h22-0-1354" class="i">+		joinpath(path, sizeof(path), repodir, &quot;.git/url&quot;);
</a><a href="#h22-0-1355" id="h22-0-1355" class="i">+		fpread = fopen(path, &quot;r&quot;);
</a><a href="#h22-0-1356" id="h22-0-1356" class="i">+	}
</a><a href="#h22-0-1357" id="h22-0-1357" class="i">+	if (fpread) {
</a><a href="#h22-0-1358" id="h22-0-1358" class="i">+		if (!fgets(cloneurl, sizeof(cloneurl), fpread))
</a><a href="#h22-0-1359" id="h22-0-1359" class="i">+			cloneurl[0] = &#39;\0&#39;;
</a><a href="#h22-0-1360" id="h22-0-1360" class="i">+		checkfileerror(fpread, path, &#39;r&#39;);
</a><a href="#h22-0-1361" id="h22-0-1361" class="i">+		fclose(fpread);
</a><a href="#h22-0-1362" id="h22-0-1362" class="i">+		cloneurl[strcspn(cloneurl, &quot;\n&quot;)] = &#39;\0&#39;;
</a><a href="#h22-0-1363" id="h22-0-1363" class="i">+	}
</a><a href="#h22-0-1364" id="h22-0-1364" class="i">+
</a><a href="#h22-0-1365" id="h22-0-1365" class="i">+	/* check LICENSE */
</a><a href="#h22-0-1366" id="h22-0-1366" class="i">+	for (i = 0; i &lt; LEN(licensefiles) &amp;&amp; !license; i++) {
</a><a href="#h22-0-1367" id="h22-0-1367" class="i">+		if (!git_revparse_single(&amp;obj, repo, licensefiles[i]) &amp;&amp;
</a><a href="#h22-0-1368" id="h22-0-1368" class="i">+		    git_object_type(obj) == GIT_OBJ_BLOB)
</a><a href="#h22-0-1369" id="h22-0-1369" class="i">+			license = licensefiles[i] + strlen(&quot;HEAD:&quot;);
</a><a href="#h22-0-1370" id="h22-0-1370" class="i">+		git_object_free(obj);
</a><a href="#h22-0-1371" id="h22-0-1371" class="i">+	}
</a><a href="#h22-0-1372" id="h22-0-1372" class="i">+
</a><a href="#h22-0-1373" id="h22-0-1373" class="i">+	/* check README */
</a><a href="#h22-0-1374" id="h22-0-1374" class="i">+	for (i = 0; i &lt; LEN(readmefiles) &amp;&amp; !readme; i++) {
</a><a href="#h22-0-1375" id="h22-0-1375" class="i">+		if (!git_revparse_single(&amp;obj, repo, readmefiles[i]) &amp;&amp;
</a><a href="#h22-0-1376" id="h22-0-1376" class="i">+		    git_object_type(obj) == GIT_OBJ_BLOB)
</a><a href="#h22-0-1377" id="h22-0-1377" class="i">+			readme = readmefiles[i] + strlen(&quot;HEAD:&quot;);
</a><a href="#h22-0-1378" id="h22-0-1378" class="i">+		git_object_free(obj);
</a><a href="#h22-0-1379" id="h22-0-1379" class="i">+	}
</a><a href="#h22-0-1380" id="h22-0-1380" class="i">+
</a><a href="#h22-0-1381" id="h22-0-1381" class="i">+	if (!git_revparse_single(&amp;obj, repo, &quot;HEAD:.gitmodules&quot;) &amp;&amp;
</a><a href="#h22-0-1382" id="h22-0-1382" class="i">+	    git_object_type(obj) == GIT_OBJ_BLOB)
</a><a href="#h22-0-1383" id="h22-0-1383" class="i">+		submodules = &quot;.gitmodules&quot;;
</a><a href="#h22-0-1384" id="h22-0-1384" class="i">+	git_object_free(obj);
</a><a href="#h22-0-1385" id="h22-0-1385" class="i">+
</a><a href="#h22-0-1386" id="h22-0-1386" class="i">+	/* log for HEAD */
</a><a href="#h22-0-1387" id="h22-0-1387" class="i">+	fp = efopen(&quot;log.html&quot;, &quot;w&quot;);
</a><a href="#h22-0-1388" id="h22-0-1388" class="i">+	relpath = &quot;&quot;;
</a><a href="#h22-0-1389" id="h22-0-1389" class="i">+	mkdir(&quot;commit&quot;, S_IRWXU | S_IRWXG | S_IRWXO);
</a><a href="#h22-0-1390" id="h22-0-1390" class="i">+	writeheader(fp, &quot;Log&quot;);
</a><a href="#h22-0-1391" id="h22-0-1391" class="i">+	fputs(&quot;&lt;table id=\&quot;log\&quot;&gt;&lt;thead&gt;\n&lt;tr&gt;&lt;td&gt;&lt;b&gt;Date&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1392" id="h22-0-1392" class="i">+	      &quot;&lt;td&gt;&lt;b&gt;Commit message&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1393" id="h22-0-1393" class="i">+	      &quot;&lt;td&gt;&lt;b&gt;Author&lt;/b&gt;&lt;/td&gt;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&lt;b&gt;Files&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1394" id="h22-0-1394" class="i">+	      &quot;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&lt;b&gt;+&lt;/b&gt;&lt;/td&gt;&quot;
</a><a href="#h22-0-1395" id="h22-0-1395" class="i">+	      &quot;&lt;td class=\&quot;num\&quot; align=\&quot;right\&quot;&gt;&lt;b&gt;-&lt;/b&gt;&lt;/td&gt;&lt;/tr&gt;\n&lt;/thead&gt;&lt;tbody&gt;\n&quot;, fp);
</a><a href="#h22-0-1396" id="h22-0-1396" class="i">+
</a><a href="#h22-0-1397" id="h22-0-1397" class="i">+	if (cachefile &amp;&amp; head) {
</a><a href="#h22-0-1398" id="h22-0-1398" class="i">+		/* read from cache file (does not need to exist) */
</a><a href="#h22-0-1399" id="h22-0-1399" class="i">+		if ((rcachefp = fopen(cachefile, &quot;r&quot;))) {
</a><a href="#h22-0-1400" id="h22-0-1400" class="i">+			if (!fgets(lastoidstr, sizeof(lastoidstr), rcachefp))
</a><a href="#h22-0-1401" id="h22-0-1401" class="i">+				errx(1, &quot;%s: no object id&quot;, cachefile);
</a><a href="#h22-0-1402" id="h22-0-1402" class="i">+			if (git_oid_fromstr(&amp;lastoid, lastoidstr))
</a><a href="#h22-0-1403" id="h22-0-1403" class="i">+				errx(1, &quot;%s: invalid object id&quot;, cachefile);
</a><a href="#h22-0-1404" id="h22-0-1404" class="i">+		}
</a><a href="#h22-0-1405" id="h22-0-1405" class="i">+
</a><a href="#h22-0-1406" id="h22-0-1406" class="i">+		/* write log to (temporary) cache */
</a><a href="#h22-0-1407" id="h22-0-1407" class="i">+		if ((fd = mkstemp(tmppath)) == -1)
</a><a href="#h22-0-1408" id="h22-0-1408" class="i">+			err(1, &quot;mkstemp&quot;);
</a><a href="#h22-0-1409" id="h22-0-1409" class="i">+		if (!(wcachefp = fdopen(fd, &quot;w&quot;)))
</a><a href="#h22-0-1410" id="h22-0-1410" class="i">+			err(1, &quot;fdopen: &#39;%s&#39;&quot;, tmppath);
</a><a href="#h22-0-1411" id="h22-0-1411" class="i">+		/* write last commit id (HEAD) */
</a><a href="#h22-0-1412" id="h22-0-1412" class="i">+		git_oid_tostr(buf, sizeof(buf), head);
</a><a href="#h22-0-1413" id="h22-0-1413" class="i">+		fprintf(wcachefp, &quot;%s\n&quot;, buf);
</a><a href="#h22-0-1414" id="h22-0-1414" class="i">+
</a><a href="#h22-0-1415" id="h22-0-1415" class="i">+		writelog(fp, head);
</a><a href="#h22-0-1416" id="h22-0-1416" class="i">+
</a><a href="#h22-0-1417" id="h22-0-1417" class="i">+		if (rcachefp) {
</a><a href="#h22-0-1418" id="h22-0-1418" class="i">+			/* append previous log to log.html and the new cache */
</a><a href="#h22-0-1419" id="h22-0-1419" class="i">+			while (!feof(rcachefp)) {
</a><a href="#h22-0-1420" id="h22-0-1420" class="i">+				n = fread(buf, 1, sizeof(buf), rcachefp);
</a><a href="#h22-0-1421" id="h22-0-1421" class="i">+				if (ferror(rcachefp))
</a><a href="#h22-0-1422" id="h22-0-1422" class="i">+					break;
</a><a href="#h22-0-1423" id="h22-0-1423" class="i">+				if (fwrite(buf, 1, n, fp) != n ||
</a><a href="#h22-0-1424" id="h22-0-1424" class="i">+				    fwrite(buf, 1, n, wcachefp) != n)
</a><a href="#h22-0-1425" id="h22-0-1425" class="i">+					    break;
</a><a href="#h22-0-1426" id="h22-0-1426" class="i">+			}
</a><a href="#h22-0-1427" id="h22-0-1427" class="i">+			checkfileerror(rcachefp, cachefile, &#39;r&#39;);
</a><a href="#h22-0-1428" id="h22-0-1428" class="i">+			fclose(rcachefp);
</a><a href="#h22-0-1429" id="h22-0-1429" class="i">+		}
</a><a href="#h22-0-1430" id="h22-0-1430" class="i">+		checkfileerror(wcachefp, tmppath, &#39;w&#39;);
</a><a href="#h22-0-1431" id="h22-0-1431" class="i">+		fclose(wcachefp);
</a><a href="#h22-0-1432" id="h22-0-1432" class="i">+	} else {
</a><a href="#h22-0-1433" id="h22-0-1433" class="i">+		if (head)
</a><a href="#h22-0-1434" id="h22-0-1434" class="i">+			writelog(fp, head);
</a><a href="#h22-0-1435" id="h22-0-1435" class="i">+	}
</a><a href="#h22-0-1436" id="h22-0-1436" class="i">+
</a><a href="#h22-0-1437" id="h22-0-1437" class="i">+	fputs(&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;, fp);
</a><a href="#h22-0-1438" id="h22-0-1438" class="i">+	writefooter(fp);
</a><a href="#h22-0-1439" id="h22-0-1439" class="i">+	checkfileerror(fp, &quot;log.html&quot;, &#39;w&#39;);
</a><a href="#h22-0-1440" id="h22-0-1440" class="i">+	fclose(fp);
</a><a href="#h22-0-1441" id="h22-0-1441" class="i">+
</a><a href="#h22-0-1442" id="h22-0-1442" class="i">+	/* files for HEAD */
</a><a href="#h22-0-1443" id="h22-0-1443" class="i">+	fp = efopen(&quot;files.html&quot;, &quot;w&quot;);
</a><a href="#h22-0-1444" id="h22-0-1444" class="i">+	writeheader(fp, &quot;Files&quot;);
</a><a href="#h22-0-1445" id="h22-0-1445" class="i">+	if (head)
</a><a href="#h22-0-1446" id="h22-0-1446" class="i">+		writefiles(fp, head);
</a><a href="#h22-0-1447" id="h22-0-1447" class="i">+	writefooter(fp);
</a><a href="#h22-0-1448" id="h22-0-1448" class="i">+	checkfileerror(fp, &quot;files.html&quot;, &#39;w&#39;);
</a><a href="#h22-0-1449" id="h22-0-1449" class="i">+	fclose(fp);
</a><a href="#h22-0-1450" id="h22-0-1450" class="i">+
</a><a href="#h22-0-1451" id="h22-0-1451" class="i">+	/* summary page with branches and tags */
</a><a href="#h22-0-1452" id="h22-0-1452" class="i">+	fp = efopen(&quot;refs.html&quot;, &quot;w&quot;);
</a><a href="#h22-0-1453" id="h22-0-1453" class="i">+	writeheader(fp, &quot;Refs&quot;);
</a><a href="#h22-0-1454" id="h22-0-1454" class="i">+	writerefs(fp);
</a><a href="#h22-0-1455" id="h22-0-1455" class="i">+	writefooter(fp);
</a><a href="#h22-0-1456" id="h22-0-1456" class="i">+	checkfileerror(fp, &quot;refs.html&quot;, &#39;w&#39;);
</a><a href="#h22-0-1457" id="h22-0-1457" class="i">+	fclose(fp);
</a><a href="#h22-0-1458" id="h22-0-1458" class="i">+
</a><a href="#h22-0-1459" id="h22-0-1459" class="i">+	/* Atom feed */
</a><a href="#h22-0-1460" id="h22-0-1460" class="i">+	fp = efopen(&quot;atom.xml&quot;, &quot;w&quot;);
</a><a href="#h22-0-1461" id="h22-0-1461" class="i">+	writeatom(fp, 1);
</a><a href="#h22-0-1462" id="h22-0-1462" class="i">+	checkfileerror(fp, &quot;atom.xml&quot;, &#39;w&#39;);
</a><a href="#h22-0-1463" id="h22-0-1463" class="i">+	fclose(fp);
</a><a href="#h22-0-1464" id="h22-0-1464" class="i">+
</a><a href="#h22-0-1465" id="h22-0-1465" class="i">+	/* Atom feed for tags / releases */
</a><a href="#h22-0-1466" id="h22-0-1466" class="i">+	fp = efopen(&quot;tags.xml&quot;, &quot;w&quot;);
</a><a href="#h22-0-1467" id="h22-0-1467" class="i">+	writeatom(fp, 0);
</a><a href="#h22-0-1468" id="h22-0-1468" class="i">+	checkfileerror(fp, &quot;tags.xml&quot;, &#39;w&#39;);
</a><a href="#h22-0-1469" id="h22-0-1469" class="i">+	fclose(fp);
</a><a href="#h22-0-1470" id="h22-0-1470" class="i">+
</a><a href="#h22-0-1471" id="h22-0-1471" class="i">+	/* rename new cache file on success */
</a><a href="#h22-0-1472" id="h22-0-1472" class="i">+	if (cachefile &amp;&amp; head) {
</a><a href="#h22-0-1473" id="h22-0-1473" class="i">+		if (rename(tmppath, cachefile))
</a><a href="#h22-0-1474" id="h22-0-1474" class="i">+			err(1, &quot;rename: &#39;%s&#39; to &#39;%s&#39;&quot;, tmppath, cachefile);
</a><a href="#h22-0-1475" id="h22-0-1475" class="i">+		umask((mask = umask(0)));
</a><a href="#h22-0-1476" id="h22-0-1476" class="i">+		if (chmod(cachefile,
</a><a href="#h22-0-1477" id="h22-0-1477" class="i">+		    (S_IRUSR|S_IWUSR|S_IRGRP|S_IWGRP|S_IROTH|S_IWOTH) &amp; ~mask))
</a><a href="#h22-0-1478" id="h22-0-1478" class="i">+			err(1, &quot;chmod: &#39;%s&#39;&quot;, cachefile);
</a><a href="#h22-0-1479" id="h22-0-1479" class="i">+	}
</a><a href="#h22-0-1480" id="h22-0-1480" class="i">+
</a><a href="#h22-0-1481" id="h22-0-1481" class="i">+	/* cleanup */
</a><a href="#h22-0-1482" id="h22-0-1482" class="i">+	git_repository_free(repo);
</a><a href="#h22-0-1483" id="h22-0-1483" class="i">+	git_libgit2_shutdown();
</a><a href="#h22-0-1484" id="h22-0-1484" class="i">+
</a><a href="#h22-0-1485" id="h22-0-1485" class="i">+	return 0;
</a><a href="#h22-0-1486" id="h22-0-1486" class="i">+}
</a><b>diff --git a/<a id="h23" href="../file/stagit.o.html">stagit.o</a> b/<a href="../file/stagit.o.html">stagit.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h24" href="../file/strlcat.c.html">strlcat.c</a> b/<a href="../file/strlcat.c.html">strlcat.c</a></b>
<a href="#h24-0" id="h24-0" class="h">@@ -0,0 +1,57 @@
</a><a href="#h24-0-0" id="h24-0-0" class="i">+/*	$OpenBSD: strlcat.c,v 1.15 2015/03/02 21:41:08 millert Exp $	*/
</a><a href="#h24-0-1" id="h24-0-1" class="i">+
</a><a href="#h24-0-2" id="h24-0-2" class="i">+/*
</a><a href="#h24-0-3" id="h24-0-3" class="i">+ * Copyright (c) 1998, 2015 Todd C. Miller &lt;Todd.Miller@courtesan.com&gt;
</a><a href="#h24-0-4" id="h24-0-4" class="i">+ *
</a><a href="#h24-0-5" id="h24-0-5" class="i">+ * Permission to use, copy, modify, and distribute this software for any
</a><a href="#h24-0-6" id="h24-0-6" class="i">+ * purpose with or without fee is hereby granted, provided that the above
</a><a href="#h24-0-7" id="h24-0-7" class="i">+ * copyright notice and this permission notice appear in all copies.
</a><a href="#h24-0-8" id="h24-0-8" class="i">+ *
</a><a href="#h24-0-9" id="h24-0-9" class="i">+ * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES
</a><a href="#h24-0-10" id="h24-0-10" class="i">+ * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
</a><a href="#h24-0-11" id="h24-0-11" class="i">+ * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
</a><a href="#h24-0-12" id="h24-0-12" class="i">+ * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
</a><a href="#h24-0-13" id="h24-0-13" class="i">+ * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
</a><a href="#h24-0-14" id="h24-0-14" class="i">+ * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
</a><a href="#h24-0-15" id="h24-0-15" class="i">+ * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
</a><a href="#h24-0-16" id="h24-0-16" class="i">+ */
</a><a href="#h24-0-17" id="h24-0-17" class="i">+
</a><a href="#h24-0-18" id="h24-0-18" class="i">+#include &lt;sys/types.h&gt;
</a><a href="#h24-0-19" id="h24-0-19" class="i">+#include &lt;string.h&gt;
</a><a href="#h24-0-20" id="h24-0-20" class="i">+
</a><a href="#h24-0-21" id="h24-0-21" class="i">+#include &quot;compat.h&quot;
</a><a href="#h24-0-22" id="h24-0-22" class="i">+
</a><a href="#h24-0-23" id="h24-0-23" class="i">+/*
</a><a href="#h24-0-24" id="h24-0-24" class="i">+ * Appends src to string dst of size dsize (unlike strncat, dsize is the
</a><a href="#h24-0-25" id="h24-0-25" class="i">+ * full size of dst, not space left).  At most dsize-1 characters
</a><a href="#h24-0-26" id="h24-0-26" class="i">+ * will be copied.  Always NUL terminates (unless dsize &lt;= strlen(dst)).
</a><a href="#h24-0-27" id="h24-0-27" class="i">+ * Returns strlen(src) + MIN(dsize, strlen(initial dst)).
</a><a href="#h24-0-28" id="h24-0-28" class="i">+ * If retval &gt;= dsize, truncation occurred.
</a><a href="#h24-0-29" id="h24-0-29" class="i">+ */
</a><a href="#h24-0-30" id="h24-0-30" class="i">+size_t
</a><a href="#h24-0-31" id="h24-0-31" class="i">+strlcat(char *dst, const char *src, size_t dsize)
</a><a href="#h24-0-32" id="h24-0-32" class="i">+{
</a><a href="#h24-0-33" id="h24-0-33" class="i">+	const char *odst = dst;
</a><a href="#h24-0-34" id="h24-0-34" class="i">+	const char *osrc = src;
</a><a href="#h24-0-35" id="h24-0-35" class="i">+	size_t n = dsize;
</a><a href="#h24-0-36" id="h24-0-36" class="i">+	size_t dlen;
</a><a href="#h24-0-37" id="h24-0-37" class="i">+
</a><a href="#h24-0-38" id="h24-0-38" class="i">+	/* Find the end of dst and adjust bytes left but don&#39;t go past end. */
</a><a href="#h24-0-39" id="h24-0-39" class="i">+	while (n-- != 0 &amp;&amp; *dst != &#39;\0&#39;)
</a><a href="#h24-0-40" id="h24-0-40" class="i">+		dst++;
</a><a href="#h24-0-41" id="h24-0-41" class="i">+	dlen = dst - odst;
</a><a href="#h24-0-42" id="h24-0-42" class="i">+	n = dsize - dlen;
</a><a href="#h24-0-43" id="h24-0-43" class="i">+
</a><a href="#h24-0-44" id="h24-0-44" class="i">+	if (n-- == 0)
</a><a href="#h24-0-45" id="h24-0-45" class="i">+		return(dlen + strlen(src));
</a><a href="#h24-0-46" id="h24-0-46" class="i">+	while (*src != &#39;\0&#39;) {
</a><a href="#h24-0-47" id="h24-0-47" class="i">+		if (n != 0) {
</a><a href="#h24-0-48" id="h24-0-48" class="i">+			*dst++ = *src;
</a><a href="#h24-0-49" id="h24-0-49" class="i">+			n--;
</a><a href="#h24-0-50" id="h24-0-50" class="i">+		}
</a><a href="#h24-0-51" id="h24-0-51" class="i">+		src++;
</a><a href="#h24-0-52" id="h24-0-52" class="i">+	}
</a><a href="#h24-0-53" id="h24-0-53" class="i">+	*dst = &#39;\0&#39;;
</a><a href="#h24-0-54" id="h24-0-54" class="i">+
</a><a href="#h24-0-55" id="h24-0-55" class="i">+	return(dlen + (src - osrc));	/* count does not include NUL */
</a><a href="#h24-0-56" id="h24-0-56" class="i">+}
</a><b>diff --git a/<a id="h25" href="../file/strlcat.o.html">strlcat.o</a> b/<a href="../file/strlcat.o.html">strlcat.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h26" href="../file/strlcpy.c.html">strlcpy.c</a> b/<a href="../file/strlcpy.c.html">strlcpy.c</a></b>
<a href="#h26-0" id="h26-0" class="h">@@ -0,0 +1,52 @@
</a><a href="#h26-0-0" id="h26-0-0" class="i">+/*	$OpenBSD: strlcpy.c,v 1.12 2015/01/15 03:54:12 millert Exp $	*/
</a><a href="#h26-0-1" id="h26-0-1" class="i">+
</a><a href="#h26-0-2" id="h26-0-2" class="i">+/*
</a><a href="#h26-0-3" id="h26-0-3" class="i">+ * Copyright (c) 1998, 2015 Todd C. Miller &lt;Todd.Miller@courtesan.com&gt;
</a><a href="#h26-0-4" id="h26-0-4" class="i">+ *
</a><a href="#h26-0-5" id="h26-0-5" class="i">+ * Permission to use, copy, modify, and distribute this software for any
</a><a href="#h26-0-6" id="h26-0-6" class="i">+ * purpose with or without fee is hereby granted, provided that the above
</a><a href="#h26-0-7" id="h26-0-7" class="i">+ * copyright notice and this permission notice appear in all copies.
</a><a href="#h26-0-8" id="h26-0-8" class="i">+ *
</a><a href="#h26-0-9" id="h26-0-9" class="i">+ * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES
</a><a href="#h26-0-10" id="h26-0-10" class="i">+ * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
</a><a href="#h26-0-11" id="h26-0-11" class="i">+ * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
</a><a href="#h26-0-12" id="h26-0-12" class="i">+ * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
</a><a href="#h26-0-13" id="h26-0-13" class="i">+ * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
</a><a href="#h26-0-14" id="h26-0-14" class="i">+ * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
</a><a href="#h26-0-15" id="h26-0-15" class="i">+ * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
</a><a href="#h26-0-16" id="h26-0-16" class="i">+ */
</a><a href="#h26-0-17" id="h26-0-17" class="i">+
</a><a href="#h26-0-18" id="h26-0-18" class="i">+#include &lt;sys/types.h&gt;
</a><a href="#h26-0-19" id="h26-0-19" class="i">+#include &lt;string.h&gt;
</a><a href="#h26-0-20" id="h26-0-20" class="i">+
</a><a href="#h26-0-21" id="h26-0-21" class="i">+#include &quot;compat.h&quot;
</a><a href="#h26-0-22" id="h26-0-22" class="i">+
</a><a href="#h26-0-23" id="h26-0-23" class="i">+/*
</a><a href="#h26-0-24" id="h26-0-24" class="i">+ * Copy string src to buffer dst of size dsize.  At most dsize-1
</a><a href="#h26-0-25" id="h26-0-25" class="i">+ * chars will be copied.  Always NUL terminates (unless dsize == 0).
</a><a href="#h26-0-26" id="h26-0-26" class="i">+ * Returns strlen(src); if retval &gt;= dsize, truncation occurred.
</a><a href="#h26-0-27" id="h26-0-27" class="i">+ */
</a><a href="#h26-0-28" id="h26-0-28" class="i">+size_t
</a><a href="#h26-0-29" id="h26-0-29" class="i">+strlcpy(char *dst, const char *src, size_t dsize)
</a><a href="#h26-0-30" id="h26-0-30" class="i">+{
</a><a href="#h26-0-31" id="h26-0-31" class="i">+	const char *osrc = src;
</a><a href="#h26-0-32" id="h26-0-32" class="i">+	size_t nleft = dsize;
</a><a href="#h26-0-33" id="h26-0-33" class="i">+
</a><a href="#h26-0-34" id="h26-0-34" class="i">+	/* Copy as many bytes as will fit. */
</a><a href="#h26-0-35" id="h26-0-35" class="i">+	if (nleft != 0) {
</a><a href="#h26-0-36" id="h26-0-36" class="i">+		while (--nleft != 0) {
</a><a href="#h26-0-37" id="h26-0-37" class="i">+			if ((*dst++ = *src++) == &#39;\0&#39;)
</a><a href="#h26-0-38" id="h26-0-38" class="i">+				break;
</a><a href="#h26-0-39" id="h26-0-39" class="i">+		}
</a><a href="#h26-0-40" id="h26-0-40" class="i">+	}
</a><a href="#h26-0-41" id="h26-0-41" class="i">+
</a><a href="#h26-0-42" id="h26-0-42" class="i">+	/* Not enough room in dst, add NUL and traverse rest of src. */
</a><a href="#h26-0-43" id="h26-0-43" class="i">+	if (nleft == 0) {
</a><a href="#h26-0-44" id="h26-0-44" class="i">+		if (dsize != 0)
</a><a href="#h26-0-45" id="h26-0-45" class="i">+			*dst = &#39;\0&#39;;		/* NUL-terminate dst */
</a><a href="#h26-0-46" id="h26-0-46" class="i">+		while (*src++)
</a><a href="#h26-0-47" id="h26-0-47" class="i">+			;
</a><a href="#h26-0-48" id="h26-0-48" class="i">+	}
</a><a href="#h26-0-49" id="h26-0-49" class="i">+
</a><a href="#h26-0-50" id="h26-0-50" class="i">+	return(src - osrc - 1);	/* count does not include NUL */
</a><a href="#h26-0-51" id="h26-0-51" class="i">+}
</a><b>diff --git a/<a id="h27" href="../file/strlcpy.o.html">strlcpy.o</a> b/<a href="../file/strlcpy.o.html">strlcpy.o</a></b>
Binary files differ.
<b>diff --git a/<a id="h28" href="../file/style.css.html">style.css</a> b/<a href="../file/style.css.html">style.css</a></b>
<a href="#h28-0" id="h28-0" class="h">@@ -0,0 +1,154 @@
</a><a href="#h28-0-0" id="h28-0-0" class="i">+body {
</a><a href="#h28-0-1" id="h28-0-1" class="i">+	color: #000;
</a><a href="#h28-0-2" id="h28-0-2" class="i">+	background-color: #fff;
</a><a href="#h28-0-3" id="h28-0-3" class="i">+	font-family: monospace;
</a><a href="#h28-0-4" id="h28-0-4" class="i">+}
</a><a href="#h28-0-5" id="h28-0-5" class="i">+
</a><a href="#h28-0-6" id="h28-0-6" class="i">+h1, h2, h3, h4, h5, h6 {
</a><a href="#h28-0-7" id="h28-0-7" class="i">+	font-size: 1em;
</a><a href="#h28-0-8" id="h28-0-8" class="i">+	margin: 0;
</a><a href="#h28-0-9" id="h28-0-9" class="i">+}
</a><a href="#h28-0-10" id="h28-0-10" class="i">+
</a><a href="#h28-0-11" id="h28-0-11" class="i">+img, h1, h2 {
</a><a href="#h28-0-12" id="h28-0-12" class="i">+	vertical-align: middle;
</a><a href="#h28-0-13" id="h28-0-13" class="i">+}
</a><a href="#h28-0-14" id="h28-0-14" class="i">+
</a><a href="#h28-0-15" id="h28-0-15" class="i">+img {
</a><a href="#h28-0-16" id="h28-0-16" class="i">+	border: 0;
</a><a href="#h28-0-17" id="h28-0-17" class="i">+}
</a><a href="#h28-0-18" id="h28-0-18" class="i">+
</a><a href="#h28-0-19" id="h28-0-19" class="i">+a:target {
</a><a href="#h28-0-20" id="h28-0-20" class="i">+	background-color: #ccc;
</a><a href="#h28-0-21" id="h28-0-21" class="i">+}
</a><a href="#h28-0-22" id="h28-0-22" class="i">+
</a><a href="#h28-0-23" id="h28-0-23" class="i">+a.d,
</a><a href="#h28-0-24" id="h28-0-24" class="i">+a.h,
</a><a href="#h28-0-25" id="h28-0-25" class="i">+a.i,
</a><a href="#h28-0-26" id="h28-0-26" class="i">+a.line {
</a><a href="#h28-0-27" id="h28-0-27" class="i">+	text-decoration: none;
</a><a href="#h28-0-28" id="h28-0-28" class="i">+}
</a><a href="#h28-0-29" id="h28-0-29" class="i">+
</a><a href="#h28-0-30" id="h28-0-30" class="i">+#blob a {
</a><a href="#h28-0-31" id="h28-0-31" class="i">+	color: #555;
</a><a href="#h28-0-32" id="h28-0-32" class="i">+}
</a><a href="#h28-0-33" id="h28-0-33" class="i">+
</a><a href="#h28-0-34" id="h28-0-34" class="i">+#blob a:hover {
</a><a href="#h28-0-35" id="h28-0-35" class="i">+	color: blue;
</a><a href="#h28-0-36" id="h28-0-36" class="i">+	text-decoration: none;
</a><a href="#h28-0-37" id="h28-0-37" class="i">+}
</a><a href="#h28-0-38" id="h28-0-38" class="i">+
</a><a href="#h28-0-39" id="h28-0-39" class="i">+table thead td {
</a><a href="#h28-0-40" id="h28-0-40" class="i">+	font-weight: bold;
</a><a href="#h28-0-41" id="h28-0-41" class="i">+}
</a><a href="#h28-0-42" id="h28-0-42" class="i">+
</a><a href="#h28-0-43" id="h28-0-43" class="i">+table td {
</a><a href="#h28-0-44" id="h28-0-44" class="i">+	padding: 0 0.4em;
</a><a href="#h28-0-45" id="h28-0-45" class="i">+}
</a><a href="#h28-0-46" id="h28-0-46" class="i">+
</a><a href="#h28-0-47" id="h28-0-47" class="i">+#content table td {
</a><a href="#h28-0-48" id="h28-0-48" class="i">+	vertical-align: top;
</a><a href="#h28-0-49" id="h28-0-49" class="i">+	white-space: nowrap;
</a><a href="#h28-0-50" id="h28-0-50" class="i">+}
</a><a href="#h28-0-51" id="h28-0-51" class="i">+
</a><a href="#h28-0-52" id="h28-0-52" class="i">+#branches tr:hover td,
</a><a href="#h28-0-53" id="h28-0-53" class="i">+#tags tr:hover td,
</a><a href="#h28-0-54" id="h28-0-54" class="i">+#index tr:hover td,
</a><a href="#h28-0-55" id="h28-0-55" class="i">+#log tr:hover td,
</a><a href="#h28-0-56" id="h28-0-56" class="i">+#files tr:hover td {
</a><a href="#h28-0-57" id="h28-0-57" class="i">+	background-color: #eee;
</a><a href="#h28-0-58" id="h28-0-58" class="i">+}
</a><a href="#h28-0-59" id="h28-0-59" class="i">+
</a><a href="#h28-0-60" id="h28-0-60" class="i">+#index tr td:nth-child(2),
</a><a href="#h28-0-61" id="h28-0-61" class="i">+#tags tr td:nth-child(3),
</a><a href="#h28-0-62" id="h28-0-62" class="i">+#branches tr td:nth-child(3),
</a><a href="#h28-0-63" id="h28-0-63" class="i">+#log tr td:nth-child(2) {
</a><a href="#h28-0-64" id="h28-0-64" class="i">+	white-space: normal;
</a><a href="#h28-0-65" id="h28-0-65" class="i">+}
</a><a href="#h28-0-66" id="h28-0-66" class="i">+
</a><a href="#h28-0-67" id="h28-0-67" class="i">+td.num {
</a><a href="#h28-0-68" id="h28-0-68" class="i">+	text-align: right;
</a><a href="#h28-0-69" id="h28-0-69" class="i">+}
</a><a href="#h28-0-70" id="h28-0-70" class="i">+
</a><a href="#h28-0-71" id="h28-0-71" class="i">+.desc {
</a><a href="#h28-0-72" id="h28-0-72" class="i">+	color: #555;
</a><a href="#h28-0-73" id="h28-0-73" class="i">+}
</a><a href="#h28-0-74" id="h28-0-74" class="i">+
</a><a href="#h28-0-75" id="h28-0-75" class="i">+hr {
</a><a href="#h28-0-76" id="h28-0-76" class="i">+	border: 0;
</a><a href="#h28-0-77" id="h28-0-77" class="i">+	border-top: 1px solid #555;
</a><a href="#h28-0-78" id="h28-0-78" class="i">+	height: 1px;
</a><a href="#h28-0-79" id="h28-0-79" class="i">+}
</a><a href="#h28-0-80" id="h28-0-80" class="i">+
</a><a href="#h28-0-81" id="h28-0-81" class="i">+pre {
</a><a href="#h28-0-82" id="h28-0-82" class="i">+	font-family: monospace;
</a><a href="#h28-0-83" id="h28-0-83" class="i">+}
</a><a href="#h28-0-84" id="h28-0-84" class="i">+
</a><a href="#h28-0-85" id="h28-0-85" class="i">+pre a.h {
</a><a href="#h28-0-86" id="h28-0-86" class="i">+	color: #00a;
</a><a href="#h28-0-87" id="h28-0-87" class="i">+}
</a><a href="#h28-0-88" id="h28-0-88" class="i">+
</a><a href="#h28-0-89" id="h28-0-89" class="i">+.A,
</a><a href="#h28-0-90" id="h28-0-90" class="i">+span.i,
</a><a href="#h28-0-91" id="h28-0-91" class="i">+pre a.i {
</a><a href="#h28-0-92" id="h28-0-92" class="i">+	color: #070;
</a><a href="#h28-0-93" id="h28-0-93" class="i">+}
</a><a href="#h28-0-94" id="h28-0-94" class="i">+
</a><a href="#h28-0-95" id="h28-0-95" class="i">+.D,
</a><a href="#h28-0-96" id="h28-0-96" class="i">+span.d,
</a><a href="#h28-0-97" id="h28-0-97" class="i">+pre a.d {
</a><a href="#h28-0-98" id="h28-0-98" class="i">+	color: #e00;
</a><a href="#h28-0-99" id="h28-0-99" class="i">+}
</a><a href="#h28-0-100" id="h28-0-100" class="i">+
</a><a href="#h28-0-101" id="h28-0-101" class="i">+pre a.h:hover,
</a><a href="#h28-0-102" id="h28-0-102" class="i">+pre a.i:hover,
</a><a href="#h28-0-103" id="h28-0-103" class="i">+pre a.d:hover {
</a><a href="#h28-0-104" id="h28-0-104" class="i">+	text-decoration: none;
</a><a href="#h28-0-105" id="h28-0-105" class="i">+}
</a><a href="#h28-0-106" id="h28-0-106" class="i">+
</a><a href="#h28-0-107" id="h28-0-107" class="i">+@media (prefers-color-scheme: dark) {
</a><a href="#h28-0-108" id="h28-0-108" class="i">+	body {
</a><a href="#h28-0-109" id="h28-0-109" class="i">+		background-color: #000;
</a><a href="#h28-0-110" id="h28-0-110" class="i">+		color: #bdbdbd;
</a><a href="#h28-0-111" id="h28-0-111" class="i">+	}
</a><a href="#h28-0-112" id="h28-0-112" class="i">+	hr {
</a><a href="#h28-0-113" id="h28-0-113" class="i">+		border-color: #222;
</a><a href="#h28-0-114" id="h28-0-114" class="i">+	}
</a><a href="#h28-0-115" id="h28-0-115" class="i">+	a {
</a><a href="#h28-0-116" id="h28-0-116" class="i">+		color: #56c8ff;
</a><a href="#h28-0-117" id="h28-0-117" class="i">+	}
</a><a href="#h28-0-118" id="h28-0-118" class="i">+	a:target {
</a><a href="#h28-0-119" id="h28-0-119" class="i">+		background-color: #222;
</a><a href="#h28-0-120" id="h28-0-120" class="i">+	}
</a><a href="#h28-0-121" id="h28-0-121" class="i">+	.desc {
</a><a href="#h28-0-122" id="h28-0-122" class="i">+		color: #aaa;
</a><a href="#h28-0-123" id="h28-0-123" class="i">+	}
</a><a href="#h28-0-124" id="h28-0-124" class="i">+	#blob a {
</a><a href="#h28-0-125" id="h28-0-125" class="i">+		color: #555;
</a><a href="#h28-0-126" id="h28-0-126" class="i">+	}
</a><a href="#h28-0-127" id="h28-0-127" class="i">+	#blob a:target {
</a><a href="#h28-0-128" id="h28-0-128" class="i">+		color: #eee;
</a><a href="#h28-0-129" id="h28-0-129" class="i">+	}
</a><a href="#h28-0-130" id="h28-0-130" class="i">+	#blob a:hover {
</a><a href="#h28-0-131" id="h28-0-131" class="i">+		color: #56c8ff;
</a><a href="#h28-0-132" id="h28-0-132" class="i">+	}
</a><a href="#h28-0-133" id="h28-0-133" class="i">+	pre a.h {
</a><a href="#h28-0-134" id="h28-0-134" class="i">+		color: #00cdcd;
</a><a href="#h28-0-135" id="h28-0-135" class="i">+	}
</a><a href="#h28-0-136" id="h28-0-136" class="i">+	.A,
</a><a href="#h28-0-137" id="h28-0-137" class="i">+	span.i,
</a><a href="#h28-0-138" id="h28-0-138" class="i">+	pre a.i {
</a><a href="#h28-0-139" id="h28-0-139" class="i">+		color: #00cd00;
</a><a href="#h28-0-140" id="h28-0-140" class="i">+	}
</a><a href="#h28-0-141" id="h28-0-141" class="i">+	.D,
</a><a href="#h28-0-142" id="h28-0-142" class="i">+	span.d,
</a><a href="#h28-0-143" id="h28-0-143" class="i">+	pre a.d {
</a><a href="#h28-0-144" id="h28-0-144" class="i">+		color: #cd0000;
</a><a href="#h28-0-145" id="h28-0-145" class="i">+	}
</a><a href="#h28-0-146" id="h28-0-146" class="i">+	#branches tr:hover td,
</a><a href="#h28-0-147" id="h28-0-147" class="i">+	#tags tr:hover td,
</a><a href="#h28-0-148" id="h28-0-148" class="i">+	#index tr:hover td,
</a><a href="#h28-0-149" id="h28-0-149" class="i">+	#log tr:hover td,
</a><a href="#h28-0-150" id="h28-0-150" class="i">+	#files tr:hover td {
</a><a href="#h28-0-151" id="h28-0-151" class="i">+		background-color: #111;
</a><a href="#h28-0-152" id="h28-0-152" class="i">+	}
</a><a href="#h28-0-153" id="h28-0-153" class="i">+}
</a></pre>
</div>
</body>
</html>
